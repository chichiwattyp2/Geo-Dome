!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(A,e){"use strict";function f(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,r=t.indexOf,i={},a=i.toString,_=i.hasOwnProperty,o=_.toString,l=o.call(Object),y={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},w=A.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function M(e,t,n){var i,r,a=(n=n||w).createElement("script");if(a.text=e,t)for(i in c)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&a.setAttribute(i,r);n.head.appendChild(a).parentNode.removeChild(a)}function m(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[a.call(e)]||"object":typeof e}var d="3.5.1",x=function(e,t){return new x.fn.init(e,t)};function h(e){var t=!!e&&"length"in e&&e.length,n=m(e);return!v(e)&&!f(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}x.fn=x.prototype={jquery:d,constructor:x,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=x.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return x.each(this,e)},map:function(n){return this.pushStack(x.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},x.extend=x.fn.extend=function(){var e,t,n,i,r,a=arguments[0]||{},o=1,s=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[o]||{},o++),"object"==typeof a||v(a)||(a={}),o===s&&(a=this,o--);o<s;o++)if(null!=(e=arguments[o]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(u&&n&&(x.isPlainObject(n)||(i=Array.isArray(n)))?(r=a[t],r=i&&!Array.isArray(r)?[]:i||x.isPlainObject(r)?r:{},i=!1,a[t]=x.extend(u,r,n)):void 0!==n&&(a[t]=n));return a},x.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==a.call(e))&&(!(e=n(e))||"function"==typeof(e=_.call(e,"constructor")&&e.constructor)&&o.call(e)===l)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){M(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(h(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(h(Object(e))?x.merge(t,"string"==typeof e?[e]:e):u.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!=o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,o=[];if(h(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&o.push(r);return g(o)},guid:1,support:y}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=t[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var p=function(n){function d(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function i(){A()}var e,p,M,a,r,m,h,f,b,u,l,A,w,o,x,g,s,c,_,E="sizzle"+ +new Date,y=n.document,L=0,v=0,T=ue(),D=ue(),S=ue(),N=ue(),C=function(e,t){return e===t&&(l=!0),0},k={}.hasOwnProperty,t=[],I=t.pop,j=t.push,O=t.push,z=t.slice,R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Y="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+Y+"*("+B+")(?:"+Y+"*([*^$|!~]?=)"+Y+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+Y+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",F=new RegExp(Y+"+","g"),G=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g"),V=new RegExp("^"+Y+"*,"+Y+"*"),W=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),Q=new RegExp(Y+"|>"),q=new RegExp(H),Z=new RegExp("^"+B+"$"),X={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,ie=new RegExp("\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\([^\\r\\n\\f])","g"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=ye(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(t=z.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){O={apply:t.length?function(e,t){j.apply(e,z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(t,e,n,i){var r,a,o,s,u,l,c,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&(A(e),e=e||w,x)){if(11!==h&&(u=te.exec(t)))if(r=u[1]){if(9===h){if(!(o=e.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(d&&(o=d.getElementById(r))&&_(e,o)&&o.id===r)return n.push(o),n}else{if(u[2])return O.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&p.getElementsByClassName&&e.getElementsByClassName)return O.apply(n,e.getElementsByClassName(r)),n}if(p.qsa&&!N[t+" "]&&(!g||!g.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(c=t,d=e,1===h&&(Q.test(t)||W.test(t))){for((d=ne.test(t)&&fe(e.parentNode)||e)===e&&p.scope||((s=e.getAttribute("id"))?s=s.replace(re,ae):e.setAttribute("id",s=E)),a=(l=m(t)).length;a--;)l[a]=(s?"#"+s:":scope")+" "+_e(l[a]);c=l.join(",")}try{return O.apply(n,d.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===E&&e.removeAttribute("id")}}}return f(t.replace(G,"$1"),e,n,i)}function ue(){var n=[];function i(e,t){return n.push(e+" ")>M.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function le(e){return e[E]=!0,e}function ce(e){var t=w.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)M.attrHandle[n[i]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&oe(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function me(o){return le(function(a){return a=+a,le(function(e,t){for(var n,i=o([],e.length,a),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=se.support={},r=se.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!J.test(t||e&&e.nodeName||"HTML")},A=se.setDocument=function(e){var t,e=e?e.ownerDocument||e:y;return e!=w&&9===e.nodeType&&e.documentElement&&(o=(w=e).documentElement,x=!r(w),y!=w&&(t=w.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",i,!1):t.attachEvent&&t.attachEvent("onunload",i)),p.scope=ce(function(e){return o.appendChild(e).appendChild(w.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),p.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ce(function(e){return e.appendChild(w.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=ee.test(w.getElementsByClassName),p.getById=ce(function(e){return o.appendChild(e).id=E,!w.getElementsByName||!w.getElementsByName(E).length}),p.getById?(M.filter.ID=function(e){var t=e.replace(ie,d);return function(e){return e.getAttribute("id")===t}},M.find.ID=function(e,t){if(void 0!==t.getElementById&&x){e=t.getElementById(e);return e?[e]:[]}}):(M.filter.ID=function(e){var t=e.replace(ie,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},M.find.ID=function(e,t){if(void 0!==t.getElementById&&x){var n,i,r,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(r=t.getElementsByName(e),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),M.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;n=a[r++];)1===n.nodeType&&i.push(n);return i},M.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&x)return t.getElementsByClassName(e)},s=[],g=[],(p.qsa=ee.test(w.querySelectorAll))&&(ce(function(e){var t;o.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+Y+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+Y+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+E+"-]").length||g.push("~="),(t=w.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+Y+"*name"+Y+"*="+Y+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=w.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+Y+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),o.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(p.matchesSelector=ee.test(c=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ce(function(e){p.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",H)}),g=g.length&&new RegExp(g.join("|")),s=s.length&&new RegExp(s.join("|")),t=ee.test(o.compareDocumentPosition),_=t||ee.test(o.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e==w||e.ownerDocument==y&&_(y,e)?-1:t==w||t.ownerDocument==y&&_(y,t)?1:u?R(u,e)-R(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e==w?-1:t==w?1:r?-1:a?1:u?R(u,e)-R(u,t):0;if(r===a)return he(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?he(o[i],s[i]):o[i]==y?-1:s[i]==y?1:0}),w},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(A(e),p.matchesSelector&&x&&!N[t+" "]&&(!s||!s.test(t))&&(!g||!g.test(t)))try{var n=c.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,w,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=w&&A(e),_(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=w&&A(e);var n=M.attrHandle[t.toLowerCase()],n=n&&k.call(M.attrHandle,t.toLowerCase())?n(e,t,!x):void 0;return void 0!==n?n:p.attributes||!x?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},se.escape=function(e){return(e+"").replace(re,ae)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,r=0;if(l=!p.detectDuplicates,u=!p.sortStable&&e.slice(0),e.sort(C),l){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return u=null,e},a=se.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=a(t);return n},(M=se.selectors={cacheLength:50,createPseudo:le,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ie,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+Y+")"+e+"("+Y+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=se.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(F," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(m,e,t,f,g){var _="nth"!==m.slice(0,3),y="last"!==m.slice(-4),v="of-type"===e;return 1===f&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,a,o,s,u,l=_!=y?"nextSibling":"previousSibling",c=e.parentNode,d=v&&e.nodeName.toLowerCase(),h=!n&&!v,p=!1;if(c){if(_){for(;l;){for(o=e;o=o[l];)if(v?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;u=l="only"===m&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&h){for(p=(s=(i=(r=(a=(o=c)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[m]||[])[0]===L&&i[1])&&i[2],o=s&&c.childNodes[s];o=++s&&o&&o[l]||(p=s=0)||u.pop();)if(1===o.nodeType&&++p&&o===e){r[m]=[L,s,p];break}}else if(h&&(p=s=(i=(r=(a=(o=e)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[m]||[])[0]===L&&i[1]),!1===p)for(;(o=++s&&o&&o[l]||(p=s=0)||u.pop())&&((v?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++p||(h&&((r=(a=o[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[m]=[L,p]),o!==e)););return(p-=g)===f||p%f==0&&0<=p/f}}},PSEUDO:function(e,a){var t,o=M.pseudos[e]||M.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[E]?o(a):1<o.length?(t=[e,e,"",a],M.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){for(var n,i=o(e,a),r=i.length;r--;)e[n=R(e,i[r])]=!(t[n]=i[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:le(function(e){var i=[],r=[],s=h(e.replace(G,"$1"));return s[E]?le(function(e,t,n,i){for(var r,a=s(e,null,i,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(ie,d),function(e){return-1<(e.textContent||a(e)).indexOf(t)}}),lang:le(function(n){return Z.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(ie,d).toLowerCase(),function(e){var t;do{if(t=x?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!M.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:me(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})M.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ge(){}function _e(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(o,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,d=v++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||c)return o(e,t,n);return!1}:function(e,t,n){var i,r,a=[L,d];if(n){for(;e=e[s];)if((1===e.nodeType||c)&&o(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||c)if(i=(r=e[E]||(e[E]={}))[e.uniqueID]||(r[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[s]||e;else{if((r=i[l])&&r[0]===L&&r[1]===d)return a[2]=r[2];if((i[l]=a)[2]=o(e,t,n))return!0}return!1}}function ve(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function Me(e,t,n,i,r){for(var a,o=[],s=0,u=e.length,l=null!=t;s<u;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),l&&t.push(s)));return o}function be(p,m,f,g,_,e){return g&&!g[E]&&(g=be(g)),_&&!_[E]&&(_=be(_,e)),le(function(e,t,n,i){var r,a,o,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(m||"*",n.nodeType?[n]:n,[]),d=!p||!e&&m?c:Me(c,s,p,n,i),h=f?_||(e?p:l||g)?[]:t:d;if(f&&f(d,h,n,i),g)for(r=Me(h,u),g(r,[],n,i),a=r.length;a--;)(o=r[a])&&(h[u[a]]=!(d[u[a]]=o));if(e){if(_||p){if(_){for(r=[],a=h.length;a--;)(o=h[a])&&r.push(d[a]=o);_(null,h=[],r,i)}for(a=h.length;a--;)(o=h[a])&&-1<(r=_?R(e,o):s[a])&&(e[r]=!(t[r]=o))}}else h=Me(h===t?h.splice(l,h.length):h),_?_(null,t,h,i):O.apply(t,h)})}function Ae(g,_){function e(e,t,n,i,r){var a,o,s,u=0,l="0",c=e&&[],d=[],h=b,p=e||v&&M.find.TAG("*",r),m=L+=null==h?1:Math.random()||.1,f=p.length;for(r&&(b=t==w||t||r);l!==f&&null!=(a=p[l]);l++){if(v&&a){for(o=0,t||a.ownerDocument==w||(A(a),n=!x);s=g[o++];)if(s(a,t||w,n)){i.push(a);break}r&&(L=m)}y&&((a=!s&&a)&&u--,e&&c.push(a))}if(u+=l,y&&l!==u){for(o=0;s=_[o++];)s(c,d,t,n);if(e){if(0<u)for(;l--;)c[l]||d[l]||(d[l]=I.call(i));d=Me(d)}O.apply(i,d),r&&!e&&0<d.length&&1<u+_.length&&se.uniqueSort(i)}return r&&(L=m,b=h),c}var y=0<_.length,v=0<g.length;return y?le(e):e}return ge.prototype=M.filters=M.pseudos,M.setFilters=new ge,m=se.tokenize=function(e,t){var n,i,r,a,o,s,u,l=D[e+" "];if(l)return t?0:l.slice(0);for(o=e,s=[],u=M.preFilter;o;){for(a in n&&!(i=V.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(r=[])),n=!1,(i=W.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(G," ")}),o=o.slice(n.length)),M.filter)!(i=X[a].exec(o))||u[a]&&!(i=u[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?se.error(e):D(e,s).slice(0)},h=se.compile=function(e,t){var n,i=[],r=[],a=S[e+" "];if(!a){for(n=(t=t||m(e)).length;n--;)((a=function e(t){for(var i,n,r,a=t.length,o=M.relative[t[0].type],s=o||M.relative[" "],u=o?1:0,l=ye(function(e){return e===i},s,!0),c=ye(function(e){return-1<R(i,e)},s,!0),d=[function(e,t,n){return n=!o&&(n||t!==b)||((i=t).nodeType?l:c)(e,t,n),i=null,n}];u<a;u++)if(n=M.relative[t[u].type])d=[ye(ve(d),n)];else{if((n=M.filter[t[u].type].apply(null,t[u].matches))[E]){for(r=++u;r<a&&!M.relative[t[r].type];r++);return be(1<u&&ve(d),1<u&&_e(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(G,"$1"),n,u<r&&e(t.slice(u,r)),r<a&&e(t=t.slice(r)),r<a&&_e(t))}d.push(n)}return ve(d)}(t[n]))[E]?i:r).push(a);(a=S(e,Ae(r,i))).selector=e}return a},f=se.select=function(e,t,n,i){var r,a,o,s,u,l="function"==typeof e&&e,c=!i&&m(e=l.selector||e);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===t.nodeType&&x&&M.relative[a[1].type]){if(!(t=(M.find.ID(o.matches[0].replace(ie,d),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=X.needsContext.test(e)?0:a.length;r--&&(o=a[r],!M.relative[s=o.type]);)if((u=M.find[s])&&(i=u(o.matches[0].replace(ie,d),ne.test(a[0].type)&&fe(t.parentNode)||t))){if(a.splice(r,1),!(e=i.length&&_e(a)))return O.apply(n,i),n;break}}return(l||h(e,c))(i,t,!x,n,!t||ne.test(e)&&fe(t.parentNode)||t),n},p.sortStable=E.split("").sort(C).join("")===E,p.detectDuplicates=!!l,A(),p.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(w.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||de(P,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),se}(A);x.find=p,x.expr=p.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=p.uniqueSort,x.text=p.getText,x.isXMLDoc=p.isXML,x.contains=p.contains,x.escapeSelector=p.escape;function b(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(n))break;i.push(e)}return i}function E(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var L=x.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function S(e,n,i){return v(n)?x.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?x.grep(e,function(e){return e===n!==i}):"string"!=typeof n?x.grep(e,function(e){return-1<r.call(n,e)!==i}):x.filter(n,e,i)}x.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?x.find.matchesSelector(i,e)?[i]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)x.find(e,r[t],n);return 1<i?x.uniqueSort(n):n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&L.test(e)?x(e):e||[],!1).length}});var N,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){if(!e)return this;if(n=n||N,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:C.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),D.test(i[1])&&x.isPlainObject(t))for(var i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(e=w.getElementById(i[2]))&&(this[0]=e,this.length=1),this}).prototype=x.fn,N=x(w);var k=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,a=[],o="string"!=typeof e&&x(e);if(!L.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&x.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?x.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?r.call(x(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,n){return b(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,n){return b(e,"nextSibling",n)},prevUntil:function(e,t,n){return b(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(i,r){x.fn[i]=function(e,t){var n=x.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=x.filter(t,n)),1<this.length&&(I[i]||x.uniqueSort(n),k.test(i)&&n.reverse()),this.pushStack(n)}});var O=/[^\x20\t\r\n\f]+/g;function z(e){return e}function R(e){throw e}function P(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},x.each(e.match(O)||[],function(e,t){n[t]=!0}),n):x.extend({},i);function r(){for(s=s||i.once,o=a=!0;l.length;c=-1)for(t=l.shift();++c<u.length;)!1===u[c].apply(t[0],t[1])&&i.stopOnFalse&&(c=u.length,t=!1);i.memory||(t=!1),a=!1,s&&(u=t?[]:"")}var a,t,o,s,u=[],l=[],c=-1,d={add:function(){return u&&(t&&!a&&(c=u.length-1,l.push(t)),function n(e){x.each(e,function(e,t){v(t)?i.unique&&d.has(t)||u.push(t):t&&t.length&&"string"!==m(t)&&n(t)})}(arguments),t&&!a&&r()),this},remove:function(){return x.each(arguments,function(e,t){for(var n;-1<(n=x.inArray(t,u,n));)u.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<x.inArray(e,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return s=l=[],u=t="",this},disabled:function(){return!u},lock:function(){return s=l=[],t||a||(u=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),a||r()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},x.extend({Deferred:function(e){var a=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var r=arguments;return x.Deferred(function(i){x.each(a,function(e,t){var n=v(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var u=0;function l(r,a,o,s){return function(){function e(){var e,t;if(!(r<u)){if((e=o.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,a,z,s),l(u,a,R,s)):(u++,t.call(e,l(u,a,z,s),l(u,a,R,s),l(u,a,z,a.notifyWith))):(o!==z&&(n=void 0,i=[e]),(s||a.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(e,t.stackTrace),u<=r+1&&(o!==R&&(n=void 0,i=[e]),a.rejectWith(n,i))}};r?t():(x.Deferred.getStackHook&&(t.stackTrace=x.Deferred.getStackHook()),A.setTimeout(t))}}return x.Deferred(function(e){a[0][3].add(l(0,e,v(i)?i:z,e.notifyWith)),a[1][3].add(l(0,e,v(t)?t:z)),a[2][3].add(l(0,e,v(n)?n:R))}).promise()},promise:function(e){return null!=e?x.extend(e,o):o}},s={};return x.each(a,function(e,t){var n=t[2],i=t[5];o[t[1]]=n.add,i&&n.add(function(){r=i},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,a[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,a)}}var n=arguments.length,i=n,r=Array(i),a=s.call(arguments),o=x.Deferred();if(n<=1&&(P(e,o.done(t(i)).resolve,o.reject,!n),"pending"===o.state()||v(a[i]&&a[i].then)))return o.then();for(;i--;)P(a[i],t(i),o.reject);return o.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){A.console&&A.console.warn&&e&&Y.test(e.name)&&A.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){A.setTimeout(function(){throw e})};var B=x.Deferred();function U(){w.removeEventListener("DOMContentLoaded",U),A.removeEventListener("load",U),x.ready()}x.fn.ready=function(e){return B.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0)!==e&&0<--x.readyWait||B.resolveWith(w,[x])}}),x.ready.then=B.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?A.setTimeout(x.ready):(w.addEventListener("DOMContentLoaded",U),A.addEventListener("load",U));var H=function(e,t,n,i,r,a,o){var s=0,u=e.length,l=null==n;if("object"===m(n))for(s in r=!0,n)H(e,t,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,v(i)||(o=!0),l&&(t=o?(t.call(e,i),null):(l=t,function(e,t,n){return l.call(x(e),n)})),t))for(;s<u;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):a},F=/^-ms-/,G=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function W(e){return e.replace(F,"ms-").replace(G,V)}function Q(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function q(){this.expando=x.expando+q.uid++}q.uid=1,q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[W(t)]=n;else for(i in t)r[W(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in i?[t]:t.match(O)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!x.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var Z=new q,X=new q,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function $(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:J.test(r)?JSON.parse(r):r)}catch(e){}X.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return X.hasData(e)||Z.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),x.fn.extend({data:function(n,e){var t,i,r,a=this[0],o=a&&a.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){X.set(this,n)}):H(this,function(e){var t;return a&&void 0===e?void 0!==(t=X.get(a,n))||void 0!==(t=$(a,n))?t:void 0:void this.each(function(){X.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=X.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(i=o[t].name).indexOf("data-")&&(i=W(i.slice(5)),$(a,i,r[i]));Z.set(a,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),x.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Z.get(e,t),n&&(!i||Array.isArray(n)?i=Z.access(e,t,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),i=n.length,r=n.shift(),a=x._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,function(){x.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:x.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?x.queue(this[0],t):void 0===n?this:this.each(function(){var e=x.queue(this,t,n);x._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&x.dequeue(this,t)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||a.resolveWith(o,[o])}var i,r=1,a=x.Deferred(),o=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=Z.get(o[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),a.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=w.documentElement,re=function(e){return x.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(re=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===x.css(e,"display")};function se(e,t,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return x.css(e,t,"")},u=s(),l=n&&n[3]||(x.cssNumber[t]?"":"px"),c=e.nodeType&&(x.cssNumber[t]||"px"!==l&&+u)&&te.exec(x.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;o--;)x.style(e,t,c+l),(1-a)*(1-(a=s()/u||.5))<=0&&(o=0),c/=a;c*=2,x.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var ue={};function le(e,t){for(var n,i,r,a,o,s=[],u=0,l=e.length;u<l;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(s[u]=Z.get(i,"display")||null,s[u]||(i.style.display="")),""===i.style.display&&oe(i)&&(s[u]=(o=a=void 0,a=(r=i).ownerDocument,o=r.nodeName,(r=ue[o])||(a=a.body.appendChild(a.createElement(o)),r=x.css(a,"display"),a.parentNode.removeChild(a),"none"===r&&(r="block"),ue[o]=r)))):"none"!==n&&(s[u]="none",Z.set(i,"display",n)));for(u=0;u<l;u++)null!=s[u]&&(e[u].style.display=s[u]);return e}x.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){oe(this)?x(this).show():x(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;d=w.createDocumentFragment().appendChild(w.createElement("div")),(p=w.createElement("input")).setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),d.appendChild(p),y.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",y.option=!!d.lastChild;var pe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&T(e,t)?x.merge([e],n):n}function fe(e,t){for(var n=0,i=e.length;n<i;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td,y.option||(pe.optgroup=pe.option=[1,"<select multiple='multiple'>","</select>"]);var ge=/<|&#?\w+;/;function _e(e,t,n,i,r){for(var a,o,s,u,l,c=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((a=e[h])||0===a)if("object"===m(a))x.merge(d,a.nodeType?[a]:a);else if(ge.test(a)){for(o=o||c.appendChild(t.createElement("div")),s=(de.exec(a)||["",""])[1].toLowerCase(),s=pe[s]||pe._default,o.innerHTML=s[1]+x.htmlPrefilter(a)+s[2],l=s[0];l--;)o=o.lastChild;x.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(t.createTextNode(a));for(c.textContent="",h=0;a=d[h++];)if(i&&-1<x.inArray(a,i))r&&r.push(a);else if(u=re(a),o=me(c.appendChild(a),"script"),u&&fe(o),n)for(l=0;a=o[l++];)he.test(a.type||"")&&n.push(a);return c}var ye=/^key/,ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Me=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function Ae(){return!1}function we(e,t){return e===function(){try{return w.activeElement}catch(e){}}()==("focus"===t)}function xe(e,t,n,i,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)xe(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ae;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return x().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=x.guid++)),e.each(function(){x.event.add(this,t,r,i,n)})}function Ee(e,r,a){a?(Z.set(e,r,!1),x.event.add(e,r,{namespace:!1,handler:function(e){var t,n,i=Z.get(this,r);if(1&e.isTrigger&&this[r]){if(i.length)(x.event.special[r]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),Z.set(this,r,i),t=a(this,r),this[r](),i!==(n=Z.get(this,r))||t?Z.set(this,r,!1):n={},i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else i.length&&(Z.set(this,r,{value:x.event.trigger(x.extend(i[0],x.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,r)&&x.event.add(e,r,be)}x.event={global:{},add:function(t,e,n,i,r){var a,o,s,u,l,c,d,h,p,m=Z.get(t);if(Q(t))for(n.handler&&(n=(a=n).handler,r=a.selector),r&&x.find.matchesSelector(ie,r),n.guid||(n.guid=x.guid++),(s=m.events)||(s=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(O)||[""]).length;u--;)d=p=(l=Me.exec(e[u])||[])[1],h=(l[2]||"").split(".").sort(),d&&(c=x.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,c=x.event.special[d]||{},l=x.extend({type:d,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:h.join(".")},a),(p=s[d])||((p=s[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,h,o)||t.addEventListener&&t.addEventListener(d,o)),c.add&&(c.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,l):p.push(l),x.event.global[d]=!0)},remove:function(e,t,n,i,r){var a,o,s,u,l,c,d,h,p,m,f,g=Z.hasData(e)&&Z.get(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(O)||[""]).length;l--;)if(p=f=(s=Me.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),p){for(d=x.event.special[p]||{},h=u[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)c=h[a],!r&&f!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(a,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,m,g.handle)||x.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)x.event.remove(e,p+t[l],n,i,!0);x.isEmptyObject(u)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,o=new Array(arguments.length),s=x.event.fix(e),u=(Z.get(this,"events")||Object.create(null))[s.type]||[],e=x.event.special[s.type]||{};for(o[0]=s,t=1;t<arguments.length;t++)o[t]=arguments[t];if(s.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,s)){for(a=x.event.handlers.call(this,s,u),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==r.namespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(r=((x.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,o))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,a,o,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(a=[],o={},n=0;n<u;n++)void 0===o[r=(i=t[n]).selector+" "]&&(o[r]=i.needsContext?-1<x(r,this).index(l):x.find(r,this,null,[l]).length),o[r]&&a.push(i);a.length&&s.push({elem:l,handlers:a})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return ce.test(e.type)&&e.click&&T(e,"input")&&Ee(e,"click",be),!1},trigger:function(e){e=this||e;return ce.test(e.type)&&e.click&&T(e,"input")&&Ee(e,"click"),!0},_default:function(e){e=e.target;return ce.test(e.type)&&e.click&&T(e,"input")&&Z.get(e,"click")||T(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ve.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(e,t){x.event.special[e]={setup:function(){return Ee(this,e,we),!1},trigger:function(){return Ee(this,e),!0},delegateType:t}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){x.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||x.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),x.fn.extend({on:function(e,t,n,i){return xe(this,e,t,n,i)},one:function(e,t,n,i){return xe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ae),this.each(function(){x.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var Le=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Se(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ce(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ke(e,t){var n,i,r,a;if(1===t.nodeType){if(Z.hasData(e)&&(a=Z.get(e).events))for(r in Z.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)x.event.add(t,r,a[r][n]);X.hasData(e)&&(e=X.access(e),e=x.extend({},e),X.set(t,e))}}function Ie(n,i,r,a){i=g(i);var e,t,o,s,u,l,c=0,d=n.length,h=d-1,p=i[0],m=v(p);if(m||1<d&&"string"==typeof p&&!y.checkClone&&Te.test(p))return n.each(function(e){var t=n.eq(e);m&&(i[0]=p.call(this,e,t.html())),Ie(t,i,r,a)});if(d&&(t=(e=_e(i,n[0].ownerDocument,!1,n,a)).firstChild,1===e.childNodes.length&&(e=t),t||a)){for(s=(o=x.map(me(e,"script"),Ne)).length;c<d;c++)u=e,c!==h&&(u=x.clone(u,!0,!0),s&&x.merge(o,me(u,"script"))),r.call(n[c],u,c);if(s)for(l=o[o.length-1].ownerDocument,x.map(o,Ce),c=0;c<s;c++)u=o[c],he.test(u.type||"")&&!Z.access(u,"globalEval")&&x.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?x._evalUrl&&!u.noModule&&x._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):M(u.textContent.replace(De,""),u,l))}return n}function je(e,t,n){for(var i,r=t?x.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||x.cleanData(me(i)),i.parentNode&&(n&&re(i)&&fe(me(i,"script")),i.parentNode.removeChild(i));return e}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,a,o,s,u,l,c=e.cloneNode(!0),d=re(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(o=me(c),i=0,r=(a=me(e)).length;i<r;i++)s=a[i],u=o[i],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&ce.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(a=a||me(e),o=o||me(c),i=0,r=a.length;i<r;i++)ke(a[i],o[i]);else ke(e,c);return 0<(o=me(c,"script")).length&&fe(o,!d&&me(e,"script")),c},cleanData:function(e){for(var t,n,i,r=x.event.special,a=0;void 0!==(n=e[a]);a++)if(Q(n)){if(t=n[Z.expando]){if(t.events)for(i in t.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);n[Z.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),x.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return H(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Se(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Se(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!pe[(de.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;x.inArray(this,n)<0&&(x.cleanData(me(this)),t&&t.replaceChild(e,this))},n)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){x.fn[e]=function(e){for(var t,n=[],i=x(e),r=i.length-1,a=0;a<=r;a++)t=a===r?this:this.clone(!0),x(i[a])[o](t),u.apply(n,t.get());return this.pushStack(n)}});function Oe(e,t,n){var i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in n=n.call(e),t)e.style[i]=r[i];return n}var ze,Re,Pe,Ye,Be,Ue,He,Fe,Ge=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ve=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=A),t.getComputedStyle(e)},We=new RegExp(ne.join("|"),"i");function Qe(){var e;Fe&&(He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Fe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(He).appendChild(Fe),e=A.getComputedStyle(Fe),ze="1%"!==e.top,Ue=12===qe(e.marginLeft),Fe.style.right="60%",Ye=36===qe(e.right),Re=36===qe(e.width),Fe.style.position="absolute",Pe=12===qe(Fe.offsetWidth/3),ie.removeChild(He),Fe=null)}function qe(e){return Math.round(parseFloat(e))}function Ze(e,t,n){var i,r,a=e.style;return(n=n||Ve(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||re(e)||(r=x.style(e,t)),!y.pixelBoxStyles()&&Ge.test(r)&&We.test(t)&&(i=a.width,e=a.minWidth,t=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=e,a.maxWidth=t)),void 0!==r?r+"":r}function Xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}He=w.createElement("div"),(Fe=w.createElement("div")).style&&(Fe.style.backgroundClip="content-box",Fe.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Fe.style.backgroundClip,x.extend(y,{boxSizingReliable:function(){return Qe(),Re},pixelBoxStyles:function(){return Qe(),Ye},pixelPosition:function(){return Qe(),ze},reliableMarginLeft:function(){return Qe(),Ue},scrollboxSize:function(){return Qe(),Pe},reliableTrDimensions:function(){var e,t,n;return null==Be&&(e=w.createElement("table"),n=w.createElement("tr"),t=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px",n.style.height="1px",t.style.height="9px",ie.appendChild(e).appendChild(n).appendChild(t),n=A.getComputedStyle(n),Be=3<parseInt(n.height),ie.removeChild(e)),Be}}));var Je=["Webkit","Moz","ms"],Ke=w.createElement("div").style,$e={};function et(e){var t=x.cssProps[e]||$e[e];return t||(e in Ke?e:$e[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Je.length;n--;)if((e=Je[n]+t)in Ke)return e}(e)||e)}var tt=/^(none|table(?!-c[ea]).+)/,nt=/^--/,it={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"};function at(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ot(e,t,n,i,r,a){var o="width"===t?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(u+=x.css(e,n+ne[o],!0,r)),i?("content"===n&&(u-=x.css(e,"padding"+ne[o],!0,r)),"margin"!==n&&(u-=x.css(e,"border"+ne[o]+"Width",!0,r))):(u+=x.css(e,"padding"+ne[o],!0,r),"padding"!==n?u+=x.css(e,"border"+ne[o]+"Width",!0,r):s+=x.css(e,"border"+ne[o]+"Width",!0,r));return!i&&0<=a&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-u-s-.5))||0),u}function st(e,t,n){var i=Ve(e),r=(!y.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,i),a=r,o=Ze(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(o)){if(!n)return o;o="auto"}return(!y.boxSizingReliable()&&r||!y.reliableTrDimensions()&&T(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===x.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===x.css(e,"boxSizing",!1,i),(a=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+ot(e,t,n||(r?"border":"content"),a,i,o)+"px"}function ut(e,t,n,i,r){return new ut.prototype.init(e,t,n,i,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Ze(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=W(t),u=nt.test(t),l=e.style;if(u||(t=et(s)),o=x.cssHooks[t]||x.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t];"string"===(a=typeof n)&&(r=te.exec(n))&&r[1]&&(n=se(e,t,r),a="number"),null!=n&&n==n&&("number"!==a||u||(n+=r&&r[3]||(x.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,i){var r,a=W(t);return nt.test(t)||(t=et(a)),(a=x.cssHooks[t]||x.cssHooks[a])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ze(e,t,i)),"normal"===r&&t in rt&&(r=rt[t]),""===n||n?(t=parseFloat(r),!0===n||isFinite(t)?t||0:r):r}}),x.each(["height","width"],function(e,s){x.cssHooks[s]={get:function(e,t,n){if(t)return!tt.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?st(e,s,n):Oe(e,it,function(){return st(e,s,n)})},set:function(e,t,n){var i,r=Ve(e),a=!y.scrollboxSize()&&"absolute"===r.position,o=(a||n)&&"border-box"===x.css(e,"boxSizing",!1,r),n=n?ot(e,s,n,o,r):0;return o&&a&&(n-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(r[s])-ot(e,s,"border",!1,r)-.5)),n&&(i=te.exec(t))&&"px"!==(i[3]||"px")&&(e.style[s]=t,t=x.css(e,s)),at(0,t,n)}}}),x.cssHooks.marginLeft=Xe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Oe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(r,a){x.cssHooks[r+a]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+ne[t]+a]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(x.cssHooks[r+a].set=at)}),x.fn.extend({css:function(e,t){return H(this,function(e,t,n){var i,r,a={},o=0;if(Array.isArray(t)){for(i=Ve(e),r=t.length;o<r;o++)a[t[o]]=x.css(e,t[o],!1,i);return a}return void 0!==n?x.style(e,t,n):x.css(e,t)},e,t,1<arguments.length)}}),(x.Tween=ut).prototype={constructor:ut,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(x.cssNumber[n]?"":"px")},cur:function(){var e=ut.propHooks[this.prop];return(e&&e.get?e:ut.propHooks._default).get(this)},run:function(e){var t,n=ut.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:ut.propHooks._default).set(this),this}},ut.prototype.init.prototype=ut.prototype,ut.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=x.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[et(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},ut.propHooks.scrollTop=ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=ut.prototype.init,x.fx.step={};var lt,ct,dt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function pt(){ct&&(!1===w.hidden&&A.requestAnimationFrame?A.requestAnimationFrame(pt):A.setTimeout(pt,x.fx.interval),x.fx.tick())}function mt(){return A.setTimeout(function(){lt=void 0}),lt=Date.now()}function ft(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ne[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function gt(e,t,n){for(var i,r=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function _t(r,e,t){var n,a,i=0,o=_t.prefilters.length,s=x.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=lt||mt(),e=Math.max(0,l.startTime+l.duration-e),t=1-(e/l.duration||0),n=0,i=l.tweens.length;n<i;n++)l.tweens[n].run(t);return s.notifyWith(r,[l,t,e]),t<1&&i?e:(i||s.notifyWith(r,[l,1,0]),s.resolveWith(r,[l]),!1)},l=s.promise({elem:r,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},t),originalProperties:e,originalOptions:t,startTime:lt||mt(),duration:t.duration,tweens:[],createTween:function(e,t){e=x.Tween(r,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(e),e},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(r,[l,1,0]),s.resolveWith(r,[l,e])):s.rejectWith(r,[l,e]),this}}),c=l.props;for(!function(e,t){var n,i,r,a,o;for(n in e)if(r=t[i=W(n)],a=e[n],Array.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(o=x.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=r);else t[i]=r}(c,l.opts.specialEasing);i<o;i++)if(n=_t.prefilters[i].call(l,r,c,l.opts))return v(n.stop)&&(x._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return x.map(c,gt,l),v(l.opts.start)&&l.opts.start.call(r,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),x.fx.timer(x.extend(u,{elem:r,anim:l,queue:l.opts.queue})),l}x.Animation=x.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=v(e)?(t=e,["*"]):e.match(O)).length;i<r;i++)n=e[i],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,a,o,s,u,l,c="width"in t||"height"in t,d=this,h={},p=e.style,m=e.nodeType&&oe(e),f=Z.get(e,"fxshow");for(i in n.queue||(null==(o=x._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,x.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[i],dt.test(r)){if(delete t[i],a=a||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;m=!0}h[i]=f&&f[i]||x.style(e,i)}if((u=!x.isEmptyObject(t))||!x.isEmptyObject(h))for(i in c&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=f&&f.display)&&(l=Z.get(e,"display")),"none"===(c=x.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=x.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===x.css(e,"float")&&(u||(d.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,h)u||(f?"hidden"in f&&(m=f.hidden):f=Z.access(e,"fxshow",{display:l}),a&&(f.hidden=!m),m&&le([e],!0),d.done(function(){for(i in m||le([e]),Z.remove(e,"fxshow"),h)x.style(e,i,h[i])})),u=gt(m?f[i]:0,i,d),i in f||(f[i]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),x.speed=function(e,t,n){var i=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in x.fx.speeds?i.duration=x.fx.speeds[i.duration]:i.duration=x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(e,t,n,i){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=x.isEmptyObject(t),a=x.speed(e,n,i),i=function(){var e=_t(this,x.extend({},t),a);(r||Z.get(this,"finish"))&&e.stop(!0)};return i.finish=i,r||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(r,e,a){function o(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof r&&(a=e,e=r,r=void 0),e&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=x.timers,i=Z.get(this);if(t)i[t]&&i[t].stop&&o(i[t]);else for(t in i)i[t]&&i[t].stop&&ht.test(t)&&o(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||x.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=Z.get(this),n=t[o+"queue"],i=t[o+"queueHooks"],r=x.timers,a=n?n.length:0;for(t.finish=!0,x.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===o&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),x.each(["toggle","show","hide"],function(e,i){var r=x.fn[i];x.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ft(i,!0),e,t,n)}}),x.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){x.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(lt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),lt=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){ct||(ct=!0,pt())},x.fx.stop=function(){ct=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(i,e){return i=x.fx&&x.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=A.setTimeout(e,i);t.stop=function(){A.clearTimeout(n)}})},d=w.createElement("input"),ee=w.createElement("select").appendChild(w.createElement("option")),d.type="checkbox",y.checkOn=""!==d.value,y.optSelected=ee.selected,(d=w.createElement("input")).value="t",d.type="radio",y.radioValue="t"===d.value;var yt,vt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return H(this,x.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?x.prop(e,t,n):(1===a&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=x.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(O);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var o=vt[t]||x.find.attr;vt[t]=function(e,t,n){var i,r,a=t.toLowerCase();return n||(r=vt[a],vt[a]=i,i=null!=o(e,t,n)?a:null,vt[a]=r),i}});var Mt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function At(e){return(e.match(O)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(O)||[]}x.fn.extend({prop:function(e,t){return H(this,x.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&x.isXMLDoc(e)||(t=x.propFix[t]||t,r=x.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Mt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(x.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(t){var e,n,i,r,a,o,s=0;if(v(t))return this.each(function(e){x(this).addClass(t.call(this,e,wt(this)))});if((e=xt(t)).length)for(;n=this[s++];)if(o=wt(n),i=1===n.nodeType&&" "+At(o)+" "){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(o=At(i))&&n.setAttribute("class",o)}return this},removeClass:function(t){var e,n,i,r,a,o,s=0;if(v(t))return this.each(function(e){x(this).removeClass(t.call(this,e,wt(this)))});if(!arguments.length)return this.attr("class","");if((e=xt(t)).length)for(;n=this[s++];)if(o=wt(n),i=1===n.nodeType&&" "+At(o)+" "){for(a=0;r=e[a++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(o=At(i))&&n.setAttribute("class",o)}return this},toggleClass:function(r,t){var a=typeof r,o="string"==a||Array.isArray(r);return"boolean"==typeof t&&o?t?this.addClass(r):this.removeClass(r):v(r)?this.each(function(e){x(this).toggleClass(r.call(this,e,wt(this),t),t)}):this.each(function(){var e,t,n,i;if(o)for(t=0,n=x(this),i=xt(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=a||((e=wt(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&Z.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+At(wt(t))+" ").indexOf(i))return!0;return!1}});var Et=/\r/g;x.fn.extend({val:function(t){var n,e,i,r=this[0];return arguments.length?(i=v(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,x(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=x.map(e,function(e){return null==e?"":e+""})),(n=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):r?(n=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(Et,""):null==e?"":e:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:At(x.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,r="select-one"===e.type,a=r?null:[],o=r?i+1:n.length,s=i<0?o:r?i:0;s<o;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!T(t.parentNode,"optgroup"))){if(t=x(t).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,a=x.makeArray(t),o=r.length;o--;)((i=r[o]).selected=-1<x.inArray(x.valHooks.option.get(i),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<x.inArray(x(e).val(),t)}},y.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in A;function Lt(e){e.stopPropagation()}var Tt=/^(?:focusinfocus|focusoutblur)$/;x.extend(x.event,{trigger:function(e,t,n,i){var r,a,o,s,u,l,c,d=[n||w],h=_.call(e,"type")?e.type:e,p=_.call(e,"namespace")?e.namespace.split("."):[],m=c=a=n=n||w;if(3!==n.nodeType&&8!==n.nodeType&&!Tt.test(h+x.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),s=h.indexOf(":")<0&&"on"+h,(e=e[x.expando]?e:new x.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:x.makeArray(t,[e]),l=x.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,t))){if(!i&&!l.noBubble&&!f(n)){for(o=l.delegateType||h,Tt.test(o+h)||(m=m.parentNode);m;m=m.parentNode)d.push(m),a=m;a===(n.ownerDocument||w)&&d.push(a.defaultView||a.parentWindow||A)}for(r=0;(m=d[r++])&&!e.isPropagationStopped();)c=m,e.type=1<r?o:l.bindType||h,(u=(Z.get(m,"events")||Object.create(null))[e.type]&&Z.get(m,"handle"))&&u.apply(m,t),(u=s&&m[s])&&u.apply&&Q(m)&&(e.result=u.apply(m,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(d.pop(),t)||!Q(n)||s&&v(n[h])&&!f(n)&&((a=n[s])&&(n[s]=null),x.event.triggered=h,e.isPropagationStopped()&&c.addEventListener(h,Lt),n[h](),e.isPropagationStopped()&&c.removeEventListener(h,Lt),x.event.triggered=void 0,a&&(n[s]=a)),e.result}},simulate:function(e,t,n){e=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(e,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),y.focusin||x.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){x.event.simulate(i,e.target,x.event.fix(e))}x.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=Z.access(e,i);t||e.addEventListener(n,r,!0),Z.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Z.access(e,i)-1;t?Z.access(e,i,t):(e.removeEventListener(n,r,!0),Z.remove(e,i))}}});var Dt=A.location,St={guid:Date.now()},Nt=/\?/;x.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new A.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),t};var Ct=/\[\]$/,kt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;x.param=function(e,t){function n(e,t){t=v(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,a){if(Array.isArray(e))x.each(e,function(e,t){r||Ct.test(i)?a(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,a)});else if(r||"object"!==m(e))a(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,a)}(i,e[i],t,n);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&jt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Ot=/%20/g,zt=/#.*$/,Rt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Yt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ut={},Ht={},Ft="*/".concat("*"),Gt=w.createElement("a");function Vt(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(O)||[];if(v(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function Wt(t,i,r,a){var o={},s=t===Ht;function u(e){var n;return o[e]=!0,x.each(t[e]||[],function(e,t){t=t(i,r,a);return"string"!=typeof t||s||o[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),u(t),!1)}),n}return u(i.dataTypes[0])||!o["*"]&&u("*")}function Qt(e,t){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&x.extend(!0,e,i),e}Gt.href=Dt.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,x.ajaxSettings),t):Qt(x.ajaxSettings,e)},ajaxPrefilter:Vt(Ut),ajaxTransport:Vt(Ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,l,c,n,d,i,h,p,r,m=x.ajaxSetup({},t),f=m.context||m,g=m.context&&(f.nodeType||f.jquery)?x(f):x.event,_=x.Deferred(),y=x.Callbacks("once memory"),v=m.statusCode||{},a={},o={},s="canceled",M={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Pt.exec(c);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?c:null},setRequestHeader:function(e,t){return null==h&&(e=o[e.toLowerCase()]=o[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(m.mimeType=e),this},statusCode:function(e){if(e)if(h)M.always(e[M.status]);else for(var t in e)v[t]=[v[t],e[t]];return this},abort:function(e){e=e||s;return u&&u.abort(e),b(0,e),this}};if(_.promise(M),m.url=((e||m.url||Dt.href)+"").replace(Bt,Dt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(O)||[""],null==m.crossDomain){i=w.createElement("a");try{i.href=m.url,i.href=i.href,m.crossDomain=Gt.protocol+"//"+Gt.host!=i.protocol+"//"+i.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=x.param(m.data,m.traditional)),Wt(Ut,m,t,M),h)return M;for(r in(p=x.event&&m.global)&&0==x.active++&&x.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Yt.test(m.type),l=m.url.replace(zt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Ot,"+")):(e=m.url.slice(l.length),m.data&&(m.processData||"string"==typeof m.data)&&(l+=(Nt.test(l)?"&":"?")+m.data,delete m.data),!1===m.cache&&(l=l.replace(Rt,"$1"),e=(Nt.test(l)?"&":"?")+"_="+St.guid+++e),m.url=l+e),m.ifModified&&(x.lastModified[l]&&M.setRequestHeader("If-Modified-Since",x.lastModified[l]),x.etag[l]&&M.setRequestHeader("If-None-Match",x.etag[l])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&M.setRequestHeader("Content-Type",m.contentType),M.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ft+"; q=0.01":""):m.accepts["*"]),m.headers)M.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(f,M,m)||h))return M.abort();if(s="abort",y.add(m.complete),M.done(m.success),M.fail(m.error),u=Wt(Ht,m,t,M)){if(M.readyState=1,p&&g.trigger("ajaxSend",[M,m]),h)return M;m.async&&0<m.timeout&&(d=A.setTimeout(function(){M.abort("timeout")},m.timeout));try{h=!1,u.send(a,b)}catch(e){if(h)throw e;b(-1,e)}}else b(-1,"No Transport");function b(e,t,n,i){var r,a,o,s=t;h||(h=!0,d&&A.clearTimeout(d),u=void 0,c=i||"",M.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(o=function(e,t,n){for(var i,r,a,o,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)a=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){a=r;break}o=o||r}a=a||o}if(a)return a!==u[0]&&u.unshift(a),n[a]}(m,M,n)),!i&&-1<x.inArray("script",m.dataTypes)&&(m.converters["text script"]=function(){}),o=function(e,t,n,i){var r,a,o,s,u,l={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=c.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(o=l[u+" "+a]||l["* "+a]))for(r in l)if(s=r.split(" "),s[1]===a&&(o=l[u+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[r]:!0!==l[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}(m,o,M,i),i?(m.ifModified&&((n=M.getResponseHeader("Last-Modified"))&&(x.lastModified[l]=n),(n=M.getResponseHeader("etag"))&&(x.etag[l]=n)),204===e||"HEAD"===m.type?s="nocontent":304===e?s="notmodified":(s=o.state,r=o.data,i=!(a=o.error))):(a=s,!e&&s||(s="error",e<0&&(e=0))),M.status=e,M.statusText=(t||s)+"",i?_.resolveWith(f,[r,s,M]):_.rejectWith(f,[M,s,a]),M.statusCode(v),v=void 0,p&&g.trigger(i?"ajaxSuccess":"ajaxError",[M,m,i?r:a]),y.fireWith(f,[M,s]),p&&(g.trigger("ajaxComplete",[M,m]),--x.active||x.event.trigger("ajaxStop")))}return M},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],function(e,r){x[r]=function(e,t,n,i){return v(t)&&(i=i||n,n=t,t=void 0),x.ajax(x.extend({url:e,type:r,dataType:i,data:t,success:n},x.isPlainObject(e)&&e))}}),x.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),x._evalUrl=function(e,t,n){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,n)}})},x.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){x(this).wrapInner(n.call(this,e))}):this.each(function(){var e=x(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){x(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new A.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Zt=x.ajaxSettings.xhr();y.cors=!!Zt&&"withCredentials"in Zt,y.ajax=Zt=!!Zt,x.ajaxTransport(function(r){var a,o;if(y.cors||Zt&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=o=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(qt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),o=i.onerror=i.ontimeout=a("error"),void 0!==i.onabort?i.onabort=o:i.onreadystatechange=function(){4===i.readyState&&A.setTimeout(function(){a&&o()})},a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),x.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(n){var i,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=x("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),w.head.appendChild(i[0])},abort:function(){r&&r()}}});var Xt=[],Jt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||x.expando+"_"+St.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,a,o=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Jt,"$1"+i):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||x.error(i+" was not called"),a[0]},e.dataTypes[0]="json",r=A[i],A[i]=function(){a=arguments},n.always(function(){void 0===r?x(A).removeProp(i):A[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(i)),a&&v(r)&&r(a[0]),a=r=void 0}),"script"}),y.createHTMLDocument=((d=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===d.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((i=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(i)):t=w),i=!n&&[],(n=D.exec(e))?[t.createElement(n[1])]:(n=_e([e],t,i),i&&i.length&&x(i).remove(),x.merge([],n.childNodes)));var i},x.fn.load=function(e,t,n){var i,r,a,o=this,s=e.indexOf(" ");return-1<s&&(i=At(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&x.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},x.expr.pseudos.animated=function(t){return x.grep(x.timers,function(e){return t===e.elem}).length},x.offset={setOffset:function(e,t,n){var i,r,a,o,s=x.css(e,"position"),u=x(e),l={};"static"===s&&(e.style.position="relative"),a=u.offset(),i=x.css(e,"top"),o=x.css(e,"left"),o=("absolute"===s||"fixed"===s)&&-1<(i+o).indexOf("auto")?(r=(s=u.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(o)||0),v(t)&&(t=t.call(e,n,x.extend({},a))),null!=t.top&&(l.top=t.top-a.top+r),null!=t.left&&(l.left=t.left-a.left+o),"using"in t?t.using.call(e,l):("number"==typeof l.top&&(l.top+="px"),"number"==typeof l.left&&(l.left+="px"),u.css(l))}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){x.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(i,"marginTop",!0),left:t.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||ie})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var a="pageYOffset"===r;x.fn[t]=function(e){return H(this,function(e,t,n){var i;return f(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n?i?i[r]:e[t]:void(i?i.scrollTo(a?i.pageXOffset:n,a?n:i.pageYOffset):e[t]=n)},t,e,arguments.length)}}),x.each(["top","left"],function(e,n){x.cssHooks[n]=Xe(y.pixelPosition,function(e,t){if(t)return t=Ze(e,n),Ge.test(t)?x(e).position()[n]+"px":t})}),x.each({Height:"height",Width:"width"},function(o,s){x.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,a){x.fn[a]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return H(this,function(e,t,n){var i;return f(e)?0===a.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?x.css(e,t,r):x.style(e,t,n,r)},s,n?e:void 0,n)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){x.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),v(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||x.guid++,i},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=T,x.isFunction=v,x.isWindow=f,x.camelCase=W,x.type=m,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace(Kt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var $t=A.jQuery,en=A.$;return x.noConflict=function(e){return A.$===x&&(A.$=en),e&&A.jQuery===x&&(A.jQuery=$t),x},void 0===e&&(A.jQuery=A.$=x),x}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).AFRAME=e()}(function(){return function i(r,a,o){function s(n,e){if(!a[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=a[n]={exports:{}};r[n][0].call(t.exports,function(e){var t=r[n][1][e];return s(t||e)},t,t.exports,i,r,a,o)}return a[n].exports}for(var u="function"==typeof require&&require,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,n,r){(function(t){var e=function(){this._tweens={},this._tweensAddedDuringUpdate={}};e.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:s.now();0<n.length;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++)!1===this._tweens[n[i]].update(e)&&(this._tweens[n[i]]._isPlaying=!1,t||delete this._tweens[n[i]]);n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var i,s=new e;s.Group=e,s._nextId=0,s.nextId=function(){return s._nextId++},"undefined"==typeof window&&void 0!==t?s.now=function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?s.now=window.performance.now.bind(window.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=e,void 0!==t&&(this._duration=t),this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?e:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback.call(this._object,this._object),this.stopChainedTweens()),this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,i,r,a,o;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback.call(this._object,this._object),this._onStartCallbackFired=!0),n=1<(n=(e-this._startTime)/this._duration)?1:n,i=this._easingFunction(n),this._valuesEnd)void 0!==this._valuesStart[t]&&(r=this._valuesStart[t]||0,(a=this._valuesEnd[t])instanceof Array?this._object[t]=this._interpolationFunction(a,i):("string"==typeof a&&(a="+"===a.charAt(0)||"-"===a.charAt(0)?r+parseFloat(a):parseFloat(a)),"number"==typeof a&&(this._object[t]=r+(a-r)*i)));if(null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._object,i),1!==n)return!0;if(0<this._repeat){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)"string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&(o=this._valuesStartRepeat[t],this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=o),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback.call(this._object,this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}},s.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-s.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*s.Easing.Bounce.In(2*e):.5*s.Easing.Bounce.Out(2*e-1)+.5}}},s.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=s.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],i):1<t?a(e[n],e[n-1],n-i):a(e[r],e[n<r+1?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,a=s.Interpolation.Utils.Bernstein,o=0;o<=i;o++)n+=r(1-t,i-o)*r(t,o)*e[o]*a(i,o);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=s.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(i=n*(1+t))),a(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):1<t?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=s.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(i=[1],function(e){var t=1;if(i[e])return i[e];for(var n=e;1<n;n--)t*=n;return i[e]=t}),CatmullRom:function(e,t,n,i,r){var a=.5*(n-e),e=.5*(i-t),i=r*r;return(2*t-2*n+a+e)*(r*i)+(-3*t+3*n-2*a-e)*i+a*r+t}}},e=this,void 0!==n&&"object"==typeof r?n.exports=s:void 0!==e&&(e.TWEEN=s)}).call(this,e("_process"))},{_process:6}],2:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===i.call(e.buffer)||Array.isArray(e)}},{}],3:[function(e,t,n){t.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},{}],4:[function(e,t,n){"use strict";n.byteLength=function(e){return 3*e.length/4-d(e)},n.toByteArray=function(e){var t,n,i,r,a,o=e.length;r=d(e),a=new c(3*o/4-r),n=0<r?o-4:o;var s=0;for(t=0;t<n;t+=4)i=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;2===r?(i=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[s++]=255&i):1===r&&(i=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i);return a},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,r="",a=[],o=0,s=n-i;o<s;o+=16383)a.push(function(e,t,n){for(var i,r=[],a=t;a<n;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],r.push(function(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}(i));return r.join("")}(e,o,s<o+16383?s:o+16383));1==i?(t=e[n-1],r+=u[t>>2],r+=u[t<<4&63],r+="=="):2==i&&(t=(e[n-2]<<8)+e[n-1],r+=u[t>>10],r+=u[t>>4&63],r+=u[t<<2&63],r+="=");return a.push(r),a.join("")};for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=i.length;r<a;++r)u[r]=i[r],l[i.charCodeAt(r)]=r;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],5:[function(e,t,n){"use strict";t.exports={createLink:function(e,t){var n,i,r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("link");for(n in a.href=e,a.rel="stylesheet",t)t.hasOwnProperty(n)&&(i=t[n],a.setAttribute("data-"+n,i));r.appendChild(a)},createStyle:function(e,t){var n,i,r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");for(n in a.type="text/css",t)t.hasOwnProperty(n)&&(i=t[n],a.setAttribute("data-"+n,i));a.sheet?(a.innerHTML=e,a.sheet.cssText=e,r.appendChild(a)):a.styleSheet?(r.appendChild(a),a.styleSheet.cssText=e):(a.appendChild(document.createTextNode(e)),r.appendChild(a))}}},{}],6:[function(e,t,n){var i,r,t=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,l=[],c=!1,d=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=f,t.addListener=f,t.once=f,t.off=f,t.removeListener=f,t.removeAllListeners=f,t.emit=f,t.prependListener=f,t.prependOnceListener=f,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],7:[function(e,t,n){var i=e("buffer").Buffer;t.exports=function(e,t){if(i.isBuffer(e)&&i.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},{buffer:8}],8:[function(k,e,I){(function(e){"use strict";var s=k("base64-js"),a=k("ieee754"),o=k("isarray");function n(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"!=typeof e)return i(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}function i(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);d.TYPED_ARRAY_SUPPORT?(e=t).__proto__=d.prototype:e=c(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),n=(e=r(e,i)).write(t,n);n!==i&&(e=e.slice(0,n));return e}(e,t,n):function(e,t){if(d.isBuffer(t)){var n=0|h(t.length);return 0===(e=r(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?r(e,0):c(e,t);if("Buffer"===t.type&&o(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(u(t),e=r(e,t<0?0:0|h(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(e).length;default:if(i)return S(e).length;t=(""+t).toLowerCase(),i=!0}}function t(e,t,n){var i,r,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var i=e.length;(!t||t<0)&&(t=0);(!n||n<0||i<n)&&(n=i);for(var r="",a=t;a<n;++a)r+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[a]);return r}(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}(this,t,n);case"latin1":case"binary":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}(this,t,n);case"base64":return i=this,a=n,0===(r=t)&&a===i.length?s.fromByteArray(i):s.fromByteArray(i.slice(r,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function f(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=d.from(t,i)),d.isBuffer(t))return 0===t.length?-1:g(e,t,n,i,r);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):g(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,i,r){var a=1,o=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o/=a=2,s/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r)for(var l=-1,c=n;c<o;c++)if(u(e,c)===u(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s)return l*a}else-1!==l&&(c-=c-l),l=-1;else for(o<n+s&&(n=o-s),c=n;0<=c;c--){for(var d=!0,h=0;h<s;h++)if(u(e,c+h)!==u(t,h)){d=!1;break}if(d)return c}return-1}function _(e,t,n,i){return C(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function y(e,t,n,i){return C(function(e,t){for(var n,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),n=i>>8,i=i%256,r.push(i),r.push(n);return r}(t,e.length-n),e,n,i)}function v(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,u,l=e[r],c=null,d=239<l?4:223<l?3:191<l?2:1;if(r+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(a=e[r+1]))&&127<(u=(31&l)<<6|63&a)&&(c=u);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&2047<(u=(15&l)<<12|(63&a)<<6|63&o)&&(u<55296||57343<u)&&(c=u);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)&&u<1114112&&(c=u)}null===c?(c=65533,d=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=M));return n}(i)}I.Buffer=d,I.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},I.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),I.kMaxLength=n(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return i(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return i=null,t=t,n=n,u(e=e),!(e<=0)&&void 0!==t?"string"==typeof n?r(i,e).fill(t,n):r(i,e).fill(t):r(i,e);var i},d.allocUnsafe=function(e){return l(null,e)},d.allocUnsafeSlow=function(e){return l(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;for(var n=d.allocUnsafe(t),i=0,r=0;r<e.length;++r){var a=e[r];if(!d.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},d.byteLength=p,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?v(this,0,e):t.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",t=I.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,i,r){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=t)return 0;if(r<=i)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(i,r),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){a=u[c],o=l[c];break}return a<o?-1:o<a?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},d.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var a,o,s,u=!1;;)switch(i){case"hex":return function(e,t,n,i){n=Number(n)||0;var r=e.length-n;if((!i||r<(i=Number(i)))&&(i=r),(r=t.length)%2!=0)throw new TypeError("Invalid hex string");r/2<i&&(i=r/2);for(var a=0;a<i;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[n+a]=o}return a}(this,e,t,n);case"utf8":case"utf-8":return o=t,s=n,C(S(e,(a=this).length-o),a,o,s);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return a=this,o=t,s=n,C(N(e),a,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,e,t,n);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function b(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,i,r,a){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function w(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function x(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function E(e,t,n,i){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,i,r){return r||E(e,0,n,4),a.write(e,t,n,i,23,4),n+4}function T(e,t,n,i,r){return r||E(e,0,n,8),a.write(e,t,n,i,52,8),n+8}d.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=d.prototype;else for(var i=t-e,r=new d(i,void 0),a=0;a<i;++a)r[a]=this[a+e];return r},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=this[e+--t],r=1;0<t&&(r*=256);)i+=this[e+--t]*r;return i},d.prototype.readUInt8=function(e,t){return t||b(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||b(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||b(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*t)),i},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=t,r=1,a=this[e+--i];0<i&&(r*=256);)a+=this[e+--i]*r;return(r*=128)<=a&&(a-=Math.pow(2,8*t)),a},d.prototype.readInt8=function(e,t){return t||b(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||b(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},d.prototype.readInt16BE=function(e,t){t||b(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},d.prototype.readInt32LE=function(e,t){return t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||b(e,4,this.length),a.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||b(e,4,this.length),a.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||b(e,8,this.length),a.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||b(e,8,this.length),a.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;0<=--r&&(a*=256);)this[t+r]=e/a&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,i){e=+e,t|=0,i||A(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=0,a=1,o=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},d.prototype.writeIntBE=function(e,t,n,i){e=+e,t|=0,i||A(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=n-1,a=1,o=0;for(this[t+r]=255&e;0<=--r&&(a*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return T(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return T(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),t=t||0,0<i&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;0<=r;--r)e[r+t]=this[r+n];else if(a<1e3||!d.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},d.prototype.fill=function(e,t,n,i){if("string"==typeof e){var r;if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1!==e.length||(r=e.charCodeAt(0))<256&&(e=r),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var a=d.isBuffer(e)?e:S(new d(e,i).toString()),o=a.length,s=0;s<n-t;++s)this[s+t]=a[s%o];return this};var D=/[^+\/0-9A-Za-z-_]/g;function S(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],o=0;o<i;++o){if(55295<(n=e.charCodeAt(o))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&a.push(239,191,189);continue}if(o+1===i){-1<(t-=3)&&a.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&a.push(239,191,189);if(r=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function N(e){return s.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function C(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":4,ieee754:18,isarray:9}],9:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],10:[function(e,t,n){function i(){var e;try{e=n.storage.debug}catch(e){}return e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" "),!t)return e;t="color: "+this.color;e=[e[0],t,"color: inherit"].concat(Array.prototype.slice.call(e,1));var n=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))}),e.splice(i,0,t),e},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=i,n.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(i())},{"./debug":11}],11:[function(e,t,o){(o=t.exports=function(e){function t(){}function n(){var i=n;null==i.useColors&&(i.useColors=o.useColors()),null==i.color&&i.useColors&&(i.color=o.colors[s++%o.colors.length]);var r=Array.prototype.slice.call(arguments);r[0]=o.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var a=0;r[0]=r[0].replace(/%([a-z%])/g,function(e,t){if("%%"===e)return e;a++;var n=o.formatters[t];return"function"==typeof n&&(t=r[a],e=n.call(i,t),r.splice(a,1),a--),e}),"function"==typeof o.formatArgs&&(r=o.formatArgs.apply(i,r)),(n.log||o.log||console.log.bind(console)).apply(i,r)}t.enabled=!1,n.enabled=!0;var i=o.enabled(e)?n:t;return i.namespace=e,i}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},o.disable=function(){o.enable("")},o.enable=function(e){o.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,i=0;i<n;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")))},o.enabled=function(e){var t,n;for(t=0,n=o.skips.length;t<n;t++)if(o.skips[t].test(e))return!1;for(t=0,n=o.names.length;t<n;t++)if(o.names[t].test(e))return!0;return!1},o.names=[],o.skips=[],o.formatters={};var s=0},{}],12:[function(e,t,n){"use strict";var r=e("is-obj"),a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e,t,n){var i=t[n];if(null!=i){if(a.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");a.call(e,n)&&r(i)?e[n]=u(Object(e[n]),t[n]):e[n]=i}}function u(e,t){if(e===t)return e;for(var n in t=Object(t))a.call(t,n)&&s(e,t,n);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)o.call(t,i[r])&&s(e,t,i[r]);return e}t.exports=function(e){e=function(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}(e);for(var t=1;t<arguments.length;t++)u(e,arguments[t]);return e}},{"is-obj":22}],13:[function(t,n,i){!function(t,c,n,i){"use strict";function d(e,t){for(var n=0,i=e.length;n<i;n++)s(e[n],t)}function h(t){return function(e){Q(e)&&(s(e,t),d(e.querySelectorAll(C),t))}}function p(e){var t=X.call(e,"is"),n=e.nodeName.toUpperCase(),e=I.call(S,t?L+t.toUpperCase():E+n);return t&&-1<e&&!m(n,t)?-1:e}function m(e,t){return-1<C.indexOf(e+'[is="'+t+'"]')}function o(e){var t=e.currentTarget,n=e.attrChange,i=e.attrName,r=e.target;!se||r&&r!==t||!t.attributeChangedCallback||"style"===i||e.prevValue===e.newValue||t.attributeChangedCallback(i,n===e[l]?null:e.prevValue,n===e[A]?null:e.newValue)}function f(e){var t=h(e);return function(e){ne.push(t,e.target)}}function g(e){oe&&(oe=!1,e.currentTarget.removeEventListener(x,g)),d((e.target||c).querySelectorAll(C),e.detail===v?v:y),W&&function(){for(var e,t=0,n=q.length;t<n;t++)e=q[t],k.contains(e)||(n--,q.splice(t--,1),s(e,v))}()}function r(e,t){J.call(this,e,t),ue.call(this,{target:this})}function a(e,t){F(e,t),de?de.observe(e,ee):(ae&&(e.setAttribute=r,e[u]=ce(e),e.addEventListener("DOMSubtreeModified",ue)),e.addEventListener(w,o)),e.createdCallback&&se&&(e.created=!0,e.createdCallback(),e.created=!1)}function _(e){throw new Error("A "+e+" type is already registered")}function s(e,t){var n,i=p(e);-1<i&&(he(e,N[i]),i=0,t!==y||e[y]?t!==v||e[v]||(e[y]=!1,e[v]=!0,i=1):(e[v]=!1,e[y]=!0,i=1,W&&I.call(q,e)<0&&q.push(e)),i&&(n=e[t+"Callback"])&&n.call(e))}var u,y,v,M,l,b,A,w,x,E,L,T,D,S,N,C,k,I,j,O,z,R,P,Y,B,U,H,F,G,V,W,Q,q,Z,X,J,K,$,ee,te,ne,ie,re,ae,oe,se,ue,le,ce,de,he,pe,me,fe;function ge(e){var t=new CustomEvent(w,{bubbles:!0});t.attrName=e,t.prevValue=X.call(this,e),t.newValue=null,t[A]=t.attrChange=2,K.call(this,e),this.dispatchEvent(t)}function _e(t,n){var i=this.hasAttribute(t),r=i&&X.call(this,t);e=new CustomEvent(w,{bubbles:!0}),J.call(this,t,n),e.attrName=t,e.prevValue=i?r:null,e.newValue=n,i?e[b]=e.attrChange=1:e[l]=e.attrChange=0,this.dispatchEvent(e)}function ye(e){var t=e.currentTarget,n=t[u],i=e.propertyName;n.hasOwnProperty(i)&&(n=n[i],(e=new CustomEvent(w,{bubbles:!0})).attrName=n.name,e.prevValue=n.value||null,e.newValue=n.value=t[i]||null,null==e.prevValue?e[l]=e.attrChange=0:e[b]=e.attrChange=1,t.dispatchEvent(e))}i in c||(u="__"+i+(1e5*Math.random()>>0),y="attached",v="detached",M="extends",l="ADDITION",b="MODIFICATION",A="REMOVAL",w="DOMAttrModified",x="DOMContentLoaded",E="<",L="=",T=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,D=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],S=[],N=[],C="",k=c.documentElement,I=S.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},j=n.prototype,O=j.hasOwnProperty,z=j.isPrototypeOf,R=n.defineProperty,P=n.getOwnPropertyDescriptor,Y=n.getOwnPropertyNames,B=n.getPrototypeOf,U=n.setPrototypeOf,pe=!!n.__proto__,H=n.create||function e(t){return t?(e.prototype=t,new e):this},F=U||(pe?function(e,t){return e.__proto__=t,e}:Y&&P?function(e,t){for(;function(e,t){for(var n,i=Y(t),r=0,a=i.length;r<a;r++)n=i[r],O.call(e,n)||R(e,n,P(t,n))}(e,t),(t=B(t))&&!z.call(t,e););return e}:function(e,t){for(var n in t)e[n]=t[n];return e}),G=t.MutationObserver||t.WebKitMutationObserver,V=(t.HTMLElement||t.Element||t.Node).prototype,W=!z.call(V,k),Q=W?function(e){return 1===e.nodeType}:function(e){return z.call(V,e)},q=W&&[],Z=V.cloneNode,X=V.getAttribute,J=V.setAttribute,K=V.removeAttribute,$=c.createElement,ee=G&&{attributes:!0,characterData:!0,attributeOldValue:!0},te=G||function(e){ae=!1,k.removeEventListener(w,te)},ie=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},se=oe=ae=!(re=!1),fe=U||pe?(he=function(e,t){z.call(t,e)||a(e,t)},a):he=function(e,t){e[u]||(e[u]=n(!0),a(e,t))},W?(ae=!1,pe=P(V,"addEventListener"),me=pe.value,pe.value=function(e,t,n){e===w&&this.attributeChangedCallback&&this.setAttribute!==_e&&(this[u]={className:{name:"class",value:this.className}},this.setAttribute=_e,this.removeAttribute=ge,me.call(this,"propertychange",ye)),me.call(this,e,t,n)},R(V,"addEventListener",pe)):G||(k.addEventListener(w,te),k.setAttribute(u,1),k.removeAttribute(u),ae&&(ue=function(e){var t,n,i,r=this;if(r===e.target){for(i in t=r[u],r[u]=n=ce(r),n){if(!(i in t))return le(0,r,i,t[i],n[i],l);if(n[i]!==t[i])return le(1,r,i,t[i],n[i],b)}for(i in t)if(!(i in n))return le(2,r,i,t[i],n[i],A)}},le=function(e,t,n,i,r,a){r={attrChange:e,currentTarget:t,attrName:n,prevValue:i,newValue:r};r[a]=e,o(r)},ce=function(e){for(var t,n,i={},r=e.attributes,a=0,o=r.length;a<o;a++)"setAttribute"!==(n=(t=r[a]).name)&&(i[n]=t.value);return i})),c[i]=function(e,t){function o(e,t){for(var n=0,i=e.length;n<i;t(e[n++]));}var s,u,n=e.toUpperCase();if(re||(re=!0,G?(s=h(y),u=h(v),(de=new G(function(e){for(var t,n,i,r=0,a=e.length;r<a;r++)"childList"===(t=e[r]).type?(o(t.addedNodes,s),o(t.removedNodes,u)):(n=t.target,se&&n.attributeChangedCallback&&"style"!==t.attributeName&&((i=X.call(n,t.attributeName))!==t.oldValue&&n.attributeChangedCallback(t.attributeName,t.oldValue,i)))})).observe(c,{childList:!0,subtree:!0})):(ne=[],ie(function e(){for(;ne.length;)ne.shift().call(null,ne.shift());ie(e)}),c.addEventListener("DOMNodeInserted",f(y)),c.addEventListener("DOMNodeRemoved",f(v))),c.addEventListener(x,g),c.addEventListener("readystatechange",g),c.createElement=function(e,t){var n=$.apply(c,arguments),i=""+e,r=I.call(S,(t?L:E)+(t||i).toUpperCase()),e=-1<r;return t&&(n.setAttribute("is",t=t.toLowerCase()),e=e&&m(i.toUpperCase(),t)),se=!c.createElement.innerHTMLHelper,e&&fe(n,N[r]),n},V.cloneNode=function(e){var t=Z.call(this,!!e),n=p(t);return-1<n&&fe(t,N[n]),e&&function(e){for(var t,n=0,i=e.length;n<i;n++)t=e[n],fe(t,N[p(t)])}(t.querySelectorAll(C)),t}),-2<I.call(S,L+n)+I.call(S,E+n)&&_(e),!T.test(n)||-1<I.call(D,n))throw new Error("The type "+e+" is invalid");function i(){return a?c.createElement(l,n):c.createElement(l)}var n,r=t||j,a=O.call(r,M),l=a?t[M].toUpperCase():n;return a&&-1<I.call(S,E+l)&&_(l),t=S.push((a?L:E)+n)-1,C=C.concat(C.length?",":"",a?l+'[is="'+e.toLowerCase()+'"]':l),i.prototype=N[t]=O.call(r,"prototype")?r.prototype:H(V),d(c.querySelectorAll(C),y),i})}(window,document,Object,"registerElement")},{}],14:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],15:[function(e,t,n){var l=e("dtype");t.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&Array.isArray(e[0])){var i=e[0].length,r=e.length*i;t&&"string"!=typeof t||(t=new(l(t||"float32"))(r+n));var a=t.length-n;if(r!=a)throw new Error("source length "+r+" ("+i+"x"+e.length+") does not match destination length "+a);for(var o=0,s=n;o<e.length;o++)for(var u=0;u<i;u++)t[s++]=e[o][u]}else t&&"string"!=typeof t?t.set(e,n):(a=l(t||"float32"),0===n?t=new a(e):(t=new a(e.length+n)).set(e,n));return t}},{dtype:14}],16:[function(e,t,n){var i=e("is-function");t.exports=function(e,t,n){if(!i(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this);("[object Array]"===r.call(e)?function(e,t,n){for(var i=0,r=e.length;i<r;i++)a.call(e,i)&&t.call(n,e[i],i,e)}:"string"==typeof e?function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e.charAt(i),i,e)}:function(e,t,n){for(var i in e)a.call(e,i)&&t.call(n,e[i],i,e)})(e,t,n)};var r=Object.prototype.toString,a=Object.prototype.hasOwnProperty},{"is-function":21}],17:[function(e,t,n){(function(e){e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};t.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){n.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?r-1:0,h=n?-1:1,n=e[t+d];for(d+=h,a=n&(1<<-c)-1,n>>=-c,c+=s;0<c;a=256*a+e[t+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=i;0<c;o=256*o+e[t+d],d+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(n?-1:1);o+=Math.pow(2,i),a-=l}return(n?-1:1)*o*Math.pow(2,a-i)},n.write=function(e,t,n,i,r,a){var o,s,u=8*a-r-1,l=(1<<u)-1,c=l>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:a-1,p=i?1:-1,a=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-o))<1&&(o--,i*=2),2<=(t+=1<=o+c?d/i:d*Math.pow(2,1-c))*i&&(o++,i/=2),l<=o+c?(s=0,o=l):1<=o+c?(s=(t*i-1)*Math.pow(2,r),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,r),o=0));8<=r;e[n+h]=255&s,h+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;0<u;e[n+h]=255&o,h+=p,o/=256,u-=8);e[n+h-p]|=128*a}},{}],19:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],20:[function(e,t,n){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(i(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))||!!e._isBuffer);var t}},{}],21:[function(e,t,n){t.exports=function(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var i=Object.prototype.toString},{}],22:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}},{}],23:[function(e,t,n){var a=e("word-wrapper"),o=e("xtend"),s=e("as-number"),u=["x","e","a","o","n","s","r","c","u","m","v","w","z"],i=["m","w"],v=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],r="\t".charCodeAt(0),l=" ".charCodeAt(0);function c(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function d(e,t){if(!e.chars||0===e.chars.length)return null;t=b(e.chars,t);return 0<=t?e.chars[t]:null}function M(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var i=e.kernings,r=0;r<i.length;r++){var a=i[r];if(a.first===t&&a.second===n)return a.amount}return 0}function b(e,t,n){for(var i=n=n||0;i<e.length;i++)if(e[i].id===t)return i;return-1}t.exports=function(e){return new c(e)},c.prototype.update=function(e){if(e=o({measure:this._measure},e),this._opt=e,this._opt.tabSize=s(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var l=this.glyphs,c=e.text||"",d=e.font;this._setupSpaceGlyphs(d);var t=a.lines(c,e),n=e.width||0;l.length=0;var h=t.reduce(function(e,t){return Math.max(e,t.width,n)},0),p=0,m=0,f=s(e.lineHeight,d.common.lineHeight),i=d.common.base,r=f-i,g=e.letterSpacing||0,e=f*t.length-r,_=function(e){{if("center"===e)return 1;if("right"===e)return 2}return 0}(this._opt.align);m-=e,this._width=h,this._height=e,this._descender=f-i,this._baseline=i,this._xHeight=function(e){for(var t=0;t<u.length;t++){var n=u[t].charCodeAt(0),n=b(e.chars,n);if(0<=n)return e.chars[n].height}return 0}(d),this._capHeight=function(e){for(var t=0;t<v.length;t++){var n=v[t].charCodeAt(0),n=b(e.chars,n);if(0<=n)return e.chars[n].height}return 0}(d),this._lineHeight=f,this._ascender=f-r-this._xHeight;var y=this;t.forEach(function(e,t){for(var n,i=e.start,r=e.end,a=e.width,o=i;o<r;o++){var s=c.charCodeAt(o),u=y.getGlyph(d,s);u&&(n&&(p+=M(d,n.id,u.id)),s=p,1===_?s+=(h-a)/2:2===_&&(s+=h-a),l.push({position:[s,m],data:u,index:o,line:t}),p+=u.xadvance+g,n=u)}m+=f,p=0}),this._linesTotal=t.length},c.prototype._setupSpaceGlyphs=function(e){var t;this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length&&(t=d(e,l)||function(e){for(var t=0;t<i.length;t++){var n=i[t].charCodeAt(0),n=b(e.chars,n);if(0<=n)return e.chars[n]}return 0}(e)||e.chars[0],e=this._opt.tabSize*t.xadvance,this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=o(t,{x:0,y:0,xadvance:e,id:r,xoffset:0,yoffset:0,width:0,height:0}))},c.prototype.getGlyph=function(e,t){e=d(e,t);return e||(t===r?this._fallbackTabGlyph:t===l?this._fallbackSpaceGlyph:null)},c.prototype.computeMetrics=function(e,t,n,i){var r,a=this._opt.letterSpacing||0,o=this._opt.font,s=0,u=0,l=0;if(!o.chars||0===o.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var c=t;c<n;c++){var d,h=e.charCodeAt(c);if(d=this.getGlyph(o,h)){d.xoffset;var p=(s+=r?M(o,r.id,d.id):0)+d.xadvance+a,h=s+d.width;if(i<=h||i<=p)break;s=p,u=h,r=d}l++}return r&&(u+=r.xoffset),{start:t,end:t+l,width:u}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(function(e){Object.defineProperty(c.prototype,e,{get:function(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}(e),configurable:!0})})},{"as-number":3,"word-wrapper":47,xtend:50}],24:[function(t,r,e){(function(u){function l(){}var e=t("xhr"),c=t("parse-bmfont-ascii"),d=t("parse-bmfont-xml"),h=t("parse-bmfont-binary"),p=t("./lib/is-binary"),n=t("xtend"),i=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;r.exports=function(o,s){s="function"==typeof s?s:l,(o="string"==typeof o?{uri:o}:o||{}).binary&&(o=function(e){if(i)return n(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),n({xhr:t},e)}(o)),e(o,function(e,t,n){if(e)return s(e);if(!/^2/.test(t.statusCode))return s(new Error("http status code: "+t.statusCode));if(!n)return s(new Error("no body result"));var i=!1;e=n,"[object ArrayBuffer]"===Object.prototype.toString.call(e)&&(e=new Uint8Array(n),n=new u(e,"binary")),p(n)&&(i=!0,"string"==typeof n&&(n=new u(n,"binary"))),i||(u.isBuffer(n)&&(n=n.toString(o.encoding)),n=n.trim());try{var r=t.headers["content-type"],a=i?h(n):/json/.test(r)||"{"===n.charAt(0)?JSON.parse(n):(/xml/.test(r)||"<"===n.charAt(0)?d:c)(n)}catch(e){s(new Error("error parsing font "+e.message)),s=l}s(null,a)})}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":25,buffer:8,"parse-bmfont-ascii":27,"parse-bmfont-binary":28,"parse-bmfont-xml":29,xhr:48,xtend:50}],25:[function(i,r,e){(function(e){var t=i("buffer-equal"),n=new e([66,77,70,3]);r.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):4<e.length&&t(e.slice(0,4),n)}}).call(this,i("buffer").Buffer)},{buffer:8,"buffer-equal":7}],26:[function(e,t,n){"use strict";var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,i,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var o in n=Object(arguments[a]))l.call(n,o)&&(r[o]=n[o]);if(u){i=u(n);for(var s=0;s<i.length;s++)c.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r}},{}],27:[function(e,t,n){function s(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?e.split(",").map(function(e){return parseInt(e,10)}):parseInt(e,10):""}t.exports=function(e){if(!e)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},n=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var r=function(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);t=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var i=[],r=0;r<e.length;r++){var a=e[r];0===r?i.push({key:a[0],data:""}):r===e.length-1?i[i.length-1].data=s(a[0]):(i[i.length-1].data=s(a[0]),i.push({key:a[1],data:""}))}var o={key:t,data:{}};return i.forEach(function(e){o.data[e.key]=e.data}),o}(n[i],i);if(r)if("page"===r.key){if("number"!=typeof r.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof r.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');t.pages[r.data.id]=r.data.file}else"chars"===r.key||"kernings"===r.key||("char"===r.key?t.chars.push(r.data):"kerning"===r.key?t.kernings.push(r.data):t[r.key]=r.data)}return t}},{}],28:[function(e,t,n){var r=[66,77,70];function u(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}t.exports=function(n){if(n.length<6)throw new Error("invalid buffer length for BMFont");if(!r.every(function(e,t){return n.readUInt8(t)===e}))throw new Error("BMFont missing BMF byte header");var e=3;if(3<n.readUInt8(e++))throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var t={kernings:[],chars:[]},i=0;i<5;i++)e+=function(e,t,n){if(n>t.length-1)return 0;var i=t.readUInt8(n++),r=t.readInt32LE(n);switch(n+=4,i){case 1:e.info=function(e,t){var n={};n.size=e.readInt16LE(t);var i=e.readUInt8(t+2);n.smooth=i>>7&1,n.unicode=i>>6&1,n.italic=i>>5&1,n.bold=i>>4&1,i>>3&1&&(n.fixedHeight=1);return n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=function(e,t){return u(e,t).toString("utf8")}(e,t+14),n}(t,n);break;case 2:e.common=function(e,t){var n={};n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8);e.readUInt8(t+10);return n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}(t,n);break;case 3:e.pages=function(e,t,n){for(var i=[],r=u(e,t),a=r.length+1,o=n/a,s=0;s<o;s++)i[s]=e.slice(t,t+r.length).toString("utf8"),t+=a;return i}(t,n,r);break;case 4:e.chars=function(e,t,n){for(var i=[],r=n/20,a=0;a<r;a++){var o={},s=20*a;o.id=e.readUInt32LE(t+0+s),o.x=e.readUInt16LE(t+4+s),o.y=e.readUInt16LE(t+6+s),o.width=e.readUInt16LE(t+8+s),o.height=e.readUInt16LE(t+10+s),o.xoffset=e.readInt16LE(t+12+s),o.yoffset=e.readInt16LE(t+14+s),o.xadvance=e.readInt16LE(t+16+s),o.page=e.readUInt8(t+18+s),o.chnl=e.readUInt8(t+19+s),i[a]=o}return i}(t,n,r);break;case 5:e.kernings=function(e,t,n){for(var i=[],r=n/10,a=0;a<r;a++){var o={},s=10*a;o.first=e.readUInt32LE(t+0+s),o.second=e.readUInt32LE(t+4+s),o.amount=e.readInt16LE(t+8+s),i[a]=o}return i}(t,n,r)}return 5+r}(t,n,e);return t}},{}],29:[function(e,t,n){var u=e("./parse-attribs"),a=e("xml-parse-from-string"),i={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function l(e){return function(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}(e).reduce(function(e,t){var n;return e[n=t.nodeName,i[n.toLowerCase()]||n]=t.nodeValue,e},{})}t.exports=function(e){e=e.toString();var o=a(e),s={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var t=o.getElementsByTagName(e)[0];t&&(s[e]=u(l(t)))});e=o.getElementsByTagName("pages")[0];if(!e)throw new Error("malformed file -- no <pages> element");for(var t=e.getElementsByTagName("page"),n=0;n<t.length;n++){var i=t[n],r=parseInt(i.getAttribute("id"),10),i=i.getAttribute("file");if(isNaN(r))throw new Error('malformed file -- page "id" attribute is NaN');if(!i)throw new Error('malformed file -- needs page "file" attribute');s.pages[parseInt(r,10)]=i}return["chars","kernings"].forEach(function(e){var t=o.getElementsByTagName(e)[0];if(t)for(var n=e.substring(0,e.length-1),i=t.getElementsByTagName(n),r=0;r<i.length;r++){var a=i[r];s[e].push(u(l(a)))}}),s}},{"./parse-attribs":30,"xml-parse-from-string":49}],30:[function(e,t,n){var i="chasrset";t.exports=function(e){for(var t in i in e&&(e.charset=e[i],delete e[i]),e)"face"!==t&&"charset"!==t&&(e[t]="padding"===t||"spacing"===t?e[t].split(",").map(function(e){return parseInt(e,10)}):parseInt(e[t],10));return e}},{}],31:[function(e,t,n){var r=e("trim"),a=e("for-each");t.exports=function(e){if(!e)return{};var i={};return a(r(e).split("\n"),function(e){var t=e.indexOf(":"),n=r(e.slice(0,t)).toLowerCase(),e=r(e.slice(t+1));void 0===i[n]?i[n]=e:(t=i[n],"[object Array]"===Object.prototype.toString.call(t)?i[n].push(e):i[n]=[i[n],e])}),i}},{"for-each":16,trim:45}],32:[function(e,n,t){(function(e){var r=e.performance||{},t=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in r)return r[t].bind(r)}var n=Date.now||function(){return(new Date).getTime()},i=(r.timing||{}).navigationStart||n();return function(){return n()-i}}();t.performanceNow=r.now,t.noConflict=function(){r.now=t.performanceNow},t.conflict=function(){r.now=t},t.conflict(),n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,n){function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,i(r,this),i(s,this))}function o(n){var i=this;null!==this._state?p(function(){var e,t=i._state?n.onFulfilled:n.onRejected;if(null!==t){try{e=t(i._value)}catch(e){return void n.reject(e)}n.resolve(e)}else(i._state?n.resolve:n.reject)(i._value)}):this._deferreds.push(n)}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void c(i(t,e),i(r,this),i(s,this))}this._state=!0,this._value=e,u.call(this)}catch(e){s.call(this,e)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function c(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}var d,h,p,m;d=this,h=setTimeout,p="function"==typeof setImmediate&&setImmediate||function(e){h(e,1)},m=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(n,i){var r=this;return new a(function(e,t){o.call(r,new l(n,i,e,t))})},a.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&m(arguments[0])?arguments[0]:arguments);return new a(function(r,a){if(0===s.length)return r([]);var o=s.length;for(var e=0;e<s.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){t(n,e)},a)}s[n]=e,0==--o&&r(s)}catch(e){a(e)}}(e,s[e])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(n){return new a(function(e,t){t(n)})},a.race=function(r){return new a(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},a._setImmediateFn=function(e){p=e},void 0!==t&&t.exports?t.exports=a:d.Promise||(d.Promise=a)},{}],34:[function(e,t,n){var p=e("dtype"),m=e("an-array"),f=e("is-buffer"),g=[0,2,3],_=[2,1,3];t.exports=function(e,t){e&&(m(e)||f(e))||(t=e||{},e=null);for(var n="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",i="number"==typeof t.count?t.count:1,r=t.start||0,t=!1!==t.clockwise?g:_,a=t[0],o=t[1],s=t[2],u=6*i,l=e||new(p(n))(u),c=0,d=0;c<u;c+=6,d+=4){var h=c+r;l[h+0]=d+0,l[h+1]=d+1,l[h+2]=d+2,l[h+3]=d+a,l[h+4]=d+o,l[h+5]=d+s}return l}},{"an-array":2,dtype:14,"is-buffer":20}],35:[function(e,t,n){function i(e,t){var i=(t=t||{}).preserveNumbers,r={};return function(e){var t,n=[],i=0,r=/url\([^\)]+$/,a="";for(;i<e.length;)-1===(t=e.indexOf(";",i))&&(t=e.length),a+=e.substring(i,t),i=(r.test(a)?a+=";":(n.push(a),a=""),t+1);return n}(e).map(function(e){return e.trim()}).filter(Boolean).forEach(function(e){var t=e.indexOf(":"),n=e.substr(0,t).trim(),e=e.substr(t+1).trim();i&&(t=e,!isNaN(parseFloat(t))&&isFinite(t))&&(e=Number(e)),r[n]=e}),r}function r(t){return Object.keys(t).map(function(e){return e+":"+t[e]}).join(";")}t.exports.parse=i,t.exports.stringify=r,t.exports.normalize=function(e,t){return r(i(e,t))}},{}],36:[function(e,t,n){var o=e("layout-bmfont-text"),i=e("inherits"),s=e("quad-indices"),u=e("three-buffer-vertex-data"),l=e("object-assign"),c=e("./lib/vertices"),r=e("./lib/utils"),a=THREE.BufferGeometry;function d(e){a.call(this),"string"==typeof e&&(e={text:e}),this._opt=l({},e),e&&this.update(e)}t.exports=function(e){return new d(e)},i(d,a),d.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),!(e=l({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=o(e);var t=!1!==e.flipY,n=e.font,i=n.common.scaleW,r=n.common.scaleH,a=this.layout.glyphs.filter(function(e){e=e.data;return 0<e.width*e.height});this.visibleGlyphs=a;n=c.positions(a),r=c.uvs(a,i,r,t),t=s({clockwise:!0,type:"uint16",count:a.length});u.index(this,t,1,"uint16"),u.attr(this,"position",n,2),u.attr(this,"uv",r,2),!e.multipage&&"page"in this.attributes?this.removeAttribute("page"):e.multipage&&(a=c.pages(a),u.attr(this,"page",a,1))},d.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);r.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},d.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;!t||!n||t.length<2?e.makeEmpty():r.computeBox(t,e)}},{"./lib/utils":37,"./lib/vertices":38,inherits:19,"layout-bmfont-text":23,"object-assign":26,"quad-indices":34,"three-buffer-vertex-data":39}],37:[function(e,t,n){var o={min:[0,0],max:[0,0]};function s(e){var t=e.length/2;o.min[0]=e[0],o.min[1]=e[1],o.max[0]=e[0],o.max[1]=e[1];for(var n=0;n<t;n++){var i=e[2*n+0],r=e[2*n+1];o.min[0]=Math.min(i,o.min[0]),o.min[1]=Math.min(r,o.min[1]),o.max[0]=Math.max(i,o.max[0]),o.max[1]=Math.max(r,o.max[1])}}t.exports.computeBox=function(e,t){s(e),t.min.set(o.min[0],o.min[1],0),t.max.set(o.max[0],o.max[1],0)},t.exports.computeSphere=function(e,t){s(e);var n=o.min[0],i=o.min[1],r=o.max[0]-n,a=o.max[1]-i,e=Math.sqrt(r*r+a*a);t.center.set(n+r/2,i+a/2,0),t.radius=e/2}},{}],38:[function(e,t,n){t.exports.pages=function(e){var t=new Float32Array(4*e.length*1),n=0;return e.forEach(function(e){e=e.data.page||0;t[n++]=e,t[n++]=e,t[n++]=e,t[n++]=e}),t},t.exports.uvs=function(e,o,s,u){var l=new Float32Array(4*e.length*2),c=0;return e.forEach(function(e){var t=e.data,n=t.x+t.width,i=t.y+t.height,r=t.x/o,a=t.y/s,e=n/o,n=i/s;u&&(a=(s-t.y)/s,n=(s-i)/s),l[c++]=r,l[c++]=a,l[c++]=r,l[c++]=n,l[c++]=e,l[c++]=n,l[c++]=e,l[c++]=a}),l},t.exports.positions=function(e){var r=new Float32Array(4*e.length*2),a=0;return e.forEach(function(e){var t=e.data,n=e.position[0]+t.xoffset,i=e.position[1]+t.yoffset,e=t.width,t=t.height;r[a++]=n,r[a++]=i,r[a++]=n,r[a++]=i+t,r[a++]=n+e,r[a++]=i+t,r[a++]=n+e,r[a++]=i}),r}},{}],39:[function(e,t,n){var r=e("flatten-vertex-data"),a=!1;function o(e,t,n,i){if(t=t||[],e&&!function(e,t,n){if(e.itemSize!==n)return!0;if(!e.array)return!0;e=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?e!==t.length*n:e!==t.length}(e,t,n))return r(t,e.array),e.needsUpdate=!0,null;t=r(t,i);i=e&&"function"!=typeof e.setArray;return e&&!i||(i&&!a&&(a=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),e=new THREE.BufferAttribute(t,n)),e.itemSize=n,e.needsUpdate=!0,"function"==typeof e.setArray&&e.setArray(t),e}t.exports.attr=function(e,t,n,i,r){"number"!=typeof i&&(i=3);"string"!=typeof r&&(r="float32");if(Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==i)throw new Error("Nested vertex array has unexpected size; expected "+i+" but found "+n[0].length);r=o(e.getAttribute(t),n,i,r);r&&e.addAttribute(t,r)},t.exports.index=function(e,t,n,i){"number"!=typeof n&&(n=1);"string"!=typeof i&&(i="uint16");var r=!e.index&&"function"!=typeof e.setIndex,i=o(r?e.getAttribute("index"):e.index,t,n,i);i&&(r?e.addAttribute("index",i):e.index=i)}},{"flatten-vertex-data":15}],40:[function(e,t,n){var i;i=this,function(e){"use strict";function t(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:0<e?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){void 0!==this._listeners&&(void 0===(e=this._listeners[e])||-1!==(t=e.indexOf(t))&&e.splice(t,1))},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});var n,i,u,l,r,a,o,s,c,d,h,p,m,f,g,_,y,v,M,b,H=0,F=1,G=2,C=1,E=2,k=0,V=1,W=2,Le=0,A=2,Q=0,q=1,Z=2,X=3,J=4,K=5,w=100,x=101,L=102,T=103,D=104,S=200,N=201,I=202,j=203,O=204,z=205,R=206,P=207,Y=208,B=209,U=210,$=0,ee=1,te=2,ne=3,ie=4,re=5,ae=6,oe=7,se=0,ue=1,le=2,ce=0,Te=1,de=2,he=3,pe=4,me=301,fe=302,ge=303,_e=304,ye=305,ve=306,Me=307,be=1e3,Ae=1001,we=1002,xe=1003,Ee=1004,De=1005,Se=1006,Ne=1007,Ce=1008,ke=1009,Ie=1010,je=1011,Oe=1012,ze=1013,Re=1014,Pe=1015,Ye=1016,Be=1017,Ue=1018,He=1019,Fe=1020,Ge=1021,Ve=1022,We=1023,Qe=1024,qe=1025,Ze=We,Xe=1026,Je=1027,Ke=33776,$e=33777,et=33778,tt=33779,nt=35840,it=35841,rt=35842,at=35843,ot=36196,st=37808,ut=37809,lt=37810,ct=37811,dt=37812,ht=37813,pt=37814,mt=37815,ft=37816,gt=37817,_t=37818,yt=37819,vt=37820,Mt=37821,bt=0,At=3e3,wt=3001,xt=3007,Et=3002,Lt=3004,Tt=3005,Dt=3006,St=3200,Nt=3201,Ct={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var r=[],e=0;e<256;e++)r[e]=(e<16?"0":"")+e.toString(16).toUpperCase();return function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return r[255&e]+r[e>>8&255]+r[e>>16&255]+r[e>>24&255]+"-"+r[255&t]+r[t>>8&255]+"-"+r[t>>16&15|64]+r[t>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Ct.DEG2RAD},radToDeg:function(e){return e*Ct.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function kt(e,t){this.x=e||0,this.y=t||0}function It(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function jt(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function Ot(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function zt(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(kt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(kt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,e=e.elements;return this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(n=new kt,i=new kt,function(e,t){return n.set(e,e),i.set(t,t),this.clamp(n,i)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,e=this.y-e.y;return t*t+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,t=this.y-e.y;return this.x=r*n-t*i+e.x,this.y=r*i+t*n+e.y,this}}),Object.assign(It.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,a,o,s,u,l,c,d,h,p,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=u,g[6]=l,g[10]=c,g[14]=d,g[3]=h,g[7]=p,g[11]=m,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new It).fromArray(this.elements)},copy:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},copyPosition:function(e){var t=this.elements,e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:(c=new Ot,function(e){var t=this.elements,n=e.elements,i=1/c.setFromMatrixColumn(e,0).length(),r=1/c.setFromMatrixColumn(e,1).length(),e=1/c.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t,n,i,r,a,o,s,u,l,c,d,h,p=this.elements,m=e.x,f=e.y,g=e.z,_=Math.cos(m),y=Math.sin(m),v=Math.cos(f),m=Math.sin(f),f=Math.cos(g),g=Math.sin(g);return"XYZ"===e.order?(a=_*f,o=_*g,s=y*f,u=y*g,p[0]=v*f,p[4]=-v*g,p[8]=m,p[1]=o+s*m,p[5]=a-u*m,p[9]=-y*v,p[2]=u-a*m,p[6]=s+o*m,p[10]=_*v):"YXZ"===e.order?(t=v*f,n=v*g,i=m*f,r=m*g,p[0]=t+r*y,p[4]=i*y-n,p[8]=_*m,p[1]=_*g,p[5]=_*f,p[9]=-y,p[2]=n*y-i,p[6]=r+t*y,p[10]=_*v):"ZXY"===e.order?(t=v*f,n=v*g,i=m*f,r=m*g,p[0]=t-r*y,p[4]=-_*g,p[8]=i+n*y,p[1]=n+i*y,p[5]=_*f,p[9]=r-t*y,p[2]=-_*m,p[6]=y,p[10]=_*v):"ZYX"===e.order?(a=_*f,o=_*g,s=y*f,u=y*g,p[0]=v*f,p[4]=s*m-o,p[8]=a*m+u,p[1]=v*g,p[5]=u*m+a,p[9]=o*m-s,p[2]=-m,p[6]=y*v,p[10]=_*v):"YZX"===e.order?(l=_*v,c=_*m,d=y*v,h=y*m,p[0]=v*f,p[4]=h-l*g,p[8]=d*g+c,p[1]=g,p[5]=_*f,p[9]=-y*f,p[2]=-m*f,p[6]=c*g+d,p[10]=l-h*g):"XZY"===e.order&&(l=_*v,c=_*m,d=y*v,h=y*m,p[0]=v*f,p[4]=-g,p[8]=m*f,p[1]=l*g+h,p[5]=_*f,p[9]=c*g-d,p[2]=d*g-c,p[6]=y*f,p[10]=h*g+l),p[3]=0,p[7]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,i=e._y,r=e._z,a=e._w,o=n+n,s=i+i,u=r+r,l=n*o,c=n*s,e=n*u,n=i*s,i=i*u,r=r*u,o=a*o,s=a*s,u=a*u;return t[0]=1-(n+r),t[4]=c-u,t[8]=e+s,t[1]=c+u,t[5]=1-(l+r),t[9]=i-o,t[2]=e-s,t[6]=i+o,t[10]=1-(l+n),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:(a=new Ot,o=new Ot,s=new Ot,function(e,t,n){var i=this.elements;return s.subVectors(e,t),0===s.lengthSq()&&(s.z=1),s.normalize(),a.crossVectors(n,s),0===a.lengthSq()&&(1===Math.abs(n.z)?s.x+=1e-4:s.z+=1e-4,s.normalize(),a.crossVectors(n,s)),a.normalize(),o.crossVectors(s,a),i[0]=a.x,i[4]=o.x,i[8]=s.x,i[1]=a.y,i[5]=o.y,i[9]=s.y,i[2]=a.z,i[6]=o.z,i[10]=s.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],d=n[9],h=n[13],p=n[2],m=n[6],f=n[10],g=n[14],_=n[3],y=n[7],v=n[11],M=n[15],b=i[0],A=i[4],w=i[8],x=i[12],E=i[1],L=i[5],T=i[9],D=i[13],S=i[2],N=i[6],C=i[10],k=i[14],e=i[3],t=i[7],n=i[11],i=i[15];return r[0]=a*b+o*E+s*S+u*e,r[4]=a*A+o*L+s*N+u*t,r[8]=a*w+o*T+s*C+u*n,r[12]=a*x+o*D+s*k+u*i,r[1]=l*b+c*E+d*S+h*e,r[5]=l*A+c*L+d*N+h*t,r[9]=l*w+c*T+d*C+h*n,r[13]=l*x+c*D+d*k+h*i,r[2]=p*b+m*E+f*S+g*e,r[6]=p*A+m*L+f*N+g*t,r[10]=p*w+m*T+f*C+g*n,r[14]=p*x+m*D+f*k+g*i,r[3]=_*b+y*E+v*S+M*e,r[7]=_*A+y*L+v*N+M*t,r[11]=_*w+y*T+v*C+M*n,r[15]=_*x+y*D+v*k+M*i,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:(r=new Ot,function(e){for(var t=0,n=e.count;t<n;t++)r.x=e.getX(t),r.y=e.getY(t),r.z=e.getZ(t),r.applyMatrix4(this),e.setXYZ(t,r.x,r.y,r.z);return e}),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(+r*s*c-i*u*c-r*o*d+n*u*d+i*o*h-n*s*h)+e[7]*(+t*s*h-t*u*d+r*a*d-i*a*h+i*u*l-r*s*l)+e[11]*(+t*u*c-t*o*h-r*a*c+n*a*h+r*o*l-n*u*l)+e[15]*(-i*o*l-t*s*c+t*o*d+i*a*c-n*a*d+n*s*l)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],c=i[6],d=i[7],h=i[8],p=i[9],m=i[10],f=i[11],g=i[12],_=i[13],y=i[14],v=i[15],M=p*y*d-_*m*d+_*c*f-l*y*f-p*c*v+l*m*v,b=g*m*d-h*y*d-g*c*f+u*y*f+h*c*v-u*m*v,A=h*_*d-g*p*d+g*l*f-u*_*f-h*l*v+u*p*v,w=g*p*c-h*_*c-g*l*m+u*_*m+h*l*y-u*p*y,e=r*M+a*b+o*A+s*w;if(0==e){i="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(i);return console.warn(i),this.identity()}e=1/e;return n[0]=M*e,n[1]=(_*m*s-p*y*s-_*o*f+a*y*f+p*o*v-a*m*v)*e,n[2]=(l*y*s-_*c*s+_*o*d-a*y*d-l*o*v+a*c*v)*e,n[3]=(p*c*s-l*m*s-p*o*d+a*m*d+l*o*f-a*c*f)*e,n[4]=b*e,n[5]=(h*y*s-g*m*s+g*o*f-r*y*f-h*o*v+r*m*v)*e,n[6]=(g*c*s-u*y*s-g*o*d+r*y*d+u*o*v-r*c*v)*e,n[7]=(u*m*s-h*c*s+h*o*d-r*m*d-u*o*f+r*c*f)*e,n[8]=A*e,n[9]=(g*p*s-h*_*s-g*a*f+r*_*f+h*a*v-r*p*v)*e,n[10]=(u*_*s-g*l*s+g*a*d-r*_*d-u*a*v+r*l*v)*e,n[11]=(h*l*s-u*p*s-h*a*d+r*p*d+u*a*f-r*l*f)*e,n[12]=w*e,n[13]=(h*_*o-g*p*o+g*a*m-r*_*m-h*a*y+r*p*y)*e,n[14]=(g*l*o-u*_*o-g*a*c+r*_*c+u*a*y-r*l*y)*e,n[15]=(u*p*o-h*l*o+h*a*c-r*p*c-u*a*m+r*l*m)*e,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,e=e.z;return t[0]*=n,t[4]*=i,t[8]*=e,t[1]*=n,t[5]*=i,t[9]*=e,t[2]*=n,t[6]*=i,t[10]*=e,t[3]*=n,t[7]*=i,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,e))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,t=r*a,e=r*o;return this.set(t*a+n,t*o-i*s,t*s+i*o,0,t*o+i*s,e*o+n,e*s-i*a,0,t*s-i*o,e*s+i*a,r*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:(u=new Ot,l=new It,function(e,t,n){var i=this.elements,r=u.set(i[0],i[1],i[2]).length(),a=u.set(i[4],i[5],i[6]).length(),o=u.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],l.copy(this);var s=1/r,e=1/a,i=1/o;return l.elements[0]*=s,l.elements[1]*=s,l.elements[2]*=s,l.elements[4]*=e,l.elements[5]*=e,l.elements[6]*=e,l.elements[8]*=i,l.elements[9]*=i,l.elements[10]*=i,t.setFromRotationMatrix(l),n.x=r,n.y=a,n.z=o,this}),makePerspective:function(e,t,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(t-e),u=2*r/(n-i),e=(t+e)/(t-e),n=(n+i)/(n-i),i=-(a+r)/(a-r),r=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=e,o[12]=0,o[1]=0,o[5]=u,o[9]=n,o[13]=0,o[2]=0,o[6]=0,o[10]=i,o[14]=r,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),u=1/(n-i),l=1/(a-r),e=(t+e)*s,i=(n+i)*u,r=(a+r)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-e,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-i,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-r,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(jt,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,a,o){var s=n[i+0],u=n[i+1],l=n[i+2],c=n[i+3],d=r[a+0],h=r[a+1],p=r[a+2],m=r[a+3];c===m&&s===d&&u===h&&l===p||(n=1-o,r=0<=(i=s*d+u*h+l*p+c*m)?1:-1,(a=1-i*i)>Number.EPSILON&&(a=Math.sqrt(a),i=Math.atan2(a,i*r),n=Math.sin(n*i)/a,o=Math.sin(o*i)/a),s=s*n+d*(r=o*r),u=u*n+h*r,l=l*n+p*r,c=c*n+m*r,n===1-o&&(s*=o=1/Math.sqrt(s*s+u*u+l*l+c*c),u*=o,l*=o,c*=o)),e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}}),Object.defineProperties(jt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(jt.prototype,{set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,a=e.order,o=Math.cos,s=Math.sin,u=o(n/2),e=o(i/2),o=o(r/2),n=s(n/2),i=s(i/2),r=s(r/2);return"XYZ"===a?(this._x=n*e*o+u*i*r,this._y=u*i*o-n*e*r,this._z=u*e*r+n*i*o,this._w=u*e*o-n*i*r):"YXZ"===a?(this._x=n*e*o+u*i*r,this._y=u*i*o-n*e*r,this._z=u*e*r-n*i*o,this._w=u*e*o+n*i*r):"ZXY"===a?(this._x=n*e*o-u*i*r,this._y=u*i*o+n*e*r,this._z=u*e*r+n*i*o,this._w=u*e*o-n*i*r):"ZYX"===a?(this._x=n*e*o-u*i*r,this._y=u*i*o+n*e*r,this._z=u*e*r-n*i*o,this._w=u*e*o+n*i*r):"YZX"===a?(this._x=n*e*o+u*i*r,this._y=u*i*o+n*e*r,this._z=u*e*r-n*i*o,this._w=u*e*o-n*i*r):"XZY"===a&&(this._x=n*e*o-u*i*r,this._y=u*i*o-n*e*r,this._z=u*e*r+n*i*o,this._w=u*e*o+n*i*r),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,t=Math.sin(n);return this._x=e.x*t,this._y=e.y*t,this._z=e.z*t,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],a=n[8],o=n[1],s=n[5],u=n[9],l=n[2],c=n[6],e=n[10],n=i+s+e;return 0<n?(t=.5/Math.sqrt(n+1),this._w=.25/t,this._x=(c-u)*t,this._y=(a-l)*t,this._z=(o-r)*t):s<i&&e<i?(t=2*Math.sqrt(1+i-s-e),this._w=(c-u)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(a+l)/t):e<s?(t=2*Math.sqrt(1+s-i-e),this._w=(a-l)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(u+c)/t):(t=2*Math.sqrt(1+e-i-s),this._w=(o-r)/t,this._x=(a+l)/t,this._y=(u+c)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:(h=new Ot,function(e,t){return void 0===h&&(h=new Ot),(d=e.dot(t)+1)<1e-6?(d=0,Math.abs(e.x)>Math.abs(e.z)?h.set(-e.y,e.x,0):h.set(0,-e.z,e.y)):h.crossVectors(e,t),this._x=h.x,this._y=h.y,this._z=h.z,this._w=d,this.normalize()}),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,e=t._z,t=t._w;return this._x=n*t+a*o+i*e-r*s,this._y=i*t+a*s+r*o-n*e,this._z=r*t+a*e+n*s-i*o,this._w=a*t-n*o-i*s-r*e,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),1<=o)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;e=Math.atan2(s,o),o=Math.sin((1-t)*e)/s,s=Math.sin(t*e)/s;return this._w=a*o+this._w*s,this._x=n*o+this._x*s,this._y=i*o+this._y*s,this._z=r*o+this._z*s,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Ot.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(M=new jt,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(M.setFromEuler(e))}),applyAxisAngle:(v=new jt,function(e,t){return this.applyQuaternion(v.setFromAxisAngle(e,t))}),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,e=e.elements;return this.x=e[0]*t+e[3]*n+e[6]*i,this.y=e[1]*t+e[4]*n+e[7]*i,this.z=e[2]*t+e[5]*n+e[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,e=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*e,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*e,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*e,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*i-o*n,l=s*n+o*t-r*i,e=s*i+r*n-a*t,i=-r*t-a*n-o*i;return this.x=u*s+i*-r+l*-o-e*-a,this.y=l*s+i*-a+e*-r-u*-o,this.z=e*s+i*-o+u*-a-l*-r,this},project:(y=new It,function(e){return y.multiplyMatrices(e.projectionMatrix,y.getInverse(e.matrixWorld)),this.applyMatrix4(y)}),unproject:(_=new It,function(e){return _.multiplyMatrices(e.matrixWorld,_.getInverse(e.projectionMatrix)),this.applyMatrix4(_)}),transformDirection:function(e){var t=this.x,n=this.y,i=this.z,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i,this.y=e[1]*t+e[5]*n+e[9]*i,this.z=e[2]*t+e[6]*n+e[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:(f=new Ot,g=new Ot,function(e,t){return f.set(e,e,e),g.set(t,t,t),this.clamp(f,g)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,a=t.x,e=t.y,t=t.z;return this.x=i*t-r*e,this.y=r*a-n*t,this.z=n*e-i*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:(m=new Ot,function(e){return m.copy(this).projectOnVector(e),this.sub(m)}),reflect:(p=new Ot,function(e){return this.sub(p.copy(e).multiplyScalar(2*this.dot(e)))}),angleTo:function(e){e=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Ct.clamp(e,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,e=this.z-e.z;return t*t+n*n+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){e=e.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=e,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(zt.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=i,l[2]=o,l[3]=t,l[4]=r,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},setFromMatrix4:function(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:(b=new Ot,function(e){for(var t=0,n=e.count;t<n;t++)b.x=e.getX(t),b.y=e.getY(t),b.z=e.getZ(t),b.applyMatrix3(this),e.setXYZ(t,b.x,b.y,b.z);return e}),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],d=n[2],h=n[5],p=n[8],m=i[0],f=i[3],g=i[6],_=i[1],y=i[4],e=i[7],t=i[2],n=i[5],i=i[8];return r[0]=a*m+o*_+s*t,r[3]=a*f+o*y+s*n,r[6]=a*g+o*e+s*i,r[1]=u*m+l*_+c*t,r[4]=u*f+l*y+c*n,r[7]=u*g+l*e+c*i,r[2]=d*m+h*_+p*t,r[5]=d*f+h*y+p*n,r[8]=d*g+h*e+p*i,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],u=e[7],e=e[8];return t*a*e-t*o*u-n*r*e+n*o*s+i*r*u-i*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],d=n[7],h=n[8],p=h*u-l*d,m=l*c-h*s,f=d*s-u*c,e=r*p+a*m+o*f;if(0==e){n="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(n);return console.warn(n),this.identity()}e=1/e;return i[0]=p*e,i[1]=(o*d-h*a)*e,i[2]=(l*a-o*u)*e,i[3]=m*e,i[4]=(h*r-o*c)*e,i[5]=(o*s-l*r)*e,i[6]=f*e,i[7]=(a*c-d*r)*e,i[8]=(u*r-a*s)*e,this},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,a,o){var s=Math.cos(r),r=Math.sin(r);this.set(n*s,n*r,-n*(s*a+r*o)+a+e,-i*r,i*s,-i*(-r*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],u=i[4],e=i[7];return i[0]=t*r+n*s,i[3]=t*a+n*u,i[6]=t*o+n*e,i[1]=-n*r+t*s,i[4]=-n*a+t*u,i[7]=-n*o+t*e,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Rt,Pt,Yt=0;function Bt(e,t,n,i,r,a,o,s,u,l){Object.defineProperty(this,"id",{value:Yt++}),this.uuid=Ct.generateUUID(),this.name="",this.image=void 0!==e?e:Bt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Bt.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Ae,this.wrapT=void 0!==i?i:Ae,this.magFilter=void 0!==r?r:Se,this.minFilter=void 0!==a?a:Ce,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:We,this.type=void 0!==s?s:ke,this.offset=new kt(0,0),this.repeat=new kt(1,1),this.center=new kt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:At,this.version=0,this.onUpdate=null}function Ut(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function Ht(e,t,n){this.uuid=Ct.generateUUID(),this.width=e,this.height=t,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=Se),this.texture=new Bt(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Ft(e,t,n){Ht.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Gt(e,t,n,i,r,a,o,s,u,l,c,d){Bt.call(this,null,a,o,s,u,l,i,r,c,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:xe,this.minFilter=void 0!==l?l:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Vt(e,t,n,i,r,a,o,s,u,l){Bt.call(this,e=void 0!==e?e:[],t=void 0!==t?t:me,n,i,r,a,o,s,u,l),this.flipY=!1}Bt.DEFAULT_IMAGE=void 0,Bt.DEFAULT_MAPPING=300,Bt.prototype=Object.assign(Object.create(t.prototype),{constructor:Bt,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n,i,r,a,o={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};return void 0!==this.image&&(void 0===(n=this.image).uuid&&(n.uuid=Ct.generateUUID()),t||void 0!==e.images[n.uuid]||(e.images[n.uuid]={uuid:n.uuid,url:((i=n)instanceof HTMLCanvasElement?r=i:((r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=i.width,r.height=i.height,a=r.getContext("2d"),i instanceof ImageData?a.putImageData(i,0,0):a.drawImage(i,0,0,i.width,i.height)),2048<r.width||2048<r.height?r.toDataURL("image/jpeg",.6):r.toDataURL("image/png"))}),o.image=n.uuid),t||(e.textures[this.uuid]=o),o},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case be:e.x=e.x-Math.floor(e.x);break;case Ae:e.x=e.x<0?0:1;break;case we:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case be:e.y=e.y-Math.floor(e.y);break;case Ae:e.y=e.y<0?0:1;break;case we:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.defineProperty(Bt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ut.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i+e[12]*r,this.y=e[1]*t+e[5]*n+e[9]*i+e[13]*r,this.z=e[2]*t+e[6]*n+e[10]*i+e[14]*r,this.w=e[3]*t+e[7]*n+e[11]*i+e[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r=e.elements,a=r[0],o=r[4],s=r[8],u=r[1],l=r[5],c=r[9],d=r[2],h=r[6],p=r[10];if(Math.abs(o-u)<.01&&Math.abs(s-d)<.01&&Math.abs(c-h)<.01){if(Math.abs(o+u)<.1&&Math.abs(s+d)<.1&&Math.abs(c+h)<.1&&Math.abs(a+l+p-3)<.1)return this.set(1,0,0,0),this;y=Math.PI;var m=(a+1)/2,f=(l+1)/2,g=(p+1)/2,_=(o+u)/4,e=(s+d)/4,r=(c+h)/4;return f<m&&g<m?i=m<.01?(t=0,n=.707106781):(n=_/(t=Math.sqrt(m)),e/t):g<f?i=f<.01?(n=0,t=.707106781):(t=_/(n=Math.sqrt(f)),r/n):g<.01?(n=t=.707106781,i=0):(t=e/(i=Math.sqrt(g)),n=r/i),this.set(t,n,i,y),this}var y=Math.sqrt((h-c)*(h-c)+(s-d)*(s-d)+(u-o)*(u-o));return Math.abs(y)<.001&&(y=1),this.x=(h-c)/y,this.y=(s-d)/y,this.z=(u-o)/y,this.w=Math.acos((a+l+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return void 0===Rt&&(Rt=new Ut,Pt=new Ut),Rt.set(e,e,e,e),Pt.set(t,t,t,t),this.clamp(Rt,Pt)},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Ht.prototype=Object.assign(Object.create(t.prototype),{constructor:Ht,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((Ft.prototype=Object.create(Ht.prototype)).constructor=Ft).prototype.isWebGLRenderTargetCube=!0,((Gt.prototype=Object.create(Bt.prototype)).constructor=Gt).prototype.isDataTexture=!0,((Vt.prototype=Object.create(Bt.prototype)).constructor=Vt).prototype.isCubeTexture=!0,Object.defineProperty(Vt.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Wt=new Bt,Qt=new Vt;function qt(){this.seq=[],this.map={}}var Zt=[],Xt=[],Jt=new Float32Array(16),Kt=new Float32Array(9);function $t(e,t,n){var i=e[0];if(i<=0||0<i)return e;var r=t*n,a=Zt[r];if(void 0===a&&(a=new Float32Array(r),Zt[r]=a),0!==t){i.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function en(e,t){var n=Xt[t];void 0===n&&(n=new Int32Array(t),Xt[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function tn(e,t){e.uniform1f(this.addr,t)}function nn(e,t){e.uniform1i(this.addr,t)}function rn(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function an(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function on(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function sn(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function un(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Kt.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Kt))}function ln(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Jt.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Jt))}function cn(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTexture2D(t||Wt,i)}function dn(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTextureCube(t||Qt,i)}function hn(e,t){e.uniform2iv(this.addr,t)}function pn(e,t){e.uniform3iv(this.addr,t)}function mn(e,t){e.uniform4iv(this.addr,t)}function fn(e,t){e.uniform1fv(this.addr,t)}function gn(e,t){e.uniform1iv(this.addr,t)}function _n(e,t){e.uniform2fv(this.addr,$t(t,this.size,2))}function yn(e,t){e.uniform3fv(this.addr,$t(t,this.size,3))}function vn(e,t){e.uniform4fv(this.addr,$t(t,this.size,4))}function Mn(e,t){e.uniformMatrix2fv(this.addr,!1,$t(t,this.size,4))}function bn(e,t){e.uniformMatrix3fv(this.addr,!1,$t(t,this.size,9))}function An(e,t){e.uniformMatrix4fv(this.addr,!1,$t(t,this.size,16))}function wn(e,t,n){var i=t.length,r=en(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.setTexture2D(t[a]||Wt,r[a])}function xn(e,t,n){var i=t.length,r=en(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.setTextureCube(t[a]||Qt,r[a])}function En(e,t,n){this.id=e,this.addr=n,this.setValue=function(e){switch(e){case 5126:return tn;case 35664:return rn;case 35665:return an;case 35666:return on;case 35674:return sn;case 35675:return un;case 35676:return ln;case 35678:case 36198:return cn;case 35680:return dn;case 5124:case 35670:return nn;case 35667:case 35671:return hn;case 35668:case 35672:return pn;case 35669:case 35673:return mn}}(t.type)}function Ln(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return fn;case 35664:return _n;case 35665:return yn;case 35666:return vn;case 35674:return Mn;case 35675:return bn;case 35676:return An;case 35678:return wn;case 35680:return xn;case 5124:case 35670:return gn;case 35667:case 35671:return hn;case 35668:case 35672:return pn;case 35669:case 35673:return mn}}(t.type)}function Tn(e){this.id=e,qt.call(this)}Tn.prototype.setValue=function(e,t){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var a=n[i];a.setValue(e,t[a.id])}};var Dn=/([\w\d_]+)(\])?(\[|\.)?/g;function Sn(e,t){e.seq.push(t),e.map[t.id]=t}function Nn(e,t,n){qt.call(this),this.renderer=n;for(var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<i;++r){var a=e.getActiveUniform(t,r),o=a.name;!function(e,t,n){var i=e.name,r=i.length;for(Dn.lastIndex=0;;){var a=Dn.exec(i),o=Dn.lastIndex,s=a[1],u="]"===a[2],a=a[3];if(u&&(s|=0),void 0===a||"["===a&&o+2===r){Sn(n,new(void 0===a?En:Ln)(s,e,t));break}a=n.map[s];void 0===a&&Sn(n,a=new Tn(s)),n=a}}(a,e.getUniformLocation(t,o),this)}}Nn.prototype.setValue=function(e,t,n){t=this.map[t];void 0!==t&&t.setValue(e,n,this.renderer)},Nn.prototype.setOptional=function(e,t,n){t=t[n];void 0!==t&&this.setValue(e,n,t)},Nn.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},Nn.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var a=e[i];a.id in t&&n.push(a)}return n};var Cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kn(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function In(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}Object.assign(kn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){return e=Ct.euclideanModulo(e,1),t=Ct.clamp(t,0,1),n=Ct.clamp(n,0,1),0===t?this.r=this.g=this.b=n:(t=2*n-(n=n<=.5?n*(1+t):n+t-n*t),this.r=In(t,n,e+1/3),this.g=In(t,n,e),this.b=In(t,n,e-1/3)),this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(l=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=l[1],r=l[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){var a=parseFloat(n[1])/360,o=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(a,o,s)}}}else if(l=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u,l=(u=l[1]).length;if(3===l)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return t&&0<t.length&&(void 0!==(u=Cn[t])?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);t=0<t?1/t:1;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n=e||{h:0,s:0,l:0},i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),e=(s+o)/2;if(s===o)l=t=0;else{var u=o-s,l=e<=.5?u/(o+s):u/(2-o-s);switch(o){case i:t=(r-a)/u+(r<a?6:0);break;case r:t=(a-i)/u+2;break;case a:t=(i-r)/u+4}t/=6}return n.h=t,n.s=l,n.l=e,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var jn={common:{diffuse:{value:new kn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new zt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new kt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new kn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new kn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new zt}}},On={merge:function(e){for(var t={},n=0;n<e.length;n++){var i,r=this.clone(e[n]);for(i in r)t[i]=r[i]}return t},clone:function(e){var t,n={};for(t in e)for(var i in n[t]={},e[t]){var r=e[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?n[t][i]=r.clone():Array.isArray(r)?n[t][i]=r.slice():n[t][i]=r}return n}},zn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},Rn={basic:{uniforms:On.merge([jn.common,jn.specularmap,jn.envmap,jn.aomap,jn.lightmap,jn.fog]),vertexShader:zn.meshbasic_vert,fragmentShader:zn.meshbasic_frag},lambert:{uniforms:On.merge([jn.common,jn.specularmap,jn.envmap,jn.aomap,jn.lightmap,jn.emissivemap,jn.fog,jn.lights,{emissive:{value:new kn(0)}}]),vertexShader:zn.meshlambert_vert,fragmentShader:zn.meshlambert_frag},phong:{uniforms:On.merge([jn.common,jn.specularmap,jn.envmap,jn.aomap,jn.lightmap,jn.emissivemap,jn.bumpmap,jn.normalmap,jn.displacementmap,jn.gradientmap,jn.fog,jn.lights,{emissive:{value:new kn(0)},specular:{value:new kn(1118481)},shininess:{value:30}}]),vertexShader:zn.meshphong_vert,fragmentShader:zn.meshphong_frag},standard:{uniforms:On.merge([jn.common,jn.envmap,jn.aomap,jn.lightmap,jn.emissivemap,jn.bumpmap,jn.normalmap,jn.displacementmap,jn.roughnessmap,jn.metalnessmap,jn.fog,jn.lights,{emissive:{value:new kn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag},points:{uniforms:On.merge([jn.points,jn.fog]),vertexShader:zn.points_vert,fragmentShader:zn.points_frag},dashed:{uniforms:On.merge([jn.common,jn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zn.linedashed_vert,fragmentShader:zn.linedashed_frag},depth:{uniforms:On.merge([jn.common,jn.displacementmap]),vertexShader:zn.depth_vert,fragmentShader:zn.depth_frag},normal:{uniforms:On.merge([jn.common,jn.bumpmap,jn.normalmap,jn.displacementmap,{opacity:{value:1}}]),vertexShader:zn.normal_vert,fragmentShader:zn.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zn.cube_vert,fragmentShader:zn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zn.equirect_vert,fragmentShader:zn.equirect_frag},distanceRGBA:{uniforms:On.merge([jn.common,jn.displacementmap,{referencePosition:{value:new Ot},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zn.distanceRGBA_vert,fragmentShader:zn.distanceRGBA_frag},shadow:{uniforms:On.merge([jn.lights,jn.fog,{color:{value:new kn(0)},opacity:{value:1}}]),vertexShader:zn.shadow_vert,fragmentShader:zn.shadow_frag}};function Pn(e,t,n,i,r,a,o,s,u){Bt.call(this,e,t,n,i,r,a,o,s,u),this.needsUpdate=!0}function Yn(p,m,f,g,i){var _,y,v,M,b,A,w=new Ot,x=new jt,E=new Ot;function L(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);_=m.createBuffer(),y=m.createBuffer(),m.bindBuffer(m.ARRAY_BUFFER,_),m.bufferData(m.ARRAY_BUFFER,e,m.STATIC_DRAW),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,y),m.bufferData(m.ELEMENT_ARRAY_BUFFER,t,m.STATIC_DRAW),n=m.createProgram(),e=m.createShader(m.VERTEX_SHADER),t=m.createShader(m.FRAGMENT_SHADER),m.shaderSource(e,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 center;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = ( position - center ) * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),m.shaderSource(t,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),m.compileShader(e),m.compileShader(t),m.attachShader(n,e),m.attachShader(n,t),m.linkProgram(n),v=n,M={position:m.getAttribLocation(v,"position"),uv:m.getAttribLocation(v,"uv")},b={uvOffset:m.getUniformLocation(v,"uvOffset"),uvScale:m.getUniformLocation(v,"uvScale"),rotation:m.getUniformLocation(v,"rotation"),center:m.getUniformLocation(v,"center"),scale:m.getUniformLocation(v,"scale"),color:m.getUniformLocation(v,"color"),map:m.getUniformLocation(v,"map"),opacity:m.getUniformLocation(v,"opacity"),modelViewMatrix:m.getUniformLocation(v,"modelViewMatrix"),projectionMatrix:m.getUniformLocation(v,"projectionMatrix"),fogType:m.getUniformLocation(v,"fogType"),fogDensity:m.getUniformLocation(v,"fogDensity"),fogNear:m.getUniformLocation(v,"fogNear"),fogFar:m.getUniformLocation(v,"fogFar"),fogColor:m.getUniformLocation(v,"fogColor"),fogDepth:m.getUniformLocation(v,"fogDepth"),alphaTest:m.getUniformLocation(v,"alphaTest")};t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=8,t.height=8;var n=t.getContext("2d");n.fillStyle="white",n.fillRect(0,0,8,8),A=new Pn(t)}function T(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}this.render=function(e,t,n){if(0!==e.length){void 0===v&&L(),f.useProgram(v),f.initAttributes(),f.enableAttribute(M.position),f.enableAttribute(M.uv),f.disableUnusedAttributes(),f.disable(m.CULL_FACE),f.enable(m.BLEND),m.bindBuffer(m.ARRAY_BUFFER,_),m.vertexAttribPointer(M.position,2,m.FLOAT,!1,16,0),m.vertexAttribPointer(M.uv,2,m.FLOAT,!1,16,8),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,y),m.uniformMatrix4fv(b.projectionMatrix,!1,n.projectionMatrix.elements),f.activeTexture(m.TEXTURE0),m.uniform1i(b.map,0);var i=0,r=0,a=t.fog;a?(m.uniform3f(b.fogColor,a.color.r,a.color.g,a.color.b),a.isFog?(m.uniform1f(b.fogNear,a.near),m.uniform1f(b.fogFar,a.far),m.uniform1i(b.fogType,1),r=i=1):a.isFogExp2&&(m.uniform1f(b.fogDensity,a.density),m.uniform1i(b.fogType,2),r=i=2)):(m.uniform1i(b.fogType,0),r=i=0);for(var o=0,s=e.length;o<s;o++)(c=e[o]).modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,c.matrixWorld),c.z=-c.modelViewMatrix.elements[14];e.sort(T);for(var u=[],l=[],o=0,s=e.length;o<s;o++){var c,d,h=(c=e[o]).material;!1!==h.visible&&(c.onBeforeRender(p,t,n,void 0,h,void 0),m.uniform1f(b.alphaTest,h.alphaTest),m.uniformMatrix4fv(b.modelViewMatrix,!1,c.modelViewMatrix.elements),c.matrixWorld.decompose(w,x,E),u[0]=E.x,u[1]=E.y,l[0]=c.center.x-.5,l[1]=c.center.y-.5,d=0,t.fog&&h.fog&&(d=r),i!==d&&(m.uniform1i(b.fogType,d),i=d),null!==h.map?(m.uniform2f(b.uvOffset,h.map.offset.x,h.map.offset.y),m.uniform2f(b.uvScale,h.map.repeat.x,h.map.repeat.y)):(m.uniform2f(b.uvOffset,0,0),m.uniform2f(b.uvScale,1,1)),m.uniform1f(b.opacity,h.opacity),m.uniform3f(b.color,h.color.r,h.color.g,h.color.b),m.uniform1f(b.rotation,h.rotation),m.uniform2fv(b.center,l),m.uniform2fv(b.scale,u),f.setBlending(h.blending,h.blendEquation,h.blendSrc,h.blendDst,h.blendEquationAlpha,h.blendSrcAlpha,h.blendDstAlpha,h.premultipliedAlpha),f.buffers.depth.setTest(h.depthTest),f.buffers.depth.setMask(h.depthWrite),f.buffers.color.setMask(h.colorWrite),g.setTexture2D(h.map||A,0),m.drawElements(m.TRIANGLES,6,m.UNSIGNED_SHORT,0),c.onAfterRender(p,t,n,void 0,h,void 0))}f.enable(m.CULL_FACE),f.reset()}}}Rn.physical={uniforms:On.merge([Rn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag},(Pn.prototype=Object.create(Bt.prototype)).constructor=Pn;var Bn,Un,Hn,Fn,Gn,Vn,Wn,Qn,qn,Zn,Xn,Jn,Kn,$n,ei,ti,ni,ii,ri,ai,oi,si,ui,li,ci,di,hi,pi,mi,fi,gi,_i=0;function yi(){Object.defineProperty(this,"id",{value:_i++}),this.uuid=Ct.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=q,this.side=k,this.flatShading=!1,this.vertexColors=Le,this.opacity=1,this.transparent=!1,this.blendSrc=O,this.blendDst=z,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ne,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function vi(e){yi.call(this),this.type="MeshDepthMaterial",this.depthPacking=St,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function Mi(e){yi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ot,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function bi(e,t){this.min=void 0!==e?e:new Ot(1/0,1/0,1/0),this.max=void 0!==t?t:new Ot(-1/0,-1/0,-1/0)}function Ai(e){for(var t=0,n=e.length-3;t<=n;t+=3){Zn.fromArray(e,t);var i=Jn.x*Math.abs(Zn.x)+Jn.y*Math.abs(Zn.y)+Jn.z*Math.abs(Zn.z),r=Fn.dot(Zn),a=Gn.dot(Zn),o=Vn.dot(Zn);if(Math.max(-Math.max(r,a,o),Math.min(r,a,o))>i)return!1}return!0}function wi(e){var t=e.geometry;if(void 0!==t)if(t.isGeometry){var n=t.vertices;for(ti=0,ni=n.length;ti<ni;ti++)ii.copy(n[ti]),ii.applyMatrix4(e.matrixWorld),ei.expandByPoint(ii)}else if(t.isBufferGeometry){var i=t.attributes.position;if(void 0!==i)for(ti=0,ni=i.count;ti<ni;ti++)ii.fromBufferAttribute(i,ti).applyMatrix4(e.matrixWorld),ei.expandByPoint(ii)}}function xi(e,t){this.center=void 0!==e?e:new Ot,this.radius=void 0!==t?t:0}function Ei(e,t){this.normal=void 0!==e?e:new Ot(1,0,0),this.constant=void 0!==t?t:0}function Li(e,t,n,i,r,a){this.planes=[void 0!==e?e:new Ei,void 0!==t?t:new Ei,void 0!==n?n:new Ei,void 0!==i?i:new Ei,void 0!==r?r:new Ei,void 0!==a?a:new Ei]}function Ti(_,y,e){for(var v=new Li,M=new It,b=new kt,A=new kt(e,e),w=new Ot,x=new Ot,h=1,p=2,t=1+(h|p),m=new Array(t),f=new Array(t),g={},E={0:V,1:k,2:W},L=[new Ot(1,0,0),new Ot(-1,0,0),new Ot(0,0,1),new Ot(0,0,-1),new Ot(0,1,0),new Ot(0,-1,0)],T=[new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,0,1),new Ot(0,0,-1)],D=[new Ut,new Ut,new Ut,new Ut,new Ut,new Ut],n=0;n!==t;++n){var i=0!=(n&h),r=0!=(n&p),a=new vi({depthPacking:Nt,morphTargets:i,skinning:r});m[n]=a;r=new Mi({morphTargets:i,skinning:r});f[n]=r}var S=this;function N(e,t,n,i,r,a){var o,s,u=e.geometry,l=null,c=m,d=e.customDepthMaterial;return n&&(c=f,d=e.customDistanceMaterial),l=d||(d=!1,t.morphTargets&&(u&&u.isBufferGeometry?d=u.morphAttributes&&u.morphAttributes.position&&0<u.morphAttributes.position.length:u&&u.isGeometry&&(d=u.morphTargets&&0<u.morphTargets.length)),e.isSkinnedMesh&&!1===t.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e),s=e.isSkinnedMesh&&t.skinning,o=0,d&&(o|=h),s&&(o|=p),c[o]),_.localClippingEnabled&&!0===t.clipShadows&&0!==t.clippingPlanes.length&&(s=l.uuid,c=t.uuid,void 0===(o=g[s])&&(o={},g[s]=o),void 0===(s=o[c])&&(s=l.clone(),o[c]=s),l=s),l.visible=t.visible,l.wireframe=t.wireframe,l.side=null!=t.shadowSide?t.shadowSide:E[t.side],l.clipShadows=t.clipShadows,l.clippingPlanes=t.clippingPlanes,l.clipIntersection=t.clipIntersection,l.wireframeLinewidth=t.wireframeLinewidth,l.linewidth=t.linewidth,n&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(i),l.nearDistance=r,l.farDistance=a),l}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=C,this.render=function(e,t,n){if(!1!==S.enabled&&(!1!==S.autoUpdate||!1!==S.needsUpdate)&&0!==e.length){var i,r=_.context,a=_.state;a.disable(r.BLEND),a.buffers.color.setClear(1,1,1,1),a.buffers.depth.setTest(!0),a.setScissorTest(!1);for(var o=0,s=e.length;o<s;o++){var u=e[o],l=u.shadow,c=u&&u.isPointLight;if(void 0!==l){var d,h,p=l.camera;b.copy(l.mapSize),b.min(A),c&&(d=b.x,h=b.y,D[0].set(2*d,h,d,h),D[1].set(0,h,d,h),D[2].set(3*d,h,d,h),D[3].set(d,h,d,h),D[4].set(3*d,0,d,h),D[5].set(d,0,d,h),b.x*=4,b.y*=2),null===l.map&&(m={minFilter:xe,magFilter:xe,format:We},l.map=new Ht(b.x,b.y,m),l.map.texture.name=u.name+".shadowMap",p.updateProjectionMatrix()),l.isSpotLightShadow&&l.update(u);var m=l.map,l=l.matrix;x.setFromMatrixPosition(u.matrixWorld),p.position.copy(x),c?(i=6,l.makeTranslation(-x.x,-x.y,-x.z)):(i=1,w.setFromMatrixPosition(u.target.matrixWorld),p.lookAt(w),p.updateMatrixWorld(),l.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),l.multiply(p.projectionMatrix),l.multiply(p.matrixWorldInverse)),_.setRenderTarget(m),_.clear();for(var f,g=0;g<i;g++)c&&(w.copy(p.position),w.add(L[g]),p.up.copy(T[g]),p.lookAt(w),p.updateMatrixWorld(),f=D[g],a.viewport(f)),M.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),v.setFromMatrix(M),function e(t,n,i,r){if(!1===t.visible)return;var a=t.layers.test(n.layers);if(a&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!t.frustumCulled||v.intersectsObject(t))){t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld);var o=y.update(t),s=t.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var d,h=u[l],p=s[h.materialIndex];p&&p.visible&&(d=N(t,p,r,x,i.near,i.far),_.renderBufferDirect(i,null,o,d,t,h))}else s.visible&&(d=N(t,s,r,x,i.near,i.far),_.renderBufferDirect(i,null,o,d,t,null))}var m=t.children;for(var f=0,g=m.length;f<g;f++)e(m[f],n,i,r)}(t,n,p,c)}else console.warn("THREE.WebGLShadowMap:",u,"has no shadow.")}S.needsUpdate=!1}}}function Di(u){var l={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),l[e.uuid]},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var t=l[e.uuid];t&&(u.deleteBuffer(t.buffer),delete l[e.uuid])},update:function(e,t){e.isInterleavedBufferAttribute&&(e=e.data);var n,i,r,a,o,s=l[e.uuid];void 0===s?l[e.uuid]=(i=t,r=(n=e).array,a=n.dynamic?u.DYNAMIC_DRAW:u.STATIC_DRAW,o=u.createBuffer(),u.bindBuffer(i,o),u.bufferData(i,r,a),n.onUploadCallback(),a=u.FLOAT,r instanceof Float32Array?a=u.FLOAT:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=u.UNSIGNED_SHORT:r instanceof Int16Array?a=u.SHORT:r instanceof Uint32Array?a=u.UNSIGNED_INT:r instanceof Int32Array?a=u.INT:r instanceof Int8Array?a=u.BYTE:r instanceof Uint8Array&&(a=u.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:n.version}):s.version<e.version&&(o=s.buffer,a=t,n=(r=e).array,t=r.updateRange,u.bindBuffer(a,o),!1===r.dynamic?u.bufferData(a,n,u.STATIC_DRAW):-1===t.count?u.bufferSubData(a,0,n):0===t.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(u.bufferSubData(a,t.offset*n.BYTES_PER_ELEMENT,n.subarray(t.offset,t.offset+t.count)),t.count=-1),s.version=e.version)}}}function Si(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||Si.DefaultOrder}function Ni(){this.mask=1}yi.prototype=Object.assign(Object.create(t.prototype),{constructor:yi,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n,i=e[t];void 0!==i?"shading"!==t?void 0!==(n=this[t])?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]="overdraw"===t?Number(i):i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):(console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i):console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==q&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==k&&(n.side=this.side),this.vertexColors!==Le&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t&&(t=i(e.textures),e=i(e.images),0<t.length&&(n.textures=t),0<e.length&&(n.images=e)),n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t)for(var i=t.length,n=new Array(i),r=0;r!==i;++r)n[r]=t[r].clone();return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((vi.prototype=Object.create(yi.prototype)).constructor=vi).prototype.isMeshDepthMaterial=!0,vi.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},((Mi.prototype=Object.create(yi.prototype)).constructor=Mi).prototype.isMeshDistanceMaterial=!0,Mi.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(bi.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],d=e[s+2];l<t&&(t=l),c<n&&(n=c),d<i&&(i=d),r<l&&(r=l),a<c&&(a=c),o<d&&(o=d)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),d=e.getZ(s);l<t&&(t=l),c<n&&(n=c),d<i&&(i=d),r<l&&(r=l),a<c&&(a=c),o<d&&(o=d)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(ri=new Ot,function(e,t){t=ri.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){e=e||new Ot;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){e=e||new Ot;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:(ii=new Ot,function(e){return ei=this,e.updateMatrixWorld(!0),e.traverse(wi),this}),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new Ot).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:($n=new Ot,function(e){return this.clampPoint(e.center,$n),$n.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x);return 0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},intersectsTriangle:(Fn=new Ot,Gn=new Ot,Vn=new Ot,Wn=new Ot,Qn=new Ot,qn=new Ot,Zn=new Ot,Xn=new Ot,Jn=new Ot,Kn=new Ot,function(e){if(this.isEmpty())return!1;this.getCenter(Xn),Jn.subVectors(this.max,Xn),Fn.subVectors(e.a,Xn),Gn.subVectors(e.b,Xn),Vn.subVectors(e.c,Xn),Wn.subVectors(Gn,Fn),Qn.subVectors(Vn,Gn),qn.subVectors(Fn,Vn);e=[0,-Wn.z,Wn.y,0,-Qn.z,Qn.y,0,-qn.z,qn.y,Wn.z,0,-Wn.x,Qn.z,0,-Qn.x,qn.z,0,-qn.x,-Wn.y,Wn.x,0,-Qn.y,Qn.x,0,-qn.y,qn.x,0];return!!Ai(e)&&(!!Ai(e=[1,0,0,0,1,0,0,0,1])&&(Kn.crossVectors(Wn,Qn),Ai(e=[Kn.x,Kn.y,Kn.z])))}),clampPoint:function(e,t){return(t||new Ot).copy(e).clamp(this.min,this.max)},distanceToPoint:(Hn=new Ot,function(e){return Hn.copy(e).clamp(this.min,this.max).sub(e).length()}),getBoundingSphere:(Un=new Ot,function(e){e=e||new xi;return this.getCenter(e.center),e.radius=.5*this.getSize(Un).length(),e}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(Bn=[new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot],function(e){return this.isEmpty()||(Bn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Bn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Bn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Bn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Bn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Bn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Bn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Bn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Bn)),this}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(xi.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(ai=new bi,function(e,t){var n=this.center;void 0!==t?n.copy(t):ai.setFromPoints(e).getCenter(n);for(var i=0,r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),t=t||new Ot;return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){e=e||new bi;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(Ei.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:(li=new Ot,ci=new Ot,function(e,t,n){t=li.subVectors(n,t).cross(ci.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(t,e),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new Ot).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:(ui=new Ot,function(e,t){var n=t||new Ot,i=e.delta(ui),t=this.normal.dot(i);if(0===t)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;t=-(e.start.dot(this.normal)+this.constant)/t;return t<0||1<t?void 0:n.copy(i).multiplyScalar(t).add(e.start)}),intersectsLine:function(e){var t=this.distanceToPoint(e.start),e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new Ot).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(oi=new Ot,si=new zt,function(e,t){t=t||si.getNormalMatrix(e),e=this.coplanarPoint(oi).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize();return this.constant=-e.dot(t),this}),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(Li.prototype,{set:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],d=n[8],h=n[9],p=n[10],m=n[11],f=n[12],g=n[13],e=n[14],n=n[15];return t[0].setComponents(o-i,c-s,m-d,n-f).normalize(),t[1].setComponents(o+i,c+s,m+d,n+f).normalize(),t[2].setComponents(o+r,c+u,m+h,n+g).normalize(),t[3].setComponents(o-r,c-u,m-h,n-g).normalize(),t[4].setComponents(o-a,c-l,m-p,n-e).normalize(),t[5].setComponents(o+a,c+l,m+p,n+e).normalize(),this},intersectsObject:(mi=new xi,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),mi.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(mi)}),intersectsSprite:(pi=new xi,function(e){return pi.center.set(0,0,0),pi.radius=.7071067811865476,pi.applyMatrix4(e.matrixWorld),this.intersectsSphere(pi)}),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:(di=new Ot,hi=new Ot,function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];di.x=(0<i.normal.x?e.min:e.max).x,hi.x=(0<i.normal.x?e.max:e.min).x,di.y=(0<i.normal.y?e.min:e.max).y,hi.y=(0<i.normal.y?e.max:e.min).y,di.z=(0<i.normal.z?e.min:e.max).z,hi.z=(0<i.normal.z?e.max:e.min).z;var r=i.distanceToPoint(di),i=i.distanceToPoint(hi);if(r<0&&i<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),Si.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Si.DefaultOrder="XYZ",Object.defineProperties(Si.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(Si.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=Ct.clamp,r=e.elements,a=r[0],o=r[4],s=r[8],u=r[1],l=r[5],c=r[9],d=r[2],e=r[6],r=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,r),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(e,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,r),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(e,-1,1)),Math.abs(e)<.99999?(this._y=Math.atan2(-d,r),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===t?(this._y=Math.asin(-i(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(e,r),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,r))):"XZY"===t?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(e,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,r),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:(gi=new It,function(e,t,n){return gi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gi,t,n)}),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(fi=new jt,function(e){return fi.setFromEuler(this),this.setFromQuaternion(fi,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ot(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Ni.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var Ci,ki,Ii,ji,Oi,zi,Ri,Pi,Yi,Bi,Ui,Hi,Fi,Gi,Vi,Wi,Qi,qi,Zi,Xi=0;function Ji(){Object.defineProperty(this,"id",{value:Xi++}),this.uuid=Ct.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ji.DefaultUp.clone();var e=new Ot,t=new Si,n=new jt,i=new Ot(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:i},modelViewMatrix:{value:new It},normalMatrix:{value:new zt}}),this.matrix=new It,this.matrixWorld=new It,this.matrixAutoUpdate=Ji.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ni,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Ki(){Ji.call(this),this.type="Camera",this.matrixWorldInverse=new It,this.projectionMatrix=new It}function $i(e,t,n,i,r,a){Ki.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function er(e,t,n,i,r,a){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new Ot,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new kn,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}Ji.DefaultUp=new Ot(0,1,0),Ji.DefaultMatrixAutoUpdate=!0,Ji.prototype=Object.assign(Object.create(t.prototype),{constructor:Ji,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(qi=new jt,function(e,t){return qi.setFromAxisAngle(e,t),this.quaternion.multiply(qi),this}),rotateOnWorldAxis:(Qi=new jt,function(e,t){return Qi.setFromAxisAngle(e,t),this.quaternion.premultiply(Qi),this}),rotateX:(Wi=new Ot(1,0,0),function(e){return this.rotateOnAxis(Wi,e)}),rotateY:(Vi=new Ot(0,1,0),function(e){return this.rotateOnAxis(Vi,e)}),rotateZ:(Gi=new Ot(0,0,1),function(e){return this.rotateOnAxis(Gi,e)}),translateOnAxis:(Fi=new Ot,function(e,t){return Fi.copy(e).applyQuaternion(this.quaternion),this.position.add(Fi.multiplyScalar(t)),this}),translateX:(Hi=new Ot(1,0,0),function(e){return this.translateOnAxis(Hi,e)}),translateY:(Ui=new Ot(0,1,0),function(e){return this.translateOnAxis(Ui,e)}),translateZ:(Bi=new Ot(0,0,1),function(e){return this.translateOnAxis(Bi,e)}),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(Yi=new It,function(e){return e.applyMatrix4(Yi.getInverse(this.matrixWorld))}),lookAt:(Ri=new It,Pi=new Ot,function(e,t,n){e.isVector3?Pi.copy(e):Pi.set(e,t,n),this.isCamera?Ri.lookAt(this.position,Pi,this.up):Ri.lookAt(Pi,this.position,this.up),this.quaternion.setFromRotationMatrix(Ri)}),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){e=e||new Ot;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Oi=new Ot,zi=new Ot,function(e){e=e||new jt;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(Oi,e,zi),e}),getWorldRotation:(ji=new jt,function(e){e=e||new Si;return this.getWorldQuaternion(ji),e.setFromQuaternion(ji,this.rotation.order,!1)}),getWorldScale:(ki=new Ot,Ii=new jt,function(e){e=e||new Ot;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(ki,Ii,e),e}),getWorldDirection:(Ci=new jt,function(e){e=e||new Ot;return this.getWorldQuaternion(Ci),e.set(0,0,1).applyQuaternion(Ci)}),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},toJSON:function(n){var e=void 0===n||"string"==typeof n,t={};e&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{}},t.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i,r,a={};function o(e,t){return void 0===e[t.uuid]&&(e[t.uuid]=t.toJSON(n)),t.uuid}if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.matrix=this.matrix.toArray(),void 0!==this.geometry){a.geometry=o(n.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var u=s.shapes;if(Array.isArray(u))for(var l=0,c=u.length;l<c;l++){var d=u[l];o(n.shapes,d)}else o(n.shapes,u)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var h=[],l=0,c=this.material.length;l<c;l++)h.push(o(n.materials,this.material[l]));a.material=h}else a.material=o(n.materials,this.material);if(0<this.children.length){a.children=[];for(l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(n).object)}return e&&(i=p(n.geometries),r=p(n.materials),s=p(n.textures),e=p(n.images),u=p(n.shapes),0<i.length&&(t.geometries=i),0<r.length&&(t.materials=r),0<s.length&&(t.textures=s),0<e.length&&(t.images=e),0<u.length&&(t.shapes=u)),t.object=a,t;function p(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),Ki.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Ki,isCamera:!0,copy:function(e,t){return Ji.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:(Zi=new jt,function(e){e=e||new Ot;return this.getWorldQuaternion(Zi),e.set(0,0,-1).applyQuaternion(Zi)}),updateMatrixWorld:function(e){Ji.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),$i.prototype=Object.assign(Object.create(Ki.prototype),{constructor:$i,isOrthographicCamera:!0,copy:function(e,t){return Ki.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,a=n+e,o=i+t,s=i-t;null!==this.view&&this.view.enabled&&(n=this.zoom/(this.view.width/this.view.fullWidth),e=this.zoom/(this.view.height/this.view.fullHeight),i=(this.right-this.left)/this.view.width,t=(this.top-this.bottom)/this.view.height,a=(r+=i*(this.view.offsetX/n))+i*(this.view.width/n),s=(o-=t*(this.view.offsetY/e))-t*(this.view.height/e)),this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(e){e=Ji.prototype.toJSON.call(this,e);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(er.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var tr,nr,ir,rr,ar,or,sr=0;function ur(){Object.defineProperty(this,"id",{value:sr+=2}),this.uuid=Ct.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function lr(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ct.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function cr(e,t,n){lr.call(this,new Int8Array(e),t,n)}function dr(e,t,n){lr.call(this,new Uint8Array(e),t,n)}function hr(e,t,n){lr.call(this,new Uint8ClampedArray(e),t,n)}function pr(e,t,n){lr.call(this,new Int16Array(e),t,n)}function mr(e,t,n){lr.call(this,new Uint16Array(e),t,n)}function fr(e,t,n){lr.call(this,new Int32Array(e),t,n)}function gr(e,t,n){lr.call(this,new Uint32Array(e),t,n)}function _r(e,t,n){lr.call(this,new Float32Array(e),t,n)}function yr(e,t,n){lr.call(this,new Float64Array(e),t,n)}function vr(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Mr(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}ur.prototype=Object.assign(Object.create(t.prototype),{constructor:ur,isGeometry:!0,applyMatrix:function(e){for(var t=(new zt).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:(or=new It,function(e){return or.makeRotationX(e),this.applyMatrix(or),this}),rotateY:(ar=new It,function(e){return ar.makeRotationY(e),this.applyMatrix(ar),this}),rotateZ:(rr=new It,function(e){return rr.makeRotationZ(e),this.applyMatrix(rr),this}),translate:(ir=new It,function(e,t,n){return ir.makeTranslation(e,t,n),this.applyMatrix(ir),this}),scale:(nr=new It,function(e,t,n){return nr.makeScale(e,t,n),this.applyMatrix(nr),this}),lookAt:(tr=new Ji,function(e){tr.lookAt(e),tr.updateMatrix(),this.applyMatrix(tr.matrix)}),fromBufferGeometry:function(e){var r=this,t=null!==e.index?e.index.array:void 0,n=e.attributes,i=n.position.array,a=void 0!==n.normal?n.normal.array:void 0,o=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,u=void 0!==n.uv2?n.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=[],c=[],d=[],h=0,p=0;h<i.length;h+=3,p+=2)r.vertices.push(new Ot(i[h],i[h+1],i[h+2])),void 0!==a&&l.push(new Ot(a[h],a[h+1],a[h+2])),void 0!==o&&r.colors.push(new kn(o[h],o[h+1],o[h+2])),void 0!==s&&c.push(new kt(s[p],s[p+1])),void 0!==u&&d.push(new kt(u[p],u[p+1]));function m(e,t,n,i){i=new er(e,t,n,void 0!==a?[l[e].clone(),l[t].clone(),l[n].clone()]:[],void 0!==o?[r.colors[e].clone(),r.colors[t].clone(),r.colors[n].clone()]:[],i);r.faces.push(i),void 0!==s&&r.faceVertexUvs[0].push([c[e].clone(),c[t].clone(),c[n].clone()]),void 0!==u&&r.faceVertexUvs[1].push([d[e].clone(),d[t].clone(),d[n].clone()])}var f=e.groups;if(0<f.length)for(h=0;h<f.length;h++)for(var g=f[h],_=g.start,p=_,y=_+g.count;p<y;p+=3)void 0!==t?m(t[p],t[p+1],t[p+2],g.materialIndex):m(p,p+1,p+2,g.materialIndex);else if(void 0!==t)for(h=0;h<t.length;h+=3)m(t[h],t[h+1],t[h+2]);else for(h=0;h<i.length/3;h+=3)m(h,h+1,h+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,t=new It;return t.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(t),this},computeFaceNormals:function(){for(var e=new Ot,t=new Ot,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,n,i,r;for(void 0===e&&(e=!0),r=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)r[t]=new Ot;if(e)for(var a,o,s,u=new Ot,l=new Ot,c=0,d=this.faces.length;c<d;c++)i=this.faces[c],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c],u.subVectors(s,o),l.subVectors(a,o),u.cross(l),r[i.a].add(u),r[i.b].add(u),r[i.c].add(u);else for(this.computeFaceNormals(),c=0,d=this.faces.length;c<d;c++)r[(i=this.faces[c]).a].add(i.normal),r[i.b].add(i.normal),r[i.c].add(i.normal);for(t=0,n=this.vertices.length;t<n;t++)r[t].normalize();for(c=0,d=this.faces.length;c<d;c++){var h=(i=this.faces[c]).vertexNormals;3===h.length?(h[0].copy(r[i.a]),h[1].copy(r[i.b]),h[2].copy(r[i.c])):(h[0]=r[i.a].clone(),h[1]=r[i.b].clone(),h[2]=r[i.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n;for(o=0,s=this.faces.length;o<s;o++)for((n=this.faces[o]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),e=0,t=n.vertexNormals.length;e<t;e++)n.__originalVertexNormals[e]?n.__originalVertexNormals[e].copy(n.vertexNormals[e]):n.__originalVertexNormals[e]=n.vertexNormals[e].clone();var i=new ur;for(i.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];for(var r=this.morphNormals[e].faceNormals,a=this.morphNormals[e].vertexNormals,o=0,s=this.faces.length;o<s;o++)u=new Ot,l={a:new Ot,b:new Ot,c:new Ot},r.push(u),a.push(l)}var u,l,c=this.morphNormals[e];for(i.vertices=this.morphTargets[e].vertices,i.computeFaceNormals(),i.computeVertexNormals(),o=0,s=this.faces.length;o<s;o++)n=this.faces[o],u=c.faceNormals[o],l=c.vertexNormals[o],u.copy(n.normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(o=0,s=this.faces.length;o<s;o++)(n=this.faces[o]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new bi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new xi),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,u=e.faces,l=this.faceVertexUvs[0],c=e.faceVertexUvs[0],d=this.colors,h=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new zt).getNormalMatrix(t));for(var p=0,m=o.length;p<m;p++){var f=o[p].clone();void 0!==t&&f.applyMatrix4(t),a.push(f)}for(p=0,m=h.length;p<m;p++)d.push(h[p].clone());for(p=0,m=u.length;p<m;p++){var g,_,y=u[p],v=y.vertexNormals,M=y.vertexColors,b=new er(y.a+r,y.b+r,y.c+r);b.normal.copy(y.normal),void 0!==i&&b.normal.applyMatrix3(i).normalize();for(var A=0,w=v.length;A<w;A++)g=v[A].clone(),void 0!==i&&g.applyMatrix3(i).normalize(),b.vertexNormals.push(g);b.color.copy(y.color);for(A=0,w=M.length;A<w;A++)_=M[A],b.vertexColors.push(_.clone());b.materialIndex=y.materialIndex+n,s.push(b)}for(p=0,m=c.length;p<m;p++){var x=c[p],E=[];if(void 0!==x){for(A=0,w=x.length;A<w;A++)E.push(x[A].clone());l.push(E)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e,t,n,i,r,a={},o=[],s=[],u=Math.pow(10,4),l=0,c=this.vertices.length;l<c;l++)e=this.vertices[l],void 0===a[e=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u)]?(a[e]=l,o.push(this.vertices[l]),s[l]=o.length-1):s[l]=s[a[e]];var d=[];for(l=0,c=this.faces.length;l<c;l++){(t=this.faces[l]).a=s[t.a],t.b=s[t.b],t.c=s[t.c],n=[t.a,t.b,t.c];for(var h=0;h<3;h++)if(n[h]===n[(h+1)%3]){d.push(l);break}}for(l=d.length-1;0<=l;l--){var p=d[l];for(this.faces.splice(p,1),i=0,r=this.faceVertexUvs.length;i<r;i++)this.faceVertexUvs[i].splice(p,1)}var m=this.vertices.length-o.length;return this.vertices=o,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new Ot(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(i=[]),o&&o.length===t&&(r=[]);for(n=0;n<t;n++){var s=e[n]._id;i&&i.push(a[s]),r&&r.push(o[s])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t,n=this.parameters;for(t in n)void 0!==n[t]&&(e[t]=n[t]);return e}for(var i=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];i.push(a.x,a.y,a.z)}for(var o=[],s=[],u={},l=[],c={},d=[],h={},r=0;r<this.faces.length;r++){var p,m=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],g=0<m.normal.length(),_=0<m.vertexNormals.length,y=1!==m.color.r||1!==m.color.g||1!==m.color.b,v=0<m.vertexColors.length;p=M(2,3,f),p=M(p,4,g),p=M(p,5,_),p=M(p,6,y),p=M(p,7,v),o.push(p),o.push(m.a,m.b,m.c),o.push(m.materialIndex),f&&(f=this.faceVertexUvs[0][r],o.push(w(f[0]),w(f[1]),w(f[2]))),g&&o.push(b(m.normal)),_&&(_=m.vertexNormals,o.push(b(_[0]),b(_[1]),b(_[2]))),y&&o.push(A(m.color)),v&&(m=m.vertexColors,o.push(A(m[0]),A(m[1]),A(m[2])))}function M(e,t,n){return n?e|1<<t:e&~(1<<t)}function b(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function A(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function w(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=d.length/2,d.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=i,e.data.normals=s,0<l.length&&(e.data.colors=l),0<d.length&&(e.data.uvs=[d]),e.data.faces=o,e},clone:function(){return(new ur).copy(this)},copy:function(e){var t,n;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var i=e.vertices,r=0,a=i.length;r<a;r++)this.vertices.push(i[r].clone());var o=e.colors;for(r=0,a=o.length;r<a;r++)this.colors.push(o[r].clone());var s=e.faces;for(r=0,a=s.length;r<a;r++)this.faces.push(s[r].clone());for(r=0,a=e.faceVertexUvs.length;r<a;r++){var u=e.faceVertexUvs[r];for(void 0===this.faceVertexUvs[r]&&(this.faceVertexUvs[r]=[]),t=0,n=u.length;t<n;t++){for(var l=u[t],c=[],d=0,h=l.length;d<h;d++){var p=l[d];c.push(p.clone())}this.faceVertexUvs[r].push(c)}}var m=e.morphTargets;for(r=0,a=m.length;r<a;r++){var f={};if(f.name=m[r].name,void 0!==m[r].vertices)for(f.vertices=[],t=0,n=m[r].vertices.length;t<n;t++)f.vertices.push(m[r].vertices[t].clone());if(void 0!==m[r].normals)for(f.normals=[],t=0,n=m[r].normals.length;t<n;t++)f.normals.push(m[r].normals[t].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(r=0,a=g.length;r<a;r++){var _={};if(void 0!==g[r].vertexNormals)for(_.vertexNormals=[],t=0,n=g[r].vertexNormals.length;t<n;t++){var y=g[r].vertexNormals[t],v={};v.a=y.a.clone(),v.b=y.b.clone(),v.c=y.c.clone(),_.vertexNormals.push(v)}if(void 0!==g[r].faceNormals)for(_.faceNormals=[],t=0,n=g[r].faceNormals.length;t<n;t++)_.faceNormals.push(g[r].faceNormals[t].clone());this.morphNormals.push(_)}var M=e.skinWeights;for(r=0,a=M.length;r<a;r++)this.skinWeights.push(M[r].clone());var b=e.skinIndices;for(r=0,a=b.length;r<a;r++)this.skinIndices.push(b[r].clone());var A=e.lineDistances;for(r=0,a=A.length;r<a;r++)this.lineDistances.push(A[r]);var w=e.boundingBox;null!==w&&(this.boundingBox=w.clone());w=e.boundingSphere;return null!==w&&(this.boundingSphere=w.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(lr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(lr.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new kn),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];t[n++]=a.a,t[n++]=a.b,t[n++]=a.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new kt),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new Ot),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new Ut),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(cr.prototype=Object.create(lr.prototype)).constructor=cr,(dr.prototype=Object.create(lr.prototype)).constructor=dr,(hr.prototype=Object.create(lr.prototype)).constructor=hr,(pr.prototype=Object.create(lr.prototype)).constructor=pr,(mr.prototype=Object.create(lr.prototype)).constructor=mr,(fr.prototype=Object.create(lr.prototype)).constructor=fr,(gr.prototype=Object.create(lr.prototype)).constructor=gr,(_r.prototype=Object.create(lr.prototype)).constructor=_r,(yr.prototype=Object.create(lr.prototype)).constructor=yr,Object.assign(vr.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:i})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,r=e.faceVertexUvs,a=r[0]&&0<r[0].length,o=r[1]&&0<r[1].length,s=e.morphTargets,u=s.length;if(0<u){t=[];for(var l=0;l<u;l++)t[l]=[];this.morphTargets.position=t}var c,d=e.morphNormals,h=d.length;if(0<h){c=[];for(l=0;l<h;l++)c[l]=[];this.morphTargets.normal=c}for(var p=e.skinIndices,m=e.skinWeights,f=p.length===i.length,g=m.length===i.length,l=0;l<n.length;l++){var _=n[l];this.vertices.push(i[_.a],i[_.b],i[_.c]);var y=_.vertexNormals;3===y.length?this.normals.push(y[0],y[1],y[2]):(M=_.normal,this.normals.push(M,M,M));var v,M=_.vertexColors;3===M.length?this.colors.push(M[0],M[1],M[2]):(M=_.color,this.colors.push(M,M,M)),!0===a&&(void 0!==(v=r[0][l])?this.uvs.push(v[0],v[1],v[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new kt,new kt,new kt))),!0===o&&(void 0!==(v=r[1][l])?this.uvs2.push(v[0],v[1],v[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new kt,new kt,new kt)));for(var b=0;b<u;b++){var A=s[b].vertices;t[b].push(A[_.a],A[_.b],A[_.c])}for(b=0;b<h;b++){var w=d[b].vertexNormals[l];c[b].push(w.a,w.b,w.c)}f&&this.skinIndices.push(p[_.a],p[_.b],p[_.c]),g&&this.skinWeights.push(m[_.a],m[_.b],m[_.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var br,Ar,wr,xr,Er,Lr,Tr,Dr,Sr,Nr,Cr,kr,Ir,jr,Or,zr,Rr,Pr,Yr,Br,Ur,Hr,Fr,Gr,Vr,Wr,Qr,qr,Zr,Xr,Jr,Kr,$r,ea,ta,na,ia,ra,aa,oa,sa,ua,la,ca,da,ha,pa,ma,fa=1;function ga(){Object.defineProperty(this,"id",{value:fa+=2}),this.uuid=Ct.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function _a(e,t,n,i,r,a){ur.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new ya(e,t,n,i,r,a)),this.mergeVertices()}function ya(e,t,n,i,r,a){ga.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};var S=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var N=[],C=[],k=[],I=[],j=0,O=0;function o(e,t,n,i,r,a,o,s,u,l,c){for(var d=a/u,h=o/l,p=a/2,m=o/2,f=s/2,g=u+1,_=l+1,y=0,v=0,M=new Ot,b=0;b<_;b++)for(var A=b*h-m,w=0;w<g;w++){var x=w*d-p;M[e]=x*i,M[t]=A*r,M[n]=f,C.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=0<s?1:-1,k.push(M.x,M.y,M.z),I.push(w/u),I.push(1-b/l),y+=1}for(b=0;b<l;b++)for(w=0;w<u;w++){var E=j+w+g*b,L=j+w+g*(b+1),T=j+(w+1)+g*(b+1),D=j+(w+1)+g*b;N.push(E,L,D),N.push(L,T,D),v+=6}S.addGroup(O,v,c),O+=v,j+=y}o("z","y","x",-1,-1,n,t,e,a,r,0),o("z","y","x",1,-1,n,t,-e,a,r,1),o("x","z","y",1,1,e,n,t,i,a,2),o("x","z","y",1,-1,e,n,-t,i,a,3),o("x","y","z",1,-1,e,t,n,i,r,4),o("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(N),this.addAttribute("position",new _r(C,3)),this.addAttribute("normal",new _r(k,3)),this.addAttribute("uv",new _r(I,2))}function va(e,t,n,i){ur.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Ma(e,t,n,i)),this.mergeVertices()}function Ma(e,t,n,i){ga.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};for(var r=(e=e||1)/2,a=(t=t||1)/2,o=Math.floor(n)||1,s=Math.floor(i)||1,u=o+1,l=s+1,c=e/o,d=t/s,h=[],p=[],m=[],f=[],g=0;g<l;g++)for(var _=g*d-a,y=0;y<u;y++){var v=y*c-r;p.push(v,-_,0),m.push(0,0,1),f.push(y/o),f.push(1-g/s)}for(g=0;g<s;g++)for(y=0;y<o;y++){var M=y+u*g,b=y+u*(g+1),A=y+1+u*(g+1),w=y+1+u*g;h.push(M,b,w),h.push(b,A,w)}this.setIndex(h),this.addAttribute("position",new _r(p,3)),this.addAttribute("normal",new _r(m,3)),this.addAttribute("uv",new _r(f,2))}function ba(e){yi.call(this),this.type="MeshBasicMaterial",this.color=new kn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=se,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Aa(e){yi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function wa(e,t){this.origin=void 0!==e?e:new Ot,this.direction=void 0!==t?t:new Ot}function xa(e,t){this.start=void 0!==e?e:new Ot,this.end=void 0!==t?t:new Ot}function Ea(e,t,n){this.a=void 0!==e?e:new Ot,this.b=void 0!==t?t:new Ot,this.c=void 0!==n?n:new Ot}function La(e,t){Ji.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ga,this.material=void 0!==t?t:new ba({color:16777215*Math.random()}),this.drawMode=bt,this.updateMorphTargets()}function Ta(e,t,n,i,r,a,o){return Ea.barycoordFromPoint(e,t,n,i,ha),r.multiplyScalar(ha.x),a.multiplyScalar(ha.y),o.multiplyScalar(ha.z),r.add(a).add(o),r.clone()}function Da(e,t,n,i,r,a,o,s){t=t.side===V?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side!==W,s);if(null===t)return null;ma.copy(s),ma.applyMatrix4(e.matrixWorld);s=n.ray.origin.distanceTo(ma);return s<n.near||s>n.far?null:{distance:s,point:ma.clone(),object:e}}function Sa(e,t,n,i,r,a,o,s){ia.fromBufferAttribute(i,a),ra.fromBufferAttribute(i,o),aa.fromBufferAttribute(i,s);n=Da(e,e.material,t,n,ia,ra,aa,pa);return n&&(r&&(la.fromBufferAttribute(r,a),ca.fromBufferAttribute(r,o),da.fromBufferAttribute(r,s),n.uv=Ta(pa,ia,ra,aa,la,ca,da)),n.face=new er(a,o,s,Ea.normal(ia,ra,aa)),n.faceIndex=a),n}function Na(r,n,a,i){var o,s,u,l=new kn(0),c=0;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return l},setClearColor:function(e,t){l.set(e),d(l,c=void 0!==t?t:1)},getClearAlpha:function(){return c},setClearAlpha:function(e){d(l,c=e)},render:function(e,t,n,i){null===(t=t.background)?d(l,c):t&&t.isColor&&(d(t,1),i=!0),(r.autoClear||i)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),t&&t.isCubeTexture?(void 0===u&&((u=new La(new ya(1,1,1),new Aa({uniforms:Rn.cube.uniforms,vertexShader:Rn.cube.vertexShader,fragmentShader:Rn.cube.fragmentShader,side:V,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),u.geometry.removeAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},a.update(u.geometry)),u.material.uniforms.tCube.value=t,e.push(u,u.geometry,u.material,0,null)):t&&t.isTexture&&(void 0===o&&(o=new $i(-1,1,1,-1,0,1),s=new La(new Ma(2,2),new ba({depthTest:!1,depthWrite:!1,fog:!1})),a.update(s.geometry)),s.material.map=t,r.renderBufferDirect(o,null,s.geometry,s.material,s,null))}}}function Ca(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ka(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ia(){var o=[],s=0,u=[],l=[];return{opaque:u,transparent:l,init:function(){s=0,u.length=0,l.length=0},push:function(e,t,n,i,r){var a=o[s];void 0===a?(a={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:i,group:r},o[s]=a):(a.id=e.id,a.object=e,a.geometry=t,a.material=n,a.program=n.program,a.renderOrder=e.renderOrder,a.z=i,a.group=r),(!0===n.transparent?l:u).push(a),s++},sort:function(){1<u.length&&u.sort(Ca),1<l.length&&l.sort(ka)}}}function ja(){var n={};return{get:function(e,t){return e=e.id+","+t.id,void 0===(t=n[e])&&(t=new Ia,n[e]=t),t},dispose:function(){n={}}}}function Oa(e,t){return Math.abs(t[1])-Math.abs(e[1])}function za(p){var m={},f=new Float32Array(8);return{update:function(e,t,n,i){var r=e.morphTargetInfluences,a=r.length,o=m[t.id];if(void 0===o){o=[];for(var s=0;s<a;s++)o[s]=[s,0];m[t.id]=o}for(var u=n.morphTargets&&t.morphAttributes.position,l=n.morphNormals&&t.morphAttributes.normal,s=0;s<a;s++)0!==(c=o[s])[1]&&(u&&t.removeAttribute("morphTarget"+s),l&&t.removeAttribute("morphNormal"+s));for(s=0;s<a;s++)(c=o[s])[0]=s,c[1]=r[s];o.sort(Oa);for(var c,s=0;s<8;s++){if(c=o[s]){var d=c[0],h=c[1];if(h){u&&t.addAttribute("morphTarget"+s,u[d]),l&&t.addAttribute("morphNormal"+s,l[d]),f[s]=h;continue}}f[s]=0}i.getUniforms().setValue(p,"morphTargetInfluences",f)}}}function Ra(r,a,o){var s,u,l;this.setMode=function(e){s=e},this.setIndex=function(e){u=e.type,l=e.bytesPerElement},this.render=function(e,t){r.drawElements(s,t,u,e*l),o.calls++,o.vertices+=t,s===r.TRIANGLES?o.faces+=t/3:s===r.POINTS&&(o.points+=t)},this.renderInstances=function(e,t,n){var i=a.get("ANGLE_instanced_arrays");null!==i?(i.drawElementsInstancedANGLE(s,n,u,t*l,e.maxInstancedCount),o.calls++,o.vertices+=n*e.maxInstancedCount,s===r.TRIANGLES?o.faces+=e.maxInstancedCount*n/3:s===r.POINTS&&(o.points+=e.maxInstancedCount*n)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function Pa(a,o,s){var u;this.setMode=function(e){u=e},this.render=function(e,t){a.drawArrays(u,e,t),s.calls++,s.vertices+=t,u===a.TRIANGLES?s.faces+=t/3:u===a.POINTS&&(s.points+=t)},this.renderInstances=function(e,t,n){var i,r=o.get("ANGLE_instanced_arrays");null!==r?((i=e.attributes.position).isInterleavedBufferAttribute?(n=i.data.count,r.drawArraysInstancedANGLE(u,0,n,e.maxInstancedCount)):r.drawArraysInstancedANGLE(u,t,n,e.maxInstancedCount),s.calls++,s.vertices+=n*e.maxInstancedCount,u===a.TRIANGLES?s.faces+=e.maxInstancedCount*n/3:u===a.POINTS&&(s.points+=e.maxInstancedCount*n)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function Ya(d,h,r){var a={},p={};function o(e){var t,n=e.target,i=a[n.id];for(t in null!==i.index&&h.remove(i.index),i.attributes)h.remove(i.attributes[t]);n.removeEventListener("dispose",o),delete a[n.id];e=p[n.id];e&&(h.remove(e),delete p[n.id]),(e=p[i.id])&&(h.remove(e),delete p[i.id]),r.geometries--}return{get:function(e,t){var n=a[t.id];return n||(t.addEventListener("dispose",o),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ga).setFromObject(e)),n=t._bufferGeometry),a[t.id]=n,r.geometries++,n)},update:function(e){var t=e.index,n=e.attributes;for(i in null!==t&&h.update(t,d.ELEMENT_ARRAY_BUFFER),n)h.update(n[i],d.ARRAY_BUFFER);var i,r=e.morphAttributes;for(i in r)for(var a=r[i],o=0,s=a.length;o<s;o++)h.update(a[o],d.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=p[e.id];if(t)return t;var n=[],i=e.index,r=e.attributes;if(null!==i)for(var a=0,o=(c=i.array).length;a<o;a+=3){var s=c[a+0],u=c[a+1],l=c[a+2];n.push(s,u,u,l,l,s)}else for(var c,a=0,o=(c=r.position.array).length/3-1;a<o;a+=3){s=a+0,u=a+1,l=a+2;n.push(s,u,u,l,l,s)}return t=new(65535<Mr(n)?gr:mr)(n,1),h.update(t,d.ELEMENT_ARRAY_BUFFER),p[e.id]=t}}}function Ba(r,a){var o={};return{update:function(e){var t=a.frame,n=e.geometry,i=r.get(e,n);return o[i.id]!==t&&(n.isGeometry&&i.updateFromObject(e),r.update(i),o[i.id]=t),i},dispose:function(){o={}}}}function Ua(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),i}ga.prototype=Object.assign(Object.create(t.prototype),{constructor:ga,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<Mr(e)?gr:mr)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new lr(t,arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);t=this.attributes.normal;return void 0!==t&&((new zt).getNormalMatrix(e).applyToBufferAttribute(t),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:(Sr=new It,function(e){return Sr.makeRotationX(e),this.applyMatrix(Sr),this}),rotateY:(Dr=new It,function(e){return Dr.makeRotationY(e),this.applyMatrix(Dr),this}),rotateZ:(Tr=new It,function(e){return Tr.makeRotationZ(e),this.applyMatrix(Tr),this}),translate:(Lr=new It,function(e,t,n){return Lr.makeTranslation(e,t,n),this.applyMatrix(Lr),this}),scale:(Er=new It,function(e,t,n){return Er.makeScale(e,t,n),this.applyMatrix(Er),this}),lookAt:(xr=new Ji,function(e){xr.lookAt(e),xr.updateMatrix(),this.applyMatrix(xr.matrix)}),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t,n,i=e.geometry;return e.isPoints||e.isLine?(t=new _r(3*i.vertices.length,3),n=new _r(3*i.colors.length,3),this.addAttribute("position",t.copyVector3sArray(i.vertices)),this.addAttribute("color",n.copyColorsArray(i.colors)),i.lineDistances&&i.lineDistances.length===i.vertices.length&&(n=new _r(i.lineDistances.length,1),this.addAttribute("lineDistance",n.copyArray(i.lineDistances))),null!==i.boundingSphere&&(this.boundingSphere=i.boundingSphere.clone()),null!==i.boundingBox&&(this.boundingBox=i.boundingBox.clone())):e.isMesh&&i&&i.isGeometry&&this.fromGeometry(i),this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new _r(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new vr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t,n,i,r,a=new Float32Array(3*e.vertices.length);for(i in this.addAttribute("position",new lr(a,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(a=new Float32Array(3*e.normals.length),this.addAttribute("normal",new lr(a,3).copyVector3sArray(e.normals))),0<e.colors.length&&(t=new Float32Array(3*e.colors.length),this.addAttribute("color",new lr(t,3).copyColorsArray(e.colors))),0<e.uvs.length&&(t=new Float32Array(2*e.uvs.length),this.addAttribute("uv",new lr(t,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(n=new Float32Array(2*e.uvs2.length),this.addAttribute("uv2",new lr(n,2).copyVector2sArray(e.uvs2))),0<e.indices.length&&(n=new(65535<Mr(e.indices)?Uint32Array:Uint16Array)(3*e.indices.length),this.setIndex(new lr(n,1).copyIndicesArray(e.indices))),this.groups=e.groups,e.morphTargets){for(var o=[],s=e.morphTargets[i],u=0,l=s.length;u<l;u++){var c=s[u],d=new _r(3*c.length,3);o.push(d.copyVector3sArray(c))}this.morphAttributes[i]=o}return 0<e.skinIndices.length&&(r=new _r(4*e.skinIndices.length,4),this.addAttribute("skinIndex",r.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(r=new _r(4*e.skinWeights.length,4),this.addAttribute("skinWeight",r.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new bi);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:(Ar=new bi,wr=new Ot,function(){null===this.boundingSphere&&(this.boundingSphere=new xi);var e=this.attributes.position;if(e){var t=this.boundingSphere.center;Ar.setFromBufferAttribute(e),Ar.getCenter(t);for(var n=0,i=0,r=e.count;i<r;i++)wr.x=e.getX(i),wr.y=e.getY(i),wr.z=e.getZ(i),n=Math.max(n,t.distanceToSquared(wr));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new lr(new Float32Array(i.length),3));else for(var r=t.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,u,l,c=t.normal.array,d=new Ot,h=new Ot,p=new Ot,m=new Ot,f=new Ot;if(e){var g=e.array;0===n.length&&this.addGroup(0,g.length);for(var _=0,y=n.length;_<y;++_)for(var v=n[_],M=v.start,a=M,o=M+v.count;a<o;a+=3)s=3*g[a+0],u=3*g[a+1],l=3*g[a+2],d.fromArray(i,s),h.fromArray(i,u),p.fromArray(i,l),m.subVectors(p,h),f.subVectors(d,h),m.cross(f),c[s]+=m.x,c[1+s]+=m.y,c[2+s]+=m.z,c[u]+=m.x,c[1+u]+=m.y,c[2+u]+=m.z,c[l]+=m.x,c[1+l]+=m.y,c[2+l]+=m.z}else for(a=0,o=i.length;a<o;a+=9)d.fromArray(i,a),h.fromArray(i,a+3),p.fromArray(i,a+6),m.subVectors(p,h),f.subVectors(d,h),m.cross(f),c[a]=m.x,c[a+1]=m.y,c[a+2]=m.z,c[a+3]=m.x,c[a+4]=m.y,c[a+5]=m.z,c[a+6]=m.x,c[a+7]=m.y,c[a+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n,i=this.attributes;for(n in i)if(void 0!==e.attributes[n])for(var r=i[n].array,a=e.attributes[n],o=a.array,s=0,u=a.itemSize*t;s<o.length;s++,u++)r[u]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:(br=new Ot,function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)br.x=e.getX(t),br.y=e.getY(t),br.z=e.getZ(t),br.normalize(),e.setXYZ(t,br.x,br.y,br.z)}),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e,t=new ga,n=this.index.array,i=this.attributes;for(e in i){for(var r=i[e],a=r.array,o=r.itemSize,s=new a.constructor(n.length*o),u=0,l=0,c=0,d=n.length;c<d;c++){u=n[c]*o;for(var h=0;h<o;h++)s[l++]=a[u++]}t.addAttribute(e,new lr(s,o))}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(o=Array.prototype.slice.call(n.array),e.data.index={type:n.array.constructor.name,array:o});var i,r=this.attributes;for(i in r){var a=r[i],o=Array.prototype.slice.call(a.array);e.data.attributes[i]={itemSize:a.itemSize,type:a.array.constructor.name,array:o,normalized:a.normalized}}n=this.groups;0<n.length&&(e.data.groups=JSON.parse(JSON.stringify(n)));n=this.boundingSphere;return null!==n&&(e.data.boundingSphere={center:n.center.toArray(),radius:n.radius}),e},clone:function(){return(new ga).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var i in n){var r=n[i];this.addAttribute(i,r.clone())}var a=e.morphAttributes;for(i in a){for(var o=[],s=a[i],u=0,l=s.length;u<l;u++)o.push(s[u].clone());this.morphAttributes[i]=o}var c=e.groups;for(u=0,l=c.length;u<l;u++){var d=c[u];this.addGroup(d.start,d.count,d.materialIndex)}t=e.boundingBox;null!==t&&(this.boundingBox=t.clone());t=e.boundingSphere;return null!==t&&(this.boundingSphere=t.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(_a.prototype=Object.create(ur.prototype)).constructor=_a,(ya.prototype=Object.create(ga.prototype)).constructor=ya,(va.prototype=Object.create(ur.prototype)).constructor=va,(Ma.prototype=Object.create(ga.prototype)).constructor=Ma,((ba.prototype=Object.create(yi.prototype)).constructor=ba).prototype.isMeshBasicMaterial=!0,ba.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},((Aa.prototype=Object.create(yi.prototype)).constructor=Aa).prototype.isShaderMaterial=!0,Aa.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=On.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Aa.prototype.toJSON=function(e){e=yi.prototype.toJSON.call(this,e);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(wa.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new Ot).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:(Br=new Ot,function(e){return this.origin.copy(this.at(e,Br)),this}),closestPointToPoint:function(e,t){t=t||new Ot;t.subVectors(e,this.origin);e=t.dot(this.direction);return e<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:(Yr=new Ot,function(e){var t=Yr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Yr.copy(this.direction).multiplyScalar(t).add(this.origin),Yr.distanceToSquared(e))}),distanceSqToSegment:(zr=new Ot,Rr=new Ot,Pr=new Ot,function(e,t,n,i){zr.copy(e).add(t).multiplyScalar(.5),Rr.copy(t).sub(e).normalize(),Pr.copy(this.origin).sub(zr);var r,a,o=.5*e.distanceTo(t),s=-this.direction.dot(Rr),u=Pr.dot(this.direction),l=-Pr.dot(Rr),c=Pr.lengthSq(),e=Math.abs(1-s*s);return c=0<e?(a=s*u-l,t=o*e,0<=(r=s*l-u)?-t<=a?a<=t?(r*=e=1/e)*(r+s*(a*=e)+2*u)+a*(s*r+a+2*l)+c:(a=o,-(r=Math.max(0,-(s*a+u)))*r+a*(a+2*l)+c):(a=-o,-(r=Math.max(0,-(s*a+u)))*r+a*(a+2*l)+c):a<=-t?-(r=Math.max(0,-(-s*o+u)))*r+(a=0<r?-o:Math.min(Math.max(-o,-l),o))*(a+2*l)+c:a<=t?(r=0,(a=Math.min(Math.max(-o,-l),o))*(a+2*l)+c):-(r=Math.max(0,-(s*o+u)))*r+(a=0<r?o:Math.min(Math.max(-o,-l),o))*(a+2*l)+c):(a=0<s?-o:o,-(r=Math.max(0,-(s*a+u)))*r+a*(a+2*l)+c),n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Rr).multiplyScalar(a).add(zr),c}),intersectSphere:(Or=new Ot,function(e,t){Or.subVectors(e.center,this.origin);var n=Or.dot(this.direction),i=Or.dot(Or)-n*n,e=e.radius*e.radius;if(e<i)return null;e=Math.sqrt(e-i),i=n-e,e=n+e;return i<0&&e<0?null:i<0?this.at(e,t):this.at(i,t)}),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;t=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=t?t:null},intersectPlane:function(e,t){e=this.distanceToPlane(e);return null===e?null:this.at(e,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,a=1/this.direction.x,o=1/this.direction.y,s=1/this.direction.z,u=this.origin,a=0<=a?(n=(e.min.x-u.x)*a,(e.max.x-u.x)*a):(n=(e.max.x-u.x)*a,(e.min.x-u.x)*a),o=0<=o?(i=(e.min.y-u.y)*o,(e.max.y-u.y)*o):(i=(e.max.y-u.y)*o,(e.min.y-u.y)*o);return o<n||a<i?null:((n<i||n!=n)&&(n=i),(o<a||a!=a)&&(a=o),(s=0<=s?(r=(e.min.z-u.z)*s,(e.max.z-u.z)*s):(r=(e.max.z-u.z)*s,(e.min.z-u.z)*s))<n||a<r?null:((n<r||n!=n)&&(n=r),(s<a||a!=a)&&(a=s),a<0?null:this.at(0<=n?n:a,t)))},intersectsBox:(jr=new Ot,function(e){return null!==this.intersectBox(e,jr)}),intersectTriangle:(Nr=new Ot,Cr=new Ot,kr=new Ot,Ir=new Ot,function(e,t,n,i,r){Cr.subVectors(t,e),kr.subVectors(n,e),Ir.crossVectors(Cr,kr);n=this.direction.dot(Ir);if(0<n){if(i)return null;a=1}else{if(!(n<0))return null;a=-1,n=-n}Nr.subVectors(this.origin,e);i=a*this.direction.dot(kr.crossVectors(Nr,kr));if(i<0)return null;e=a*this.direction.dot(Cr.cross(Nr));if(e<0)return null;if(n<i+e)return null;var a=-a*Nr.dot(Ir);return a<0?null:this.at(a/n,r)}),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(xa.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new Ot).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new Ot).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){t=t||new Ot;return this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(Ur=new Ot,Hr=new Ot,function(e,t){Ur.subVectors(e,this.start),Hr.subVectors(this.end,this.start);e=Hr.dot(Hr),e=Hr.dot(Ur)/e;return t&&(e=Ct.clamp(e,0,1)),e}),closestPointToPoint:function(e,t,n){t=this.closestPointToPointParameter(e,t),n=n||new Ot;return this.delta(n).multiplyScalar(t).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Ea,{normal:(Qr=new Ot,function(e,t,n,i){i=i||new Ot;i.subVectors(n,t),Qr.subVectors(e,t),i.cross(Qr);t=i.lengthSq();return 0<t?i.multiplyScalar(1/Math.sqrt(t)):i.set(0,0,0)}),barycoordFromPoint:(Gr=new Ot,Vr=new Ot,Wr=new Ot,function(e,t,n,i,r){Gr.subVectors(i,t),Vr.subVectors(n,t),Wr.subVectors(e,t);var a=Gr.dot(Gr),o=Gr.dot(Vr),i=Gr.dot(Wr),n=Vr.dot(Vr),e=Vr.dot(Wr),t=a*n-o*o,r=r||new Ot;if(0==t)return r.set(-2,-1,-1);t=1/t,n=(n*i-o*e)*t,t*=a*e-o*i;return r.set(1-n-t,t,n)}),containsPoint:(Fr=new Ot,function(e,t,n,i){i=Ea.barycoordFromPoint(e,t,n,i,Fr);return 0<=i.x&&0<=i.y&&i.x+i.y<=1})}),Object.assign(Ea.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:(Kr=new Ot,$r=new Ot,function(){return Kr.subVectors(this.c,this.b),$r.subVectors(this.a,this.b),.5*Kr.cross($r).length()}),midpoint:function(e){return(e||new Ot).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Ea.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new Ei).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Ea.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Ea.containsPoint(e,this.a,this.b,this.c)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(qr=new Ei,Zr=[new xa,new xa,new xa],Xr=new Ot,Jr=new Ot,function(e,t){var n=t||new Ot,i=1/0;if(qr.setFromCoplanarPoints(this.a,this.b,this.c),qr.projectPoint(e,Xr),!0===this.containsPoint(Xr))n.copy(Xr);else{Zr[0].set(this.a,this.b),Zr[1].set(this.b,this.c),Zr[2].set(this.c,this.a);for(var r=0;r<Zr.length;r++){Zr[r].closestPointToPoint(Xr,!0,Jr);var a=Xr.distanceToSquared(Jr);a<i&&(i=a,n.copy(Jr))}}return n}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),La.prototype=Object.assign(Object.create(Ji.prototype),{constructor:La,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Ji.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(0<a.length){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=i.morphTargets;if(void 0!==s&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:(ea=new It,ta=new wa,na=new xi,ia=new Ot,ra=new Ot,aa=new Ot,oa=new Ot,sa=new Ot,ua=new Ot,la=new kt,ca=new kt,da=new kt,ha=new Ot,pa=new Ot,ma=new Ot,function(e,t){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),na.copy(n.boundingSphere),na.applyMatrix4(r),!1!==e.ray.intersectsSphere(na)&&(ea.getInverse(r),ta.copy(e.ray).applyMatrix4(ea),null===n.boundingBox||!1!==ta.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var a,o,s,u,l,c=n.index,d=n.attributes.position,h=n.attributes.uv;if(null!==c)for(u=0,l=c.count;u<l;u+=3)a=c.getX(u),o=c.getX(u+1),s=c.getX(u+2),(A=Sa(this,e,ta,d,h,a,o,s))&&(A.faceIndex=Math.floor(u/3),t.push(A));else if(void 0!==d)for(u=0,l=d.count;u<l;u+=3)(A=Sa(this,e,ta,d,h,a=u,o=u+1,s=u+2))&&(A.index=a,t.push(A))}else if(n.isGeometry){var p,m,f,g,_=Array.isArray(i),y=n.vertices,v=n.faces,r=n.faceVertexUvs[0];0<r.length&&(g=r);for(var M=0,b=v.length;M<b;M++){var A,w=v[M],x=_?i[w.materialIndex]:i;if(void 0!==x){if(p=y[w.a],m=y[w.b],f=y[w.c],!0===x.morphTargets){var E=n.morphTargets,L=this.morphTargetInfluences;ia.set(0,0,0),ra.set(0,0,0),aa.set(0,0,0);for(var T=0,D=E.length;T<D;T++){var S,N=L[T];0!==N&&(S=E[T].vertices,ia.addScaledVector(oa.subVectors(S[w.a],p),N),ra.addScaledVector(sa.subVectors(S[w.b],m),N),aa.addScaledVector(ua.subVectors(S[w.c],f),N))}ia.add(p),ra.add(m),aa.add(f),p=ia,m=ra,f=aa}(A=Da(this,x,e,ta,p,m,f,pa))&&(g&&g[M]&&(x=g[M],la.copy(x[0]),ca.copy(x[1]),da.copy(x[2]),A.uv=Ta(pa,p,m,f,la,ca,da)),A.face=w,A.faceIndex=M,t.push(A))}}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Ha=0;function Fa(e){switch(e){case At:return["Linear","( value )"];case wt:return["sRGB","( value )"];case Et:return["RGBE","( value )"];case Lt:return["RGBM","( value, 7.0 )"];case Tt:return["RGBM","( value, 16.0 )"];case Dt:return["RGBD","( value, 256.0 )"];case xt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Ga(e,t){t=Fa(t);return"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Va(e){return""!==e}function Wa(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Qa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function qa(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,t){var n=zn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return qa(n)})}function Za(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(var r="",a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[ i \]/g,"[ "+a+" ]");return r})}function Xa(e,t,n,i,r,a){var o=e.context,s=i.defines,u=r.vertexShader,l=r.fragmentShader,c="SHADOWMAP_TYPE_BASIC";a.shadowMapType===C?c="SHADOWMAP_TYPE_PCF":a.shadowMapType===E&&(c="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(i.envMap.mapping){case me:case fe:d="ENVMAP_TYPE_CUBE";break;case ve:case Me:d="ENVMAP_TYPE_CUBE_UV";break;case ge:case _e:d="ENVMAP_TYPE_EQUIREC";break;case ye:d="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case fe:case _e:h="ENVMAP_MODE_REFRACTION"}switch(i.combine){case se:p="ENVMAP_BLENDING_MULTIPLY";break;case ue:p="ENVMAP_BLENDING_MIX";break;case le:p="ENVMAP_BLENDING_ADD"}}var m,f,g,_,y,v=0<e.gammaFactor?e.gammaFactor:1,g=(m=i.extensions,f=a,g=t,[(m=m||{}).derivatives||f.envMapCubeUV||f.bumpMap||f.normalMap||f.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(m.fragDepth||f.logarithmicDepthBuffer)&&g.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",m.drawBuffers&&g.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(m.shaderTextureLOD||f.envMap)&&g.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Va).join("\n")),s=function(e){var t,n=[];for(t in e){var i=e[t];!1!==i&&n.push("#define "+t+" "+i)}return n.join("\n")}(s),M=o.createProgram();i.isRawShaderMaterial?(0<(_=[s].filter(Va).join("\n")).length&&(_+="\n"),0<(y=[g,s].filter(Va).join("\n")).length&&(y+="\n")):(_=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,s,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Va).join("\n"),y=[g,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,s,a.alphaTest?"#define ALPHATEST "+a.alphaTest:"","#define GAMMA_FACTOR "+v,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+h:"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==ce?"#define TONE_MAPPING":"",a.toneMapping!==ce?zn.tonemapping_pars_fragment:"",a.toneMapping!==ce?function(e,t){var n;switch(t){case Te:n="Linear";break;case de:n="Reinhard";break;case he:n="Uncharted2";break;case pe:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?zn.encodings_pars_fragment:"",a.mapEncoding?Ga("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?Ga("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Ga("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(b="linearToOutputTexel",A=Fa(A=a.outputEncoding),"vec4 "+b+"( vec4 value ) { return LinearTo"+A[0]+A[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Va).join("\n")),u=Qa(Wa(qa(u),a),a),l=Qa(Wa(qa(l),a),a);var c=_+Za(u),t=y+Za(l),b=Ua(o,o.VERTEX_SHADER,c),A=Ua(o,o.FRAGMENT_SHADER,t);o.attachShader(M,b),o.attachShader(M,A),void 0!==i.index0AttributeName?o.bindAttribLocation(M,0,i.index0AttributeName):!0===a.morphTargets&&o.bindAttribLocation(M,0,"position"),o.linkProgram(M);var w,x,u=o.getProgramInfoLog(M).trim(),l=o.getShaderInfoLog(b).trim(),c=o.getShaderInfoLog(A).trim(),t=!0,a=!0;return!1===o.getProgramParameter(M,o.LINK_STATUS)?(t=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(M,o.VALIDATE_STATUS),"gl.getProgramInfoLog",u,l,c)):""!==u?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",u):""!==l&&""!==c||(a=!1),a&&(this.diagnostics={runnable:t,material:i,programLog:u,vertexShader:{log:l,prefix:_},fragmentShader:{log:c,prefix:y}}),o.deleteShader(b),o.deleteShader(A),this.getUniforms=function(){return void 0===w&&(w=new Nn(o,M,e)),w},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var a=e.getActiveAttrib(t,r).name;n[a]=e.getAttribLocation(t,a)}return n}(o,M)),x},this.destroy=function(){o.deleteProgram(M),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Ha++,this.code=n,this.usedTimes=1,this.program=M,this.vertexShader=b,this.fragmentShader=A,this}function Ja(d,u,h){var l=[],p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function m(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=At,n===At&&t&&(n=xt),n}this.getParameters=function(e,t,n,i,r,a,o){var s=p[e.type],u=o.isSkinnedMesh?(l=(c=o).skeleton.bones,h.floatVertexTextures?1024:(c=h.maxVertexUniforms,c=Math.floor((c-20)/4),(c=Math.min(c,l.length))<l.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+l.length+" bones. This GPU supports "+c+"."),0):c)):0,l=h.precision;null!==e.precision&&(l=h.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",l,"instead.");var c=d.getRenderTarget();return{shaderID:s,precision:l,supportsVertexTextures:h.vertexTextures,outputEncoding:m(c?c.texture:null,d.gammaOutput),map:!!e.map,mapEncoding:m(e.map,d.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:m(e.envMap,d.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===ve||e.envMap.mapping===Me),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:m(e.emissiveMap,d.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!i,useFog:e.fog,fogExp:i&&i.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:h.logarithmicDepthBuffer,skinning:e.skinning&&0<u,maxBones:u,useVertexTexture:h.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:d.maxMorphTargets,maxMorphNormals:d.maxMorphNormals,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numClippingPlanes:r,numClipIntersection:a,dithering:e.dithering,shadowMapEnabled:d.shadowMap.enabled&&o.receiveShadow&&0<n.length,shadowMapType:d.shadowMap.type,toneMapping:d.toneMapping,physicallyCorrectLights:d.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===W,flipSided:e.side===V,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);for(var r=0;r<a.length;r++)n.push(t[a[r]]);return n.push(e.onBeforeCompile.toString()),n.push(d.gammaOutput),n.join()},this.acquireProgram=function(e,t,n,i){for(var r,a=0,o=l.length;a<o;a++){var s=l[a];if(s.code===i){++(r=s).usedTimes;break}}return void 0===r&&(r=new Xa(d,u,i,e,t,n),l.push(r)),r},this.releaseProgram=function(e){var t;0==--e.usedTimes&&(t=l.indexOf(e),l[t]=l[l.length-1],l.pop(),e.destroy())},this.programs=l}function Ka(m,i,f,g,_,y,v,o){var d,h="undefined"!=typeof WebGL2RenderingContext&&m instanceof WebGL2RenderingContext,s={};function M(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=Math.floor(e.width*n),t.height=Math.floor(e.height*n),t.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function b(e){return Ct.isPowerOfTwo(e.width)&&Ct.isPowerOfTwo(e.height)}function A(e,t){return e.generateMipmaps&&t&&e.minFilter!==xe&&e.minFilter!==Se}function r(e){return e===xe||e===Ee||e===De?m.NEAREST:m.LINEAR}function w(e){e=e.target;e.removeEventListener("dispose",w),function(e){var t=g.get(e);if(e.image&&t.__image__webglTextureCube)m.deleteTexture(t.__image__webglTextureCube);else{if(void 0===t.__webglInit)return;m.deleteTexture(t.__webglTexture)}g.remove(e)}(e),e.isVideoTexture&&delete s[e.id],v.textures--}function u(e){e=e.target;e.removeEventListener("dispose",u),function(e){var t=g.get(e),n=g.get(e.texture);if(e){if(void 0!==n.__webglTexture&&m.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var i=0;i<6;i++)m.deleteFramebuffer(t.__webglFramebuffer[i]),t.__webglDepthbuffer&&m.deleteRenderbuffer(t.__webglDepthbuffer[i]);else m.deleteFramebuffer(t.__webglFramebuffer),t.__webglDepthbuffer&&m.deleteRenderbuffer(t.__webglDepthbuffer);g.remove(e.texture),g.remove(e)}}(e),v.textures--}function a(e,t){var n,i,r=g.get(e);if(e.isVideoTexture&&(n=(a=e).id,i=o.frame,s[n]!==i&&(s[n]=i,a.update())),0<e.version&&r.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==a.complete)return void function(e,t,n){void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",w),e.__webglTexture=m.createTexture(),v.textures++),f.activeTexture(m.TEXTURE0+n),f.bindTexture(m.TEXTURE_2D,e.__webglTexture),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,t.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,t.unpackAlignment);var i=M(t.image,_.maxTextureSize);!function(e){return e.wrapS!==Ae||e.wrapT!==Ae||e.minFilter!==xe&&e.minFilter!==Se}(t)||!1!==b(i)||(i=function(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap?(void 0===d&&(d=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),d.width=Ct.floorPowerOfTwo(e.width),d.height=Ct.floorPowerOfTwo(e.height),d.getContext("2d").drawImage(e,0,0,d.width,d.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+d.width+"x"+d.height,e),d):e}(i));var r=b(i),a=y.convert(t.format),o=y.convert(t.type);x(m.TEXTURE_2D,t,r);var s,u=t.mipmaps;if(t.isDepthTexture){n=m.DEPTH_COMPONENT;if(t.type===Pe){if(!h)throw new Error("Float Depth Texture only supported in WebGL2.0");n=m.DEPTH_COMPONENT32F}else h&&(n=m.DEPTH_COMPONENT16);t.format===Xe&&n===m.DEPTH_COMPONENT&&t.type!==Oe&&t.type!==Re&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),t.type=Oe,o=y.convert(t.type)),t.format===Je&&(n=m.DEPTH_STENCIL,t.type!==Fe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),t.type=Fe,o=y.convert(t.type))),f.texImage2D(m.TEXTURE_2D,0,n,i.width,i.height,0,a,o,null)}else if(t.isDataTexture)if(0<u.length&&r){for(var l=0,c=u.length;l<c;l++)s=u[l],f.texImage2D(m.TEXTURE_2D,l,a,s.width,s.height,0,a,o,s.data);t.generateMipmaps=!1}else f.texImage2D(m.TEXTURE_2D,0,a,i.width,i.height,0,a,o,i.data);else if(t.isCompressedTexture)for(l=0,c=u.length;l<c;l++)s=u[l],t.format!==We&&t.format!==Ve?-1<f.getCompressedTextureFormats().indexOf(a)?f.compressedTexImage2D(m.TEXTURE_2D,l,a,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):f.texImage2D(m.TEXTURE_2D,l,a,s.width,s.height,0,a,o,s.data);else if(0<u.length&&r){for(l=0,c=u.length;l<c;l++)s=u[l],f.texImage2D(m.TEXTURE_2D,l,a,a,o,s);t.generateMipmaps=!1}else f.texImage2D(m.TEXTURE_2D,0,a,a,o,i);A(t,r)&&m.generateMipmap(m.TEXTURE_2D),e.__version=t.version,t.onUpdate&&t.onUpdate(t)}(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_2D,r.__webglTexture)}function x(e,t,n){n?(m.texParameteri(e,m.TEXTURE_WRAP_S,y.convert(t.wrapS)),m.texParameteri(e,m.TEXTURE_WRAP_T,y.convert(t.wrapT)),m.texParameteri(e,m.TEXTURE_MAG_FILTER,y.convert(t.magFilter)),m.texParameteri(e,m.TEXTURE_MIN_FILTER,y.convert(t.minFilter))):(m.texParameteri(e,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(e,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),t.wrapS===Ae&&t.wrapT===Ae||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",t),m.texParameteri(e,m.TEXTURE_MAG_FILTER,r(t.magFilter)),m.texParameteri(e,m.TEXTURE_MIN_FILTER,r(t.minFilter)),t.minFilter!==xe&&t.minFilter!==Se&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",t)),(n=i.get("EXT_texture_filter_anisotropic"))&&(t.type===Pe&&null===i.get("OES_texture_float_linear")||t.type===Ye&&null===i.get("OES_texture_half_float_linear")||(1<t.anisotropy||g.get(t).__currentAnisotropy)&&(m.texParameterf(e,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,_.getMaxAnisotropy())),g.get(t).__currentAnisotropy=t.anisotropy))}function l(e,t,n,i){var r=y.convert(t.texture.format),a=y.convert(t.texture.type);f.texImage2D(i,0,r,t.width,t.height,0,r,a,null),m.bindFramebuffer(m.FRAMEBUFFER,e),m.framebufferTexture2D(m.FRAMEBUFFER,n,i,g.get(t.texture).__webglTexture,0),m.bindFramebuffer(m.FRAMEBUFFER,null)}function c(e,t){m.bindRenderbuffer(m.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,t.width,t.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,t.width,t.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,e)):m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,t.width,t.height),m.bindRenderbuffer(m.RENDERBUFFER,null)}function p(e){var t=g.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,t){if(t&&t.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(m.bindFramebuffer(m.FRAMEBUFFER,e),!t.depthTexture||!t.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(g.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),a(t.depthTexture,0),e=g.get(t.depthTexture).__webglTexture,t.depthTexture.format===Xe)m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,e,0);else{if(t.depthTexture.format!==Je)throw new Error("Unknown depthTexture format");m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,e,0)}}(t.__webglFramebuffer,e)}else if(n){t.__webglDepthbuffer=[];for(var i=0;i<6;i++)m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer[i]),t.__webglDepthbuffer[i]=m.createRenderbuffer(),c(t.__webglDepthbuffer[i],e)}else m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer),t.__webglDepthbuffer=m.createRenderbuffer(),c(t.__webglDepthbuffer,e);m.bindFramebuffer(m.FRAMEBUFFER,null)}this.setTexture2D=a,this.setTextureCube=function(e,t){var n=g.get(e);if(6===e.image.length)if(0<e.version&&n.__version!==e.version){n.__image__webglTextureCube||(e.addEventListener("dispose",w),n.__image__webglTextureCube=m.createTexture(),v.textures++),f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var i=e&&e.isCompressedTexture,r=e.image[0]&&e.image[0].isDataTexture,a=[],o=0;o<6;o++)a[o]=i||r?r?e.image[o].image:e.image[o]:M(e.image[o],_.maxCubemapSize);var s=b(a[0]),u=y.convert(e.format),l=y.convert(e.type);x(m.TEXTURE_CUBE_MAP,e,s);for(o=0;o<6;o++)if(i)for(var c,d=a[o].mipmaps,h=0,p=d.length;h<p;h++)c=d[h],e.format!==We&&e.format!==Ve?-1<f.getCompressedTextureFormats().indexOf(u)?f.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,h,u,c.width,c.height,0,c.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):f.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,h,u,c.width,c.height,0,u,l,c.data);else r?f.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,a[o].width,a[o].height,0,u,l,a[o].data):f.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,u,l,a[o]);A(e,s)&&m.generateMipmap(m.TEXTURE_CUBE_MAP),n.__version=e.version,e.onUpdate&&e.onUpdate(e)}else f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_CUBE_MAP,g.get(e).__webglTexture)},this.setupRenderTarget=function(e){var t=g.get(e),n=g.get(e.texture);e.addEventListener("dispose",u),n.__webglTexture=m.createTexture(),v.textures++;var i=!0===e.isWebGLRenderTargetCube,r=b(e);if(i){t.__webglFramebuffer=[];for(var a=0;a<6;a++)t.__webglFramebuffer[a]=m.createFramebuffer()}else t.__webglFramebuffer=m.createFramebuffer();if(i){f.bindTexture(m.TEXTURE_CUBE_MAP,n.__webglTexture),x(m.TEXTURE_CUBE_MAP,e.texture,r);for(a=0;a<6;a++)l(t.__webglFramebuffer[a],e,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+a);A(e.texture,r)&&m.generateMipmap(m.TEXTURE_CUBE_MAP),f.bindTexture(m.TEXTURE_CUBE_MAP,null)}else f.bindTexture(m.TEXTURE_2D,n.__webglTexture),x(m.TEXTURE_2D,e.texture,r),l(t.__webglFramebuffer,e,m.COLOR_ATTACHMENT0,m.TEXTURE_2D),A(e.texture,r)&&m.generateMipmap(m.TEXTURE_2D),f.bindTexture(m.TEXTURE_2D,null);e.depthBuffer&&p(e)},this.updateRenderTargetMipmap=function(e){var t=e.texture;A(t,b(e))&&(e=e.isWebGLRenderTargetCube?m.TEXTURE_CUBE_MAP:m.TEXTURE_2D,t=g.get(t).__webglTexture,f.bindTexture(e,t),m.generateMipmap(e),f.bindTexture(e,null))}}function $a(){var i={};return{get:function(e){var t=e.uuid;return void 0===(e=i[t])&&(e={},i[t]=e),e},remove:function(e){delete i[e.uuid]},update:function(e,t,n){e=e.uuid,i[e][t]=n},dispose:function(){i={}}}}function eo(c,n,u){var i=new function(){var t=!1,a=new Ut,n=null,o=new Ut(0,0,0,0);return{setMask:function(e){n===e||t||(c.colorMask(e,e,e,e),n=e)},setLocked:function(e){t=e},setClear:function(e,t,n,i,r){!0===r&&(e*=i,t*=i,n*=i),a.set(e,t,n,i),!1===o.equals(a)&&(c.clearColor(e,t,n,i),o.copy(a))},reset:function(){t=!1,n=null,o.set(-1,0,0,0)}}},r=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){(e?O:z)(c.DEPTH_TEST)},setMask:function(e){n===e||t||(c.depthMask(e),n=e)},setFunc:function(e){if(i!==e){if(e)switch(e){case $:c.depthFunc(c.NEVER);break;case ee:c.depthFunc(c.ALWAYS);break;case te:c.depthFunc(c.LESS);break;case ne:c.depthFunc(c.LEQUAL);break;case ie:c.depthFunc(c.EQUAL);break;case re:c.depthFunc(c.GEQUAL);break;case ae:c.depthFunc(c.GREATER);break;case oe:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}else c.depthFunc(c.LEQUAL);i=e}},setLocked:function(e){t=e},setClear:function(e){r!==e&&(c.clearDepth(e),r=e)},reset:function(){t=!1,r=i=n=null}}},t=new function(){var t=!1,n=null,i=null,r=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){(e?O:z)(c.STENCIL_TEST)},setMask:function(e){n===e||t||(c.stencilMask(e),n=e)},setFunc:function(e,t,n){i===e&&r===t&&a===n||(c.stencilFunc(e,t,n),i=e,r=t,a=n)},setOp:function(e,t,n){o===e&&s===t&&u===n||(c.stencilOp(e,t,n),o=e,s=t,u=n)},setLocked:function(e){t=e},setClear:function(e){l!==e&&(c.clearStencil(e),l=e)},reset:function(){t=!1,l=u=s=o=a=r=i=n=null}}},e=c.getParameter(c.MAX_VERTEX_ATTRIBS),a=new Uint8Array(e),o=new Uint8Array(e),s=new Uint8Array(e),l={},d=null,h=null,p=null,m=null,f=null,g=null,_=null,y=null,v=null,M=!1,b=null,A=null,w=null,x=null,E=null,L=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS),T=!1,D=0,e=c.getParameter(c.VERSION);-1!==e.indexOf("WebGL")?(D=parseFloat(/^WebGL\ ([0-9])/.exec(e)[1]),T=1<=D):-1!==e.indexOf("OpenGL ES")&&(D=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(e)[1]),T=2<=D);var S=null,N={},C=new Ut,k=new Ut;function I(e,t,n){var i=new Uint8Array(4),r=c.createTexture();c.bindTexture(e,r),c.texParameteri(e,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(e,c.TEXTURE_MAG_FILTER,c.NEAREST);for(var a=0;a<n;a++)c.texImage2D(t+a,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,i);return r}var j={};function O(e){!0!==l[e]&&(c.enable(e),l[e]=!0)}function z(e){!1!==l[e]&&(c.disable(e),l[e]=!1)}function R(e,t,n,i,r,a,o,s){if((e!==Q?O:z)(c.BLEND),e!==K){if(e!==p||s!==M)switch(e){case Z:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.SRC_ALPHA,c.ONE));break;case X:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_COLOR));break;case J:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.SRC_COLOR));break;default:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA))}v=y=_=g=f=m=null}else r=r||t,a=a||n,o=o||i,t===m&&r===_||(c.blendEquationSeparate(u.convert(t),u.convert(r)),m=t,_=r),n===f&&i===g&&a===y&&o===v||(c.blendFuncSeparate(u.convert(n),u.convert(i),u.convert(a),u.convert(o)),f=n,g=i,y=a,v=o);p=e,M=s}function P(e){b!==e&&(e?c.frontFace(c.CW):c.frontFace(c.CCW),b=e)}function Y(e){e!==H?(O(c.CULL_FACE),e!==A&&(e===F?c.cullFace(c.BACK):e===G?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):z(c.CULL_FACE),A=e}function B(e,t,n){e?(O(c.POLYGON_OFFSET_FILL),x===t&&E===n||(c.polygonOffset(t,n),x=t,E=n)):z(c.POLYGON_OFFSET_FILL)}function U(e){void 0===e&&(e=c.TEXTURE0+L-1),S!==e&&(c.activeTexture(e),S=e)}return j[c.TEXTURE_2D]=I(c.TEXTURE_2D,c.TEXTURE_2D,1),j[c.TEXTURE_CUBE_MAP]=I(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),i.setClear(0,0,0,1),r.setClear(1),t.setClear(0),O(c.DEPTH_TEST),r.setFunc(ne),P(!1),Y(F),O(c.CULL_FACE),O(c.BLEND),R(q),{buffers:{color:i,depth:r,stencil:t},initAttributes:function(){for(var e=0,t=a.length;e<t;e++)a[e]=0},enableAttribute:function(e){a[e]=1,0===o[e]&&(c.enableVertexAttribArray(e),o[e]=1),0!==s[e]&&(n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(e,0),s[e]=0)},enableAttributeAndDivisor:function(e,t){a[e]=1,0===o[e]&&(c.enableVertexAttribArray(e),o[e]=1),s[e]!==t&&(n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(e,t),s[e]=t)},disableUnusedAttributes:function(){for(var e=0,t=o.length;e!==t;++e)o[e]!==a[e]&&(c.disableVertexAttribArray(e),o[e]=0)},enable:O,disable:z,getCompressedTextureFormats:function(){if(null===d&&(d=[],n.get("WEBGL_compressed_texture_pvrtc")||n.get("WEBGL_compressed_texture_s3tc")||n.get("WEBGL_compressed_texture_etc1")||n.get("WEBGL_compressed_texture_astc")))for(var e=c.getParameter(c.COMPRESSED_TEXTURE_FORMATS),t=0;t<e.length;t++)d.push(e[t]);return d},useProgram:function(e){return h!==e&&(c.useProgram(e),h=e,!0)},setBlending:R,setMaterial:function(e,t){(e.side===W?z:O)(c.CULL_FACE);var n=e.side===V;t&&(n=!n),P(n),!0===e.transparent?R(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):R(Q),r.setFunc(e.depthFunc),r.setTest(e.depthTest),r.setMask(e.depthWrite),i.setMask(e.colorWrite),B(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:P,setCullFace:Y,setLineWidth:function(e){e!==w&&(T&&c.lineWidth(e),w=e)},setPolygonOffset:B,setScissorTest:function(e){(e?O:z)(c.SCISSOR_TEST)},activeTexture:U,bindTexture:function(e,t){null===S&&U();var n=N[S];void 0===n&&(n={type:void 0,texture:void 0},N[S]=n),n.type===e&&n.texture===t||(c.bindTexture(e,t||j[e]),n.type=e,n.texture=t)},compressedTexImage2D:function(){try{c.compressedTexImage2D.apply(c,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{c.texImage2D.apply(c,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===C.equals(e)&&(c.scissor(e.x,e.y,e.z,e.w),C.copy(e))},viewport:function(e){!1===k.equals(e)&&(c.viewport(e.x,e.y,e.z,e.w),k.copy(e))},reset:function(){for(var e=0;e<o.length;e++)1===o[e]&&(c.disableVertexAttribArray(e),o[e]=0);l={},N={},A=b=p=h=S=d=null,i.reset(),r.reset(),t.reset()}}}function to(t,n,e){var i;function r(e){if("highp"===e){if(0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision?"mediump":"lowp"}var a=void 0!==e.precision?e.precision:"highp",o=r(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);var s=!0===e.logarithmicDepthBuffer,u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),h=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),f=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),o=0<l,e=!!n.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==i)return i;var e=n.get("EXT_texture_filter_anisotropic");return i=null!==e?t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:s,maxTextures:u,maxVertexTextures:l,maxTextureSize:c,maxCubemapSize:d,maxAttributes:h,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:f,vertexTextures:o,floatFragmentTextures:e,floatVertexTextures:o&&e}}function no(e,t,n,i){Ki.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function io(e){no.call(this),this.cameras=e||[]}function ro(n){var i=this,r=null,a=null,o=null,s=new It,u=new It;"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData);var l=new It,c=new jt,d=new Ot,h=new no;h.bounds=new Ut(0,0,.5,1),h.layers.enable(1);var p=new no;p.bounds=new Ut(.5,0,.5,1),p.layers.enable(2);var m,f,g=new io([h,p]);function e(){var e,t;null!==r&&r.isPresenting?(e=(t=r.getEyeParameters("left")).renderWidth,t=t.renderHeight,f=n.getPixelRatio(),m=n.getSize(),n.setDrawingBufferSize(2*e,t,1)):i.enabled&&n.setDrawingBufferSize(m.width,m.height,f)}g.layers.enable(1),g.layers.enable(2),"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",e,!1),this.enabled=!1,this.userHeight=1.6,this.getDevice=function(){return r},this.setDevice=function(e){void 0!==e&&(r=e)},this.setPoseTarget=function(e){void 0!==e&&(o=e)},this.getCamera=function(e){if(null===r)return e;r.depthNear=e.near,r.depthFar=e.far,r.getFrameData(a);var t=r.stageParameters;t?s.fromArray(t.sittingToStandingTransform):s.makeTranslation(0,i.userHeight,0);var n=a.pose,t=null!==o?o:e;if(t.matrix.copy(s),t.matrix.decompose(t.position,t.quaternion,t.scale),null!==n.orientation&&(c.fromArray(n.orientation),t.quaternion.multiply(c)),null!==n.position&&(c.setFromRotationMatrix(s),d.fromArray(n.position),d.applyQuaternion(c),t.position.add(d)),t.updateMatrixWorld(),!1===r.isPresenting)return e;h.near=e.near,p.near=e.near,h.far=e.far,p.far=e.far,g.matrixWorld.copy(e.matrixWorld),g.matrixWorldInverse.copy(e.matrixWorldInverse),h.matrixWorldInverse.fromArray(a.leftViewMatrix),p.matrixWorldInverse.fromArray(a.rightViewMatrix),u.getInverse(s),h.matrixWorldInverse.multiply(u),p.matrixWorldInverse.multiply(u);t=t.parent;null!==t&&(l.getInverse(t.matrixWorld),h.matrixWorldInverse.multiply(l),p.matrixWorldInverse.multiply(l)),h.matrixWorld.getInverse(h.matrixWorldInverse),p.matrixWorld.getInverse(p.matrixWorldInverse),h.projectionMatrix.fromArray(a.leftProjectionMatrix),p.projectionMatrix.fromArray(a.rightProjectionMatrix),g.projectionMatrix.copy(h.projectionMatrix);t=r.getLayers();return t.length&&(null!==(t=t[0]).leftBounds&&4===t.leftBounds.length&&h.bounds.fromArray(t.leftBounds),null!==t.rightBounds&&4===t.rightBounds.length&&p.bounds.fromArray(t.rightBounds)),g},this.getStandingMatrix=function(){return s},this.submitFrame=function(){r&&r.isPresenting&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",e)}}function ao(n){var i={};return{get:function(e){if(void 0!==i[e])return i[e];var t;switch(e){case"WEBGL_depth_texture":t=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":t=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":t=n.getExtension("WEBGL_compressed_texture_etc1");break;default:t=n.getExtension(e)}return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),i[e]=t}}}function oo(){var l=this,c=null,d=0,h=!1,p=!1,m=new Ei,f=new zt,g={value:null,needsUpdate:!1};function _(){g.value!==c&&(g.value=c,g.needsUpdate=0<d),l.numPlanes=d,l.numIntersection=0}function y(e,t,n,i){var r=null!==e?e.length:0,a=null;if(0!==r){if(a=g.value,!0!==i||null===a){var i=n+4*r,o=t.matrixWorldInverse;f.getNormalMatrix(o),(null===a||a.length<i)&&(a=new Float32Array(i));for(var s=0,u=n;s!==r;++s,u+=4)m.copy(e[s]).applyMatrix4(o,f),m.normal.toArray(a,u),a[u+3]=m.constant}g.value=a,g.needsUpdate=!0}return l.numPlanes=r,a}this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,n){var i=0!==e.length||t||0!==d||h;return h=t,c=y(e,n,0),d=e.length,i},this.beginShadows=function(){p=!0,y(null)},this.endShadows=function(){p=!1,_()},this.setState=function(e,t,n,i,r,a){if(!h||null===e||0===e.length||p&&!n)p?y(null):_();else{var n=p?0:d,o=4*n,s=r.clippingState||null;g.value=s,s=y(e,i,o,a);for(var u=0;u!==o;++u)s[u]=c[u];r.clippingState=s,this.numIntersection=t?this.numPlanes:0,this.numPlanes+=n}}}function so(n,i){return{convert:function(e){var t;if(e===be)return n.REPEAT;if(e===Ae)return n.CLAMP_TO_EDGE;if(e===we)return n.MIRRORED_REPEAT;if(e===xe)return n.NEAREST;if(e===Ee)return n.NEAREST_MIPMAP_NEAREST;if(e===De)return n.NEAREST_MIPMAP_LINEAR;if(e===Se)return n.LINEAR;if(e===Ne)return n.LINEAR_MIPMAP_NEAREST;if(e===Ce)return n.LINEAR_MIPMAP_LINEAR;if(e===ke)return n.UNSIGNED_BYTE;if(e===Be)return n.UNSIGNED_SHORT_4_4_4_4;if(e===Ue)return n.UNSIGNED_SHORT_5_5_5_1;if(e===He)return n.UNSIGNED_SHORT_5_6_5;if(e===Ie)return n.BYTE;if(e===je)return n.SHORT;if(e===Oe)return n.UNSIGNED_SHORT;if(e===ze)return n.INT;if(e===Re)return n.UNSIGNED_INT;if(e===Pe)return n.FLOAT;if(e===Ye&&null!==(t=i.get("OES_texture_half_float")))return t.HALF_FLOAT_OES;if(e===Ge)return n.ALPHA;if(e===Ve)return n.RGB;if(e===We)return n.RGBA;if(e===Qe)return n.LUMINANCE;if(e===qe)return n.LUMINANCE_ALPHA;if(e===Xe)return n.DEPTH_COMPONENT;if(e===Je)return n.DEPTH_STENCIL;if(e===w)return n.FUNC_ADD;if(e===x)return n.FUNC_SUBTRACT;if(e===L)return n.FUNC_REVERSE_SUBTRACT;if(e===S)return n.ZERO;if(e===N)return n.ONE;if(e===I)return n.SRC_COLOR;if(e===j)return n.ONE_MINUS_SRC_COLOR;if(e===O)return n.SRC_ALPHA;if(e===z)return n.ONE_MINUS_SRC_ALPHA;if(e===R)return n.DST_ALPHA;if(e===P)return n.ONE_MINUS_DST_ALPHA;if(e===Y)return n.DST_COLOR;if(e===B)return n.ONE_MINUS_DST_COLOR;if(e===U)return n.SRC_ALPHA_SATURATE;if((e===Ke||e===$e||e===et||e===tt)&&null!==(t=i.get("WEBGL_compressed_texture_s3tc"))){if(e===Ke)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===$e)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===et)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===tt)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===nt||e===it||e===rt||e===at)&&null!==(t=i.get("WEBGL_compressed_texture_pvrtc"))){if(e===nt)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===it)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===rt)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===at)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ot&&null!==(t=i.get("WEBGL_compressed_texture_etc1")))return t.COMPRESSED_RGB_ETC1_WEBGL;if((e===st||e===ut||e===lt||e===ct||e===dt||e===ht||e===pt||e===mt||e===ft||e===gt||e===_t||e===yt||e===vt||e===Mt)&&null!==(t=i.get("WEBGL_compressed_texture_astc")))return e;if((e===T||e===D)&&null!==(t=i.get("EXT_blend_minmax"))){if(e===T)return t.MIN_EXT;if(e===D)return t.MAX_EXT}return e===Fe&&null!==(t=i.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:0}}}function uo(){var n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":t={direction:new Ot,color:new kn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"SpotLight":t={position:new Ot,direction:new Ot,color:new kn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"PointLight":t={position:new Ot,color:new kn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new kt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":t={direction:new Ot,skyColor:new kn,groundColor:new kn};break;case"RectAreaLight":t={color:new kn,position:new Ot,halfWidth:new Ot,halfHeight:new Ot}}return n[e.id]=t}}}no.prototype=Object.assign(Object.create(Ki.prototype),{constructor:no,isPerspectiveCamera:!0,copy:function(e,t){return Ki.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e;this.fov=2*Ct.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Ct.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Ct.RAD2DEG*Math.atan(Math.tan(.5*Ct.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e,t=this.near,n=t*Math.tan(.5*Ct.DEG2RAD*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r,o=this.view;null!==this.view&&this.view.enabled&&(e=o.fullWidth,s=o.fullHeight,a+=o.offsetX*r/e,n-=o.offsetY*i/s,r*=o.width/e,i*=o.height/s);var s=this.filmOffset;0!==s&&(a+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,t,this.far)},toJSON:function(e){e=Ji.prototype.toJSON.call(this,e);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),io.prototype=Object.assign(Object.create(no.prototype),{constructor:io,isArrayCamera:!0});var lo,co,ho,po,mo,fo,go,_o,yo,vo,Mo,bo,Ao,wo,xo,Eo,Lo,To,Do=0;function So(){var b=new uo,A={id:Do++,hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},w=new Ot,x=new It,E=new It;return{setup:function(e,t,n){for(var i=0,r=0,a=0,o=0,s=0,u=0,l=0,c=0,d=n.matrixWorldInverse,h=0,p=e.length;h<p;h++){var m,f,g=e[h],_=g.color,y=g.intensity,v=g.distance,M=g.shadow&&g.shadow.map?g.shadow.map.texture:null;g.isAmbientLight?(i+=_.r*y,r+=_.g*y,a+=_.b*y):g.isDirectionalLight?((f=b.get(g)).color.copy(g.color).multiplyScalar(g.intensity),f.direction.setFromMatrixPosition(g.matrixWorld),w.setFromMatrixPosition(g.target.matrixWorld),f.direction.sub(w),f.direction.transformDirection(d),f.shadow=g.castShadow,g.castShadow&&(m=g.shadow,f.shadowBias=m.bias,f.shadowRadius=m.radius,f.shadowMapSize=m.mapSize),A.directionalShadowMap[o]=M,A.directionalShadowMatrix[o]=g.shadow.matrix,A.directional[o]=f,o++):g.isSpotLight?((f=b.get(g)).position.setFromMatrixPosition(g.matrixWorld),f.position.applyMatrix4(d),f.color.copy(_).multiplyScalar(y),f.distance=v,f.direction.setFromMatrixPosition(g.matrixWorld),w.setFromMatrixPosition(g.target.matrixWorld),f.direction.sub(w),f.direction.transformDirection(d),f.coneCos=Math.cos(g.angle),f.penumbraCos=Math.cos(g.angle*(1-g.penumbra)),f.decay=0===g.distance?0:g.decay,f.shadow=g.castShadow,g.castShadow&&(m=g.shadow,f.shadowBias=m.bias,f.shadowRadius=m.radius,f.shadowMapSize=m.mapSize),A.spotShadowMap[u]=M,A.spotShadowMatrix[u]=g.shadow.matrix,A.spot[u]=f,u++):g.isRectAreaLight?((f=b.get(g)).color.copy(_).multiplyScalar(y),f.position.setFromMatrixPosition(g.matrixWorld),f.position.applyMatrix4(d),E.identity(),x.copy(g.matrixWorld),x.premultiply(d),E.extractRotation(x),f.halfWidth.set(.5*g.width,0,0),f.halfHeight.set(0,.5*g.height,0),f.halfWidth.applyMatrix4(E),f.halfHeight.applyMatrix4(E),A.rectArea[l]=f,l++):g.isPointLight?((f=b.get(g)).position.setFromMatrixPosition(g.matrixWorld),f.position.applyMatrix4(d),f.color.copy(g.color).multiplyScalar(g.intensity),f.distance=g.distance,f.decay=0===g.distance?0:g.decay,f.shadow=g.castShadow,g.castShadow&&(m=g.shadow,f.shadowBias=m.bias,f.shadowRadius=m.radius,f.shadowMapSize=m.mapSize,f.shadowCameraNear=m.camera.near,f.shadowCameraFar=m.camera.far),A.pointShadowMap[s]=M,A.pointShadowMatrix[s]=g.shadow.matrix,A.point[s]=f,s++):g.isHemisphereLight&&((f=b.get(g)).direction.setFromMatrixPosition(g.matrixWorld),f.direction.transformDirection(d),f.direction.normalize(),f.skyColor.copy(g.color).multiplyScalar(y),f.groundColor.copy(g.groundColor).multiplyScalar(y),A.hemi[c]=f,c++)}A.ambient[0]=i,A.ambient[1]=r,A.ambient[2]=a,A.directional.length=o,A.spot.length=u,A.rectArea.length=l,A.point.length=s,A.hemi.length=c,A.hash=A.id+","+o+","+s+","+u+","+l+","+c+","+t.length},state:A}}function No(){var t=new So,n=[],i=[],r=[];return{init:function(){n.length=0,i.length=0,r.length=0},state:{lightsArray:n,shadowsArray:i,spritesArray:r,lights:t},setupLights:function(e){t.setup(n,i,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)},pushSprite:function(e){r.push(e)}}}function Co(){var n={};return{get:function(e,t){return e=e.id+","+t.id,void 0===(t=n[e])&&(t=new No,n[e]=t),t},dispose:function(){n={}}}}function ko(e){console.log("THREE.WebGLRenderer","90");var r=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",p=null,E=null;this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Te,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var L,v,T,D,S,c,M,d,m,h,f,g,_,y,b,A,w,x,N=this,C=!1,k=null,I=null,j=-1,O="",z=null,R=null,P=new Ut,Y=new Ut,B=null,U=0,H=r.width,F=r.height,G=1,V=new Ut(0,0,H,F),W=new Ut(0,0,H,F),Q=!1,q=new Li,Z=new oo,X=!1,J=!1,K=new It,$=new Ot,ee={geometries:0,textures:0},te={frame:0,calls:0,vertices:0,faces:0,points:0};function ne(){return null===k?G:1}this.info={render:te,memory:ee,programs:null,autoReset:!0,reset:function(){te.frame++,te.calls=0,te.vertices=0,te.faces=0,te.points=0}};try{var ie={alpha:n,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l};if(r.addEventListener("webglcontextlost",se,!1),r.addEventListener("webglcontextrestored",ue,!1),null===(L=t||r.getContext("webgl",ie)||r.getContext("experimental-webgl",ie)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===L.getShaderPrecisionFormat&&(L.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}function re(){(v=new ao(L)).get("WEBGL_depth_texture"),v.get("OES_texture_float"),v.get("OES_texture_float_linear"),v.get("OES_texture_half_float"),v.get("OES_texture_half_float_linear"),v.get("OES_standard_derivatives"),v.get("OES_element_index_uint"),v.get("ANGLE_instanced_arrays"),x=new so(L,v),T=new to(L,v,e),(D=new eo(L,v,x)).scissor(Y.copy(W).multiplyScalar(G)),D.viewport(P.copy(V).multiplyScalar(G)),S=new $a,c=new Ka(L,v,D,S,T,x,ee,te),M=new Di(L),d=new Ya(L,M,ee),m=new Ba(d,te),y=new za(L),h=new Ja(N,v,T),f=new ja,g=new Co,_=new Na(N,D,d,s),b=new Pa(L,v,te),A=new Ra(L,v,te),w=new Yn(N,L,D,c,T),N.info.programs=h.programs,N.context=L,N.capabilities=T,N.extensions=v,N.properties=S,N.renderLists=f,N.state=D}re();var ae=new ro(N);this.vr=ae;var oe=new Ti(N,m,T.maxTextureSize);function se(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1,re()}function le(e){e=e.target;e.removeEventListener("dispose",le),ce(e=e),S.remove(e)}function ce(e){var t=S.get(e).program;(e.program=void 0)!==t&&h.releaseProgram(t)}this.shadowMap=oe,this.getContext=function(){return L},this.getContextAttributes=function(){return L.getContextAttributes()},this.forceContextLoss=function(){var e=v.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=v.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(e){void 0!==e&&(G=e,this.setSize(H,F,!1))},this.getSize=function(){return{width:H,height:F}},this.setSize=function(e,t,n){var i=ae.getDevice();i&&i.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(H=e,F=t,r.width=e*G,r.height=t*G,!1!==n&&(r.style.width=e+"px",r.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:H*G,height:F*G}},this.setDrawingBufferSize=function(e,t,n){H=e,F=t,G=n,r.width=e*n,r.height=t*n,this.setViewport(0,0,e,t)},this.getCurrentViewport=function(){return P},this.setViewport=function(e,t,n,i){V.set(e,F-t-i,n,i),D.viewport(P.copy(V).multiplyScalar(G))},this.setScissor=function(e,t,n,i){W.set(e,F-t-i,n,i),D.scissor(Y.copy(W).multiplyScalar(G))},this.setScissorTest=function(e){D.setScissorTest(Q=e)},this.getClearColor=function(){return _.getClearColor()},this.setClearColor=function(){_.setClearColor.apply(_,arguments)},this.getClearAlpha=function(){return _.getClearAlpha()},this.setClearAlpha=function(){_.setClearAlpha.apply(_,arguments)},this.clear=function(e,t,n){var i=0;void 0!==e&&!e||(i|=L.COLOR_BUFFER_BIT),void 0!==t&&!t||(i|=L.DEPTH_BUFFER_BIT),void 0!==n&&!n||(i|=L.STENCIL_BUFFER_BIT),L.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,i){this.setRenderTarget(e),this.clear(t,n,i)},this.dispose=function(){r.removeEventListener("webglcontextlost",se,!1),r.removeEventListener("webglcontextrestored",ue,!1),f.dispose(),g.dispose(),S.dispose(),m.dispose(),ae.dispose(),ge()},this.renderBufferImmediate=function(e,t,n){D.initAttributes();var i=S.get(e);e.hasPositions&&!i.position&&(i.position=L.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=L.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=L.createBuffer()),e.hasColors&&!i.color&&(i.color=L.createBuffer());t=t.getAttributes();if(e.hasPositions&&(L.bindBuffer(L.ARRAY_BUFFER,i.position),L.bufferData(L.ARRAY_BUFFER,e.positionArray,L.DYNAMIC_DRAW),D.enableAttribute(t.position),L.vertexAttribPointer(t.position,3,L.FLOAT,!1,0,0)),e.hasNormals){if(L.bindBuffer(L.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var r=0,a=3*e.count;r<a;r+=9){var o=e.normalArray,s=(o[r+0]+o[r+3]+o[r+6])/3,u=(o[r+1]+o[r+4]+o[r+7])/3,l=(o[r+2]+o[r+5]+o[r+8])/3;o[r+0]=s,o[r+1]=u,o[r+2]=l,o[r+3]=s,o[r+4]=u,o[r+5]=l,o[r+6]=s,o[r+7]=u,o[r+8]=l}L.bufferData(L.ARRAY_BUFFER,e.normalArray,L.DYNAMIC_DRAW),D.enableAttribute(t.normal),L.vertexAttribPointer(t.normal,3,L.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(L.bindBuffer(L.ARRAY_BUFFER,i.uv),L.bufferData(L.ARRAY_BUFFER,e.uvArray,L.DYNAMIC_DRAW),D.enableAttribute(t.uv),L.vertexAttribPointer(t.uv,2,L.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Le&&(L.bindBuffer(L.ARRAY_BUFFER,i.color),L.bufferData(L.ARRAY_BUFFER,e.colorArray,L.DYNAMIC_DRAW),D.enableAttribute(t.color),L.vertexAttribPointer(t.color,3,L.FLOAT,!1,0,0)),D.disableUnusedAttributes(),L.drawArrays(L.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,a){var o=r.isMesh&&r.matrixWorld.determinant()<0;D.setMaterial(i,o);var s=Ae(e,t,i,r),u=n.id+"_"+s.id+"_"+(!0===i.wireframe),o=!1;u!==O&&(O=u,o=!0),r.morphTargetInfluences&&(y.update(r,n,i,s),o=!0);e=n.index,t=n.attributes.position,u=1;!0===i.wireframe&&(e=d.getWireframeAttribute(n),u=2);var l=b;null!==e&&(c=M.get(e),(l=A).setIndex(c)),o&&(function(e,t,n,i){if(n&&n.isInstancedBufferGeometry&&null===v.get("ANGLE_instanced_arrays"))return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===i&&(i=0),D.initAttributes();var r,a=n.attributes,o=t.getAttributes(),s=e.defaultAttributeValues;for(r in o){var u=o[r];if(0<=u){var l=a[r];if(void 0!==l){var c,d,h,p,m,f=l.normalized,g=l.itemSize,_=M.get(l);void 0!==_&&(c=_.buffer,d=_.type,h=_.bytesPerElement,l.isInterleavedBufferAttribute?(p=l.data,m=p.stride,_=l.offset,p&&p.isInstancedInterleavedBuffer?(D.enableAttributeAndDivisor(u,p.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=p.meshPerAttribute*p.count)):D.enableAttribute(u),L.bindBuffer(L.ARRAY_BUFFER,c),L.vertexAttribPointer(u,g,d,f,m*h,(i*m+_)*h)):(l.isInstancedBufferAttribute?(D.enableAttributeAndDivisor(u,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):D.enableAttribute(u),L.bindBuffer(L.ARRAY_BUFFER,c),L.vertexAttribPointer(u,g,d,f,0,i*g*h)))}else if(void 0!==s){var y=s[r];if(void 0!==y)switch(y.length){case 2:L.vertexAttrib2fv(u,y);break;case 3:L.vertexAttrib3fv(u,y);break;case 4:L.vertexAttrib4fv(u,y);break;default:L.vertexAttrib1fv(u,y)}}}}D.disableUnusedAttributes()}(i,s,n),null!==e&&L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,c.buffer));s=1/0;null!==e?s=e.count:void 0!==t&&(s=t.count);var c=n.drawRange.start*u,e=n.drawRange.count*u,t=null!==a?a.start*u:0,a=null!==a?a.count*u:1/0,u=Math.max(c,t),a=Math.min(s,c+e,t+a)-1,a=Math.max(0,a-u+1);if(0!==a){if(r.isMesh)if(!0===i.wireframe)D.setLineWidth(i.wireframeLinewidth*ne()),l.setMode(L.LINES);else switch(r.drawMode){case bt:l.setMode(L.TRIANGLES);break;case 1:l.setMode(L.TRIANGLE_STRIP);break;case 2:l.setMode(L.TRIANGLE_FAN)}else r.isLine?(void 0===(i=i.linewidth)&&(i=1),D.setLineWidth(i*ne()),r.isLineSegments?l.setMode(L.LINES):r.isLineLoop?l.setMode(L.LINE_LOOP):l.setMode(L.LINE_STRIP)):r.isPoints&&l.setMode(L.POINTS);n&&n.isInstancedBufferGeometry?0<n.maxInstancedCount&&l.renderInstances(n,u,a):l.render(u,a)}};var de,he,pe,me=!(this.compile=function(n,e){(E=g.get(n,e)).init(),n.traverse(function(e){e.isLight&&(E.pushLight(e),e.castShadow&&E.pushShadow(e))}),E.setupLights(e),n.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var t=0;t<e.material.length;t++)be(e.material[t],n.fog,e);else be(e.material,n.fog,e)})}),fe=null;function ge(){me=!1}function _e(){var e=ae.getDevice();(e&&e.isPresenting?e:window).requestAnimationFrame(ye)}function ye(e){!1!==me&&(fe(e),_e())}function ve(e,t,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,u=o.geometry,l=void 0===i?o.material:i,c=o.group;if(n.isArrayCamera)for(var d=(R=n).cameras,h=0,p=d.length;h<p;h++){var m,f,g,_,y=d[h];s.layers.test(y.layers)&&(m=(_=y.bounds).x*H,f=_.y*F,g=_.z*H,_=_.w*F,D.viewport(P.set(m,f,g,_).multiplyScalar(G)),Me(s,t,y,u,l,c))}else R=null,Me(s,t,n,u,l,c)}}function Me(e,t,n,i,r,a){var o,s,u;e.onBeforeRender(N,t,n,i,r,a),E=g.get(t,R||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject?(o=e.isMesh&&e.matrixWorld.determinant()<0,D.setMaterial(r,o),o=Ae(n,t.fog,r,e),O="",s=o,u=r,e.render(function(e){N.renderBufferImmediate(e,s,u)})):N.renderBufferDirect(n,t.fog,i,r,e,a),e.onAfterRender(N,t,n,i,r,a),E=g.get(t,R||n)}function be(e,t,n){var i=S.get(e),r=E.state.lights,a=E.state.shadowsArray,o=h.getParameters(e,r.state,a,t,Z.numPlanes,Z.numIntersection,n),s=h.getProgramCode(e,o),a=i.program,n=!0;if(void 0===a)e.addEventListener("dispose",le);else if(a.code!==s)ce(e);else if(i.lightsHash!==r.state.hash)S.update(e,"lightsHash",r.state.hash),n=!1;else{if(void 0!==o.shaderID)return;n=!1}n&&(o.shaderID?(n=Rn[o.shaderID],i.shader={name:e.type,uniforms:On.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}):i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader},e.onBeforeCompile(i.shader),a=h.acquireProgram(e,i.shader,o,s),i.program=a,e.program=a);var u=a.getAttributes();if(e.morphTargets)for(var l=e.numSupportedMorphTargets=0;l<N.maxMorphTargets;l++)0<=u["morphTarget"+l]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(l=e.numSupportedMorphNormals=0;l<N.maxMorphNormals;l++)0<=u["morphNormal"+l]&&e.numSupportedMorphNormals++;a=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=Z.numPlanes,i.numIntersection=Z.numIntersection,a.clippingPlanes=Z.uniform),i.fog=t,i.lightsHash=r.state.hash,e.lights&&(a.ambientLightColor.value=r.state.ambient,a.directionalLights.value=r.state.directional,a.spotLights.value=r.state.spot,a.rectAreaLights.value=r.state.rectArea,a.pointLights.value=r.state.point,a.hemisphereLights.value=r.state.hemi,a.directionalShadowMap.value=r.state.directionalShadowMap,a.directionalShadowMatrix.value=r.state.directionalShadowMatrix,a.spotShadowMap.value=r.state.spotShadowMap,a.spotShadowMatrix.value=r.state.spotShadowMatrix,a.pointShadowMap.value=r.state.pointShadowMap,a.pointShadowMatrix.value=r.state.pointShadowMatrix);r=i.program.getUniforms(),a=Nn.seqWithValue(r.seq,a);i.uniformsList=a}function Ae(e,t,n,i){U=0;var r=S.get(n),a=E.state.lights;X&&(!J&&e===z||(x=e===z&&n.id===j,Z.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,x))),!1===n.needsUpdate&&(void 0===r.program||n.fog&&r.fog!==t||n.lights&&r.lightsHash!==a.state.hash||void 0!==r.numClippingPlanes&&(r.numClippingPlanes!==Z.numPlanes||r.numIntersection!==Z.numIntersection))&&(n.needsUpdate=!0),n.needsUpdate&&(be(n,t,i),n.needsUpdate=!1);var o,s,u,l,c,d,h,p,m,f,g,_,y,v=!1,M=!1,b=!1,A=r.program,w=A.getUniforms(),x=r.shader.uniforms;return D.useProgram(A.program)&&(b=M=v=!0),n.id!==j&&(j=n.id,M=!0),!v&&e===z||(w.setValue(L,"projectionMatrix",e.projectionMatrix),T.logarithmicDepthBuffer&&w.setValue(L,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),z!==(R||e)&&(z=R||e,b=M=!0),!(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap)||void 0!==(o=w.map.cameraPosition)&&o.setValue(L,$.setFromMatrixPosition(e.matrixWorld)),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&w.setValue(L,"viewMatrix",e.matrixWorldInverse)),n.skinning&&(w.setOptional(L,i,"bindMatrix"),w.setOptional(L,i,"bindMatrixInverse"),(a=i.skeleton)&&(v=a.bones,T.floatVertexTextures?(void 0===a.boneTexture&&(o=Math.sqrt(4*v.length),o=Ct.ceilPowerOfTwo(o),o=Math.max(o,4),(e=new Float32Array(o*o*4)).set(a.boneMatrices),(v=new Gt(e,o,o,We,Pe)).needsUpdate=!0,a.boneMatrices=e,a.boneTexture=v,a.boneTextureSize=o),w.setValue(L,"boneTexture",a.boneTexture),w.setValue(L,"boneTextureSize",a.boneTextureSize)):w.setOptional(L,a,"boneMatrices"))),M&&(w.setValue(L,"toneMappingExposure",N.toneMappingExposure),w.setValue(L,"toneMappingWhitePoint",N.toneMappingWhitePoint),n.lights&&(M=b,(b=x).ambientLightColor.needsUpdate=M,b.directionalLights.needsUpdate=M,b.pointLights.needsUpdate=M,b.spotLights.needsUpdate=M,b.rectAreaLights.needsUpdate=M,b.hemisphereLights.needsUpdate=M),t&&n.fog&&(y=t,(_=x).fogColor.value=y.color,y.isFog?(_.fogNear.value=y.near,_.fogFar.value=y.far):y.isFogExp2&&(_.fogDensity.value=y.density)),n.isMeshBasicMaterial?we(x,n):n.isMeshLambertMaterial?(we(x,n),_=x,(y=n).emissiveMap&&(_.emissiveMap.value=y.emissiveMap)):n.isMeshPhongMaterial?(we(x,n),n.isMeshToonMaterial?(xe(f=x,g=n),g.gradientMap&&(f.gradientMap.value=g.gradientMap)):xe(x,n)):n.isMeshStandardMaterial?(we(x,n),n.isMeshPhysicalMaterial?(f=n,(g=x).clearCoat.value=f.clearCoat,g.clearCoatRoughness.value=f.clearCoatRoughness,Ee(g,f)):Ee(x,n)):n.isMeshDepthMaterial?(we(x,n),p=x,(m=n).displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)):n.isMeshDistanceMaterial?(we(x,n),p=x,(m=n).displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias),p.referencePosition.value.copy(m.referencePosition),p.nearDistance.value=m.nearDistance,p.farDistance.value=m.farDistance):n.isMeshNormalMaterial?(we(x,n),d=x,(h=n).bumpMap&&(d.bumpMap.value=h.bumpMap,d.bumpScale.value=h.bumpScale),h.normalMap&&(d.normalMap.value=h.normalMap,d.normalScale.value.copy(h.normalScale)),h.displacementMap&&(d.displacementMap.value=h.displacementMap,d.displacementScale.value=h.displacementScale,d.displacementBias.value=h.displacementBias)):n.isLineBasicMaterial?(c=n,(l=x).diffuse.value=c.color,l.opacity.value=c.opacity,n.isLineDashedMaterial&&(u=n,(s=x).dashSize.value=u.dashSize,s.totalSize.value=u.dashSize+u.gapSize,s.scale.value=u.scale)):n.isPointsMaterial?(d=n,(h=x).diffuse.value=d.color,h.opacity.value=d.opacity,h.size.value=d.size*G,h.scale.value=.5*F,h.map.value=d.map,null!==d.map&&(!0===d.map.matrixAutoUpdate&&(l=d.map.offset,c=d.map.repeat,s=d.map.rotation,u=d.map.center,d.map.matrix.setUvTransform(l.x,l.y,c.x,c.y,s,u.x,u.y)),h.uvTransform.value.copy(d.map.matrix))):n.isShadowMaterial&&(x.color.value=n.color,x.opacity.value=n.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=jn.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=jn.LTC_2),Nn.upload(L,r.uniformsList,x,N)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Nn.upload(L,r.uniformsList,x,N),n.uniformsNeedUpdate=!1),w.setValue(L,"modelViewMatrix",i.modelViewMatrix),w.setValue(L,"normalMatrix",i.normalMatrix),w.setValue(L,"modelMatrix",i.matrixWorld),A}function we(e,t){var n,i,r,a;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&(i=n.offset,r=n.repeat,a=n.rotation,t=n.center,n.matrix.setUvTransform(i.x,i.y,r.x,r.y,a,t.x,t.y)),e.uvTransform.value.copy(n.matrix))}function xe(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ee(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}this.animate=function(e){null!==(fe=e)?me||(_e(),me=!0):ge()},this.render=function(e,t,n,i){var r,a;t&&t.isCamera?C||(O="",j=-1,!(z=null)===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ae.enabled&&(t=ae.getCamera(t)),(E=g.get(e,t)).init(),e.onBeforeRender(N,e,t,n),K.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),q.setFromMatrix(K),J=this.localClippingEnabled,X=Z.init(this.clippingPlanes,J,t),(p=f.get(e,t)).init(),function e(t,n,i){if(!1===t.visible)return;var r=t.layers.test(n.layers);if(r)if(t.isLight)E.pushLight(t),t.castShadow&&E.pushShadow(t);else if(t.isSprite)t.frustumCulled&&!q.intersectsSprite(t)||E.pushSprite(t);else if(t.isImmediateRenderObject)i&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K),p.push(t,null,t.material,$.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||q.intersectsObject(t))){i&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K);var a=m.update(t),o=t.material;if(Array.isArray(o))for(var s=a.groups,u=0,l=s.length;u<l;u++){var c=s[u],d=o[c.materialIndex];d&&d.visible&&p.push(t,a,d,$.z,c)}else o.visible&&p.push(t,a,o,$.z,null)}var h=t.children;for(var u=0,l=h.length;u<l;u++)e(h[u],n,i)}(e,t,N.sortObjects),!0===N.sortObjects&&p.sort(),X&&Z.beginShadows(),a=E.state.shadowsArray,oe.render(a,e,t),E.setupLights(t),X&&Z.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),_.render(p,e,t,i),r=p.opaque,a=p.transparent,e.overrideMaterial?(i=e.overrideMaterial,r.length&&ve(r,e,t,i),a.length&&ve(a,e,t,i)):(r.length&&ve(r,e,t),a.length&&ve(a,e,t)),a=E.state.spritesArray,w.render(a,e,t),n&&c.updateRenderTargetMipmap(n),D.buffers.depth.setTest(!0),D.buffers.depth.setMask(!0),D.buffers.color.setMask(!0),D.setPolygonOffset(!1),e.onAfterRender(N,e,t),ae.enabled&&ae.submitFrame(),E=p=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=U;return e>=T.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+T.maxTextures),U+=1,e},this.setTexture2D=(de=!1,function(e,t){e&&e.isWebGLRenderTarget&&(de||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),de=!0),e=e.texture),c.setTexture2D(e,t)}),this.setTexture=(he=!1,function(e,t){he||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),he=!0),c.setTexture2D(e,t)}),this.setTextureCube=(pe=!1,function(e,t){e&&e.isWebGLRenderTargetCube&&(pe||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),pe=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?c.setTextureCube(e,t):c.setTextureCubeDynamic(e,t)}),this.getRenderTarget=function(){return k},this.setRenderTarget=function(e){(k=e)&&void 0===S.get(e).__webglFramebuffer&&c.setupRenderTarget(e);var t,n=null,i=!1;B=e?(t=S.get(e).__webglFramebuffer,e.isWebGLRenderTargetCube?(n=t[e.activeCubeFace],i=!0):n=t,P.copy(e.viewport),Y.copy(e.scissor),e.scissorTest):(P.copy(V).multiplyScalar(G),Y.copy(W).multiplyScalar(G),Q),I!==n&&(L.bindFramebuffer(L.FRAMEBUFFER,n),I=n),D.viewport(P),D.scissor(Y),D.setScissorTest(B),i&&(i=S.get(e.texture),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel))},this.readRenderTargetPixels=function(e,t,n,i,r,a){if(e&&e.isWebGLRenderTarget){var o=S.get(e).__webglFramebuffer;if(o){var s=!1;o!==I&&(L.bindFramebuffer(L.FRAMEBUFFER,o),s=!0);try{var u=e.texture,l=u.format,u=u.type;if(l!==We&&x.convert(l)!==L.getParameter(L.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===ke||x.convert(u)===L.getParameter(L.IMPLEMENTATION_COLOR_READ_TYPE)||u===Pe&&(v.get("OES_texture_float")||v.get("WEBGL_color_buffer_float"))||u===Ye&&v.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");L.checkFramebufferStatus(L.FRAMEBUFFER)===L.FRAMEBUFFER_COMPLETE?0<=t&&t<=e.width-i&&0<=n&&n<=e.height-r&&L.readPixels(t,n,i,r,x.convert(l),x.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&L.bindFramebuffer(L.FRAMEBUFFER,I)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var i=t.image.width,r=t.image.height,a=x.convert(t.format);this.setTexture2D(t,0),L.copyTexImage2D(L.TEXTURE_2D,n||0,a,e.x,e.y,i,r,0)}}function Io(e,t){this.name="",this.color=new kn(e),this.density=void 0!==t?t:25e-5}function jo(e,t,n){this.name="",this.color=new kn(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Oo(){Ji.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function zo(e){yi.call(this),this.type="SpriteMaterial",this.color=new kn(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Ro(e){Ji.call(this),this.type="Sprite",this.material=void 0!==e?e:new zo,this.center=new kt(.5,.5)}function Po(){Ji.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Yo(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new It)}}function Bo(){Ji.call(this),this.type="Bone"}function Uo(e,t){La.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new It,this.bindMatrixInverse=new It;t=new Yo(this.initBones());this.bind(t,this.matrixWorld),this.normalizeSkinWeights()}function Ho(e){yi.call(this),this.type="LineBasicMaterial",this.color=new kn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Fo(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Go(e,t);Ji.call(this),this.type="Line",this.geometry=void 0!==e?e:new ga,this.material=void 0!==t?t:new Ho({color:16777215*Math.random()})}function Go(e,t){Fo.call(this,e,t),this.type="LineSegments"}function Vo(e,t){Fo.call(this,e,t),this.type="LineLoop"}function Wo(e){yi.call(this),this.type="PointsMaterial",this.color=new kn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function Qo(e,t){Ji.call(this),this.type="Points",this.geometry=void 0!==e?e:new ga,this.material=void 0!==t?t:new Wo({color:16777215*Math.random()})}function qo(){Ji.call(this),this.type="Group"}function Zo(e,t,n,i,r,a,o,s,u){Bt.call(this,e,t,n,i,r,a,o,s,u),this.generateMipmaps=!1}function Xo(e,t,n,i,r,a,o,s,u,l,c,d){Bt.call(this,null,a,o,s,u,l,i,r,c,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Jo(e,t,n,i,r,a,o,s,u,l){if((l=void 0!==l?l:Xe)!==Xe&&l!==Je)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Xe&&(n=Oe),void 0===n&&l===Je&&(n=Fe),Bt.call(this,null,i,r,a,o,s,l,n,u),this.image={width:e,height:t},this.magFilter=void 0!==o?o:xe,this.minFilter=void 0!==s?s:xe,this.flipY=!1,this.generateMipmaps=!1}function Ko(e){ga.call(this),this.type="WireframeGeometry";var t,n,i,r,a,o,s=[],u=[0,0],l={},c=["a","b","c"];if(e&&e.isGeometry){for(var d=e.faces,h=0,p=d.length;h<p;h++)for(var m=d[h],f=0;f<3;f++)r=m[c[f]],a=m[c[(f+1)%3]],u[0]=Math.min(r,a),u[1]=Math.max(r,a),void 0===l[o=u[0]+","+u[1]]&&(l[o]={index1:u[0],index2:u[1]});for(o in l)i=l[o],b=e.vertices[i.index1],s.push(b.x,b.y,b.z),b=e.vertices[i.index2],s.push(b.x,b.y,b.z)}else if(e&&e.isBufferGeometry){var g,_,y,v,M,b=new Ot;if(null!==e.index){for(g=e.attributes.position,_=e.index,0===(y=e.groups).length&&(y=[{start:0,count:_.count,materialIndex:0}]),t=0,n=y.length;t<n;++t)for(p=(h=(v=y[t]).start)+v.count;h<p;h+=3)for(f=0;f<3;f++)r=_.getX(h+f),a=_.getX(h+(f+1)%3),u[0]=Math.min(r,a),u[1]=Math.max(r,a),void 0===l[o=u[0]+","+u[1]]&&(l[o]={index1:u[0],index2:u[1]});for(o in l)i=l[o],b.fromBufferAttribute(g,i.index1),s.push(b.x,b.y,b.z),b.fromBufferAttribute(g,i.index2),s.push(b.x,b.y,b.z)}else for(h=0,p=(g=e.attributes.position).count/3;h<p;h++)for(f=0;f<3;f++)M=3*h+f,b.fromBufferAttribute(g,M),s.push(b.x,b.y,b.z),M=3*h+(f+1)%3,b.fromBufferAttribute(g,M),s.push(b.x,b.y,b.z)}this.addAttribute("position",new _r(s,3))}function $o(e,t,n){ur.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new es(e,t,n)),this.mergeVertices()}function es(e,t,n){ga.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};for(var i=[],r=[],a=[],o=[],s=new Ot,u=new Ot,l=new Ot,c=new Ot,d=new Ot,h=t+1,p=0;p<=n;p++)for(var m=p/n,f=0;f<=t;f++){var g=f/t,u=e(g,m,u);r.push(u.x,u.y,u.z),0<=g-1e-5?(l=e(g-1e-5,m,l),c.subVectors(u,l)):(l=e(1e-5+g,m,l),c.subVectors(l,u)),0<=m-1e-5?(l=e(g,m-1e-5,l),d.subVectors(u,l)):(l=e(g,1e-5+m,l),d.subVectors(l,u)),s.crossVectors(c,d).normalize(),a.push(s.x,s.y,s.z),o.push(g,m)}for(p=0;p<n;p++)for(f=0;f<t;f++){var _=p*h+f,y=p*h+f+1,v=(p+1)*h+f+1,M=(p+1)*h+f;i.push(_,y,M),i.push(y,v,M)}this.setIndex(i),this.addAttribute("position",new _r(r,3)),this.addAttribute("normal",new _r(a,3)),this.addAttribute("uv",new _r(o,2))}function ts(e,t,n,i){ur.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new ns(e,t,n,i)),this.mergeVertices()}function ns(n,r,e,t){ga.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:r,radius:e,detail:t},e=e||1;var c=[],d=[];function h(e){c.push(e.x,e.y,e.z)}function a(e,t){e*=3;t.x=n[0+e],t.y=n[1+e],t.z=n[2+e]}function p(e,t,n,i){i<0&&1===e.x&&(d[t]=e.x-1),0===n.x&&0===n.z&&(d[t]=i/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}!function(d){for(var e=new Ot,t=new Ot,n=new Ot,i=0;i<r.length;i+=3)a(r[i+0],e),a(r[i+1],t),a(r[i+2],n),function(e,t,n){var i,r,a=Math.pow(2,d),o=[];for(i=0;i<=a;i++){o[i]=[];var s=e.clone().lerp(n,i/a),u=t.clone().lerp(n,i/a),l=a-i;for(r=0;r<=l;r++)o[i][r]=0===r&&i===a?s:s.clone().lerp(u,r/l)}for(i=0;i<a;i++)for(r=0;r<2*(a-i)-1;r++){var c=Math.floor(r/2);r%2==0?(h(o[i][c+1]),h(o[i+1][c]),h(o[i][c])):(h(o[i][c+1]),h(o[i+1][c+1]),h(o[i+1][c]))}}(e,t,n)}(t=t||0),function(e){for(var t=new Ot,n=0;n<c.length;n+=3)t.x=c[n+0],t.y=c[n+1],t.z=c[n+2],t.normalize().multiplyScalar(e),c[n+0]=t.x,c[n+1]=t.y,c[n+2]=t.z}(e),function(){for(var e=new Ot,t=0;t<c.length;t+=3){e.x=c[t+0],e.y=c[t+1],e.z=c[t+2];var n=m(e)/2/Math.PI+.5,i=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(e)/Math.PI+.5;d.push(n,1-i)}(function(){for(var e=new Ot,t=new Ot,n=new Ot,i=new Ot,r=new kt,a=new kt,o=new kt,s=0,u=0;s<c.length;s+=9,u+=6){e.set(c[s+0],c[s+1],c[s+2]),t.set(c[s+3],c[s+4],c[s+5]),n.set(c[s+6],c[s+7],c[s+8]),r.set(d[u+0],d[u+1]),a.set(d[u+2],d[u+3]),o.set(d[u+4],d[u+5]),i.copy(e).add(t).add(n).divideScalar(3);var l=m(i);p(r,u+0,e,l),p(a,u+2,t,l),p(o,u+4,n,l)}})(),function(){for(var e=0;e<d.length;e+=6){var t=d[e+0],n=d[e+2],i=d[e+4],r=Math.max(t,n,i),a=Math.min(t,n,i);.9<r&&a<.1&&(t<.2&&(d[e+0]+=1),n<.2&&(d[e+2]+=1),i<.2&&(d[e+4]+=1))}}()}(),this.addAttribute("position",new _r(c,3)),this.addAttribute("normal",new _r(c.slice(),3)),this.addAttribute("uv",new _r(d,2)),0===t?this.computeVertexNormals():this.normalizeNormals()}function is(e,t){ur.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new rs(e,t)),this.mergeVertices()}function rs(e,t){ns.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function as(e,t){ur.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new os(e,t)),this.mergeVertices()}function os(e,t){ns.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ss(e,t){ur.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new us(e,t)),this.mergeVertices()}function us(e,t){var n=(1+Math.sqrt(5))/2;ns.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ls(e,t){ur.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new cs(e,t)),this.mergeVertices()}function cs(e,t){var n=(1+Math.sqrt(5))/2,i=1/n;ns.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ds(e,t,n,i,r,a){ur.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");r=new hs(e,t,n,i,r);this.tangents=r.tangents,this.normals=r.normals,this.binormals=r.binormals,this.fromBufferGeometry(r),this.mergeVertices()}function hs(a,o,s,u,e){ga.call(this),this.type="TubeBufferGeometry",this.parameters={path:a,tubularSegments:o,radius:s,radialSegments:u,closed:e},o=o||64,s=s||1,u=u||8,e=e||!1;var l=a.computeFrenetFrames(o,e);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var r,c,d=new Ot,h=new Ot,t=new kt,p=new Ot,m=[],f=[],n=[],g=[];function i(e){p=a.getPointAt(e/o,p);var t=l.normals[e],n=l.binormals[e];for(c=0;c<=u;c++){var i=c/u*Math.PI*2,r=Math.sin(i),i=-Math.cos(i);h.x=i*t.x+r*n.x,h.y=i*t.y+r*n.y,h.z=i*t.z+r*n.z,h.normalize(),f.push(h.x,h.y,h.z),d.x=p.x+s*h.x,d.y=p.y+s*h.y,d.z=p.z+s*h.z,m.push(d.x,d.y,d.z)}}!function(){for(r=0;r<o;r++)i(r);i(!1===e?o:0),function(){for(r=0;r<=o;r++)for(c=0;c<=u;c++)t.x=r/o,t.y=c/u,n.push(t.x,t.y)}(),function(){for(c=1;c<=o;c++)for(r=1;r<=u;r++){var e=(u+1)*(c-1)+(r-1),t=(u+1)*c+(r-1),n=(u+1)*c+r,i=(u+1)*(c-1)+r;g.push(e,t,i),g.push(t,n,i)}}()}(),this.setIndex(g),this.addAttribute("position",new _r(m,3)),this.addAttribute("normal",new _r(f,3)),this.addAttribute("uv",new _r(n,2))}function ps(e,t,n,i,r,a,o){ur.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ms(e,t,n,i,r,a)),this.mergeVertices()}function ms(e,t,n,i,r,a){ga.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,a=a||3;for(var o,s=[],u=[],l=[],c=[],d=new Ot,h=new Ot,p=new Ot,m=new Ot,f=new Ot,g=new Ot,_=new Ot,y=0;y<=n;++y){var v=y/n*r*Math.PI*2;for(L(v,r,a,e,p),L(.01+v,r,a,e,m),g.subVectors(m,p),_.addVectors(m,p),f.crossVectors(g,_),_.crossVectors(f,g),f.normalize(),_.normalize(),o=0;o<=i;++o){var M=o/i*Math.PI*2,b=-t*Math.cos(M),M=t*Math.sin(M);d.x=p.x+(b*_.x+M*f.x),d.y=p.y+(b*_.y+M*f.y),d.z=p.z+(b*_.z+M*f.z),u.push(d.x,d.y,d.z),h.subVectors(d,p).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(o/i)}}for(o=1;o<=n;o++)for(y=1;y<=i;y++){var A=(i+1)*(o-1)+(y-1),w=(i+1)*o+(y-1),x=(i+1)*o+y,E=(i+1)*(o-1)+y;s.push(A,w,E),s.push(w,x,E)}function L(e,t,n,i,r){var a=Math.cos(e),o=Math.sin(e),t=n/t*e,e=Math.cos(t);r.x=i*(2+e)*.5*a,r.y=i*(2+e)*o*.5,r.z=i*Math.sin(t)*.5}this.setIndex(s),this.addAttribute("position",new _r(u,3)),this.addAttribute("normal",new _r(l,3)),this.addAttribute("uv",new _r(c,2))}function fs(e,t,n,i,r){ur.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new gs(e,t,n,i,r)),this.mergeVertices()}function gs(e,t,n,i,r){ga.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;for(var a,o=[],s=[],u=[],l=[],c=new Ot,d=new Ot,h=new Ot,p=0;p<=n;p++)for(a=0;a<=i;a++){var m=a/i*r,f=p/n*Math.PI*2;d.x=(e+t*Math.cos(f))*Math.cos(m),d.y=(e+t*Math.cos(f))*Math.sin(m),d.z=t*Math.sin(f),s.push(d.x,d.y,d.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),h.subVectors(d,c).normalize(),u.push(h.x,h.y,h.z),l.push(a/i),l.push(p/n)}for(p=1;p<=n;p++)for(a=1;a<=i;a++){var g=(i+1)*p+a-1,_=(i+1)*(p-1)+a-1,y=(i+1)*(p-1)+a,v=(i+1)*p+a;o.push(g,_,v),o.push(_,y,v)}this.setIndex(o),this.addAttribute("position",new _r(s,3)),this.addAttribute("normal",new _r(u,3)),this.addAttribute("uv",new _r(l,2))}Io.prototype.isFogExp2=!0,Io.prototype.clone=function(){return new Io(this.color.getHex(),this.density)},Io.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},jo.prototype.isFog=!0,jo.prototype.clone=function(){return new jo(this.color.getHex(),this.near,this.far)},jo.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Oo.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Oo,copy:function(e,t){return Ji.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Ji.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),((zo.prototype=Object.create(yi.prototype)).constructor=zo).prototype.isSpriteMaterial=!0,zo.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},Ro.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Ro,isSprite:!0,raycast:(lo=new Ot,co=new Ot,ho=new Ot,function(e,t){co.setFromMatrixPosition(this.matrixWorld),e.ray.closestPointToPoint(co,lo),ho.setFromMatrixScale(this.matrixWorld);var n=ho.x*ho.y/4;co.distanceToSquared(lo)>n||((n=e.ray.origin.distanceTo(lo))<e.near||n>e.far||t.push({distance:n,point:lo.clone(),face:null,object:this}))}),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Ji.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),Po.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Po,copy:function(e){Ji.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:(fo=new Ot,function(e,t){fo.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(fo);this.getObjectForDistance(n).raycast(e,t)}),update:(po=new Ot,mo=new Ot,function(e){var t=this.levels;if(1<t.length){po.setFromMatrixPosition(e.matrixWorld),mo.setFromMatrixPosition(this.matrixWorld);var n=po.distanceTo(mo);t[0].object.visible=!0;for(var i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(;i<r;i++)t[i].object.visible=!1}}),toJSON:function(e){var t=Ji.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Object.assign(Yo.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new It;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e,t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(go=new It,_o=new It,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=e.length;r<a;r++){var o=e[r]?e[r].matrixWorld:_o;go.multiplyMatrices(o,t[r]),go.toArray(n,16*r)}void 0!==i&&(i.needsUpdate=!0)}),clone:function(){return new Yo(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}}),Bo.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Bo,isBone:!0}),Uo.prototype=Object.assign(Object.create(La.prototype),{constructor:Uo,isSkinnedMesh:!0,initBones:function(){var e,t,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)t=this.geometry.bones[n],e=new Bo,r.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)(-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==r[t.parent]?r[t.parent]:this).add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(r=0;r<this.geometry.skinWeights.length;r++){var e,t=this.geometry.skinWeights[r];(e=1/t.manhattanLength())!==1/0?t.multiplyScalar(e):t.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var n=new Ut,i=this.geometry.attributes.skinWeight,r=0;r<i.count;r++)n.x=i.getX(r),n.y=i.getY(r),n.z=i.getZ(r),n.w=i.getW(r),(e=1/n.manhattanLength())!==1/0?n.multiplyScalar(e):n.set(1,0,0,0),i.setXYZW(r,n.x,n.y,n.z,n.w)},updateMatrixWorld:function(e){La.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((Ho.prototype=Object.create(yi.prototype)).constructor=Ho).prototype.isLineBasicMaterial=!0,Ho.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Fo.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Fo,isLine:!0,computeLineDistances:(bo=new Ot,Ao=new Ot,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)bo.fromBufferAttribute(t,i-1),Ao.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=bo.distanceTo(Ao);e.addAttribute("lineDistance",new THREE.Float32BufferAttribute(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;(n=e.lineDistances)[0]=0;for(i=1,r=a.length;i<r;i++)n[i]=n[i-1],n[i]+=a[i-1].distanceTo(a[i])}return this}),raycast:(yo=new It,vo=new wa,Mo=new xi,function(e,t){var n=e.linePrecision,i=n*n,r=this.geometry,n=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),Mo.copy(r.boundingSphere),Mo.applyMatrix4(n),!1!==e.ray.intersectsSphere(Mo)){yo.getInverse(n),vo.copy(e.ray).applyMatrix4(yo);var a=new Ot,o=new Ot,s=new Ot,u=new Ot,l=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var n=r.index,c=r.attributes.position.array;if(null!==n)for(var d=n.array,h=0,p=d.length-1;h<p;h+=l){var m=d[h],f=d[h+1];a.fromArray(c,3*m),o.fromArray(c,3*f),i<vo.distanceSqToSegment(a,o,u,s)||(u.applyMatrix4(this.matrixWorld),(g=e.ray.origin.distanceTo(u))<e.near||g>e.far||t.push({distance:g,point:s.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this}))}else for(h=0,p=c.length/3-1;h<p;h+=l)a.fromArray(c,3*h),o.fromArray(c,3*h+3),i<vo.distanceSqToSegment(a,o,u,s)||(u.applyMatrix4(this.matrixWorld),(g=e.ray.origin.distanceTo(u))<e.near||g>e.far||t.push({distance:g,point:s.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this}))}else if(r.isGeometry)for(var g,_=r.vertices,y=_.length,h=0;h<y-1;h+=l)i<vo.distanceSqToSegment(_[h],_[h+1],u,s)||(u.applyMatrix4(this.matrixWorld),(g=e.ray.origin.distanceTo(u))<e.near||g>e.far||t.push({distance:g,point:s.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this}))}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Go.prototype=Object.assign(Object.create(Fo.prototype),{constructor:Go,isLineSegments:!0,computeLineDistances:(wo=new Ot,xo=new Ot,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)wo.fromBufferAttribute(t,i),xo.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+wo.distanceTo(xo);e.addAttribute("lineDistance",new THREE.Float32BufferAttribute(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var a=e.vertices,n=e.lineDistances,i=0,r=a.length;i<r;i+=2)wo.copy(a[i]),xo.copy(a[i+1]),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+wo.distanceTo(xo);return this})}),Vo.prototype=Object.assign(Object.create(Fo.prototype),{constructor:Vo,isLineLoop:!0}),((Wo.prototype=Object.create(yi.prototype)).constructor=Wo).prototype.isPointsMaterial=!0,Wo.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},Qo.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Qo,isPoints:!0,raycast:(Eo=new It,Lo=new wa,To=new xi,function(r,a){var o=this,e=this.geometry,s=this.matrixWorld,t=r.params.Points.threshold;if(null===e.boundingSphere&&e.computeBoundingSphere(),To.copy(e.boundingSphere),To.applyMatrix4(s),To.radius+=t,!1!==r.ray.intersectsSphere(To)){Eo.getInverse(s),Lo.copy(r.ray).applyMatrix4(Eo);var t=t/((this.scale.x+this.scale.y+this.scale.z)/3),u=t*t,n=new Ot;if(e.isBufferGeometry){var t=e.index,i=e.attributes.position.array;if(null!==t)for(var l=t.array,c=0,d=l.length;c<d;c++){var h=l[c];n.fromArray(i,3*h),f(n,h)}else for(var c=0,p=i.length/3;c<p;c++)n.fromArray(i,3*c),f(n,c)}else for(var m=e.vertices,c=0,p=m.length;c<p;c++)f(m[c],c)}function f(e,t){var n,i=Lo.distanceSqToPoint(e);i<u&&((n=Lo.closestPointToPoint(e)).applyMatrix4(s),(e=r.ray.origin.distanceTo(n))<r.near||e>r.far||a.push({distance:e,distanceToRay:Math.sqrt(i),point:n.clone(),index:t,face:null,object:o}))}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),qo.prototype=Object.assign(Object.create(Ji.prototype),{constructor:qo,isGroup:!0}),Zo.prototype=Object.assign(Object.create(Bt.prototype),{constructor:Zo,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((Xo.prototype=Object.create(Bt.prototype)).constructor=Xo).prototype.isCompressedTexture=!0,((Jo.prototype=Object.create(Bt.prototype)).constructor=Jo).prototype.isDepthTexture=!0,(Ko.prototype=Object.create(ga.prototype)).constructor=Ko,($o.prototype=Object.create(ur.prototype)).constructor=$o,(es.prototype=Object.create(ga.prototype)).constructor=es,(ts.prototype=Object.create(ur.prototype)).constructor=ts,(ns.prototype=Object.create(ga.prototype)).constructor=ns,(is.prototype=Object.create(ur.prototype)).constructor=is,(rs.prototype=Object.create(ns.prototype)).constructor=rs,(as.prototype=Object.create(ur.prototype)).constructor=as,(os.prototype=Object.create(ns.prototype)).constructor=os,(ss.prototype=Object.create(ur.prototype)).constructor=ss,(us.prototype=Object.create(ns.prototype)).constructor=us,(ls.prototype=Object.create(ur.prototype)).constructor=ls,(cs.prototype=Object.create(ns.prototype)).constructor=cs,(ds.prototype=Object.create(ur.prototype)).constructor=ds,(hs.prototype=Object.create(ga.prototype)).constructor=hs,(ps.prototype=Object.create(ur.prototype)).constructor=ps,(ms.prototype=Object.create(ga.prototype)).constructor=ms,(fs.prototype=Object.create(ur.prototype)).constructor=fs,(gs.prototype=Object.create(ga.prototype)).constructor=gs;var _s=function(e,t,n){n=n||2;var i,r,a,o,s,u,l,c=t&&t.length,d=c?t[0]*n:e.length,h=ys(e,0,d,n,!0),p=[];if(!h)return p;if(c&&(h=function(e,t,n,i){var r,a,o,s,u=[];for(r=0,a=t.length;r<a;r++)o=t[r]*i,s=r<a-1?t[r+1]*i:e.length,(s=ys(e,o,s,i,!1))===s.next&&(s.steiner=!0),u.push(function(e){var t=e,n=e;for(;t.x<n.x&&(n=t),t=t.next,t!==e;);return n}(s));for(u.sort(bs),r=0;r<u.length;r++)!function(e,t){(t=function(e,t){var n,i=t,r=e.x,a=e.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&o<s){if((o=s)===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}}while(i=i.next,i!==t);if(!n)return null;if(r===o)return n.prev;var u,l=n,c=n.x,d=n.y,h=1/0;i=n.next;for(;i!==l;)r>=i.x&&i.x>=c&&r!==i.x&&ws(a<d?r:o,a,c,d,a<d?o:r,a,i.x,i.y)&&((u=Math.abs(a-i.y)/(r-i.x))<h||u===h&&i.x>n.x)&&Ts(i,e)&&(n=i,h=u),i=i.next;return n}(e,t))&&vs(e=Ds(t,e),e.next)}(u[r],n),n=vs(n,n.next);return n}(e,t,h,n)),e.length>80*n){i=a=e[0],r=o=e[1];for(var m=n;m<d;m+=n)(s=e[m])<i&&(i=s),(u=e[m+1])<r&&(r=u),a<s&&(a=s),o<u&&(o=u);l=0!==(l=Math.max(a-i,o-r))?1/l:0}return Ms(h,p,n,i,r,l),p};function ys(e,t,n,i,r){var a,o;if(r===0<function(e,t,n,i){for(var r=0,a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i))for(a=t;a<n;a+=i)o=Ss(a,e[a],e[a+1],o);else for(a=n-i;t<=a;a-=i)o=Ss(a,e[a],e[a+1],o);return o&&Es(o,o.next)&&(Ns(o),o=o.next),o}function vs(e,t){if(!e)return e;t=t||e;var n,i=e;do{if(n=!1,i.steiner||!Es(i,i.next)&&0!==xs(i.prev,i,i.next))i=i.next;else{if(Ns(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Ms(e,t,n,i,r,a,o){if(e){!o&&a&&function(e,t,n,i){for(var r=e;null===r.z&&(r.z=As(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next,r!==e;);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,a,o,s,u,l=1;do{for(n=e,a=e=null,o=0;n;){for(o++,i=n,t=s=0;t<l&&(s++,i=i.nextZ);t++);for(u=l;0<s||0<u&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(n=(r=n).nextZ,s--):(i=(r=i).nextZ,u--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}}while(a.nextZ=null,l*=2,1<o)}(r)}(e,i,r,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?function(e,t,n,i){var r=e.prev,a=e,o=e.next;if(0<=xs(r,a,o))return!1;var s=(r.x<a.x?r.x<o.x?r:o:a.x<o.x?a:o).x,u=(r.y<a.y?r.y<o.y?r:o:a.y<o.y?a:o).y,l=(r.x>a.x?r.x>o.x?r:o:a.x>o.x?a:o).x,c=(r.y>a.y?r.y>o.y?r:o:a.y>o.y?a:o).y,d=As(s,u,t,n,i),h=As(l,c,t,n,i),p=e.nextZ;for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&ws(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=xs(p.prev,p,p.next))return!1;p=p.nextZ}p=e.prevZ;for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&ws(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=xs(p.prev,p,p.next))return!1;p=p.prevZ}return!0}(e,i,r,a):function(e){var t=e.prev,n=e,i=e.next;if(0<=xs(t,n,i))return!1;var r=e.next.next;for(;r!==e.prev;){if(ws(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&0<=xs(r.prev,r,r.next))return!1;r=r.next}return!0}(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Ns(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Ms(e=function(e,t,n){var i=e;do{var r=i.prev,a=i.next.next}while(!Es(r,a)&&Ls(r,i,i.next,a)&&Ts(r,a)&&Ts(a,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(a.i/n),Ns(i),Ns(i.next),i=e=a),i=i.next,i!==e);return i}(e,t,n),t,n,i,r,a,2):2===o&&function(e,t,n,i,r,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ls(n,n.next,e,t))return!0}while(n=n.next,n!==e);return!1}(e,t)&&Ts(e,t)&&Ts(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;for(;n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next,n!==e;);return i}(e,t)}(o,s)){var u=Ds(o,s);return o=vs(o,o.next),u=vs(u,u.next),Ms(o,t,n,i,r,a),Ms(u,t,n,i,r,a)}s=s.next}}while((o=o.next)!==e)}(e,t,n,i,r,a):Ms(vs(e),t,n,i,r,a,1);break}}}function bs(e,t){return e.x-t.x}function As(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ws(e,t,n,i,r,a,o,s){return 0<=(r-o)*(t-s)-(e-o)*(a-s)&&0<=(e-o)*(i-s)-(n-o)*(t-s)&&0<=(n-o)*(a-s)-(r-o)*(i-s)}function xs(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Es(e,t){return e.x===t.x&&e.y===t.y}function Ls(e,t,n,i){return Es(e,t)&&Es(n,i)||Es(e,i)&&Es(n,t)||0<xs(e,t,n)!=0<xs(e,t,i)&&0<xs(n,i,e)!=0<xs(n,i,t)}function Ts(e,t){return xs(e.prev,e,e.next)<0?0<=xs(e,t,e.next)&&0<=xs(e,e.prev,t):xs(e,t,e.prev)<0||xs(e,e.next,t)<0}function Ds(e,t){var n=new Cs(e.i,e.x,e.y),i=new Cs(t.i,t.x,t.y),r=e.next,a=t.prev;return(e.next=t).prev=e,(n.next=r).prev=n,(i.next=n).prev=i,(a.next=i).prev=a,i}function Ss(e,t,n,i){n=new Cs(e,t,n);return i?(n.next=i.next,(n.prev=i).next.prev=n,i.next=n):(n.prev=n).next=n,n}function Ns(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Cs(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ks={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return ks.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];Is(e),js(n,e);var a=e.length;t.forEach(Is);for(var o=0;o<t.length;o++)i.push(a),a+=t[o].length,js(n,t[o]);for(var s=_s(n,i),o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function Is(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function js(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Os(e,t){ur.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new zs(e,t)),this.mergeVertices()}function zs(e,t){void 0!==e&&(ga.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function Rs(e,t){ur.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Ps(e,t)),this.mergeVertices()}function Ps(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ur;e=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),zs.call(this,e,t),this.type="TextBufferGeometry"}function Ys(e,t,n,i,r,a,o){ur.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Bs(e,t,n,i,r,a,o)),this.mergeVertices()}function Bs(e,t,n,i,r,a,o){ga.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;for(var s=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),u=0,l=[],c=new Ot,d=new Ot,h=[],p=[],m=[],f=[],g=0;g<=n;g++){for(var _=[],y=g/n,v=0;v<=t;v++){var M=v/t;c.x=-e*Math.cos(i+M*r)*Math.sin(a+y*o),c.y=e*Math.cos(a+y*o),c.z=e*Math.sin(i+M*r)*Math.sin(a+y*o),p.push(c.x,c.y,c.z),d.set(c.x,c.y,c.z).normalize(),m.push(d.x,d.y,d.z),f.push(M,1-y),_.push(u++)}l.push(_)}for(g=0;g<n;g++)for(v=0;v<t;v++){var b=l[g][v+1],A=l[g][v],w=l[g+1][v],x=l[g+1][v+1];(0!==g||0<a)&&h.push(b,A,x),(g!==n-1||s<Math.PI)&&h.push(A,w,x)}this.setIndex(h),this.addAttribute("position",new _r(p,3)),this.addAttribute("normal",new _r(m,3)),this.addAttribute("uv",new _r(f,2))}function Us(e,t,n,i,r,a){ur.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Hs(e,t,n,i,r,a)),this.mergeVertices()}function Hs(e,t,n,i,r,a){ga.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},e=e||.5,t=t||1,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;for(var o,s=[],u=[],l=[],c=[],d=e,h=(t-e)/(i=void 0!==i?Math.max(1,i):1),p=new Ot,m=new kt,f=0;f<=i;f++){for(_=0;_<=n;_++)o=r+_/n*a,p.x=d*Math.cos(o),p.y=d*Math.sin(o),u.push(p.x,p.y,p.z),l.push(0,0,1),m.x=(p.x/t+1)/2,m.y=(p.y/t+1)/2,c.push(m.x,m.y);d+=h}for(f=0;f<i;f++)for(var g=f*(n+1),_=0;_<n;_++){var y=(o=_+g)+n+1,v=o+n+2,M=o+1;s.push(o,y,M),s.push(y,v,M)}this.setIndex(s),this.addAttribute("position",new _r(u,3)),this.addAttribute("normal",new _r(l,3)),this.addAttribute("uv",new _r(c,2))}function Fs(e,t,n,i){ur.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new Gs(e,t,n,i)),this.mergeVertices()}function Gs(e,t,n,i){ga.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=Ct.clamp(i,0,2*Math.PI);var r=[],a=[],o=[],s=1/t,u=new Ot,l=new kt;for(A=0;A<=t;A++)for(var c=n+A*s*i,d=Math.sin(c),h=Math.cos(c),p=0;p<=e.length-1;p++)u.x=e[p].x*d,u.y=e[p].y,u.z=e[p].x*h,a.push(u.x,u.y,u.z),l.x=A/t,l.y=p/(e.length-1),o.push(l.x,l.y);for(A=0;A<t;A++)for(p=0;p<e.length-1;p++){var m=(b=p+A*e.length)+e.length,f=b+e.length+1,g=b+1;r.push(b,m,g),r.push(m,f,g)}if(this.setIndex(r),this.addAttribute("position",new _r(a,3)),this.addAttribute("uv",new _r(o,2)),this.computeVertexNormals(),i===2*Math.PI){var _=this.attributes.normal.array,y=new Ot,v=new Ot,M=new Ot,b=t*e.length*3,A=0;for(p=0;A<e.length;A++,p+=3)y.x=_[p+0],y.y=_[p+1],y.z=_[p+2],v.x=_[b+p+0],v.y=_[b+p+1],v.z=_[b+p+2],M.addVectors(y,v).normalize(),_[p+0]=_[b+p+0]=M.x,_[p+1]=_[b+p+1]=M.y,_[p+2]=_[b+p+2]=M.z}}function Vs(e,t){ur.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Ws(e,t)),this.mergeVertices()}function Ws(e,h){ga.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:h},h=h||12;var p=[],m=[],f=[],g=[],t=0,_=0;if(!1===Array.isArray(e))i(e);else for(var n=0;n<e.length;n++)i(e[n]),this.addGroup(t,_,n),t+=_,_=0;function i(e){var t,n=m.length/3,e=e.extractPoints(h),i=e.shape,r=e.holes;if(!1===ks.isClockWise(i))for(i=i.reverse(),o=0,s=r.length;o<s;o++)t=r[o],!0===ks.isClockWise(t)&&(r[o]=t.reverse());for(var a=ks.triangulateShape(i,r),o=0,s=r.length;o<s;o++)t=r[o],i=i.concat(t);for(o=0,s=i.length;o<s;o++){var u=i[o];m.push(u.x,u.y,0),f.push(0,0,1),g.push(u.x,u.y)}for(o=0,s=a.length;o<s;o++){var l=a[o],c=l[0]+n,d=l[1]+n,l=l[2]+n;p.push(c,d,l),_+=3}}this.setIndex(p),this.addAttribute("position",new _r(m,3)),this.addAttribute("normal",new _r(f,3)),this.addAttribute("uv",new _r(g,2))}function Qs(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function qs(e,t){ga.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,a,o=[],s=Math.cos(Ct.DEG2RAD*t),u=[0,0],l={},c=["a","b","c"];e.isBufferGeometry?(a=new ur).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var d=a.vertices,h=a.faces,p=0,m=h.length;p<m;p++)for(var f=h[p],g=0;g<3;g++)n=f[c[g]],i=f[c[(g+1)%3]],u[0]=Math.min(n,i),u[1]=Math.max(n,i),void 0===l[r=u[0]+","+u[1]]?l[r]={index1:u[0],index2:u[1],face1:p,face2:void 0}:l[r].face2=p;for(r in l){var _,y=l[r];(void 0===y.face2||h[y.face1].normal.dot(h[y.face2].normal)<=s)&&(_=d[y.index1],o.push(_.x,_.y,_.z),_=d[y.index2],o.push(_.x,_.y,_.z))}this.addAttribute("position",new _r(o,3))}function Zs(e,t,n,i,r,a,o,s){ur.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Xs(e,t,n,i,r,a,o,s)),this.mergeVertices()}function Xs(g,_,y,v,M,e,b,A){ga.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:g,radiusBottom:_,height:y,radialSegments:v,heightSegments:M,openEnded:e,thetaStart:b,thetaLength:A};var w=this;g=void 0!==g?g:1,_=void 0!==_?_:1,y=y||1,v=Math.floor(v)||8,M=Math.floor(M)||1,e=void 0!==e&&e,b=void 0!==b?b:0,A=void 0!==A?A:2*Math.PI;var x=[],E=[],L=[],T=[],D=0,S=[],N=y/2,C=0;function t(e){for(var t,n=new kt,i=new Ot,r=0,a=!0===e?g:_,o=!0===e?1:-1,s=D,u=1;u<=v;u++)E.push(0,N*o,0),L.push(0,o,0),T.push(.5,.5),D++;for(t=D,u=0;u<=v;u++){var l=u/v*A+b,c=Math.cos(l),l=Math.sin(l);i.x=a*l,i.y=N*o,i.z=a*c,E.push(i.x,i.y,i.z),L.push(0,o,0),n.x=.5*c+.5,n.y=.5*l*o+.5,T.push(n.x,n.y),D++}for(u=0;u<v;u++){var d=s+u,h=t+u;!0===e?x.push(h,h+1,d):x.push(h+1,h,d),r+=3}w.addGroup(C,r,!0===e?1:2),C+=r}!function(){var e,t,n=new Ot,i=new Ot,r=0,a=(_-g)/y;for(t=0;t<=M;t++){var o=[],s=t/M,u=s*(_-g)+g;for(e=0;e<=v;e++){var l=e/v,c=l*A+b,d=Math.sin(c),c=Math.cos(c);i.x=u*d,i.y=-s*y+N,i.z=u*c,E.push(i.x,i.y,i.z),n.set(d,a,c).normalize(),L.push(n.x,n.y,n.z),T.push(l,1-s),o.push(D++)}S.push(o)}for(e=0;e<v;e++)for(t=0;t<M;t++){var h=S[t][e],p=S[t+1][e],m=S[t+1][e+1],f=S[t][e+1];x.push(h,p,f),x.push(p,m,f),r+=6}w.addGroup(C,r,0),C+=r}(),!1===e&&(0<g&&t(!0),0<_&&t(!1)),this.setIndex(x),this.addAttribute("position",new _r(E,3)),this.addAttribute("normal",new _r(L,3)),this.addAttribute("uv",new _r(T,2))}function Js(e,t,n,i,r,a,o){Zs.call(this,0,e,t,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function Ks(e,t,n,i,r,a,o){Xs.call(this,0,e,t,n,i,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function $s(e,t,n,i){ur.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new eu(e,t,n,i)),this.mergeVertices()}function eu(e,t,n,i){ga.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,a,o=[],s=[],u=[],l=[],c=new Ot,d=new kt;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,r=3;a<=t;a++,r+=3){var h=n+a/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),u.push(0,0,1),d.x=(s[r]/e+1)/2,d.y=(s[r+1]/e+1)/2,l.push(d.x,d.y)}for(r=1;r<=t;r++)o.push(r,r+1,0);this.setIndex(o),this.addAttribute("position",new _r(s,3)),this.addAttribute("normal",new _r(u,3)),this.addAttribute("uv",new _r(l,2))}(Os.prototype=Object.create(ur.prototype)).constructor=Os,((zs.prototype=Object.create(ga.prototype)).constructor=zs).prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),e=n?Array.prototype.slice.call(n.array):[],n=this.index;return{position:t,uv:e,index:n?Array.prototype.slice.call(n.array):[]}},zs.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++){var r=e[i];this.addShape(r,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new _r(t.arrays.position,3)),this.addAttribute("uv",new _r(t.arrays.uv,2))},zs.prototype.addShape=function(e,n){var t,i,r,a,o,s,u=n.arrays||this.getArrays(),c=u.position,l=u.index,d=u.uv,h=[],p=void 0!==n.amount?n.amount:100,m=void 0!==n.bevelThickness?n.bevelThickness:6,f=void 0!==n.bevelSize?n.bevelSize:m-2,g=void 0!==n.bevelSegments?n.bevelSegments:3,_=void 0===n.bevelEnabled||n.bevelEnabled,y=void 0!==n.curveSegments?n.curveSegments:12,v=void 0!==n.steps?n.steps:1,u=n.extrudePath,M=!1,b=void 0!==n.UVGenerator?n.UVGenerator:Os.WorldUVGenerator;u&&(t=u.getSpacedPoints(v),_=!(M=!0),i=void 0!==n.frames?n.frames:u.computeFrenetFrames(v,!1),r=new Ot,a=new Ot,o=new Ot),_||(f=m=g=0);var A=this,y=e.extractPoints(y),w=y.shape,x=y.holes;if(!ks.isClockWise(w))for(w=w.reverse(),T=0,D=x.length;T<D;T++)s=x[T],ks.isClockWise(s)&&(x[T]=s.reverse());for(var E=ks.triangulateShape(w,x),L=w,T=0,D=x.length;T<D;T++)s=x[T],w=w.concat(s);function S(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var N,C,k,I,j,O,z=w.length,R=E.length;function P(e,t,n){var i=e.x-t.x,r=e.y-t.y,a=n.x-e.x,o=n.y-e.y,s=i*i+r*r,u=i*o-r*a;if(Math.abs(u)>Number.EPSILON){var l=Math.sqrt(s),c=Math.sqrt(a*a+o*o),d=t.x-r/l,h=t.y+i/l,l=((n.x-o/c-d)*o-(n.y+a/c-h)*a)/(i*o-r*a),h=(c=d+i*l-e.x)*c+(d=h+r*l-e.y)*d;if(h<=2)return new kt(c,d);l=Math.sqrt(h/2)}else{h=!1;i>Number.EPSILON?a>Number.EPSILON&&(h=!0):i<-Number.EPSILON?a<-Number.EPSILON&&(h=!0):Math.sign(r)===Math.sign(o)&&(h=!0),l=h?(c=-r,d=i,Math.sqrt(s)):(c=i,d=r,Math.sqrt(s/2))}return new kt(c/l,d/l)}for(var Y=[],B=0,U=L.length,H=U-1,F=B+1;B<U;B++,H++,F++)H===U&&(H=0),F===U&&(F=0),Y[B]=P(L[B],L[H],L[F]);var G,V,W=[],Q=Y.concat();for(T=0,D=x.length;T<D;T++){for(s=x[T],G=[],B=0,H=(U=s.length)-1,F=B+1;B<U;B++,H++,F++)H===U&&(H=0),F===U&&(F=0),G[B]=P(s[B],s[H],s[F]);W.push(G),Q=Q.concat(G)}for(N=0;N<g;N++){for(k=N/g,I=m*Math.cos(k*Math.PI/2),C=f*Math.sin(k*Math.PI/2),B=0,U=L.length;B<U;B++)Z((j=S(L[B],Y[B],C)).x,j.y,-I);for(T=0,D=x.length;T<D;T++)for(s=x[T],G=W[T],B=0,U=s.length;B<U;B++)Z((j=S(s[B],G[B],C)).x,j.y,-I)}for(C=f,B=0;B<z;B++)j=_?S(w[B],Q[B],C):w[B],M?(a.copy(i.normals[0]).multiplyScalar(j.x),r.copy(i.binormals[0]).multiplyScalar(j.y),o.copy(t[0]).add(a).add(r),Z(o.x,o.y,o.z)):Z(j.x,j.y,0);for(V=1;V<=v;V++)for(B=0;B<z;B++)j=_?S(w[B],Q[B],C):w[B],M?(a.copy(i.normals[V]).multiplyScalar(j.x),r.copy(i.binormals[V]).multiplyScalar(j.y),o.copy(t[V]).add(a).add(r),Z(o.x,o.y,o.z)):Z(j.x,j.y,p/v*V);for(N=g-1;0<=N;N--){for(k=N/g,I=m*Math.cos(k*Math.PI/2),C=f*Math.sin(k*Math.PI/2),B=0,U=L.length;B<U;B++)Z((j=S(L[B],Y[B],C)).x,j.y,p+I);for(T=0,D=x.length;T<D;T++)for(s=x[T],G=W[T],B=0,U=s.length;B<U;B++)j=S(s[B],G[B],C),M?Z(j.x,j.y+t[v-1].y,t[v-1].x+I):Z(j.x,j.y,p+I)}function q(e,t){var n,i,r;for(B=e.length;0<=--B;){(i=(n=B)-1)<0&&(i=e.length-1);for(var a=0,o=v+2*g,a=0;a<o;a++){var s=z*a,u=z*(a+1),l=t+n+s;r=t+i+s,s=t+i+u,u=t+n+u,J(l),J(r),J(u),J(r),J(s),J(u),u=c.length/3,K((u=b.generateSideWallUV(A,c,u-6,u-3,u-2,u-1))[0]),K(u[1]),K(u[3]),K(u[1]),K(u[2]),!void K(u[3])}}}function Z(e,t,n){h.push(e),h.push(t),h.push(n)}function X(e,t,n){J(e),J(t),J(n);n=c.length/3,n=b.generateTopUV(A,c,n-3,n-2,n-1);K(n[0]),K(n[1]),K(n[2])}function J(e){l.push(c.length/3),c.push(h[3*e+0]),c.push(h[3*e+1]),c.push(h[3*e+2])}function K(e){d.push(e.x),d.push(e.y)}!function(){var e=c.length/3;if(_){var t=0*z;for(B=0;B<R;B++)X((O=E[B])[2]+t,O[1]+t,O[0]+t);for(t=z*(v+2*g),B=0;B<R;B++)X((O=E[B])[0]+t,O[1]+t,O[2]+t)}else{for(B=0;B<R;B++)X((O=E[B])[2],O[1],O[0]);for(B=0;B<R;B++)X((O=E[B])[0]+z*v,O[1]+z*v,O[2]+z*v)}A.addGroup(e,c.length/3-e,void 0!==n.material?n.material:0)}(),function(){var e=c.length/3,t=0;for(q(L,t),t+=L.length,T=0,D=x.length;T<D;T++)q(s=x[T],t),t+=s.length;A.addGroup(e,c.length/3-e,void 0!==n.extrudeMaterial?n.extrudeMaterial:1)}(),n.arrays||(this.setIndex(l),this.addAttribute("position",new _r(c,3)),this.addAttribute("uv",new _r(d,2)))},Os.WorldUVGenerator={generateTopUV:function(e,t,n,i,r){var a=t[3*n],o=t[3*n+1],s=t[3*i],n=t[3*i+1],i=t[3*r],r=t[3*r+1];return[new kt(a,o),new kt(s,n),new kt(i,r)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*i],c=t[3*i+1],d=t[3*i+2],h=t[3*r],p=t[3*r+1],n=t[3*r+2],i=t[3*a],r=t[3*a+1],a=t[3*a+2];return Math.abs(s-c)<.01?[new kt(o,1-u),new kt(l,1-d),new kt(h,1-n),new kt(i,1-a)]:[new kt(s,1-u),new kt(c,1-d),new kt(p,1-n),new kt(r,1-a)]}},(Rs.prototype=Object.create(ur.prototype)).constructor=Rs,(Ps.prototype=Object.create(zs.prototype)).constructor=Ps,(Ys.prototype=Object.create(ur.prototype)).constructor=Ys,(Bs.prototype=Object.create(ga.prototype)).constructor=Bs,(Us.prototype=Object.create(ur.prototype)).constructor=Us,(Hs.prototype=Object.create(ga.prototype)).constructor=Hs,(Fs.prototype=Object.create(ur.prototype)).constructor=Fs,(Gs.prototype=Object.create(ga.prototype)).constructor=Gs,((Vs.prototype=Object.create(ur.prototype)).constructor=Vs).prototype.toJSON=function(){var e=ur.prototype.toJSON.call(this);return Qs(this.parameters.shapes,e)},((Ws.prototype=Object.create(ga.prototype)).constructor=Ws).prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return Qs(this.parameters.shapes,e)},(qs.prototype=Object.create(ga.prototype)).constructor=qs,(Zs.prototype=Object.create(ur.prototype)).constructor=Zs,(Xs.prototype=Object.create(ga.prototype)).constructor=Xs,(Js.prototype=Object.create(Zs.prototype)).constructor=Js,(Ks.prototype=Object.create(Xs.prototype)).constructor=Ks,($s.prototype=Object.create(ur.prototype)).constructor=$s,(eu.prototype=Object.create(ga.prototype)).constructor=eu;var tu=Object.freeze({WireframeGeometry:Ko,ParametricGeometry:$o,ParametricBufferGeometry:es,TetrahedronGeometry:is,TetrahedronBufferGeometry:rs,OctahedronGeometry:as,OctahedronBufferGeometry:os,IcosahedronGeometry:ss,IcosahedronBufferGeometry:us,DodecahedronGeometry:ls,DodecahedronBufferGeometry:cs,PolyhedronGeometry:ts,PolyhedronBufferGeometry:ns,TubeGeometry:ds,TubeBufferGeometry:hs,TorusKnotGeometry:ps,TorusKnotBufferGeometry:ms,TorusGeometry:fs,TorusBufferGeometry:gs,TextGeometry:Rs,TextBufferGeometry:Ps,SphereGeometry:Ys,SphereBufferGeometry:Bs,RingGeometry:Us,RingBufferGeometry:Hs,PlaneGeometry:va,PlaneBufferGeometry:Ma,LatheGeometry:Fs,LatheBufferGeometry:Gs,ShapeGeometry:Vs,ShapeBufferGeometry:Ws,ExtrudeGeometry:Os,ExtrudeBufferGeometry:zs,EdgesGeometry:qs,ConeGeometry:Js,ConeBufferGeometry:Ks,CylinderGeometry:Zs,CylinderBufferGeometry:Xs,CircleGeometry:$s,CircleBufferGeometry:eu,BoxGeometry:_a,BoxBufferGeometry:ya});function nu(e){yi.call(this),this.type="ShadowMaterial",this.color=new kn(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function iu(e){Aa.call(this,e),this.type="RawShaderMaterial"}function ru(e){yi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new kn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function au(e){ru.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function ou(e){yi.call(this),this.type="MeshPhongMaterial",this.color=new kn(16777215),this.specular=new kn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=se,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function su(e){ou.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function uu(e){yi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function lu(e){yi.call(this),this.type="MeshLambertMaterial",this.color=new kn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=se,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function cu(e){Ho.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}((nu.prototype=Object.create(yi.prototype)).constructor=nu).prototype.isShadowMaterial=!0,((iu.prototype=Object.create(Aa.prototype)).constructor=iu).prototype.isRawShaderMaterial=!0,((ru.prototype=Object.create(yi.prototype)).constructor=ru).prototype.isMeshStandardMaterial=!0,ru.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((au.prototype=Object.create(ru.prototype)).constructor=au).prototype.isMeshPhysicalMaterial=!0,au.prototype.copy=function(e){return ru.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},((ou.prototype=Object.create(yi.prototype)).constructor=ou).prototype.isMeshPhongMaterial=!0,ou.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((su.prototype=Object.create(ou.prototype)).constructor=su).prototype.isMeshToonMaterial=!0,su.prototype.copy=function(e){return ou.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},((uu.prototype=Object.create(yi.prototype)).constructor=uu).prototype.isMeshNormalMaterial=!0,uu.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((lu.prototype=Object.create(yi.prototype)).constructor=lu).prototype.isMeshLambertMaterial=!0,lu.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((cu.prototype=Object.create(Ho.prototype)).constructor=cu).prototype.isLineDashedMaterial=!0,cu.prototype.copy=function(e){return Ho.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var du=Object.freeze({ShadowMaterial:nu,SpriteMaterial:zo,RawShaderMaterial:iu,ShaderMaterial:Aa,PointsMaterial:Wo,MeshPhysicalMaterial:au,MeshStandardMaterial:ru,MeshPhongMaterial:ou,MeshToonMaterial:su,MeshNormalMaterial:uu,MeshLambertMaterial:lu,MeshDepthMaterial:vi,MeshDistanceMaterial:Mi,MeshBasicMaterial:ba,LineDashedMaterial:cu,LineBasicMaterial:Ho,Material:yi}),hu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function pu(e,t,n){var i=this,r=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var mu=new pu,fu={};function gu(e){this.manager=void 0!==e?e:mu}function _u(e){this.manager=void 0!==e?e:mu,this._parser=null}function yu(e){this.manager=void 0!==e?e:mu,this._parser=null}function vu(e){this.manager=void 0!==e?e:mu}function Mu(e){this.manager=void 0!==e?e:mu}function bu(e){this.manager=void 0!==e?e:mu}function Au(){this.type="Curve",this.arcLengthDivisions=200}function wu(e,t,n,i,r,a,o,s){Au.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function xu(e,t,n,i,r,a){wu.call(this,e,t,n,n,i,r,a),this.type="ArcCurve"}function Eu(){var r=0,a=0,o=0,s=0;function u(e,t,n,i){o=-3*(r=e)+3*t-2*(a=n)-i,s=2*e-2*t+n+i}return{initCatmullRom:function(e,t,n,i,r){u(t,n,r*(n-e),r*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,r,a,o){r=(t-e)/r-(n-e)/(r+a)+(n-t)/a,o=(n-t)/a-(i-t)/(a+o)+(i-n)/o;u(t,n,r*=a,o*=a)},calc:function(e){var t=e*e;return r+a*e+o*t+s*(t*e)}}}Object.assign(gu.prototype,{load:function(o,e,t,n){void 0===o&&(o=""),void 0!==this.path&&(o=this.path+o),o=this.manager.resolveURL(o);var s=this,i=hu.get(o);if(void 0!==i)return s.manager.itemStart(o),setTimeout(function(){e&&e(i),s.manager.itemEnd(o)},0),i;if(void 0===fu[o]){var r=o.match(/^data:(.*?)(;base64)?,(.*)$/);if(r){var a=r[1],u=!!r[2],l=r[3],l=window.decodeURIComponent(l);u&&(l=window.atob(l));try{var c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var d=new Uint8Array(l.length),h=0;h<l.length;h++)d[h]=l.charCodeAt(h);p="blob"===c?new Blob([d.buffer],{type:a}):d.buffer;break;case"document":var p=(new DOMParser).parseFromString(l,a);break;case"json":p=JSON.parse(l);break;default:p=l}window.setTimeout(function(){e&&e(p),s.manager.itemEnd(o)},0)}catch(e){window.setTimeout(function(){n&&n(e),s.manager.itemEnd(o),s.manager.itemError(o)},0)}}else{fu[o]=[],fu[o].push({onLoad:e,onProgress:t,onError:n});var m,f=new XMLHttpRequest;for(m in f.open("GET",o,!0),f.addEventListener("load",function(e){var t=this.response;hu.add(o,t);var n=fu[o];if(delete fu[o],200===this.status){for(var i=0,r=n.length;i<r;i++)(a=n[i]).onLoad&&a.onLoad(t);s.manager.itemEnd(o)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(i=0,r=n.length;i<r;i++)(a=n[i]).onLoad&&a.onLoad(t);s.manager.itemEnd(o)}else{for(var a,i=0,r=n.length;i<r;i++)(a=n[i]).onError&&a.onError(e);s.manager.itemEnd(o),s.manager.itemError(o)}},!1),f.addEventListener("progress",function(e){for(var t=fu[o],n=0,i=t.length;n<i;n++){var r=t[n];r.onProgress&&r.onProgress(e)}},!1),f.addEventListener("error",function(e){var t=fu[o];delete fu[o];for(var n=0,i=t.length;n<i;n++){var r=t[n];r.onError&&r.onError(e)}s.manager.itemEnd(o),s.manager.itemError(o)},!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)f.setRequestHeader(m,this.requestHeader[m]);f.send(null)}return s.manager.itemStart(o),f}fu[o].push({onLoad:e,onProgress:t,onError:n})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(_u.prototype,{load:function(e,a,n,i){var o=this,s=[],u=new Xo;u.image=s;var r=new gu(this.manager);if(r.setPath(this.path),r.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,t=0,c=e.length;t<c;++t)!function(t){r.load(e[t],function(e){e=o._parser(e,!0);s[t]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(l+=1)&&(1===e.mipmapCount&&(u.minFilter=Se),u.format=e.format,u.needsUpdate=!0,a&&a(u))},n,i)}(t);else r.load(e,function(e){var t=o._parser(e,!0);if(t.isCubemap)for(var n=t.mipmaps.length/t.mipmapCount,i=0;i<n;i++){s[i]={mipmaps:[]};for(var r=0;r<t.mipmapCount;r++)s[i].mipmaps.push(t.mipmaps[i*t.mipmapCount+r]),s[i].format=t.format,s[i].width=t.width,s[i].height=t.height}else u.image.width=t.width,u.image.height=t.height,u.mipmaps=t.mipmaps;1===t.mipmapCount&&(u.minFilter=Se),u.format=t.format,u.needsUpdate=!0,a&&a(u)},n,i);return u},setPath:function(e){return this.path=e,this}}),Object.assign(yu.prototype,{load:function(e,t,n,i){var r=this,a=new Gt,o=new gu(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){e=r._parser(e);e&&(void 0!==e.image?a.image=e.image:void 0!==e.data&&(a.image.width=e.width,a.image.height=e.height,a.image.data=e.data),a.wrapS=void 0!==e.wrapS?e.wrapS:Ae,a.wrapT=void 0!==e.wrapT?e.wrapT:Ae,a.magFilter=void 0!==e.magFilter?e.magFilter:Se,a.minFilter=void 0!==e.minFilter?e.minFilter:Ce,a.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(a.format=e.format),void 0!==e.type&&(a.type=e.type),void 0!==e.mipmaps&&(a.mipmaps=e.mipmaps),1===e.mipmapCount&&(a.minFilter=Se),a.needsUpdate=!0,t&&t(a,e))},n,i),a}}),Object.assign(vu.prototype,{crossOrigin:"Anonymous",load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=hu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){hu.add(t,this),e&&e(this),r.manager.itemEnd(t)},!1),o.addEventListener("error",function(e){i&&i(e),r.manager.itemEnd(t),r.manager.itemError(t)},!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Mu.prototype,{crossOrigin:"Anonymous",load:function(e,n,t,i){var r=new Vt,a=new vu(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;for(var s=0;s<e.length;++s)!function(t){a.load(e[t],function(e){r.images[t]=e,6===++o&&(r.needsUpdate=!0,n&&n(r))},void 0,i)}(s);return r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(bu.prototype,{crossOrigin:"Anonymous",load:function(t,n,e,i){var r=new Bt,a=new vu(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(e){r.image=e;e=0<t.search(/\.(jpg|jpeg)$/)||0===t.search(/^data\:image\/jpeg/);r.format=e?Ve:We,r.needsUpdate=!0,void 0!==n&&n(r)},e,i),r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Au.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){e=this.getUtoTmapping(e);return this.getPoint(e,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),a=0;for(i.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(r),i.push(a),r=t;return this.cacheArcLengths=i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){for(var n,i=this.getLengths(),r=0,a=i.length,o=t||e*i[a-1],s=0,u=a-1;s<=u;)if((n=i[r=Math.floor(s+(u-s)/2)]-o)<0)s=r+1;else{if(!(0<n)){u=r;break}u=r-1}if(i[r=u]===o)return r/(a-1);e=i[r];return(r+(o-e)/(i[r+1]-e))/(a-1)},getTangent:function(e){var t=e-1e-4,e=e+1e-4;t<0&&(t=0),1<e&&(e=1);t=this.getPoint(t);return this.getPoint(e).clone().sub(t).normalize()},getTangentAt:function(e){e=this.getUtoTmapping(e);return this.getTangent(e)},computeFrenetFrames:function(e,t){for(var n,i,r=new Ot,a=[],o=[],s=[],u=new Ot,l=new It,c=0;c<=e;c++)n=c/e,a[c]=this.getTangentAt(n),a[c].normalize();o[0]=new Ot,s[0]=new Ot;var d=Number.MAX_VALUE,h=Math.abs(a[0].x),p=Math.abs(a[0].y),m=Math.abs(a[0].z);for(h<=d&&(d=h,r.set(1,0,0)),p<=d&&(d=p,r.set(0,1,0)),m<=d&&r.set(0,0,1),u.crossVectors(a[0],r).normalize(),o[0].crossVectors(a[0],u),s[0].crossVectors(a[0],o[0]),c=1;c<=e;c++)o[c]=o[c-1].clone(),s[c]=s[c-1].clone(),u.crossVectors(a[c-1],a[c]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(Ct.clamp(a[c-1].dot(a[c]),-1,1)),o[c].applyMatrix4(l.makeRotationAxis(u,i))),s[c].crossVectors(a[c],o[c]);if(!0===t)for(i=Math.acos(Ct.clamp(o[0].dot(o[e]),-1,1)),i/=e,0<a[0].dot(u.crossVectors(o[0],o[e]))&&(i=-i),c=1;c<=e;c++)o[c].applyMatrix4(l.makeRotationAxis(a[c],i*c)),s[c].crossVectors(a[c],o[c]);return{tangents:a,normals:o,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),((wu.prototype=Object.create(Au.prototype)).constructor=wu).prototype.isEllipseCurve=!0,wu.prototype.getPoint=function(e,t){for(var n=t||new kt,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;i<r;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+e*r,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);return 0!==this.aRotation&&(t=Math.cos(this.aRotation),a=Math.sin(this.aRotation),s=(e=s-this.aX)*t-(o=u-this.aY)*a+this.aX,u=e*a+o*t+this.aY),n.set(s,u)},wu.prototype.copy=function(e){return Au.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},wu.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},wu.prototype.fromJSON=function(e){return Au.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},((xu.prototype=Object.create(wu.prototype)).constructor=xu).prototype.isArcCurve=!0;var Lu=new Ot,Tu=new Eu,Du=new Eu,Su=new Eu;function Nu(e,t,n,i){Au.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Cu(e,t,n,i,r){var a=.5*(i-t),t=.5*(r-n),r=e*e;return(2*n-2*i+a+t)*(e*r)+(-3*n+3*i-2*a-t)*r+a*e+n}function ku(e,t,n,i){return(r=1-(r=e))*r*t+2*(1-(t=e))*t*n+(e=e)*e*i;var r}function Iu(e,t,n,i,r){return(a=1-(a=e))*a*a*t+3*(t=1-(a=e))*t*a*n+3*(1-(n=e))*n*n*i+(e=e)*e*e*r;var a}function ju(e,t,n,i){Au.call(this),this.type="CubicBezierCurve",this.v0=e||new kt,this.v1=t||new kt,this.v2=n||new kt,this.v3=i||new kt}function Ou(e,t,n,i){Au.call(this),this.type="CubicBezierCurve3",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=n||new Ot,this.v3=i||new Ot}function zu(e,t){Au.call(this),this.type="LineCurve",this.v1=e||new kt,this.v2=t||new kt}function Ru(e,t){Au.call(this),this.type="LineCurve3",this.v1=e||new Ot,this.v2=t||new Ot}function Pu(e,t,n){Au.call(this),this.type="QuadraticBezierCurve",this.v0=e||new kt,this.v1=t||new kt,this.v2=n||new kt}function Yu(e,t,n){Au.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=n||new Ot}function Bu(e){Au.call(this),this.type="SplineCurve",this.points=e||[]}((Nu.prototype=Object.create(Au.prototype)).constructor=Nu).prototype.isCatmullRomCurve3=!0,Nu.prototype.getPoint=function(e,t){var n,i=t||new Ot,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),u=o-s;return this.closed?s+=0<s?0:(Math.floor(Math.abs(s)/r.length)+1)*r.length:0===u&&s===a-1&&(s=a-2,u=1),n=this.closed||0<s?r[(s-1)%a]:(Lu.subVectors(r[0],r[1]).add(r[0]),Lu),t=r[s%a],e=r[(s+1)%a],o=this.closed||s+2<a?r[(s+2)%a]:(Lu.subVectors(r[a-1],r[a-2]).add(r[a-1]),Lu),"centripetal"===this.curveType||"chordal"===this.curveType?(s="chordal"===this.curveType?.5:.25,r=Math.pow(n.distanceToSquared(t),s),(a=Math.pow(t.distanceToSquared(e),s))<1e-4&&(a=1),r<1e-4&&(r=a),(s=Math.pow(e.distanceToSquared(o),s))<1e-4&&(s=a),Tu.initNonuniformCatmullRom(n.x,t.x,e.x,o.x,r,a,s),Du.initNonuniformCatmullRom(n.y,t.y,e.y,o.y,r,a,s),Su.initNonuniformCatmullRom(n.z,t.z,e.z,o.z,r,a,s)):"catmullrom"===this.curveType&&(Tu.initCatmullRom(n.x,t.x,e.x,o.x,this.tension),Du.initCatmullRom(n.y,t.y,e.y,o.y,this.tension),Su.initCatmullRom(n.z,t.z,e.z,o.z,this.tension)),i.set(Tu.calc(u),Du.calc(u),Su.calc(u)),i},Nu.prototype.copy=function(e){Au.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Nu.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Nu.prototype.fromJSON=function(e){Au.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Ot).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},((ju.prototype=Object.create(Au.prototype)).constructor=ju).prototype.isCubicBezierCurve=!0,ju.prototype.getPoint=function(e,t){var n=t||new kt,i=this.v0,r=this.v1,a=this.v2,t=this.v3;return n.set(Iu(e,i.x,r.x,a.x,t.x),Iu(e,i.y,r.y,a.y,t.y)),n},ju.prototype.copy=function(e){return Au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},ju.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},ju.prototype.fromJSON=function(e){return Au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},((Ou.prototype=Object.create(Au.prototype)).constructor=Ou).prototype.isCubicBezierCurve3=!0,Ou.prototype.getPoint=function(e,t){var n=t||new Ot,i=this.v0,r=this.v1,a=this.v2,t=this.v3;return n.set(Iu(e,i.x,r.x,a.x,t.x),Iu(e,i.y,r.y,a.y,t.y),Iu(e,i.z,r.z,a.z,t.z)),n},Ou.prototype.copy=function(e){return Au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ou.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ou.prototype.fromJSON=function(e){return Au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},((zu.prototype=Object.create(Au.prototype)).constructor=zu).prototype.isLineCurve=!0,zu.prototype.getPoint=function(e,t){t=t||new kt;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},zu.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},zu.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},zu.prototype.copy=function(e){return Au.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},zu.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},zu.prototype.fromJSON=function(e){return Au.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Ru.prototype=Object.create(Au.prototype)).constructor=Ru).prototype.isLineCurve3=!0,Ru.prototype.getPoint=function(e,t){t=t||new Ot;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Ru.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ru.prototype.copy=function(e){return Au.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ru.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ru.prototype.fromJSON=function(e){return Au.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Pu.prototype=Object.create(Au.prototype)).constructor=Pu).prototype.isQuadraticBezierCurve=!0,Pu.prototype.getPoint=function(e,t){var n=t||new kt,i=this.v0,r=this.v1,t=this.v2;return n.set(ku(e,i.x,r.x,t.x),ku(e,i.y,r.y,t.y)),n},Pu.prototype.copy=function(e){return Au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Pu.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Pu.prototype.fromJSON=function(e){return Au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Yu.prototype=Object.create(Au.prototype)).constructor=Yu).prototype.isQuadraticBezierCurve3=!0,Yu.prototype.getPoint=function(e,t){var n=t||new Ot,i=this.v0,r=this.v1,t=this.v2;return n.set(ku(e,i.x,r.x,t.x),ku(e,i.y,r.y,t.y),ku(e,i.z,r.z,t.z)),n},Yu.prototype.copy=function(e){return Au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Yu.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Yu.prototype.fromJSON=function(e){return Au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((Bu.prototype=Object.create(Au.prototype)).constructor=Bu).prototype.isSplineCurve=!0,Bu.prototype.getPoint=function(e,t){var n=t||new kt,i=this.points,r=(i.length-1)*e,a=Math.floor(r),o=r-a,t=i[0===a?a:a-1],e=i[a],r=i[a>i.length-2?i.length-1:a+1],a=i[a>i.length-3?i.length-1:a+2];return n.set(Cu(o,t.x,e.x,r.x,a.x),Cu(o,t.y,e.y,r.y,a.y)),n},Bu.prototype.copy=function(e){Au.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},Bu.prototype.toJSON=function(){var e=Au.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e},Bu.prototype.fromJSON=function(e){Au.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new kt).fromArray(i))}return this};var Uu=Object.freeze({ArcCurve:xu,CatmullRomCurve3:Nu,CubicBezierCurve:ju,CubicBezierCurve3:Ou,EllipseCurve:wu,LineCurve:zu,LineCurve3:Ru,QuadraticBezierCurve:Pu,QuadraticBezierCurve3:Yu,SplineCurve:Bu});function Hu(){Au.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Fu(e){Hu.call(this),this.type="Path",this.currentPoint=new kt,e&&this.setFromPoints(e)}function Gu(e){Fu.call(this,e),this.uuid=Ct.generateUUID(),this.type="Shape",this.holes=[]}function Vu(e,t){Ji.call(this),this.type="Light",this.color=new kn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Wu(e,t,n){Vu.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ji.DefaultUp),this.updateMatrix(),this.groundColor=new kn(t)}function Qu(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new kt(512,512),this.map=null,this.matrix=new It}function qu(){Qu.call(this,new no(50,1,.5,500))}function Zu(e,t,n,i,r,a){Vu.call(this,e,t),this.type="SpotLight",this.position.copy(Ji.DefaultUp),this.updateMatrix(),this.target=new Ji,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new qu}function Xu(e,t,n,i){Vu.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Qu(new no(90,1,.5,500))}function Ju(){Qu.call(this,new $i(-5,5,5,-5,.5,500))}function Ku(e,t){Vu.call(this,e,t),this.type="DirectionalLight",this.position.copy(Ji.DefaultUp),this.updateMatrix(),this.target=new Ji,this.shadow=new Ju}function $u(e,t){Vu.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function el(e,t,n,i){Vu.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function tl(e,t,n,i){hl.call(this,e,t,n,i)}function nl(e,t,n){hl.call(this,e,t,n)}function il(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function rl(e,t,n,i){il.call(this,e,t,n,i)}function al(e,t,n,i){hl.call(this,e,t,n,i)}function ol(e,t,n,i){hl.call(this,e,t,n,i)}function sl(e,t,n,i){hl.call(this,e,t,n,i)}function ul(e,t,n,i){il.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ll(e,t,n,i){il.call(this,e,t,n,i)}function cl(e,t,n,i){il.call(this,e,t,n,i)}Hu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Hu,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new zu(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,a=this.curves[i],o=a.getLength(),o=0===o?0:1-r/o;return a.getPointAt(o)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a&&a.isEllipseCurve?2*e:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Au.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Au.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Au.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new Uu[i.type]).fromJSON(i))}return this}}),Fu.prototype=Object.assign(Object.create(Hu.prototype),{constructor:Fu,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new zu(this.currentPoint.clone(),new kt(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){t=new Pu(this.currentPoint.clone(),new kt(e,t),new kt(n,i));this.curves.push(t),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,r,a){i=new ju(this.currentPoint.clone(),new kt(e,t),new kt(n,i),new kt(r,a));this.curves.push(i),this.currentPoint.set(r,a)},splineThru:function(e){var t=new Bu([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,n,i,r,a)},absarc:function(e,t,n,i,r,a){this.absellipse(e,t,n,n,i,r,a)},ellipse:function(e,t,n,i,r,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+u,t+l,n,i,r,a,o,s)},absellipse:function(e,t,n,i,r,a,o,s){o=new wu(e,t,n,i,r,a,o,s);0<this.curves.length&&((s=o.getPoint(0)).equals(this.currentPoint)||this.lineTo(s.x,s.y)),this.curves.push(o);o=o.getPoint(1);this.currentPoint.copy(o)},copy:function(e){return Hu.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Hu.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Hu.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Gu.prototype=Object.assign(Object.create(Fu.prototype),{constructor:Gu,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Fu.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=Fu.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Fu.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new Fu).fromJSON(i))}return this}}),Vu.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Vu,isLight:!0,copy:function(e){return Ji.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){e=Ji.prototype.toJSON.call(this,e);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Wu.prototype=Object.assign(Object.create(Vu.prototype),{constructor:Wu,isHemisphereLight:!0,copy:function(e){return Vu.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Qu.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),qu.prototype=Object.assign(Object.create(Qu.prototype),{constructor:qu,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Ct.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,e=e.distance||t.far;n===t.fov&&i===t.aspect&&e===t.far||(t.fov=n,t.aspect=i,t.far=e,t.updateProjectionMatrix())}}),Zu.prototype=Object.assign(Object.create(Vu.prototype),{constructor:Zu,isSpotLight:!0,copy:function(e){return Vu.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Xu.prototype=Object.assign(Object.create(Vu.prototype),{constructor:Xu,isPointLight:!0,copy:function(e){return Vu.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Ju.prototype=Object.assign(Object.create(Qu.prototype),{constructor:Ju}),Ku.prototype=Object.assign(Object.create(Vu.prototype),{constructor:Ku,isDirectionalLight:!0,copy:function(e){return Vu.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),$u.prototype=Object.assign(Object.create(Vu.prototype),{constructor:$u,isAmbientLight:!0}),el.prototype=Object.assign(Object.create(Vu.prototype),{constructor:el,isRectAreaLight:!0,copy:function(e){return Vu.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){e=Vu.prototype.toJSON.call(this,e);return e.object.width=this.width,e.object.height=this.height,e}}),tl.prototype=Object.assign(Object.create(hl.prototype),{constructor:tl,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),nl.prototype=Object.assign(Object.create(hl.prototype),{constructor:nl,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(il.prototype,{evaluate:function(e){var t,n=this.parameterPositions,i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{n:{i:if(!(e<r)){for(var o=i+2;;){if(void 0===r){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,e,a)}if(i===o)break;if(a=r,e<(r=n[++i]))break t}t=n.length;break n}if(a<=e)break e;var s=n[1];e<s&&(i=2,a=s);for(o=i-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===o)break;if(r=a,(a=n[--i-1])<=e)break t}t=i,i=0}for(;i<t;){var u=i+t>>>1;e<n[u]?t=u:i=1+u}if(r=n[i],void 0===(a=n[i-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,a,e)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,a=0;a!==i;++a)t[a]=n[r+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(il.prototype,{beforeStart_:il.prototype.copySampleValue_,afterEnd_:il.prototype.copySampleValue_}),rl.prototype=Object.assign(Object.create(il.prototype),{constructor:rl,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=(n-t)/(i-t),l=s+o;s!==l;s+=4)jt.slerpFlat(r,0,a,s-o,a,s,u);return r}}),al.prototype=Object.assign(Object.create(hl.prototype),{constructor:al,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new rl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ol.prototype=Object.assign(Object.create(hl.prototype),{constructor:ol,ValueTypeName:"color"}),sl.prototype=Object.assign(Object.create(hl.prototype),{constructor:sl,ValueTypeName:"number"}),ul.prototype=Object.assign(Object.create(il.prototype),{constructor:ul,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:s=n+i[a=1]-i[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=r*l,this._offsetNext=a*l},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,e=this._weightNext,n=(n-t)/(i-t),i=n*n,t=i*n,h=-d*t+2*d*i-d*n,p=(1+d)*t+(-1.5-2*d)*i+(-.5+d)*n+1,m=(-1-e)*t+(1.5+e)*i+.5*n,f=e*t-e*i,g=0;g!==o;++g)r[g]=h*a[l+g]+p*a[u+g]+m*a[s+g]+f*a[c+g];return r}}),ll.prototype=Object.assign(Object.create(il.prototype),{constructor:ll,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(i-t),c=1-l,d=0;d!==o;++d)r[d]=a[u+d]*c+a[s+d]*l;return r}}),cl.prototype=Object.assign(Object.create(il.prototype),{constructor:cl,interpolate_:function(e){return this.copySampleValue_(e-1)}});var dl={arraySlice:function(e,t,n){return dl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(n){for(var e=n.length,t=new Array(e),i=0;i!==e;++i)t[i]=i;return t.sort(function(e,t){return n[e]-n[t]}),t},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*t,u=0;u!==t;++u)r[o++]=e[s+u];return r},flattenJSON:function(e,t,n,i){for(var r=1,a=e[0];void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[i])&&(t.push(a.time),n.push.apply(n,o)),a=e[r++],void 0!==a;);else if(void 0!==o.toArray)for(;void 0!==(o=a[i])&&(t.push(a.time),o.toArray(n,n.length)),a=e[r++],void 0!==a;);else for(;void 0!==(o=a[i])&&(t.push(a.time),n.push(o)),a=e[r++],void 0!==a;);}}};function hl(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=dl.convertArray(t,this.TimeBufferType),this.values=dl.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function pl(e,t,n,i){hl.call(this,e,t,n,i)}function ml(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Ct.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function fl(e){this.manager=void 0!==e?e:mu,this.textures={}}function gl(e){this.manager=void 0!==e?e:mu}Object.assign(hl,{parse:function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t,n,i=hl._getTrackTypeForValueTypeName(e.type);return void 0===e.times&&(t=[],n=[],dl.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n),void 0!==i.parse?i.parse(e):new i(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;return void 0!==n.toJSON?t=n.toJSON(e):(t={name:e.name,times:dl.convertArray(e.times,Array),values:dl.convertArray(e.values,Array)},(n=e.getInterpolation())!==e.DefaultInterpolation&&(t.interpolation=n)),t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sl;case"vector":case"vector2":case"vector3":case"vector4":return pl;case"color":return ol;case"quaternion":return al;case"bool":case"boolean":return nl;case"string":return tl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}}),Object.assign(hl.prototype,{constructor:hl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new cl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new ll(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ul(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n,i=this.times,r=i.length,a=0,o=r-1;a!==r&&i[a]<e;)++a;for(;-1!==o&&i[o]>t;)--o;return++o,0===a&&o===r||(o<=a&&(a=(o=Math.max(o,1))-1),n=this.getValueSize(),this.times=dl.arraySlice(i,a,o),this.values=dl.arraySlice(this.values,a*n,o*n)),this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&s<a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==i&&dl.isTypedArray(i))for(var o=0,u=i.length;o!==u;++o){var l=i[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=2302===this.getInterpolation(),r=1,a=e.length-1,o=1;o<a;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==u[0]))if(i)s=!0;else for(var l=o*n,c=l-n,d=l+n,h=0;h!==n;++h){var p=t[l+h];if(p!==t[c+h]||p!==t[d+h]){s=!0;break}}if(s){if(o!==r){e[r]=e[o];for(var m=o*n,f=r*n,h=0;h!==n;++h)t[f+h]=t[m+h]}++r}}if(0<a){e[r]=e[a];for(m=a*n,f=r*n,h=0;h!==n;++h)t[f+h]=t[m+h];++r}return r!==e.length&&(this.times=dl.arraySlice(e,0,r),this.values=dl.arraySlice(t,0,r*n)),this}}),pl.prototype=Object.assign(Object.create(hl.prototype),{constructor:pl,ValueTypeName:"vector"}),Object.assign(ml,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,a=n.length;r!==a;++r)t.push(hl.parse(n[r]).scale(i));return new ml(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,e={name:e.name,duration:e.duration,tracks:t},i=0,r=n.length;i!==r;++i)t.push(hl.toJSON(n[i]));return e},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,a=[],o=0;o<r;o++){var s=[];(l=[]).push((o+r-1)%r,o,(o+1)%r),s.push(0,1,0);var u=dl.getKeyframeOrder(l),l=dl.sortedArray(l,1,u),s=dl.sortedArray(s,1,u);i||0!==l[0]||(l.push(r),s.push(s[0])),a.push(new sl(".morphTargetInfluences["+t[o].name+"]",l,s).scale(1/n))}return new ml(e,-1,a)},findByName:function(e,t){var n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(r);u&&1<u.length&&((u=i[l=u[1]])||(i[l]=u=[]),u.push(s))}var l,c=[];for(l in i)c.push(ml.CreateFromMorphTargetSequence(l,i[l],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){var a,o;0!==n.length&&(a=[],o=[],dl.flattenJSON(n,a,o,i),0!==a.length&&r.push(new e(t,a,o)))},i=[],r=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c,d={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var p=0;p<l[h].morphTargets.length;p++)d[l[h].morphTargets[p]]=-1;for(c in d){for(var m=[],f=[],p=0;p!==l[h].morphTargets.length;++p){var g=l[h];m.push(g.time),f.push(g.morphTarget===c?1:0)}i.push(new sl(".morphTargetInfluence["+c+"]",m,f))}a=d.length*(o||1)}else{var _=".bones["+t[u].name+"]";n(pl,_+".position",l,"pos",i),n(al,_+".quaternion",l,"rot",i),n(pl,_+".scale",l,"scl",i)}}return 0===i.length?null:new ml(r,a,i)}}),Object.assign(ml.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t)var i=this.tracks[t],e=Math.max(e,i.times[i.times.length-1]);this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(fl.prototype,{load:function(e,t,n,i){var r=this;new gu(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i,r=new du[e.type];return void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalScale&&(i=e.normalScale,!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new kt).fromArray(i)),void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r}}),Object.assign(gl.prototype,{load:function(e,t,n,i){var r=this;new gu(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new ga,n=e.data.index;void 0!==n&&(o=new bl[n.type](n.array),t.setIndex(new lr(o,1)));var i,r=e.data.attributes;for(i in r){var a=r[i],o=new bl[a.type](a.array);t.addAttribute(i,new lr(o,a.itemSize,a.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u=0,l=s.length;u!==l;++u){var c=s[u];t.addGroup(c.start,c.count,c.materialIndex)}n=e.data.boundingSphere;return void 0!==n&&(e=new Ot,void 0!==n.center&&e.fromArray(n.center),t.boundingSphere=new xi(e,n.radius)),t}});var _l,yl,vl,Ml,bl={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Al(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}Al.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n],a=t[n+1];if(r.test(e))return a}return null}},Object.assign(Al.prototype,{crossOrigin:void 0,initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:(_l={NoBlending:Q,NormalBlending:q,AdditiveBlending:Z,SubtractiveBlending:X,MultiplyBlending:J,CustomBlending:K},yl=new kn,vl=new bu,Ml=new fl,function(e,o,s){var u={};function t(e,t,n,i,r){var a=o+e,e=Al.Handlers.get(a),a=null!==e?e.load(a):(vl.setCrossOrigin(s),vl.load(a));void 0!==t&&(a.repeat.fromArray(t),1!==t[0]&&(a.wrapS=be),1!==t[1]&&(a.wrapT=be)),void 0!==n&&a.offset.fromArray(n),void 0!==i&&("repeat"===i[0]&&(a.wrapS=be),"mirror"===i[0]&&(a.wrapS=we),"repeat"===i[1]&&(a.wrapT=be),"mirror"===i[1]&&(a.wrapT=we)),void 0!==r&&(a.anisotropy=r);r=Ct.generateUUID();return u[r]=a,r}var n,i={uuid:Ct.generateUUID(),type:"MeshLambertMaterial"};for(n in e){var r=e[n];switch(n){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":i.name=r;break;case"blending":i.blending=_l[r];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",n,"is no longer supported.");break;case"colorDiffuse":i.color=yl.fromArray(r).getHex();break;case"colorSpecular":i.specular=yl.fromArray(r).getHex();break;case"colorEmissive":i.emissive=yl.fromArray(r).getHex();break;case"specularCoef":i.shininess=r;break;case"shading":"basic"===r.toLowerCase()&&(i.type="MeshBasicMaterial"),"phong"===r.toLowerCase()&&(i.type="MeshPhongMaterial"),"standard"===r.toLowerCase()&&(i.type="MeshStandardMaterial");break;case"mapDiffuse":i.map=t(r,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":i.emissiveMap=t(r,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":i.lightMap=t(r,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":i.aoMap=t(r,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":i.bumpMap=t(r,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":i.bumpScale=r;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":i.normalMap=t(r,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":i.normalScale=[r,r];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":i.specularMap=t(r,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":i.metalnessMap=t(r,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":i.roughnessMap=t(r,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":i.alphaMap=t(r,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":i.side=V;break;case"doubleSided":i.side=W;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),i.opacity=r;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":i[n]=r;break;case"vertexColors":!0===r&&(i.vertexColors=A),"face"===r&&(i.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",n,r)}}return"MeshBasicMaterial"===i.type&&delete i.emissive,"MeshPhongMaterial"!==i.type&&delete i.specular,i.opacity<1&&(i.transparent=!0),Ml.setTextures(u),Ml.parse(i)})});var wl={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){e=e.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")}};function xl(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:mu,this.withCredentials=!1}function El(e){this.manager=void 0!==e?e:mu,this.texturePath=""}Object.assign(xl.prototype,{load:function(n,i,e,t){var r=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:wl.extractUrlBase(n),o=new gu(this.manager);o.setWithCredentials(this.withCredentials),o.load(n,function(e){var t=JSON.parse(e),e=t.metadata;if(void 0!==e){e=e.type;if(void 0!==e){if("object"===e.toLowerCase())return void console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.ObjectLoader instead.");if("scene"===e.toLowerCase())return void console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.SceneLoader instead.")}}t=r.parse(t,a);i(t.geometry,t.materials)},e,t)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){void 0!==e.data&&(e=e.data),void 0!==e.scale?e.scale=1/e.scale:e.scale=1;var n=new ur;return function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,m,f,g,_,y,v,M,b,A,w,x,E,L=e.faces,T=e.vertices,D=e.normals,S=e.colors,N=e.scale,C=0;if(void 0!==e.uvs){for(n=0;n<e.uvs.length;n++)e.uvs[n].length&&C++;for(n=0;n<C;n++)t.faceVertexUvs[n]=[]}for(a=0,o=T.length;a<o;)(y=new Ot).x=T[a++]*N,y.y=T[a++]*N,y.z=T[a++]*N,t.vertices.push(y);for(a=0,o=L.length;a<o;)if(h=(d=L[a++])&2,p=d&8,m=d&16,f=d&32,g=d&64,_=d&128,d&1){if((M=new er).a=L[a],M.b=L[a+1],M.c=L[a+3],(b=new er).a=L[a+1],b.b=L[a+2],b.c=L[a+3],a+=4,h&&(c=L[a++],M.materialIndex=c,b.materialIndex=c),r=t.faces.length,p)for(n=0;n<C;n++)for(x=e.uvs[n],t.faceVertexUvs[n][r]=[],t.faceVertexUvs[n][r+1]=[],i=0;i<4;i++)E=new kt(x[2*(l=L[a++])],x[2*l+1]),2!==i&&t.faceVertexUvs[n][r].push(E),0!==i&&t.faceVertexUvs[n][r+1].push(E);if(m&&(u=3*L[a++],M.normal.set(D[u++],D[u++],D[u]),b.normal.copy(M.normal)),f)for(n=0;n<4;n++)u=3*L[a++],w=new Ot(D[u++],D[u++],D[u]),2!==n&&M.vertexNormals.push(w),0!==n&&b.vertexNormals.push(w);if(g&&(A=S[s=L[a++]],M.color.setHex(A),b.color.setHex(A)),_)for(n=0;n<4;n++)A=S[s=L[a++]],2!==n&&M.vertexColors.push(new kn(A)),0!==n&&b.vertexColors.push(new kn(A));t.faces.push(M),t.faces.push(b)}else{if((v=new er).a=L[a++],v.b=L[a++],v.c=L[a++],h&&(c=L[a++],v.materialIndex=c),r=t.faces.length,p)for(n=0;n<C;n++)for(x=e.uvs[n],t.faceVertexUvs[n][r]=[],i=0;i<3;i++)E=new kt(x[2*(l=L[a++])],x[2*l+1]),t.faceVertexUvs[n][r].push(E);if(m&&(u=3*L[a++],v.normal.set(D[u++],D[u++],D[u])),f)for(n=0;n<3;n++)u=3*L[a++],w=new Ot(D[u++],D[u++],D[u]),v.vertexNormals.push(w);if(g&&(s=L[a++],v.color.setHex(S[s])),_)for(n=0;n<3;n++)s=L[a++],v.vertexColors.push(new kn(S[s]));t.faces.push(v)}}(e,n),function(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var i=0,r=e.skinWeights.length;i<r;i+=n){var a=e.skinWeights[i],o=1<n?e.skinWeights[i+1]:0,s=2<n?e.skinWeights[i+2]:0,u=3<n?e.skinWeights[i+3]:0;t.skinWeights.push(new Ut(a,o,s,u))}if(e.skinIndices)for(i=0,r=e.skinIndices.length;i<r;i+=n){var l=e.skinIndices[i],c=1<n?e.skinIndices[i+1]:0,d=2<n?e.skinIndices[i+2]:0,h=3<n?e.skinIndices[i+3]:0;t.skinIndices.push(new Ut(l,c,d,h))}t.bones=e.bones,t.bones&&0<t.bones.length&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}(e,n),function(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={},t.morphTargets[i].name=e.morphTargets[i].name,t.morphTargets[i].vertices=[];for(var a=t.morphTargets[i].vertices,o=e.morphTargets[i].vertices,s=0,u=o.length;s<u;s+=3){var l=new Ot;l.x=o[s]*n,l.y=o[s+1]*n,l.z=o[s+2]*n,a.push(l)}}if(void 0!==e.morphColors&&0<e.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var c=t.faces,d=e.morphColors[0].colors,i=0,r=c.length;i<r;i++)c[i].color.fromArray(d,3*i)}}(e,n),function(e,t){var n=[],i=[];void 0!==e.animation&&i.push(e.animation),void 0!==e.animations&&(e.animations.length?i=i.concat(e.animations):i.push(e.animations));for(var r=0;r<i.length;r++){var a=ml.parseAnimation(i[r],t.bones);a&&n.push(a)}t.morphTargets&&(e=ml.CreateClipsFromMorphTargetSequences(t.morphTargets,10),n=n.concat(e)),0<n.length&&(t.animations=n)}(e,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===e.materials||0===e.materials.length?{geometry:n}:{geometry:n,materials:Al.prototype.initMaterials(e.materials,t,this.crossOrigin)}}}),Object.assign(El.prototype,{load:function(i,r,e,a){""===this.texturePath&&(this.texturePath=i.substring(0,i.lastIndexOf("/")+1));var o=this;new gu(o.manager).load(i,function(e){var t=null;try{t=JSON.parse(e)}catch(e){return void 0!==a&&a(e),void console.error("THREE:ObjectLoader: Can't parse "+i+".",e.message)}var n=t.metadata;void 0!==n&&void 0!==n.type&&"geometry"!==n.type.toLowerCase()?o.parse(t,r):console.error("THREE.ObjectLoader: Can't load "+i+". Use THREE.JSONLoader instead.")},e,a)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),n=this.parseImages(e.images,function(){void 0!==t&&t(r)}),n=this.parseTextures(e.textures,n),n=this.parseMaterials(e.materials,n),r=this.parseObject(e.object,i,n);return e.animations&&(r.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(r),r},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new Gu).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new xl,r=new gl,a=0,o=e.length;a<o;a++){var s,u=e[a];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new tu[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new tu[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new tu[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new tu[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new tu[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new tu[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new tu[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new tu[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new tu[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new tu[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new tu[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new tu[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],a=0,o=u.shapes.length;a<o;a++){var c=t[u.shapes[a]];l.push(c)}s=new tu[u.type](l,u.curveSegments);break;case"BufferGeometry":s=r.parse(u);break;case"Geometry":s=i.parse(u,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),n[u.uuid]=s}return n},parseMaterials:function(e,t){var n={};if(void 0!==e){var i=new fl;i.setTextures(t);for(var r=0,a=e.length;r<a;r++){var o=e[r];if("MultiMaterial"===o.type){for(var s=[],u=0;u<o.materials.length;u++)s.push(i.parse(o.materials[u]));n[o.uuid]=s}else n[o.uuid]=i.parse(o)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=ml.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){var n=this,i={};if(void 0!==e&&0<e.length){var r=new vu(new pu(t));r.setCrossOrigin(this.crossOrigin);for(var a=0,o=e.length;a<o;a++){var s=e[a],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:n.texturePath+s.url;i[s.uuid]=function(e){return n.manager.itemStart(e),r.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemEnd(e),n.manager.itemError(e)})}(u)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,a=e.length;r<a;r++){var o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=new Bt(t[o.image]);s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,Tl)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],Dl),s.wrapT=n(o.wrap[1],Dl)),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,Sl)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,Sl)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),i[o.uuid]=s}return i},parseObject:function(e,t,a){function n(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function i(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];void 0===a[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(a[r])}return t}return void 0===a[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),a[e]}}switch(e.type){case"Scene":s=new Oo,void 0!==e.background&&Number.isInteger(e.background)&&(s.background=new kn(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new jo(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new Io(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new no(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new $i(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":s=new $u(e.color,e.intensity);break;case"DirectionalLight":s=new Ku(e.color,e.intensity);break;case"PointLight":s=new Xu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new el(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Zu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new Wu(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var r=n(e.geometry),o=i(e.material),s=new(r.bones&&0<r.bones.length?Uo:La)(r,o);break;case"LOD":s=new Po;break;case"Line":s=new Fo(n(e.geometry),i(e.material),e.mode);break;case"LineLoop":s=new Vo(n(e.geometry),i(e.material));break;case"LineSegments":s=new Go(n(e.geometry),i(e.material));break;case"PointCloud":case"Points":s=new Qo(n(e.geometry),i(e.material));break;case"Sprite":s=new Ro(i(e.material));break;case"Group":s=new qo;break;default:s=new Ji}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(s.matrix.fromArray(e.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.children)for(var u=e.children,l=0;l<u.length;l++)s.add(this.parseObject(u[l],t,a));if("LOD"===e.type)for(var c=e.levels,d=0;d<c.length;d++){var h=c[d],p=s.getObjectByProperty("uuid",h.object);void 0!==p&&s.addLevel(p,h.distance)}return s}});var Ll,Tl={UVMapping:300,CubeReflectionMapping:me,CubeRefractionMapping:fe,EquirectangularReflectionMapping:ge,EquirectangularRefractionMapping:_e,SphericalReflectionMapping:ye,CubeUVReflectionMapping:ve,CubeUVRefractionMapping:Me},Dl={RepeatWrapping:be,ClampToEdgeWrapping:Ae,MirroredRepeatWrapping:we},Sl={NearestFilter:xe,NearestMipMapNearestFilter:Ee,NearestMipMapLinearFilter:De,LinearFilter:Se,LinearMipMapNearestFilter:Ne,LinearMipMapLinearFilter:Ce};function Nl(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:mu,this.options=void 0}function Cl(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function kl(e){this.type="Font",this.data=e}function Il(e){this.manager=void 0!==e?e:mu}Nl.prototype={constructor:Nl,setOptions:function(e){return this.options=e,this},load:function(t,n,e,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var r=this,a=hu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){n&&n(a),r.manager.itemEnd(t)},0),a;fetch(t).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,r.options)}).then(function(e){hu.add(t,e),n&&n(e),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemEnd(t),r.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Cl.prototype,{moveTo:function(e,t){this.currentPath=new Fu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,a){this.currentPath.bezierCurveTo(e,t,n,i,r,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],a=new Gu;a.curves=r.curves,t.push(a)}return t}var i=ks.isClockWise,r=this.subPaths;if(0===r.length)return[];if(!0===t)return n(r);var a,o,s,u=[];if(1===r.length)return o=r[0],(s=new Gu).curves=o.curves,u.push(s),u;var l,c=!i(r[0].getPoints()),c=e?!c:c,d=[],h=[],p=[],m=0;h[m]=void 0,p[m]=[];for(var f,g=0,_=r.length;g<_;g++)a=i(l=(o=r[g]).getPoints()),(a=e?!a:a)?(!c&&h[m]&&m++,h[m]={s:new Gu,p:l},h[m].s.curves=o.curves,c&&m++,p[m]=[]):p[m].push({h:o,p:l[0]});if(!h[0])return n(r);if(1<h.length){for(var y=!1,v=[],M=0,b=h.length;M<b;M++)d[M]=[];for(M=0,b=h.length;M<b;M++)for(var A=p[M],w=0;w<A.length;w++){for(var x=A[w],E=!0,L=0;L<h.length;L++)!function(e,t){for(var n=t.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=t[r],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[r],l=-l),!(e.y<o.y||e.y>s.y))if(e.y===o.y){if(e.x===o.x)return 1}else{u=l*(e.x-o.x)-u*(e.y-o.y);if(0==u)return 1;u<0||(i=!i)}}else if(e.y===o.y&&(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x))return 1}return i}(x.p,h[L].p)||(M!==L&&v.push({froms:M,tos:L,hole:w}),E?(E=!1,d[L].push(x)):y=!0);E&&d[M].push(x)}0<v.length&&(y||(p=d))}for(var g=0,T=h.length;g<T;g++){s=h[g].s,u.push(s);for(var D=0,S=(f=p[g]).length;D<S;D++)s.holes.push(f[D].h)}return u}}),Object.assign(kl.prototype,{isFont:!0,generateShapes:function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=4);for(var i=[],r=function(e,t,n){for(var i=String(e).split(""),r=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,u=0,l=0;l<i.length;l++){var c=i[l];"\n"===c?(s=0,u-=a):(c=function(e,t,n,i,r){r=r.glyphs[e]||r.glyphs["?"];if(!r)return;var a,o,s,u,l,c,d,h,p=new Cl;if(r.o)for(var m=r._cachedOutline||(r._cachedOutline=r.o.split(" ")),f=0,g=m.length;f<g;)switch(m[f++]){case"m":a=m[f++]*t+n,o=m[f++]*t+i,p.moveTo(a,o);break;case"l":a=m[f++]*t+n,o=m[f++]*t+i,p.lineTo(a,o);break;case"q":s=m[f++]*t+n,u=m[f++]*t+i,l=m[f++]*t+n,c=m[f++]*t+i,p.quadraticCurveTo(l,c,s,u);break;case"b":s=m[f++]*t+n,u=m[f++]*t+i,l=m[f++]*t+n,c=m[f++]*t+i,d=m[f++]*t+n,h=m[f++]*t+i,p.bezierCurveTo(l,c,d,h,s,u)}return{offsetX:r.ha*t,path:p}}(c,r,s,u,n),s+=c.offsetX,o.push(c.path))}return o}(e,t,this.data),a=0,o=r.length;a<o;a++)Array.prototype.push.apply(i,r[a].toShapes());return i}}),Object.assign(Il.prototype,{load:function(e,i,t,n){var r=this,a=new gu(this.manager);a.setPath(this.path),a.load(e,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var e=r.parse(n);i&&i(e)},t,n)},parse:function(e){return new kl(e)},setPath:function(e){return this.path=e,this}});var jl,Ol,zl,Rl,Pl,Yl,Bl,Ul,Hl,Fl,Gl,Vl,Wl,Ql,ql,Zl={getContext:function(){return void 0===Ll&&(Ll=new(window.AudioContext||window.webkitAudioContext)),Ll},setContext:function(e){Ll=e}};function Xl(e){this.manager=void 0!==e?e:mu}function Jl(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new no,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new no,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Kl(e,t,n){Ji.call(this),this.type="CubeCamera";var r=new no(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new Ot(1,0,0)),this.add(r);var a=new no(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new Ot(-1,0,0)),this.add(a);var o=new no(90,1,e,t);o.up.set(0,0,1),o.lookAt(new Ot(0,1,0)),this.add(o);var s=new no(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new Ot(0,-1,0)),this.add(s);var u=new no(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new Ot(0,0,1)),this.add(u);var l=new no(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new Ot(0,0,-1)),this.add(l);t={format:Ve,magFilter:Se,minFilter:Se};this.renderTarget=new Ft(n,n,t),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,r,n),n.activeCubeFace=1,e.render(t,a,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,s,n),n.activeCubeFace=4,e.render(t,u,n),n.texture.generateMipmaps=i,n.activeCubeFace=5,e.render(t,l,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,a=0;a<6;a++)r.activeCubeFace=a,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function $l(){Ji.call(this),this.type="AudioListener",this.context=Zl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function ec(e){Ji.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function tc(e){ec.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function nc(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function ic(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(Xl.prototype,{load:function(e,t,n,i){var r=new gu(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){Zl.getContext().decodeAudioData(e,function(e){t(e)})},n,i)}}),Object.assign(Jl.prototype,{update:(Hl=new It,Fl=new It,function(e){var t,n,i,r,a;jl===this&&Ol===e.focus&&zl===e.fov&&Rl===e.aspect*this.aspect&&Pl===e.near&&Yl===e.far&&Bl===e.zoom&&Ul===this.eyeSep||(jl=this,Ol=e.focus,zl=e.fov,Rl=e.aspect*this.aspect,Pl=e.near,Yl=e.far,Bl=e.zoom,t=e.projectionMatrix.clone(),n=(Ul=this.eyeSep/2)*Pl/Ol,i=Pl*Math.tan(Ct.DEG2RAD*zl*.5)/Bl,Fl.elements[12]=-Ul,Hl.elements[12]=Ul,r=-i*Rl+n,a=i*Rl+n,t.elements[0]=2*Pl/(a-r),t.elements[8]=(a+r)/(a-r),this.cameraL.projectionMatrix.copy(t),r=-i*Rl-n,a=i*Rl-n,t.elements[0]=2*Pl/(a-r),t.elements[8]=(a+r)/(a-r),this.cameraR.projectionMatrix.copy(t)),this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Fl),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Hl)})}),(Kl.prototype=Object.create(Ji.prototype)).constructor=Kl,$l.prototype=Object.assign(Object.create(Ji.prototype),{constructor:$l,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:(Gl=new Ot,Vl=new jt,Wl=new Ot,Ql=new Ot,function(e){Ji.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,e=this.up;this.matrixWorld.decompose(Gl,Vl,Wl),Ql.set(0,0,-1).applyQuaternion(Vl),t.positionX?(t.positionX.setValueAtTime(Gl.x,this.context.currentTime),t.positionY.setValueAtTime(Gl.y,this.context.currentTime),t.positionZ.setValueAtTime(Gl.z,this.context.currentTime),t.forwardX.setValueAtTime(Ql.x,this.context.currentTime),t.forwardY.setValueAtTime(Ql.y,this.context.currentTime),t.forwardZ.setValueAtTime(Ql.z,this.context.currentTime),t.upX.setValueAtTime(e.x,this.context.currentTime),t.upY.setValueAtTime(e.y,this.context.currentTime),t.upZ.setValueAtTime(e.z,this.context.currentTime)):(t.setPosition(Gl.x,Gl.y,Gl.z),t.setOrientation(Ql.x,Ql.y,Ql.z,e.x,e.y,e.z))})}),ec.prototype=Object.assign(Object.create(Ji.prototype),{constructor:ec,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e=e||[],!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),tc.prototype=Object.assign(Object.create(ec.prototype),{constructor:tc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:(ql=new Ot,function(e){Ji.prototype.updateMatrixWorld.call(this,e),ql.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(ql.x,ql.y,ql.z)})}),Object.assign(nc.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(ic.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,e=this.cumulativeWeight;if(0===e){for(var a=0;a!==i;++a)n[r+a]=n[a];e=t}else{t=t/(e+=t);this._mixBufferRegion(n,r,0,t,i)}this.cumulativeWeight=e},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.binding;this.cumulativeWeight=0,r<1&&(e=3*t,this._mixBufferRegion(n,i,e,1-r,t));for(var o=t,s=t+t;o!==s;++o)if(n[o]!==n[o+t]){a.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(.5<=i)for(var a=0;a!==r;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,i){jt.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}}});var rc,ac,oc,sc,uc,lc,cc,dc,hc,pc,mc,fc,gc,_c,yc,vc,Mc,bc,Ac,wc,xc,Ec,Lc,Tc,Dc,Sc,Nc,Cc,kc,Ic,jc,Oc,zc="\\[\\]\\.:\\/";function Rc(e,t,n){n=n||Pc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function Pc(e,t,n){this.path=t,this.parsedPath=n||Pc.parseTrackName(t),this.node=Pc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Yc(){this.uuid=Ct.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Bc(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,a=new Array(r),o={endingStart:2400,endingEnd:2400},s=0;s!==r;++s){var u=i[s].createInterpolant(null);(a[s]=u).settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Uc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Hc(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Fc(){ga.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Gc(e,t,n,i){this.uuid=Ct.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function Vc(e,t){this.uuid=Ct.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Wc(e,t,n){Vc.call(this,e,t),this.meshPerAttribute=n||1}function Qc(e,t,n){lr.call(this,e,t),this.meshPerAttribute=n||1}function qc(e,t,n,i){this.ray=new wa(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Zc(e,t){return e.distance-t.distance}function Xc(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,a=0,o=r.length;a<o;a++)Xc(r[a],t,n,!0)}function Jc(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Kc(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function $c(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function ed(e,t){this.min=void 0!==e?e:new kt(1/0,1/0),this.max=void 0!==t?t:new kt(-1/0,-1/0)}function td(e){Ji.call(this),this.material=e,this.render=function(){}}function nd(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;e=void 0!==n?n:16711680,t=void 0!==i?i:1,n=0,i=this.object.geometry;i&&i.isGeometry?n=3*i.faces.length:i&&i.isBufferGeometry&&(n=i.attributes.normal.count);i=new ga,n=new _r(2*n*3,3);i.addAttribute("position",n),Go.call(this,i,new Ho({color:e,linewidth:t})),this.matrixAutoUpdate=!1,this.update()}function id(e,t){Ji.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var e=new ga,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,r=1;i<32;i++,r++){var a=i/32*Math.PI*2,o=r/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(o),Math.sin(o),1)}e.addAttribute("position",new _r(n,3));t=new Ho({fog:!1});this.cone=new Go(e,t),this.add(this.cone),this.update()}function rd(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var i=0;i<t.children.length;i++)n.push.apply(n,e(t.children[i]));return n}(e),n=new ga,i=[],r=[],a=new kn(0,0,1),o=new kn(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new _r(i,3)),n.addAttribute("color",new _r(r,3));var l=new Ho({vertexColors:A,depthTest:!1,depthWrite:!1,transparent:!0});Go.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function ad(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;n=new Bs(t,4,2),t=new ba({wireframe:!0,fog:!1});La.call(this,n,t),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function od(e,t){Ji.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;e=new Ho({fog:!1}),t=new ga;t.addAttribute("position",new lr(new Float32Array(15),3)),this.line=new Fo(t,e),this.add(this.line),this.update()}function sd(e,t,n){Ji.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;n=new os(t);n.rotateY(.5*Math.PI),this.material=new ba({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=A);t=n.getAttribute("position"),t=new Float32Array(3*t.count);n.addAttribute("color",new lr(t,3)),this.add(new La(n,this.material)),this.update()}function ud(e,t,n,i){e=e||10,t=t||10,n=new kn(void 0!==n?n:4473924),i=new kn(void 0!==i?i:8947848);for(var r=t/2,a=e/t,o=e/2,s=[],u=[],l=0,c=0,d=-o;l<=t;l++,d+=a){s.push(-o,0,d,o,0,d),s.push(d,0,-o,d,0,o);var h=l===r?n:i;h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3}var p=new ga;p.addAttribute("position",new _r(s,3)),p.addAttribute("color",new _r(u,3));e=new Ho({vertexColors:A});Go.call(this,p,e)}function ld(e,t,n,i,r,a){e=e||10,t=t||16,n=n||8,i=i||64,r=new kn(void 0!==r?r:4473924),a=new kn(void 0!==a?a:8947848);for(var o,s,u,l,c,d,h=[],p=[],m=0;m<=t;m++)u=m/t*(2*Math.PI),o=Math.sin(u)*e,s=Math.cos(u)*e,h.push(0,0,0),h.push(o,0,s),d=1&m?r:a,p.push(d.r,d.g,d.b),p.push(d.r,d.g,d.b);for(m=0;m<=n;m++)for(d=1&m?r:a,c=e-e/n*m,l=0;l<i;l++)u=l/i*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,h.push(o,0,s),p.push(d.r,d.g,d.b),u=(l+1)/i*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,h.push(o,0,s),p.push(d.r,d.g,d.b);var f=new ga;f.addAttribute("position",new _r(h,3)),f.addAttribute("color",new _r(p,3));var g=new Ho({vertexColors:A});Go.call(this,f,g)}function cd(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;e=void 0!==n?n:16776960,t=void 0!==i?i:1,n=0,i=this.object.geometry;i&&i.isGeometry?n=i.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");i=new ga,n=new _r(2*n*3,3);i.addAttribute("position",n),Go.call(this,i,new Ho({color:e,linewidth:t})),this.matrixAutoUpdate=!1,this.update()}function dd(e,t,n){Ji.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);n=new ga;n.addAttribute("position",new _r([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));t=new Ho({fog:!1});this.lightPlane=new Fo(n,t),this.add(this.lightPlane),(n=new ga).addAttribute("position",new _r([0,0,0,0,0,1],3)),this.targetLine=new Fo(n,t),this.add(this.targetLine),this.update()}function hd(e){var t=new ga,n=new Ho({color:16777215,vertexColors:1}),i=[],r=[],a={},o=new kn(16755200),s=new kn(16711680),u=new kn(43775),l=new kn(16777215),c=new kn(3355443);function d(e,t,n){h(e,n),h(t,n)}function h(e,t){i.push(0,0,0),r.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(i.length/3-1)}d("n1","n2",o),d("n2","n4",o),d("n4","n3",o),d("n3","n1",o),d("f1","f2",o),d("f2","f4",o),d("f4","f3",o),d("f3","f1",o),d("n1","f1",o),d("n2","f2",o),d("n3","f3",o),d("n4","f4",o),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",u),d("u2","u3",u),d("u3","u1",u),d("c","t",l),d("p","c",c),d("cn1","cn2",c),d("cn3","cn4",c),d("cf1","cf2",c),d("cf3","cf4",c),t.addAttribute("position",new _r(i,3)),t.addAttribute("color",new _r(r,3)),Go.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function pd(e,t,n,i){Sc.set(t,n,i).unproject(Nc);var r=Dc[e];if(void 0!==r)for(var a=Tc.getAttribute("position"),o=0,s=r.length;o<s;o++)a.setXYZ(r[o],Sc.x,Sc.y,Sc.z)}function md(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),e=new ga;e.setIndex(new lr(n,1)),e.addAttribute("position",new lr(i,3)),Go.call(this,e,new Ho({color:t})),this.matrixAutoUpdate=!1,this.update()}function fd(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),t=new ga;t.setIndex(new lr(e,1)),t.addAttribute("position",new _r([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Go.call(this,t,new Ho({color:n})),this.geometry.computeBoundingSphere()}function gd(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;t=void 0!==n?n:16776960,n=new ga;n.addAttribute("position",new _r([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),Fo.call(this,n,new Ho({color:t}));n=new ga;n.addAttribute("position",new _r([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),n.computeBoundingSphere(),this.add(new La(n,new ba({color:t,opacity:.2,transparent:!0,depthWrite:!1})))}function _d(e,t,n,i,r,a){Ji.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===a&&(a=.2*r),void 0===kc&&((kc=new ga).addAttribute("position",new _r([0,0,0,0,1,0],3)),(Ic=new Xs(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Fo(kc,new Ho({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new La(Ic,new ba({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}function yd(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],e=new ga;e.addAttribute("position",new _r(t,3)),e.addAttribute("color",new _r([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));t=new Ho({vertexColors:A});Go.call(this,e,t)}Object.assign(Rc.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,n=this._bindings[n];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Pc,{Composite:Rc,create:function(e,t,n){return new(e&&e.isAnimationObjectGroup?Pc.Composite:Pc)(e,t,n)},sanitizeNodeName:(sc=new RegExp("["+zc+"]","g"),function(e){return e.replace(/\s/g,"_").replace(sc,"")}),parseTrackName:(xd="[^"+zc+"]",wd="[^"+zc.replace("\\.","")+"]",rc=/((?:WC+[\/:])*)/.source.replace("WC",xd),zc=/(WCOD+)?/.source.replace("WCOD",wd),wd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xd),xd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xd),ac=new RegExp("^"+rc+zc+wd+xd+"$"),oc=["material","materials","bones"],function(e){var t=ac.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i&&(t=n.nodeName.substring(i+1),-1!==oc.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)),null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,i){if(!i||""===i||"root"===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(i);if(void 0!==t)return t}if(e.children){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name===i||n.uuid===i)return n;n=r(n.children);if(n)return n}return null},e=r(e.children);if(e)return e}return null}}),Object.assign(Pc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=Pc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[i];if(void 0!==s){var u=this.Versioning.None;void 0!==e.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{t=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+t+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Pc.prototype,{_getValue_unbound:Pc.prototype.getValue,_setValue_unbound:Pc.prototype.setValue}),Object.assign(Yc.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=void 0,l=0,c=arguments.length;l!==c;++l){var d=arguments[l],h=d.uuid,p=i[h];if(void 0===p){p=t++,i[h]=p,e.push(d);for(var m=0,f=s;m!==f;++m)o[m].push(new Pc(d,r[m],a[m]))}else if(p<n){u=e[p];var g=--n,_=e[g];e[i[_.uuid]=p]=_,e[i[h]=g]=d;for(m=0,f=s;m!==f;++m){var y=o[m],v=y[g],M=y[p];y[p]=v,void 0===M&&(M=new Pc(d,r[m],a[m])),y[g]=M}}else e[p]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=n[u];if(void 0!==l&&t<=l){var c=t++,d=e[c];e[n[d.uuid]=l]=d,e[n[u]=c]=s;for(var h=0,p=r;h!==p;++h){var m=i[h],f=m[c],g=m[l];m[l]=f,m[c]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=i[u];if(void 0!==l)if(delete i[u],l<n){var c,d=--n,u=e[d],h=e[c=--t];e[i[u.uuid]=l]=u,e[i[h.uuid]=d]=h,e.pop();for(var p=0,m=a;p!==m;++p){var f=(_=r[p])[d],g=_[c];_[l]=f,_[d]=g,_.pop()}}else{e[i[(h=e[c=--t]).uuid]=l]=h,e.pop();for(var _,p=0,m=a;p!==m;++p)(_=r[p])[l]=_[c],_.pop()}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u),i=r.length;n[e]=i,a.push(e),o.push(t),r.push(c);for(var d=l,h=s.length;d!==h;++d){var p=s[d];c[d]=new Pc(p,e,t)}return c},unsubscribe_:function(e){var t,n,i,r,a,o=this._bindingsIndicesByPath,s=o[e];void 0!==s&&(t=this._paths,n=this._parsedPaths,a=(i=this._bindings)[r=i.length-1],i[o[e[r]]=s]=a,i.pop(),n[s]=n[r],n.pop(),t[s]=t[r],t.pop())}}),Object.assign(Bc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){var i,r;return e.fadeOut(t),this.fadeIn(t),n&&(i=this._clip.duration,n=(r=e._clip.duration)/i,r=i/r,e.warp(1,n,t),this.warp(r,1,t)),this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);i=a.parameterPositions,a=a.sampleValues;return i[0]=r,i[1]=r+n,a[0]=e/o,a[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){r=(e-r)*n;if(r<0||0===n)return;this._startTime=null,t=n*r}t*=this._updateTimeScale(e);var a=this._updateTime(t),o=this._updateWeight(e);if(0<o)for(var s=this._interpolants,u=this._propertyBindings,l=0,c=s.length;l!==c;++l)s[l].evaluate(a),u[l].accumulate(i,o)}else this._updateWeight(e)},_updateWeight:function(e){var t,n,i=0;return this.enabled&&(i=this.weight,null!==(t=this._weightInterpolant)&&(i*=n=t.evaluate(e)[0],e>t.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1)))),this._effectiveWeight=i},_updateTimeScale:function(e){var t,n=0;return this.paused||(n=this.timeScale,null!==(t=this._timeScaleInterpolant)&&(n*=t.evaluate(e)[0],e>t.parameterPositions[1]&&(this.stopWarping(),0===n?this.paused=!0:this.timeScale=n))),this._effectiveTimeScale=n},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n<=t)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var a,o=2202===i;if(-1===r&&(0<=e?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),(n<=t||t<0)&&(t-=n*(a=Math.floor(t/n)),r+=Math.abs(a),(i=this.repetitions-r)<0?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(0==i?(i=e<0,this._setEndings(i,!i,o)):this._setEndings(!1,!1,o),this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a}))),o&&1==(1&r))return n-(this.time=t)}return this.time=t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);i=a.parameterPositions,a=a.sampleValues;return i[0]=r,a[0]=t,i[1]=r+e,a[1]=n,this}}),Uc.prototype=Object.assign(Object.create(t.prototype),{constructor:Uc,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,e=this._bindingsByRootAndName,u=e[s];void 0===u&&(u={},e[s]=u);for(var l=0;l!==r;++l){var c=i[l],d=c.name;if(void 0!==(h=u[d]))a[l]=h;else{if(void 0!==(h=a[l])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,d));continue}var h,p=t&&t._propertyBindings[l].binding.parsedPath;++(h=new ic(Pc.create(n,d,p),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(h,s,d),a[l]=h}o[l].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){var t,n,i;null===e._cacheIndex&&(t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n],this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t));for(var r=e._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){e=e._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];void 0===a?(a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a):(t=a.knownActions,e._byClipCacheIndex=t.length,t.push(e)),e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;t[n._cacheIndex=i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,a=this._actionsByClip,o=a[r],i=o.knownActions,n=i[i.length-1],t=e._byClipCacheIndex;i[n._byClipCacheIndex=t]=n,i.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===i.length&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],a=this._bindings;void 0===r&&(r={},i[t]=r),(r[n]=e)._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],n=t[t.length-1],e=e._cacheIndex;t[n._cacheIndex=e]=n,t.pop(),delete o[r];e:{for(var s in o)break e;delete a[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(e[(n=new ll(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];t[e.__cacheIndex=i]=e,t[r.__cacheIndex=n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?ml.findByName(n,e):e,a=null!==r?r.uuid:e,o=this._actionsByClip[a],n=null;if(void 0!==o){e=o.actionByRoot[i];if(void 0!==e)return e;n=o.knownActions[0],null===r&&(r=n._clip)}if(null===r)return null;t=new Bc(this,r,t);return this._bindAction(t,n),this._addInactiveAction(t,a,i),t},existingAction:function(e,t){var n=t||this._root,t=n.uuid,n="string"==typeof e?ml.findByName(n,e):e,e=n?n.uuid:e,e=this._actionsByClip[e];return void 0!==e&&e.actionByRoot[t]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0;for(var r=this._nActiveBindings=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(i,e,r,a);for(var s=this._bindings,u=this._nActiveBindings,o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,e=i[n];if(void 0!==e){for(var r=e.knownActions,a=0,o=r.length;a!==o;++a){var s=r[a];this._deactivateAction(s);var u=s._cacheIndex,l=t[t.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,t[l._cacheIndex=u]=l,t.pop(),this._removeInactiveBindingsForAction(s)}delete i[n]}},uncacheRoot:function(e){var t,n=e.uuid,i=this._actionsByClip;for(t in i){var r=i[t].actionByRoot[n];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[n];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){t=this.existingAction(e,t);null!==t&&(this._deactivateAction(t),this._removeInactiveAction(t))}}),Hc.prototype.clone=function(){return new Hc(void 0===this.value.clone?this.value:this.value.clone())},Fc.prototype=Object.assign(Object.create(ga.prototype),{constructor:Fc,isInstancedBufferGeometry:!0,copy:function(e){return ga.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(Gc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Gc.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Object.defineProperty(Vc.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Vc.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Wc.prototype=Object.assign(Object.create(Vc.prototype),{constructor:Wc,isInstancedInterleavedBuffer:!0,copy:function(e){return Vc.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Qc.prototype=Object.assign(Object.create(lr.prototype),{constructor:Qc,isInstancedBufferAttribute:!0,copy:function(e){return lr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(qc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){n=n||[];return Xc(e,this,n,t),n.sort(Zc),n},intersectObjects:function(e,t,n){var i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=e.length;r<a;r++)Xc(e[r],this,i,t);return i.sort(Zc),i}}),Object.assign(Jc.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e,t=0;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(t=((e=("undefined"==typeof performance?Date:performance).now())-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t),t)}}),Object.assign(Kc.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Ct.clamp(e.y/this.radius,-1,1))),this}}),Object.assign($c.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),Object.assign(ed.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(lc=new kt,function(e,t){t=lc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){e=e||new kt;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){e=e||new kt;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new kt).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new kt).copy(e).clamp(this.min,this.max)},distanceToPoint:(uc=new kt,function(e){return uc.copy(e).clamp(this.min,this.max).sub(e).length()}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),((td.prototype=Object.create(Ji.prototype)).constructor=td).prototype.isImmediateRenderObject=!0,((nd.prototype=Object.create(Go.prototype)).constructor=nd).prototype.update=(cc=new Ot,dc=new Ot,hc=new zt,function(){var e=["a","b","c"];this.object.updateMatrixWorld(!0),hc.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,n=this.geometry.attributes.position,i=this.object.geometry;if(i&&i.isGeometry)for(var r=i.vertices,a=i.faces,o=0,s=0,u=a.length;s<u;s++)for(var l=a[s],c=0,d=l.vertexNormals.length;c<d;c++){var h=r[l[e[c]]],p=l.vertexNormals[c];cc.copy(h).applyMatrix4(t),dc.copy(p).applyMatrix3(hc).normalize().multiplyScalar(this.size).add(cc),n.setXYZ(o,cc.x,cc.y,cc.z),o+=1,n.setXYZ(o,dc.x,dc.y,dc.z),o+=1}else if(i&&i.isBufferGeometry)for(var m=i.attributes.position,f=i.attributes.normal,o=0,c=0,d=m.count;c<d;c++)cc.set(m.getX(c),m.getY(c),m.getZ(c)).applyMatrix4(t),dc.set(f.getX(c),f.getY(c),f.getZ(c)),dc.applyMatrix3(hc).normalize().multiplyScalar(this.size).add(cc),n.setXYZ(o,cc.x,cc.y,cc.z),o+=1,n.setXYZ(o,dc.x,dc.y,dc.z),o+=1;n.needsUpdate=!0}),((id.prototype=Object.create(Ji.prototype)).constructor=id).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},id.prototype.update=(pc=new Ot,mc=new Ot,function(){this.light.updateMatrixWorld();var e=this.light.distance||1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),pc.setFromMatrixPosition(this.light.matrixWorld),mc.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(mc.sub(pc)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}),((rd.prototype=Object.create(Go.prototype)).constructor=rd).prototype.updateMatrixWorld=(fc=new Ot,gc=new It,_c=new It,function(e){var t=this.bones,n=this.geometry,i=n.getAttribute("position");_c.getInverse(this.root.matrixWorld);for(var r=0,a=0;r<t.length;r++){var o=t[r];o.parent&&o.parent.isBone&&(gc.multiplyMatrices(_c,o.matrixWorld),fc.setFromMatrixPosition(gc),i.setXYZ(a,fc.x,fc.y,fc.z),gc.multiplyMatrices(_c,o.parent.matrixWorld),fc.setFromMatrixPosition(gc),i.setXYZ(a+1,fc.x,fc.y,fc.z),a+=2)}n.getAttribute("position").needsUpdate=!0,Ji.prototype.updateMatrixWorld.call(this,e)}),((ad.prototype=Object.create(La.prototype)).constructor=ad).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ad.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},((od.prototype=Object.create(Ji.prototype)).constructor=od).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},od.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=e,i[1]=-t,i[2]=0,i[3]=e,i[4]=t,i[5]=0,i[6]=-e,i[7]=t,i[8]=0,i[9]=-e,i[10]=-t,i[11]=0,i[12]=e,i[13]=-t,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},((sd.prototype=Object.create(Ji.prototype)).constructor=sd).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},sd.prototype.update=(yc=new Ot,vc=new kn,Mc=new kn,function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");vc.copy(this.light.color),Mc.copy(this.light.groundColor);for(var n=0,i=t.count;n<i;n++){var r=n<i/2?vc:Mc;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(yc.setFromMatrixPosition(this.light.matrixWorld).negate())}),(ud.prototype=Object.create(Go.prototype)).constructor=ud,(ld.prototype=Object.create(Go.prototype)).constructor=ld,((cd.prototype=Object.create(Go.prototype)).constructor=cd).prototype.update=(bc=new Ot,Ac=new Ot,wc=new zt,function(){this.object.updateMatrixWorld(!0),wc.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,i=n.vertices,r=n.faces,a=0,o=0,s=r.length;o<s;o++){var u=r[o],l=u.normal;bc.copy(i[u.a]).add(i[u.b]).add(i[u.c]).divideScalar(3).applyMatrix4(e),Ac.copy(l).applyMatrix3(wc).normalize().multiplyScalar(this.size).add(bc),t.setXYZ(a,bc.x,bc.y,bc.z),a+=1,t.setXYZ(a,Ac.x,Ac.y,Ac.z),a+=1}t.needsUpdate=!0}),((dd.prototype=Object.create(Ji.prototype)).constructor=dd).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},dd.prototype.update=(xc=new Ot,Ec=new Ot,Lc=new Ot,function(){xc.setFromMatrixPosition(this.light.matrixWorld),Ec.setFromMatrixPosition(this.light.target.matrixWorld),Lc.subVectors(Ec,xc),this.lightPlane.lookAt(Lc),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Lc),this.targetLine.scale.z=Lc.length()}),((hd.prototype=Object.create(Go.prototype)).constructor=hd).prototype.update=(Sc=new Ot,Nc=new Ki,function(){Tc=this.geometry,Dc=this.pointMap;Nc.projectionMatrix.copy(this.camera.projectionMatrix),pd("c",0,0,-1),pd("t",0,0,1),pd("n1",-1,-1,-1),pd("n2",1,-1,-1),pd("n3",-1,1,-1),pd("n4",1,1,-1),pd("f1",-1,-1,1),pd("f2",1,-1,1),pd("f3",-1,1,1),pd("f4",1,1,1),pd("u1",.7,1.1,-1),pd("u2",-.7,1.1,-1),pd("u3",0,2,-1),pd("cf1",-1,0,1),pd("cf2",1,0,1),pd("cf3",0,-1,1),pd("cf4",0,1,1),pd("cn1",-1,0,-1),pd("cn2",1,0,-1),pd("cn3",0,-1,-1),pd("cn4",0,1,-1),Tc.getAttribute("position").needsUpdate=!0}),((md.prototype=Object.create(Go.prototype)).constructor=md).prototype.update=(Cc=new bi,function(e){var t,n,i;void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Cc.setFromObject(this.object),Cc.isEmpty()||(t=Cc.min,n=Cc.max,(e=(i=this.geometry.attributes.position).array)[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=t.x,e[4]=n.y,e[5]=n.z,e[6]=t.x,e[7]=t.y,e[8]=n.z,e[9]=n.x,e[10]=t.y,e[11]=n.z,e[12]=n.x,e[13]=n.y,e[14]=t.z,e[15]=t.x,e[16]=n.y,e[17]=t.z,e[18]=t.x,e[19]=t.y,e[20]=t.z,e[21]=n.x,e[22]=t.y,e[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere())}),md.prototype.setFromObject=function(e){return this.object=e,this.update(),this},((fd.prototype=Object.create(Go.prototype)).constructor=fd).prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Ji.prototype.updateMatrixWorld.call(this,e))},((gd.prototype=Object.create(Fo.prototype)).constructor=gd).prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),Ji.prototype.updateMatrixWorld.call(this,e)},((_d.prototype=Object.create(Ji.prototype)).constructor=_d).prototype.setDirection=(Oc=new Ot,function(e){.99999<e.y?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(Oc.set(e.z,0,-e.x).normalize(),jc=Math.acos(e.y),this.quaternion.setFromAxisAngle(Oc,jc))}),_d.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},_d.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},(yd.prototype=Object.create(Go.prototype)).constructor=yd;var vd;function Md(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Nu.call(this,e),this.type="catmullrom",this.closed=!0}function bd(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Nu.call(this,e),this.type="catmullrom"}function Ad(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Nu.call(this,e),this.type="catmullrom"}Au.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Au.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Object.assign(Hu.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");e=this.getPoints(e);return this.createGeometry(e)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");e=this.getSpacedPoints(e);return this.createGeometry(e)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new ur,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new Ot(r.x,r.y,r.z||0))}return t}}),Object.assign(Fu.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Md.prototype=Object.create(Nu.prototype),bd.prototype=Object.create(Nu.prototype),Ad.prototype=Object.create(Nu.prototype),Object.assign(Ad.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),ud.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},rd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Al.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),wl.extractUrlBase(e)}}),Object.assign(ed.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(bi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),xa.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Ct,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ct.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ct.ceilPowerOfTwo(e)}}),Object.assign(zt.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(It.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return void 0===vd&&(vd=new Ot),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),vd.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)}}),Ei.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},jt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(wa.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Gu.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Os(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Vs(this,e)}}),Object.assign(kt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ot.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ut.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ur.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Ji.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(Ji.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Po.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Yo.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Au.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),no.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Vu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(lr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(ga.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(ga.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Hc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(yi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new kn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(ou.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Aa.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ko.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(ko.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ti.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ht.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(ro.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),ec.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Xl).load(e,function(e){t.setBuffer(e)}),this},nc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Kl.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var zc={merge:function(e,t,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},wd={crossOrigin:void 0,loadTexture:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new bu;r.setCrossOrigin(this.crossOrigin);i=r.load(e,n,void 0,i);return t&&(i.mapping=t),i},loadTextureCube:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Mu;r.setCrossOrigin(this.crossOrigin);i=r.load(e,n,void 0,i);return t&&(i.mapping=t),i},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};var xd={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};e.WebGLRenderTargetCube=Ft,e.WebGLRenderTarget=Ht,e.WebGLRenderer=ko,e.ShaderLib=Rn,e.UniformsLib=jn,e.UniformsUtils=On,e.ShaderChunk=zn,e.FogExp2=Io,e.Fog=jo,e.Scene=Oo,e.Sprite=Ro,e.LOD=Po,e.SkinnedMesh=Uo,e.Skeleton=Yo,e.Bone=Bo,e.Mesh=La,e.LineSegments=Go,e.LineLoop=Vo,e.Line=Fo,e.Points=Qo,e.Group=qo,e.VideoTexture=Zo,e.DataTexture=Gt,e.CompressedTexture=Xo,e.CubeTexture=Vt,e.CanvasTexture=Pn,e.DepthTexture=Jo,e.Texture=Bt,e.CompressedTextureLoader=_u,e.DataTextureLoader=yu,e.CubeTextureLoader=Mu,e.TextureLoader=bu,e.ObjectLoader=El,e.MaterialLoader=fl,e.BufferGeometryLoader=gl,e.DefaultLoadingManager=mu,e.LoadingManager=pu,e.JSONLoader=xl,e.ImageLoader=vu,e.ImageBitmapLoader=Nl,e.FontLoader=Il,e.FileLoader=gu,e.Loader=Al,e.LoaderUtils=wl,e.Cache=hu,e.AudioLoader=Xl,e.SpotLightShadow=qu,e.SpotLight=Zu,e.PointLight=Xu,e.RectAreaLight=el,e.HemisphereLight=Wu,e.DirectionalLightShadow=Ju,e.DirectionalLight=Ku,e.AmbientLight=$u,e.LightShadow=Qu,e.Light=Vu,e.StereoCamera=Jl,e.PerspectiveCamera=no,e.OrthographicCamera=$i,e.CubeCamera=Kl,e.ArrayCamera=io,e.Camera=Ki,e.AudioListener=$l,e.PositionalAudio=tc,e.AudioContext=Zl,e.AudioAnalyser=nc,e.Audio=ec,e.VectorKeyframeTrack=pl,e.StringKeyframeTrack=tl,e.QuaternionKeyframeTrack=al,e.NumberKeyframeTrack=sl,e.ColorKeyframeTrack=ol,e.BooleanKeyframeTrack=nl,e.PropertyMixer=ic,e.PropertyBinding=Pc,e.KeyframeTrack=hl,e.AnimationUtils=dl,e.AnimationObjectGroup=Yc,e.AnimationMixer=Uc,e.AnimationClip=ml,e.Uniform=Hc,e.InstancedBufferGeometry=Fc,e.BufferGeometry=ga,e.Geometry=ur,e.InterleavedBufferAttribute=Gc,e.InstancedInterleavedBuffer=Wc,e.InterleavedBuffer=Vc,e.InstancedBufferAttribute=Qc,e.Face3=er,e.Object3D=Ji,e.Raycaster=qc,e.Layers=Ni,e.EventDispatcher=t,e.Clock=Jc,e.QuaternionLinearInterpolant=rl,e.LinearInterpolant=ll,e.DiscreteInterpolant=cl,e.CubicInterpolant=ul,e.Interpolant=il,e.Triangle=Ea,e.Math=Ct,e.Spherical=Kc,e.Cylindrical=$c,e.Plane=Ei,e.Frustum=Li,e.Sphere=xi,e.Ray=wa,e.Matrix4=It,e.Matrix3=zt,e.Box3=bi,e.Box2=ed,e.Line3=xa,e.Euler=Si,e.Vector4=Ut,e.Vector3=Ot,e.Vector2=kt,e.Quaternion=jt,e.Color=kn,e.ImmediateRenderObject=td,e.VertexNormalsHelper=nd,e.SpotLightHelper=id,e.SkeletonHelper=rd,e.PointLightHelper=ad,e.RectAreaLightHelper=od,e.HemisphereLightHelper=sd,e.GridHelper=ud,e.PolarGridHelper=ld,e.FaceNormalsHelper=cd,e.DirectionalLightHelper=dd,e.CameraHelper=hd,e.BoxHelper=md,e.Box3Helper=fd,e.PlaneHelper=gd,e.ArrowHelper=_d,e.AxesHelper=yd,e.Shape=Gu,e.Path=Fu,e.ShapePath=Cl,e.Font=kl,e.CurvePath=Hu,e.Curve=Au,e.ShapeUtils=ks,e.WebGLUtils=so,e.WireframeGeometry=Ko,e.ParametricGeometry=$o,e.ParametricBufferGeometry=es,e.TetrahedronGeometry=is,e.TetrahedronBufferGeometry=rs,e.OctahedronGeometry=as,e.OctahedronBufferGeometry=os,e.IcosahedronGeometry=ss,e.IcosahedronBufferGeometry=us,e.DodecahedronGeometry=ls,e.DodecahedronBufferGeometry=cs,e.PolyhedronGeometry=ts,e.PolyhedronBufferGeometry=ns,e.TubeGeometry=ds,e.TubeBufferGeometry=hs,e.TorusKnotGeometry=ps,e.TorusKnotBufferGeometry=ms,e.TorusGeometry=fs,e.TorusBufferGeometry=gs,e.TextGeometry=Rs,e.TextBufferGeometry=Ps,e.SphereGeometry=Ys,e.SphereBufferGeometry=Bs,e.RingGeometry=Us,e.RingBufferGeometry=Hs,e.PlaneGeometry=va,e.PlaneBufferGeometry=Ma,e.LatheGeometry=Fs,e.LatheBufferGeometry=Gs,e.ShapeGeometry=Vs,e.ShapeBufferGeometry=Ws,e.ExtrudeGeometry=Os,e.ExtrudeBufferGeometry=zs,e.EdgesGeometry=qs,e.ConeGeometry=Js,e.ConeBufferGeometry=Ks,e.CylinderGeometry=Zs,e.CylinderBufferGeometry=Xs,e.CircleGeometry=$s,e.CircleBufferGeometry=eu,e.BoxGeometry=_a,e.BoxBufferGeometry=ya,e.ShadowMaterial=nu,e.SpriteMaterial=zo,e.RawShaderMaterial=iu,e.ShaderMaterial=Aa,e.PointsMaterial=Wo,e.MeshPhysicalMaterial=au,e.MeshStandardMaterial=ru,e.MeshPhongMaterial=ou,e.MeshToonMaterial=su,e.MeshNormalMaterial=uu,e.MeshLambertMaterial=lu,e.MeshDepthMaterial=vi,e.MeshDistanceMaterial=Mi,e.MeshBasicMaterial=ba,e.LineDashedMaterial=cu,e.LineBasicMaterial=Ho,e.Material=yi,e.Float64BufferAttribute=yr,e.Float32BufferAttribute=_r,e.Uint32BufferAttribute=gr,e.Int32BufferAttribute=fr,e.Uint16BufferAttribute=mr,e.Int16BufferAttribute=pr,e.Uint8ClampedBufferAttribute=hr,e.Uint8BufferAttribute=dr,e.Int8BufferAttribute=cr,e.BufferAttribute=lr,e.ArcCurve=xu,e.CatmullRomCurve3=Nu,e.CubicBezierCurve=ju,e.CubicBezierCurve3=Ou,e.EllipseCurve=wu,e.LineCurve=zu,e.LineCurve3=Ru,e.QuadraticBezierCurve=Pu,e.QuadraticBezierCurve3=Yu,e.SplineCurve=Bu,e.REVISION="90",e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},e.CullFaceNone=H,e.CullFaceBack=F,e.CullFaceFront=G,e.CullFaceFrontBack=3,e.FrontFaceDirectionCW=0,e.FrontFaceDirectionCCW=1,e.BasicShadowMap=0,e.PCFShadowMap=C,e.PCFSoftShadowMap=E,e.FrontSide=k,e.BackSide=V,e.DoubleSide=W,e.FlatShading=1,e.SmoothShading=2,e.NoColors=Le,e.FaceColors=1,e.VertexColors=A,e.NoBlending=Q,e.NormalBlending=q,e.AdditiveBlending=Z,e.SubtractiveBlending=X,e.MultiplyBlending=J,e.CustomBlending=K,e.AddEquation=w,e.SubtractEquation=x,e.ReverseSubtractEquation=L,e.MinEquation=T,e.MaxEquation=D,e.ZeroFactor=S,e.OneFactor=N,e.SrcColorFactor=I,e.OneMinusSrcColorFactor=j,e.SrcAlphaFactor=O,e.OneMinusSrcAlphaFactor=z,e.DstAlphaFactor=R,e.OneMinusDstAlphaFactor=P,e.DstColorFactor=Y,e.OneMinusDstColorFactor=B,e.SrcAlphaSaturateFactor=U,e.NeverDepth=$,e.AlwaysDepth=ee,e.LessDepth=te,e.LessEqualDepth=ne,e.EqualDepth=ie,e.GreaterEqualDepth=re,e.GreaterDepth=ae,e.NotEqualDepth=oe,e.MultiplyOperation=se,e.MixOperation=ue,e.AddOperation=le,e.NoToneMapping=ce,e.LinearToneMapping=Te,e.ReinhardToneMapping=de,e.Uncharted2ToneMapping=he,e.CineonToneMapping=pe,e.UVMapping=300,e.CubeReflectionMapping=me,e.CubeRefractionMapping=fe,e.EquirectangularReflectionMapping=ge,e.EquirectangularRefractionMapping=_e,e.SphericalReflectionMapping=ye,e.CubeUVReflectionMapping=ve,e.CubeUVRefractionMapping=Me,e.RepeatWrapping=be,e.ClampToEdgeWrapping=Ae,e.MirroredRepeatWrapping=we,e.NearestFilter=xe,e.NearestMipMapNearestFilter=Ee,e.NearestMipMapLinearFilter=De,e.LinearFilter=Se,e.LinearMipMapNearestFilter=Ne,e.LinearMipMapLinearFilter=Ce,e.UnsignedByteType=ke,e.ByteType=Ie,e.ShortType=je,e.UnsignedShortType=Oe,e.IntType=ze,e.UnsignedIntType=Re,e.FloatType=Pe,e.HalfFloatType=Ye,e.UnsignedShort4444Type=Be,e.UnsignedShort5551Type=Ue,e.UnsignedShort565Type=He,e.UnsignedInt248Type=Fe,e.AlphaFormat=Ge,e.RGBFormat=Ve,e.RGBAFormat=We,e.LuminanceFormat=Qe,e.LuminanceAlphaFormat=qe,e.RGBEFormat=Ze,e.DepthFormat=Xe,e.DepthStencilFormat=Je,e.RGB_S3TC_DXT1_Format=Ke,e.RGBA_S3TC_DXT1_Format=$e,e.RGBA_S3TC_DXT3_Format=et,e.RGBA_S3TC_DXT5_Format=tt,e.RGB_PVRTC_4BPPV1_Format=nt,e.RGB_PVRTC_2BPPV1_Format=it,e.RGBA_PVRTC_4BPPV1_Format=rt,e.RGBA_PVRTC_2BPPV1_Format=at,e.RGB_ETC1_Format=ot,e.RGBA_ASTC_4x4_Format=st,e.RGBA_ASTC_5x4_Format=ut,e.RGBA_ASTC_5x5_Format=lt,e.RGBA_ASTC_6x5_Format=ct,e.RGBA_ASTC_6x6_Format=dt,e.RGBA_ASTC_8x5_Format=ht,e.RGBA_ASTC_8x6_Format=pt,e.RGBA_ASTC_8x8_Format=mt,e.RGBA_ASTC_10x5_Format=ft,e.RGBA_ASTC_10x6_Format=gt,e.RGBA_ASTC_10x8_Format=_t,e.RGBA_ASTC_10x10_Format=yt,e.RGBA_ASTC_12x10_Format=vt,e.RGBA_ASTC_12x12_Format=Mt,e.LoopOnce=2200,e.LoopRepeat=2201,e.LoopPingPong=2202,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.ZeroCurvatureEnding=2400,e.ZeroSlopeEnding=2401,e.WrapAroundEnding=2402,e.TrianglesDrawMode=bt,e.TriangleStripDrawMode=1,e.TriangleFanDrawMode=2,e.LinearEncoding=At,e.sRGBEncoding=wt,e.GammaEncoding=xt,e.RGBEEncoding=Et,e.LogLuvEncoding=3003,e.RGBM7Encoding=Lt,e.RGBM16Encoding=Tt,e.RGBDEncoding=Dt,e.BasicDepthPacking=St,e.RGBADepthPacking=Nt,e.CubeGeometry=_a,e.Face4=function(e,t,n,i,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new er(e,t,n,r,a,o)},e.LineStrip=0,e.LinePieces=1,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,(e.materials=e).clone=function(){return e.slice()},e},e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Qo(e,t)},e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Ro(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Qo(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Wo(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Wo(e)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Wo(e)},e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ot(e,t,n)},e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new lr(e,t).setDynamic(!0)},e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new cr(e,t)},e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new dr(e,t)},e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new hr(e,t)},e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new pr(e,t)},e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new mr(e,t)},e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new fr(e,t)},e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new gr(e,t)},e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new _r(e,t)},e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new yr(e,t)},e.ClosedSplineCurve3=Md,e.SplineCurve3=bd,e.Spline=Ad,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new yd(e)},e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new md(e,t)},e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Go(new qs(e.geometry),new Ho({color:void 0!==t?t:16777215}))},e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Go(new Ko(e.geometry),new Ho({color:void 0!==t?t:16777215}))},e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new gu(e)},e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new yu(e)},e.GeometryUtils=zc,e.ImageUtils=wd,e.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},e.SceneUtils=xd,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof n&&void 0!==t?n:i.THREE={})},{}],41:[function(e,t,n){THREE.ColladaLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"Anonymous",load:function(e,t,n,i){var r=this,a=void 0===r.path?THREE.LoaderUtils.extractUrlBase(e):r.path;new THREE.FileLoader(r.manager).load(e,function(e){t(r.parse(e,a))},n,i)},setPath:function(e){this.path=e},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){function o(e,t){for(var n=[],i=e.childNodes,r=0,a=i.length;r<a;r++){var o=i[r];o.nodeName===t&&n.push(o)}return n}function h(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=parseFloat(t[i]);return n}function u(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=parseInt(t[i]);return n}function l(e){return e.substring(1)}function p(e){return 0===Object.keys(e).length}function n(e,t,n,i){t=o(e,t)[0];if(void 0!==t)for(var r=o(t,n),a=0;a<r.length;a++)i(r[a])}function i(e,t){for(var n in e)e[n].build=t(e[n])}function x(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function r(e){var t,n,i,r,a=[],o=e.channels,s=e.samplers,u=e.sources;for(t in o)o.hasOwnProperty(t)&&(i=(r=s[(n=o[t]).sampler]).inputs.INPUT,r=r.inputs.OUTPUT,function(e,t){for(var n=e.keyframes,e=e.name,i=[],r=[],a=[],o=[],s=0,u=n.length;s<u;s++){var l=n[s],c=l.time,l=l.value;I.fromArray(l).transpose(),I.decompose(d,f,m),i.push(c),r.push(d.x,d.y,d.z),a.push(f.x,f.y,f.z,f.w),o.push(m.x,m.y,m.z)}0<r.length&&t.push(new THREE.VectorKeyframeTrack(e+".position",i,r)),0<a.length&&t.push(new THREE.QuaternionKeyframeTrack(e+".quaternion",i,a)),0<o.length&&t.push(new THREE.VectorKeyframeTrack(e+".scale",i,o))}(function(e,t,n){var i,r,a,o,s,u,l=J.nodes[e.id],c=U(l.id),d=l.transforms[e.sid],l=l.matrix.clone().transpose(),h={};switch(d){case"matrix":for(a=0,o=t.array.length;a<o;a++)if(i=t.array[a],r=a*n.stride,void 0===h[i]&&(h[i]={}),!0===e.arraySyntax){var p=n.array[r],m=e.indices[0]+4*e.indices[1];h[i][m]=p}else for(s=0,u=n.stride;s<u;s++)h[i][s]=n.array[r+s];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',d)}l=function(e,t){var n,i=[];for(n in e)i.push({time:parseFloat(n),value:e[n]});i.sort(function(e,t){return e.time-t.time});for(var r=0;r<16;r++)!function(e,t,n){var i,r,a,o=!0;for(r=0,a=e.length;r<a;r++)void 0===(i=e[r]).value[t]?i.value[t]=null:o=!1;if(!0===o)for(r=0,a=e.length;r<a;r++)(i=e[r]).value[t]=n;else!function(e,t){for(var n,i,r=0,a=e.length;r<a;r++){var o=e[r];null===o.value[t]&&(n=function(e,t,n){for(;0<=t;){var i=e[t];if(null!==i.value[n])return i;t--}return null}(e,r,t),i=function(e,t,n){for(;t<e.length;){var i=e[t];if(null!==i.value[n])return i;t++}return null}(e,r,t),null!==n?null!==i?function(e,t,n,i){n.time-t.time==0?e.value[i]=t.value[i]:e.value[i]=(e.time-t.time)*(n.value[i]-t.value[i])/(n.time-t.time)+t.value[i]}(o,n,i,t):o.value[t]=n.value[t]:o.value[t]=i.value[t])}}(e,t)}(i,r,t.elements[r]);return i}(h,l);return{name:c.uuid,keyframes:l}}(n,u[i],u[r]),a));return a}function c(e){return x(J.animations[e],r)}var d=new THREE.Vector3,m=new THREE.Vector3,f=new THREE.Quaternion;function s(e){for(var t=[],n=e.name,i=e.end-e.start||-1,r=e.animations,a=0,o=r.length;a<o;a++)for(var s=c(r[a]),u=0,l=s.length;u<l;u++)t.push(s[u]);return new THREE.AnimationClip(n,i,t)}function E(e){var t={id:e.id},n=J.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){var t,n,i,r={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},a=e.sources,o=e.vertexWeights,s=o.vcount,u=o.v,l=o.inputs.JOINT.offset,c=o.inputs.WEIGHT.offset,d=e.sources[e.joints.inputs.JOINT],h=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=a[o.inputs.WEIGHT.id].array,m=0;for(t=0,i=s.length;t<i;t++){var f=s[t],g=[];for(n=0;n<f;n++){var _=u[m+l],y=u[m+c],y=p[y];g.push({index:_,weight:y}),m+=2}for(g.sort(A),n=0;n<4;n++){var v=g[n];void 0!==v?(r.indices.array.push(v.index),r.weights.array.push(v.weight)):(r.indices.array.push(0),r.weights.array.push(0))}}for(r.bindMatrix=(new THREE.Matrix4).fromArray(e.bindShapeMatrix).transpose(),t=0,i=d.array.length;t<i;t++){var M=d.array[t],b=(new THREE.Matrix4).fromArray(h.array,t*h.stride).transpose();r.joints.push({name:M,boneInverse:b})}return r;function A(e,t){return t.weight-e.weight}}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function a(e){return void 0!==e.build?e.build:e.init_from}function g(e){return x(J.images[e],a)}function _(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":t[r.nodeName]=h(r.textContent);break;case"float":t[r.nodeName]=parseFloat(r.textContent);break;case"texture":t[r.nodeName]={id:r.getAttribute("texture"),extra:function(e){for(var t={technique:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"extra"===r.nodeName&&function(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"technique"===r.nodeName&&function(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent)}}}(r,t)}}(r,t)}return t}(r)}}}return t}function y(e){return e}function v(e){var t,n=(r=e.url,x(J.effects[r],y)),i=n.profile.technique,r=n.profile.extra;switch(i.type){case"phong":case"blinn":t=new THREE.MeshPhongMaterial;break;case"lambert":t=new THREE.MeshLambertMaterial;break;default:t=new THREE.MeshBasicMaterial}function a(e){var t=n.profile.samplers[e.id];if(void 0===(t=void 0!==t?g(n.profile.surfaces[t.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),g(e.id))))return console.error("THREE.ColladaLoader: Unable to load texture with ID:",e.id),null;t=Q.load(t),e=e.extra;return void 0!==e&&void 0!==e.technique&&!1===p(e.technique)?(e=e.technique,t.wrapS=e.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,t.wrapT=e.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,t.offset.set(e.offsetU||0,e.offsetV||0),t.repeat.set(e.repeatU||1,e.repeatV||1)):(t.wrapS=THREE.RepeatWrapping,t.wrapT=THREE.RepeatWrapping),t}t.name=e.name;var o,s=i.parameters;for(o in s){var u=s[o];switch(o){case"diffuse":u.color&&t.color.fromArray(u.color),u.texture&&(t.map=a(u.texture));break;case"specular":u.color&&t.specular&&t.specular.fromArray(u.color),u.texture&&(t.specularMap=a(u.texture));break;case"shininess":u.float&&t.shininess&&(t.shininess=u.float);break;case"emission":u.color&&t.emissive&&t.emissive.fromArray(u.color)}}var l=s.transparent,c=s.transparency;if(void 0===c&&l&&(c={float:1}),void 0===l&&c&&(l={opaque:"A_ONE",data:{color:[1,1,1,1]}}),l&&c)if(l.data.texture)t.alphaMap=a(l.data.texture),t.transparent=!0;else{var d=l.data.color;switch(l.opaque){case"A_ONE":t.opacity=d[3]*c.float;break;case"RGB_ZERO":t.opacity=1-d[0]*c.float;break;case"A_ZERO":t.opacity=1-d[3]*c.float;break;case"RGB_ONE":t.opacity=d[0]*c.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',l.opaque)}t.opacity<1&&(t.transparent=!0)}return void 0!==r&&void 0!==r.technique&&1===r.technique.double_sided&&(t.side=THREE.DoubleSide),t}function L(e){var t;switch(e.optics.technique){case"perspective":t=new THREE.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag,i=e.optics.parameters.xmag,r=e.optics.parameters.aspect_ratio,i=void 0===i?n*r:i,n=void 0===n?i/r:n;i*=.5,n*=.5,t=new THREE.OrthographicCamera(-i,i,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=e.name,t}function T(e){var t;switch(e.technique){case"directional":t=new THREE.DirectionalLight;break;case"point":t=new THREE.PointLight;break;case"spot":t=new THREE.SpotLight;break;case"ambient":t=new THREE.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function M(e){for(var t={array:[],stride:3},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"float_array":t.array=h(i.textContent);break;case"Name_array":t.array=function(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=t[i];return n}(i.textContent);break;case"technique_common":var r=o(i,"accessor")[0];void 0!==r&&(t.stride=parseInt(r.getAttribute("stride")))}}return t}function b(e){var t={},n=e.sources,i=e.vertices,e=e.primitives;if(0===e.length)return{};var r,a=function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];void 0===t[i.type]&&(t[i.type]=[]),t[i.type].push(i)}return t}(e);for(r in a)t[r]=function(e,t,n){for(var i={},r={array:[],stride:0},a={array:[],stride:0},o={array:[],stride:0},s={array:[],stride:0},u=[],l=4,c=[],d=4,h=new THREE.BufferGeometry,p=[],m=0,f=0,g=0;g<e.length;g++){var _,y=e[g],v=y.inputs,M=1;for(_ in y.vcount&&4===y.vcount[0]&&(M=2),f="lines"===y.type||"linestrips"===y.type?2*y.count:3*y.count*M,h.addGroup(m,f,g),m+=f,y.material&&p.push(y.material),v){var b=v[_];switch(_){case"VERTEX":for(var A in n){var w=n[A];switch(A){case"POSITION":D(y,t[w],b.offset,r.array),r.stride=t[w].stride,t.skinWeights&&t.skinIndices&&(D(y,t.skinIndices,b.offset,u),D(y,t.skinWeights,b.offset,c));break;case"NORMAL":D(y,t[w],b.offset,a.array),a.stride=t[w].stride;break;case"COLOR":D(y,t[w],b.offset,s.array),s.stride=t[w].stride;break;case"TEXCOORD":D(y,t[w],b.offset,o.array),o.stride=t[w].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',A)}}break;case"NORMAL":D(y,t[b.id],b.offset,a.array),a.stride=t[b.id].stride;break;case"COLOR":D(y,t[b.id],b.offset,s.array),s.stride=t[b.id].stride;break;case"TEXCOORD":D(y,t[b.id],b.offset,o.array),o.stride=t[b.id].stride}}}0<r.array.length&&h.addAttribute("position",new THREE.Float32BufferAttribute(r.array,r.stride));0<a.array.length&&h.addAttribute("normal",new THREE.Float32BufferAttribute(a.array,a.stride));0<s.array.length&&h.addAttribute("color",new THREE.Float32BufferAttribute(s.array,s.stride));0<o.array.length&&h.addAttribute("uv",new THREE.Float32BufferAttribute(o.array,o.stride));0<u.length&&h.addAttribute("skinIndex",new THREE.Float32BufferAttribute(u,l));0<c.length&&h.addAttribute("skinWeight",new THREE.Float32BufferAttribute(c,d));return i.data=h,i.type=e[0].type,i.materialKeys=p,i}(a[r],n,i);return t}function D(e,t,i,r){var a=e.p,n=e.stride,o=e.vcount;function s(e){for(var t=a[e+i]*c,n=t+c;t<n;t++)r.push(l[t])}var u=0,l=t.array,c=t.stride;if(void 0!==e.vcount){for(var d=0,h=0,p=o.length;h<p;h++){var m,f,g,_=o[h];4===_?(f=d+ +n,g=d+2*n,m=d+3*n,s(d+0*n),s(f),s(m),s(f),s(g),s(m)):3===_?(f=d+ +n,g=d+2*n,s(d+0*n),s(f),s(g)):u=Math.max(u,_),d+=n*_}0<u&&console.log("THREE.ColladaLoader: Geometry has faces with more than 4 vertices.")}else for(h=0,p=a.length;h<p;h+=n)s(h)}function S(e){return x(J.geometries[e],b)}function A(e){return void 0!==e.build?e.build:e}function w(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"attachment_full":t.attachments.push(function(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"link":t.links.push(w(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(N(i))}}return t}(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(N(i))}}return t}function N(e){var t={type:e.nodeName},n=h(e.textContent);switch(t.type){case"matrix":t.obj=new THREE.Matrix4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new THREE.Vector3,t.obj.fromArray(n);break;case"rotate":t.obj=new THREE.Vector3,t.obj.fromArray(n),t.angle=THREE.Math.degToRad(n[3])}return t}function C(e){return void 0!==e.build?e.build:e}function k(e){for(var t=e.getElementsByTagName("node"),n=0;n<t.length;n++){var i=t[n];!1===i.hasAttribute("id")&&i.setAttribute("id","three_default_"+X++)}}var I=new THREE.Matrix4,j=new THREE.Vector3;function O(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"node":t.nodes.push(i.getAttribute("id")),O(i);break;case"instance_camera":t.instanceCameras.push(l(i.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(z(i));break;case"instance_light":t.instanceLights.push(l(i.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(z(i));break;case"instance_node":t.instanceNodes.push(l(i.getAttribute("url")));break;case"matrix":var r=h(i.textContent);t.matrix.multiply(I.fromArray(r).transpose()),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"translate":r=h(i.textContent);j.fromArray(r),t.matrix.multiply(I.makeTranslation(j.x,j.y,j.z)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"rotate":var r=h(i.textContent),a=THREE.Math.degToRad(r[3]);t.matrix.multiply(I.makeRotationAxis(j.fromArray(r),a)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"scale":r=h(i.textContent);t.matrix.scale(j.fromArray(r)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"extra":break;default:console.log(i)}}return J.nodes[t.id]=t}function z(e){for(var t={id:l(e.getAttribute("url")),materials:{},skeletons:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"bind_material":for(var r=i.getElementsByTagName("instance_material"),a=0;a<r.length;a++){var o=r[a],s=o.getAttribute("symbol"),o=o.getAttribute("target");t.materials[s]=l(o)}break;case"skeleton":t.skeletons.push(l(i.textContent))}}return t}function R(e,t){for(var n,i,r=[],a=[],o=0;o<e.length;o++){var s=U(e[o]);!function(r,a){s.traverse(function(e){if(!0===e.isBone){for(var t,n=0;n<r.length;n++){var i=r[n];if(i.name===e.name){t=i.boneInverse;break}}void 0===t&&(t=new THREE.Matrix4),a.push({bone:e,boneInverse:t,processed:!1})}})}(t,r)}for(o=0;o<t.length;o++)for(n=0;n<r.length;n++)if((i=r[n]).bone.name===t[o].name){(a[o]=i).processed=!0;break}for(o=0;o<r.length;o++)!1===(i=r[o]).processed&&(a.push(i),i.processed=!0);var u=[],l=[];for(o=0;o<a.length;o++)i=a[o],u.push(i.bone),l.push(i.boneInverse);return new THREE.Skeleton(u,l)}function P(e){for(var t=[],n=e.matrix,i=e.nodes,r=e.type,a=e.instanceCameras,o=e.instanceControllers,s=e.instanceLights,u=e.instanceGeometries,l=e.instanceNodes,c=0,d=i.length;c<d;c++)t.push(U(i[c]));for(var h,c=0,d=a.length;c<d;c++){var p=(p=a[c],(h=void 0)!==(h=J.cameras[p])?x(h,L):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",p),null));null!==p&&t.push(p.clone())}for(var m,c=0,d=o.length;c<d;c++)for(var f=o[c],g=(m=f.id,x(J.controllers[m],E)),_=B(S(g.id),f.materials),y=R(f.skeletons,g.skin.joints),v=0,M=_.length;v<M;v++)(w=_[v]).isSkinnedMesh&&(w.bind(y,g.skin.bindMatrix),w.normalizeSkinWeights()),t.push(w);for(var b,c=0,d=s.length;c<d;c++){var A=(A=s[c],(b=void 0)!==(b=J.lights[A])?x(b,T):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",A),null));null!==A&&t.push(A.clone())}for(c=0,d=u.length;c<d;c++)for(v=0,M=(_=B(S((f=u[c]).id),f.materials)).length;v<M;v++)t.push(_[v]);for(var w,c=0,d=l.length;c<d;c++)t.push(U(l[c]).clone());if(0===i.length&&1===t.length)w=t[0];else{w=new("JOINT"===r?THREE.Bone:THREE.Group);for(c=0;c<t.length;c++)w.add(t[c])}return w.name="JOINT"===r?e.sid:e.name,w.matrix.copy(n),w.matrix.decompose(w.position,w.quaternion,w.scale),w}function Y(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var a=t[e[i]];n.push((a=a,x(J.materials[a],v)))}return n}function B(e,t){var n,i=[];for(n in e){var r=e[n],a=Y(r.materialKeys,t);0===a.length&&("lines"===n||"linestrips"===n?a.push(new THREE.LineBasicMaterial):a.push(new THREE.MeshPhongMaterial));var o=void 0!==r.data.attributes.skinIndex;if(o)for(var s=0,u=a.length;s<u;s++)a[s].skinning=!0;var l,c=1===a.length?a[0]:a;switch(n){case"lines":l=new THREE.LineSegments(r.data,c);break;case"linestrips":l=new THREE.Line(r.data,c);break;case"triangles":case"polylist":l=new(o?THREE.SkinnedMesh:THREE.Mesh)(r.data,c)}i.push(l)}return i}function U(e){return x(J.nodes[e],P)}function H(e){var t=new THREE.Group;t.name=e.name;for(var n=e.children,i=0;i<n.length;i++){var r=n[i];null===r.id?t.add(P(r)):t.add(U(r.id))}return t}function F(e){return x(J.visualScenes[e],H)}if(console.time("THREE.ColladaLoader"),0===e.length)return{scene:new THREE.Scene};console.time("THREE.ColladaLoader: DOMParser");e=(new DOMParser).parseFromString(e,"application/xml");console.timeEnd("THREE.ColladaLoader: DOMParser");var G=o(e,"COLLADA")[0],e=G.getAttribute("version");console.log("THREE.ColladaLoader: File version",e);var V,W,e=(V=o(G,"asset")[0],{unit:void 0!==(W=o(V,"unit")[0])?parseFloat(W.getAttribute("meter")):1,upAxis:void 0!==(V=o(V,"up_axis")[0])?V.textContent:"Y_UP"}),Q=new THREE.TextureLoader(this.manager);Q.setPath(t).setCrossOrigin(this.crossOrigin);var q=[],Z={},X=0,J={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},kinematicsScenes:{}};console.time("THREE.ColladaLoader: Parse"),n(G,"library_animations","animation",function(e){for(var t={sources:{},samplers:{},channels:{}},n=0,i=e.childNodes.length;n<i;n++){var r,a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"source":r=a.getAttribute("id"),t.sources[r]=M(a);break;case"sampler":r=a.getAttribute("id"),t.samplers[r]=function(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r,a=e.childNodes[n];1===a.nodeType&&"input"===a.nodeName&&(r=l(a.getAttribute("source")),a=a.getAttribute("semantic"),t.inputs[a]=r)}return t}(a);break;case"channel":r=a.getAttribute("target"),t.channels[r]=function(e){var t={},n=e.getAttribute("target").split("/"),i=n.shift(),r=n.shift(),a=-1!==r.indexOf("("),o=-1!==r.indexOf(".");if(o)r=(n=r.split(".")).shift(),t.member=n.shift();else if(a){var s=r.split("(");r=s.shift();for(var u=0;u<s.length;u++)s[u]=parseInt(s[u].replace(/\)/,""));t.indices=s}return t.id=i,t.sid=r,t.arraySyntax=a,t.memberSyntax=o,t.sampler=l(e.getAttribute("source")),t}(a);break;default:console.log(a)}}J.animations[e.getAttribute("id")]=t}),n(G,"library_animation_clips","animation_clip",function(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"instance_animation"===r.nodeName&&t.animations.push(l(r.getAttribute("url")))}J.clips[e.getAttribute("id")]=t}),n(G,"library_controllers","controller",function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"skin":t.id=l(r.getAttribute("source")),t.skin=function(e){for(var t={sources:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=h(r.textContent);break;case"source":var a=r.getAttribute("id");t.sources[a]=M(r);break;case"joints":t.joints=function(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r,a=e.childNodes[n];1===a.nodeType&&"input"===a.nodeName&&(r=a.getAttribute("semantic"),a=l(a.getAttribute("source")),t.inputs[r]=a)}return t}(r);break;case"vertex_weights":t.vertexWeights=function(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=r.getAttribute("semantic"),o=l(r.getAttribute("source")),s=parseInt(r.getAttribute("offset"));t.inputs[a]={id:o,offset:s};break;case"vcount":t.vcount=u(r.textContent);break;case"v":t.v=u(r.textContent)}}return t}(r)}}return t}(r);break;case"morph":t.id=l(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}J.controllers[e.getAttribute("id")]=t}),n(G,"library_images","image",function(e){var t={init_from:o(e,"init_from")[0].textContent};J.images[e.getAttribute("id")]=t}),n(G,"library_effects","effect",function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"profile_COMMON"===r.nodeName&&(t.profile=function(e){for(var t={surfaces:{},samplers:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"newparam":!function(e,t){for(var n=e.getAttribute("sid"),i=0,r=e.childNodes.length;i<r;i++){var a=e.childNodes[i];if(1===a.nodeType)switch(a.nodeName){case"surface":t.surfaces[n]=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"init_from"===r.nodeName&&(t.init_from=r.textContent)}return t}(a);break;case"sampler2D":t.samplers[n]=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"source"===r.nodeName&&(t.source=r.textContent)}return t}(a)}}}(r,t);break;case"technique":t.technique=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName,t.parameters=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"shininess":case"transparency":t[r.nodeName]=_(r);break;case"transparent":t[r.nodeName]={opaque:r.getAttribute("opaque"),data:_(r)}}}return t}(r)}}return t}(r);break;case"extra":t.extra=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"technique"===r.nodeName&&(t.technique=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"double_sided"===r.nodeName&&(t[r.nodeName]=parseInt(r.textContent))}return t}(r))}return t}(r)}}return t}(r))}J.effects[e.getAttribute("id")]=t}),n(G,"library_materials","material",function(e){for(var t={name:e.getAttribute("name")},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"instance_effect"===r.nodeName&&(t.url=l(r.getAttribute("url")))}J.materials[e.getAttribute("id")]=t}),n(G,"library_cameras","camera",function(e){for(var t={name:e.getAttribute("name")},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"optics"===r.nodeName&&(t.optics=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("technique_common"===n.nodeName)return function(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"perspective":case"orthographic":t.technique=i.nodeName,t.parameters=function(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[i.nodeName]=parseFloat(i.textContent)}}return t}(i)}}return t}(n)}return{}}(r))}J.cameras[e.getAttribute("id")]=t}),n(G,"library_lights","light",function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];1===r.nodeType&&"technique_common"===r.nodeName&&(t=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName,t.parameters=function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":var a=h(r.textContent);t.color=(new THREE.Color).fromArray(a);break;case"falloff_angle":t.falloffAngle=parseFloat(r.textContent);break;case"quadratic_attenuation":a=parseFloat(r.textContent);t.distance=a?Math.sqrt(1/a):0}}return t}(r)}}return t}(r))}J.lights[e.getAttribute("id")]=t}),n(G,"library_geometries","geometry",function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},n=o(e,"mesh")[0];if(void 0!==n){for(var i=0;i<n.childNodes.length;i++){var r=n.childNodes[i];if(1===r.nodeType){var a=r.getAttribute("id");switch(r.nodeName){case"source":t.sources[a]=M(r);break;case"vertices":t.vertices=function(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];1===i.nodeType&&(t[i.getAttribute("semantic")]=l(i.getAttribute("source")))}return t}(r);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",r.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(function(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=l(r.getAttribute("source")),o=r.getAttribute("semantic"),s=parseInt(r.getAttribute("offset"));t.inputs[o]={id:a,offset:s},t.stride=Math.max(t.stride,s+1);break;case"vcount":t.vcount=u(r.textContent);break;case"p":t.p=u(r.textContent)}}return t}(r));break;default:console.log(r)}}}J.geometries[e.getAttribute("id")]=t}}),n(G,"library_nodes","node",O),n(G,"library_visual_scenes","visual_scene",function(e){var t={name:e.getAttribute("name"),children:[]};k(e);for(var n=o(e,"node"),i=0;i<n.length;i++)t.children.push(O(n[i]));J.visualScenes[e.getAttribute("id")]=t}),n(G,"library_kinematics_models","kinematics_model",function(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];1===i.nodeType&&"technique_common"===i.nodeName&&function(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"joint":t.joints[i.getAttribute("sid")]=function(e){for(var t,n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"prismatic":case"revolute":t=function(e,t){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"axis":var r=h(i.textContent);t.axis.fromArray(r);break;case"limits":var a=i.getElementsByTagName("max")[0],r=i.getElementsByTagName("min")[0];t.limits.max=parseFloat(a.textContent),t.limits.min=parseFloat(r.textContent)}}t.limits.min>=t.limits.max&&(t.static=!0);return t.middlePosition=(t.limits.min+t.limits.max)/2,t}(i)}}return t}(i);break;case"link":t.links.push(w(i))}}}(i,t)}J.kinematicsModels[e.getAttribute("id")]=t}),n(G,"scene","instance_kinematics_scene",function(e){for(var t={bindJointAxis:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];1===i.nodeType&&"bind_joint_axis"===i.nodeName&&t.bindJointAxis.push(function(e){for(var t={target:e.getAttribute("target").split("/").pop()},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];1===i.nodeType&&"axis"===i.nodeName&&(i=i.getElementsByTagName("param")[0],t.axis=i.textContent,i=t.axis.split("inst_").pop().split("axis")[0],t.jointIndex=i.substr(0,i.length-1))}return t}(i))}J.kinematicsScenes[l(e.getAttribute("url"))]=t}),console.timeEnd("THREE.ColladaLoader: Parse"),console.time("THREE.ColladaLoader: Build"),i(J.animations,r),i(J.clips,s),i(J.controllers,E),i(J.images,a),i(J.effects,y),i(J.materials,v),i(J.cameras,L),i(J.lights,T),i(J.geometries,b),i(J.visualScenes,H),console.timeEnd("THREE.ColladaLoader: Build"),function(){var e,t=J.clips;if(!0===p(t)){if(!1===p(J.animations)){var n=[];for(o in J.animations)for(var i=c(o),r=0,a=i.length;r<a;r++)n.push(i[r]);q.push(new THREE.AnimationClip("default",-1,n))}}else for(var o in t)q.push((e=o,x(J.clips[e],s)))}(),function(){var e=Object.keys(J.kinematicsModels)[0],t=Object.keys(J.kinematicsScenes)[0],n=Object.keys(J.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var a=(e=e,x(J.kinematicsModels[e],A)),t=(t=t,x(J.kinematicsScenes[t],C)),o=F(n),i=t.bindJointAxis,l={},r=0,s=i.length;r<s;r++){var u=i[r],c=G.querySelector('[sid="'+u.target+'"]');c&&(c=c.parentElement,function(t,n){var i=n.getAttribute("name"),r=a.joints[t];o.traverse(function(e){e.name===i&&(l[t]={object:e,transforms:function(e){for(var t=[],n=G.querySelector('[id="'+e.id+'"]'),i=0;i<n.childNodes.length;i++){var r=n.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"matrix":var a=h(r.textContent),o=(new THREE.Matrix4).fromArray(a).transpose();t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:o});break;case"translate":case"scale":var a=h(r.textContent),s=(new THREE.Vector3).fromArray(a);t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:s});break;case"rotate":a=h(r.textContent),s=(new THREE.Vector3).fromArray(a),o=THREE.Math.degToRad(a[3]);t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:s,angle:o})}}return t}(n),joint:r,position:r.zeroPosition})})}(u.jointIndex,c))}var d=new THREE.Matrix4;Z={joints:a&&a.joints,getJointValue:function(e){var t=l[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var n=l[e];if(n){var i=n.joint;if(t>i.limits.max||t<i.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+i.limits.min+", max: "+i.limits.max+").");else if(i.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var r=n.object,a=i.axis,o=n.transforms;I.identity();for(var s=0;s<o.length;s++){var u=o[s];if(u.sid&&-1!==u.sid.indexOf(e))switch(i.type){case"revolute":I.multiply(d.makeRotationAxis(a,THREE.Math.degToRad(t)));break;case"prismatic":I.multiply(d.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+i.type)}else switch(u.type){case"matrix":I.multiply(u.obj);break;case"translate":I.multiply(d.makeTranslation(u.obj.x,u.obj.y,u.obj.z));break;case"scale":I.scale(u.obj);break;case"rotate":I.multiply(d.makeRotationAxis(u.obj,u.angle))}}r.matrix.copy(I),r.matrix.decompose(r.position,r.quaternion,r.scale),l[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}}();var K,t=(K=o(G,"scene")[0],F(l(o(K,"instance_visual_scene")[0].getAttribute("url"))));return"Z_UP"===e.upAxis&&(t.rotation.x=-Math.PI/2),t.scale.multiplyScalar(e.unit),console.timeEnd("THREE.ColladaLoader"),{animations:q,kinematics:Z,library:J,scene:t}}}},{}],42:[function(e,t,n){THREE.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function i(){var n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}e.prototype={constructor:e,crossOrigin:"Anonymous",load:function(e,t,n,i){var r=this,a=void 0!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(e),o=new THREE.FileLoader(r.manager);o.setResponseType("arraybuffer"),o.load(e,function(e){try{r.parse(e,a,t,i)}catch(e){if(void 0===i)throw e;i(e)}},n,i)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},parse:function(e,t,a,n){var i={};if("string"==typeof e)r=e;else if(THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4))===s){try{i[M.KHR_BINARY_GLTF]=new c(e)}catch(e){return void(n&&n(e))}r=i[M.KHR_BINARY_GLTF].content}else r=THREE.LoaderUtils.decodeText(new Uint8Array(e));var r=JSON.parse(r);void 0===r.asset||r.asset.version[0]<2?n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.")):(r.extensionsUsed&&(0<=r.extensionsUsed.indexOf(M.KHR_LIGHTS)&&(i[M.KHR_LIGHTS]=new o(r)),0<=r.extensionsUsed.indexOf(M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS)&&(i[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]=new d)),console.time("GLTFLoader"),new O(r,i,{path:t||this.path||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(function(e,t,n,i,r){console.timeEnd("GLTFLoader"),a({scene:e,scenes:t,cameras:n,animations:i,asset:r})},n))}};var M={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_LIGHTS:"KHR_lights",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness"};function o(e){this.name=M.KHR_LIGHTS,this.lights={};var t,n=(e.extensions&&e.extensions[M.KHR_LIGHTS]||{}).lights||{};for(t in n){var i,r=n[t],a=(new THREE.Color).fromArray(r.color);switch(r.type){case"directional":(i=new THREE.DirectionalLight(a)).position.set(0,0,1);break;case"point":i=new THREE.PointLight(a);break;case"spot":(i=new THREE.SpotLight(a)).position.set(0,0,1);break;case"ambient":i=new THREE.AmbientLight(a)}i&&(void 0!==r.constantAttenuation&&(i.intensity=r.constantAttenuation),void 0!==r.linearAttenuation&&(i.distance=1/r.linearAttenuation),void 0!==r.quadraticAttenuation&&(i.decay=r.quadraticAttenuation),void 0!==r.fallOffAngle&&(i.angle=r.fallOffAngle),void 0!==r.fallOffExponent&&console.warn("THREE.GLTFLoader:: light.fallOffExponent not currently supported."),i.name=r.name||"light_"+t,this.lights[t]=i)}}var s="glTF",u=12,l={JSON:1313821514,BIN:5130562};function c(e){this.name=M.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,u);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(e,u),i=0;i<n.byteLength;){var r=n.getUint32(i,!0);i+=4;var a,o=n.getUint32(i,!0);i+=4,o===l.JSON?(a=new Uint8Array(e,u+i,r),this.content=THREE.LoaderUtils.decodeText(a)):o===l.BIN&&(o=u+i,this.body=e.slice(o,o+r)),i+=r}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function d(){return{name:M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(e,t,n){var i=t.extensions[this.name],r=THREE.ShaderLib.standard,a=THREE.UniformsUtils.clone(r.uniforms),o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),u=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),t=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),t=r.fragmentShader.replace("#include <specularmap_fragment>","").replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",u).replace("#include <metalnessmap_fragment>",l).replace("#include <lights_physical_fragment>",t);delete a.roughness,delete a.metalness,delete a.roughnessMap,delete a.metalnessMap,a.specular={value:(new THREE.Color).setHex(1118481)},a.glossiness={value:.5},a.specularMap={value:null},a.glossinessMap={value:null},e.vertexShader=r.vertexShader,e.fragmentShader=t,e.uniforms=a,e.defines={STANDARD:""},e.color=new THREE.Color(1,1,1),e.opacity=1;t=[];return Array.isArray(i.diffuseFactor)&&(a=i.diffuseFactor,e.color.fromArray(a),e.opacity=a[3]),void 0!==i.diffuseTexture&&t.push(n.assignTexture(e,"map",i.diffuseTexture.index)),e.emissive=new THREE.Color(0,0,0),e.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture&&(i=i.specularGlossinessTexture.index,t.push(n.assignTexture(e,"glossinessMap",i)),t.push(n.assignTexture(e,"specularMap",i))),Promise.all(t)},createMaterial:function(e){var t=new THREE.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,i=0,r=n.length;i<r;i++)t[n[i]]=e[n[i]];return t},refreshUniforms:function(e,t,n,i,r,a){var o,s,u,l,c,d,h;!0===r.isGLTFSpecularGlossinessMaterial&&(o=r.uniforms,s=r.defines,o.opacity.value=r.opacity,o.diffuse.value.copy(r.color),o.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),o.map.value=r.map,o.specularMap.value=r.specularMap,o.alphaMap.value=r.alphaMap,o.lightMap.value=r.lightMap,o.lightMapIntensity.value=r.lightMapIntensity,o.aoMap.value=r.aoMap,o.aoMapIntensity.value=r.aoMapIntensity,r.map?u=r.map:r.specularMap?u=r.specularMap:r.displacementMap?u=r.displacementMap:r.normalMap?u=r.normalMap:r.bumpMap?u=r.bumpMap:r.glossinessMap?u=r.glossinessMap:r.alphaMap?u=r.alphaMap:r.emissiveMap&&(u=r.emissiveMap),void 0!==u&&(u.isWebGLRenderTarget&&(u=u.texture),void 0!==u.matrix?(!0===u.matrixAutoUpdate&&(l=u.offset,c=u.repeat,d=u.rotation,h=u.center,u.matrix.setUvTransform(l.x,l.y,c.x,c.y,d,h.x,h.y)),o.uvTransform.value.copy(u.matrix)):(l=u.offset,c=u.repeat,o.offsetRepeat.value.set(l.x,l.y,c.x,c.y))),o.envMap.value=r.envMap,o.envMapIntensity.value=r.envMapIntensity,o.flipEnvMap.value=r.envMap&&r.envMap.isCubeTexture?-1:1,o.refractionRatio.value=r.refractionRatio,o.specular.value.copy(r.specular),o.glossiness.value=r.glossiness,o.glossinessMap.value=r.glossinessMap,o.emissiveMap.value=r.emissiveMap,o.bumpMap.value=r.bumpMap,o.normalMap.value=r.normalMap,o.displacementMap.value=r.displacementMap,o.displacementScale.value=r.displacementScale,o.displacementBias.value=r.displacementBias,null!==o.glossinessMap.value&&void 0===s.USE_GLOSSINESSMAP&&(s.USE_GLOSSINESSMAP="",s.USE_ROUGHNESSMAP=""),null===o.glossinessMap.value&&void 0!==s.USE_GLOSSINESSMAP&&(delete s.USE_GLOSSINESSMAP,delete s.USE_ROUGHNESSMAP))}}}function v(e,t,n,i){THREE.Interpolant.call(this,e,t,n,i)}((v.prototype=Object.create(THREE.Interpolant.prototype)).constructor=v).prototype.interpolate_=function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=i-t,i=(n-t)/l,n=i*i,t=n*i,c=e*u,d=c-u,h=2*t-3*n+1,p=t-2*n+i,m=-2*t+3*n,f=t-n,g=0;g!==o;g++){var _=a[d+g+o],y=a[d+g+s]*l,v=a[c+g+o],M=a[c+g]*l;r[g]=h*_+p*y+m*v+f*M}return r};var b=0,A=1,w=2,x=3,E=4,L=5,T=6,D=(Number,THREE.Matrix3,THREE.Matrix4,THREE.Vector2,THREE.Vector3,THREE.Vector4,THREE.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),h={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},p={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},m={6406:THREE.AlphaFormat,6407:THREE.RGBFormat,6408:THREE.RGBAFormat,6409:THREE.LuminanceFormat,6410:THREE.LuminanceAlphaFormat},f={5121:THREE.UnsignedByteType,32819:THREE.UnsignedShort4444Type,32820:THREE.UnsignedShort5551Type,33635:THREE.UnsignedShort565Type},S=(THREE.BackSide,THREE.FrontSide,THREE.NeverDepth,THREE.LessDepth,THREE.EqualDepth,THREE.LessEqualDepth,THREE.GreaterEqualDepth,THREE.NotEqualDepth,THREE.GreaterEqualDepth,THREE.AlwaysDepth,THREE.AddEquation,THREE.SubtractEquation,THREE.ReverseSubtractEquation,THREE.ZeroFactor,THREE.OneFactor,THREE.SrcColorFactor,THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE.OneMinusSrcAlphaFactor,THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE.DstColorFactor,THREE.OneMinusDstColorFactor,THREE.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),N={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},C={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},g="OPAQUE",_="MASK",y="BLEND";function k(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e}function I(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(function(e,t){if(e.indices===t.indices){var n=e.attributes||{},i=t.attributes||{},r=Object.keys(n),t=Object.keys(i);if(r.length===t.length){for(var a=0,o=r.length;a<o;a++){var s=r[a];if(n[s]!==i[s])return}return 1}}}(r.primitive,t))return r.geometry}return null}function j(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,n=e.itemSize,i=e.array.slice(0,t*n),r=0;r<t;++r)i[r]=e.getX(r),2<=n&&(i[r+1]=e.getY(r)),3<=n&&(i[r+2]=e.getZ(r)),4<=n&&(i[r+3]=e.getW(r));return new THREE.BufferAttribute(i,n,e.normalized)}return e.clone()}function O(e,t,n){this.json=e||{},this.extensions=t||{},this.options=n||{},this.cache=new i,this.primitiveCache=[],this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}return O.prototype.parse=function(a,e){var o=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(e){var t=e.scenes||[],n=t[o.scene||0],i=e.animations||[],r=o.asset,e=e.cameras||[];a(n,t,e,i,r)}).catch(e)},O.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i={},r={},a=0,o=t.length;a<o;a++)for(var s=t[a].joints,u=0,l=s.length;u<l;u++)e[s[u]].isBone=!0;for(var c=0,d=e.length;c<d;c++){var h=e[c];void 0!==h.mesh&&(void 0===i[h.mesh]&&(i[h.mesh]=r[h.mesh]=0),i[h.mesh]++,void 0!==h.skin&&(n[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=r},O.prototype.getDependency=function(e,t){var n=e+":"+t,i=this.cache.get(n);return i||(i=this["load"+e.charAt(0).toUpperCase()+e.slice(1)](t),this.cache.add(n,i)),i},O.prototype.getDependencies=function(n){var i,e,t=this.cache.get(n);return t||(e=(i=this).json[n+("mesh"===n?"es":"s")]||[],t=Promise.all(e.map(function(e,t){return i.getDependency(n,t)})),this.cache.add(n,t)),t},O.prototype.getMultiDependencies=function(e){for(var n={},t=[],i=0,r=e.length;i<r;i++){var a=e[i],o=(o=this.getDependencies(a)).then(function(e,t){n[e]=t}.bind(this,a+("mesh"===a?"es":"s")));t.push(o)}return Promise.all(t).then(function(){return n})},O.prototype.loadBuffer=function(e){var n=this.json.buffers[e],i=this.fileLoader;if(n.type&&"arraybuffer"!==n.type)throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(void 0===n.uri&&0===e)return Promise.resolve(this.extensions[M.KHR_BINARY_GLTF].body);var r=this.options;return new Promise(function(e,t){i.load(k(n.uri,r.path),e,void 0,function(){t(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})},O.prototype.loadBufferView=function(e){var i=this.json.bufferViews[e];return this.getDependency("buffer",i.buffer).then(function(e){var t=i.byteLength||0,n=i.byteOffset||0;return e.slice(n,n+t)})},O.prototype.loadAccessor=function(e){var _=this,y=this.json,v=this.json.accessors[e],e=[];return void 0!==v.bufferView?e.push(this.getDependency("bufferView",v.bufferView)):e.push(null),void 0!==v.sparse&&(e.push(this.getDependency("bufferView",v.sparse.indices.bufferView)),e.push(this.getDependency("bufferView",v.sparse.values.bufferView))),Promise.all(e).then(function(e){var t,n=e[0],i=S[v.type],r=D[v.componentType],a=r.BYTES_PER_ELEMENT,o=a*i,s=v.byteOffset||0,u=y.bufferViews[v.bufferView].byteStride,l=!0===v.normalized,c=u&&u!==o?(t="InterleavedBuffer:"+v.bufferView+":"+v.componentType,(o=_.cache.get(t))||(d=new r(n),o=new THREE.InterleavedBuffer(d,u/a),_.cache.add(t,o)),new THREE.InterleavedBufferAttribute(o,i,s/a,l)):(d=null===n?new r(v.count*i):new r(n,s,v.count*i),new THREE.BufferAttribute(d,i,l));if(void 0!==v.sparse){var a=S.SCALAR,s=D[v.sparse.indices.componentType],d=v.sparse.indices.byteOffset||0,l=v.sparse.values.byteOffset||0,h=new s(e[1],d,v.sparse.count*a),p=new r(e[2],l,v.sparse.count*i);null!==n&&c.setArray(c.array.slice());for(var m=0,f=h.length;m<f;m++){var g=h[m];if(c.setX(g,p[m*i]),2<=i&&c.setY(g,p[m*i+1]),3<=i&&c.setZ(g,p[m*i+2]),4<=i&&c.setW(g,p[m*i+3]),5<=i)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return c})},O.prototype.loadTexture=function(e){var n=this.json,r=this.options,t=this.textureLoader,i=window.URL||window.webkitURL,a=n.textures[e],o=n.images[a.source],s=o.uri,u=!1;return void 0!==o.bufferView&&(s=this.getDependency("bufferView",o.bufferView).then(function(e){u=!0;e=new Blob([e],{type:o.mimeType});return s=i.createObjectURL(e)})),Promise.resolve(s).then(function(n){var i=THREE.Loader.Handlers.get(n)||t;return new Promise(function(e,t){i.load(k(n,r.path),e,void 0,t)})}).then(function(e){!0===u&&i.revokeObjectURL(s),e.flipY=!1,void 0!==a.name&&(e.name=a.name),e.format=void 0!==a.format?m[a.format]:THREE.RGBAFormat,void 0!==a.internalFormat&&e.format!==m[a.internalFormat]&&console.warn("THREE.GLTFLoader: Three.js does not support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format."),e.type=void 0!==a.type?f[a.type]:THREE.UnsignedByteType;var t=(n.samplers||{})[a.sampler]||{};return e.magFilter=h[t.magFilter]||THREE.LinearFilter,e.minFilter=h[t.minFilter]||THREE.LinearMipMapLinearFilter,e.wrapS=p[t.wrapS]||THREE.RepeatWrapping,e.wrapT=p[t.wrapT]||THREE.RepeatWrapping,e})},O.prototype.assignTexture=function(t,n,e){return this.getDependency("texture",e).then(function(e){t[n]=e})},O.prototype.loadMaterial=function(e){this.json;var t,n,i=this.extensions,r=this.json.materials[e],a={},o=[];(r.extensions||{})[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]?(n=i[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS],t=n.getMaterialType(r),o.push(n.extendParams(a,r,this))):void 0!==r.pbrMetallicRoughness?(t=THREE.MeshStandardMaterial,e=r.pbrMetallicRoughness,a.color=new THREE.Color(1,1,1),a.opacity=1,Array.isArray(e.baseColorFactor)&&(n=e.baseColorFactor,a.color.fromArray(n),a.opacity=n[3]),void 0!==e.baseColorTexture&&o.push(this.assignTexture(a,"map",e.baseColorTexture.index)),a.metalness=void 0!==e.metallicFactor?e.metallicFactor:1,a.roughness=void 0!==e.roughnessFactor?e.roughnessFactor:1,void 0!==e.metallicRoughnessTexture&&(s=e.metallicRoughnessTexture.index,o.push(this.assignTexture(a,"metalnessMap",s)),o.push(this.assignTexture(a,"roughnessMap",s)))):t=THREE.MeshPhongMaterial,!0===r.doubleSided&&(a.side=THREE.DoubleSide);var s=r.alphaMode||g;return s===y?a.transparent=!0:(a.transparent=!1,s===_&&(a.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&(o.push(this.assignTexture(a,"normalMap",r.normalTexture.index)),a.normalScale=new THREE.Vector2(1,1),void 0!==r.normalTexture.scale&&a.normalScale.set(r.normalTexture.scale,r.normalTexture.scale)),void 0!==r.occlusionTexture&&(o.push(this.assignTexture(a,"aoMap",r.occlusionTexture.index)),void 0!==r.occlusionTexture.strength&&(a.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&(t===THREE.MeshBasicMaterial?a.color=(new THREE.Color).fromArray(r.emissiveFactor):a.emissive=(new THREE.Color).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&(t===THREE.MeshBasicMaterial?o.push(this.assignTexture(a,"map",r.emissiveTexture.index)):o.push(this.assignTexture(a,"emissiveMap",r.emissiveTexture.index))),Promise.all(o).then(function(){var e=t===THREE.ShaderMaterial?i[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new t(a);return void 0!==r.name&&(e.name=r.name),e.normalScale&&(e.normalScale.x=-e.normalScale.x),e.map&&(e.map.encoding=THREE.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=THREE.sRGBEncoding),r.extras&&(e.userData=r.extras),e})},O.prototype.loadGeometries=function(c){var d=this.primitiveCache;return this.getDependencies("accessor").then(function(e){for(var t=[],n=0,i=c.length;n<i;n++){var r=c[n],a=I(d,r);if(a)t.push(a);else{var o,s=new THREE.BufferGeometry,u=r.attributes;for(o in u){var l=e[u[o]];switch(o){case"POSITION":s.addAttribute("position",l);break;case"NORMAL":s.addAttribute("normal",l);break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":s.addAttribute("uv",l);break;case"TEXCOORD_1":s.addAttribute("uv2",l);break;case"COLOR_0":case"COLOR0":case"COLOR":s.addAttribute("color",l);break;case"WEIGHTS_0":case"WEIGHT":s.addAttribute("skinWeight",l);break;case"JOINTS_0":case"JOINT":s.addAttribute("skinIndex",l)}}void 0!==r.indices&&s.setIndex(e[r.indices]),d.push({primitive:r,geometry:s}),t.push(s)}}return t})},O.prototype.loadMesh=function(f){var g=this,y=(this.json,this.extensions),v=this.json.meshes[f];return this.getMultiDependencies(["accessor","material"]).then(function(h){var p=new THREE.Group,m=v.primitives;return g.loadGeometries(m).then(function(e){for(var t=0,n=m.length;t<n;t++){var _=m[t],i=e[t],r=void 0===_.material?new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide}):h.materials[_.material];r.aoMap&&void 0===i.attributes.uv2&&void 0!==i.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),i.addAttribute("uv2",new THREE.BufferAttribute(i.attributes.uv.array,2)));var a,o=void 0!==i.attributes.color,s=void 0===i.attributes.normal,u=!0===v.isSkinnedMesh,l=void 0!==_.targets;if((o||s||u||l)&&(r=r.isGLTFSpecularGlossinessMaterial?y[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(r):r.clone()),o&&(r.vertexColors=THREE.VertexColors,r.needsUpdate=!0),s&&(r.flatShading=!0),_.mode===E||_.mode===L||_.mode===T||void 0===_.mode)u?(a=new THREE.SkinnedMesh(i,r),r.skinning=!0):a=new THREE.Mesh(i,r),_.mode===L?a.drawMode=THREE.TriangleStripDrawMode:_.mode===T&&(a.drawMode=THREE.TriangleFanDrawMode);else if(_.mode===A||_.mode===x||_.mode===w){var c="LineBasicMaterial:"+r.uuid,d=g.cache.get(c);d||(d=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(d,r),d.color.copy(r.color),d.lights=!1,g.cache.add(c,d)),r=d,a=new(_.mode===A?THREE.LineSegments:_.mode===x?THREE.Line:THREE.LineLoop)(i,r)}else{if(_.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);c="PointsMaterial:"+r.uuid,d=g.cache.get(c);d||(d=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(d,r),d.color.copy(r.color),d.map=r.map,d.lights=!1,g.cache.add(c,d)),r=d,a=new THREE.Points(i,r)}if(a.name=v.name||"mesh_"+f,l&&function(e,t,n){var i=e.geometry,r=e.material,a=_.targets,o=i.morphAttributes;o.position=[],o.normal=[],r.morphTargets=!0;for(var s=0,u=a.length;s<u;s++){var l,c,d=a[s],h="morphTarget"+s;if(void 0!==d.POSITION){l=j(n[d.POSITION]);for(var p=i.attributes.position,m=0,f=l.count;m<f;m++)l.setXYZ(m,l.getX(m)+p.getX(m),l.getY(m)+p.getY(m),l.getZ(m)+p.getZ(m))}else i.attributes.position&&(l=j(i.attributes.position));if(void 0!==l&&(l.name=h,o.position.push(l)),void 0!==d.NORMAL){r.morphNormals=!0,c=j(n[d.NORMAL]);for(var g=i.attributes.normal,m=0,f=c.count;m<f;m++)c.setXYZ(m,c.getX(m)+g.getX(m),c.getY(m)+g.getY(m),c.getZ(m)+g.getZ(m))}else void 0!==i.attributes.normal&&(c=j(i.attributes.normal));void 0!==c&&(c.name=h,o.normal.push(c))}if(e.updateMorphTargets(),void 0!==t.weights)for(s=0,u=t.weights.length;s<u;s++)e.morphTargetInfluences[s]=t.weights[s]}(a,v,h.accessors),void 0!==v.extras&&(a.userData=v.extras),void 0!==_.extras&&(a.geometry.userData=_.extras),!0===r.isGLTFSpecularGlossinessMaterial&&(a.onBeforeRender=y[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),!(1<m.length))return a;a.name+="_"+t,p.add(a)}return p})})},O.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?(t=i.aspectRatio||1,e=i.yfov*t,t=new THREE.PerspectiveCamera(THREE.Math.radToDeg(e),t,i.znear||1,i.zfar||2e6)):"orthographic"===n.type&&(t=new THREE.OrthographicCamera(i.xmag/-2,i.xmag/2,i.ymag/2,i.ymag/-2,i.znear,i.zfar)),void 0!==n.name&&(t.name=n.name),n.extras&&(t.userData=n.extras),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},O.prototype.loadSkin=function(e){var e=this.json.skins[e],t={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(t):this.getDependency("accessor",e.inverseBindMatrices).then(function(e){return t.inverseBindMatrices=e,t})},O.prototype.loadAnimation=function(_){this.json;var y=this.json.animations[_];return this.getMultiDependencies(["accessor","node"]).then(function(e){for(var t=[],n=0,i=y.channels.length;n<i;n++){var r=y.channels[n],a=y.samplers[r.sampler];if(a){var o,s=r.target,u=void 0!==s.node?s.node:s.id,l=void 0!==y.parameters?y.parameters[a.input]:a.input,r=void 0!==y.parameters?y.parameters[a.output]:a.output,c=e.accessors[l],d=e.accessors[r],l=e.nodes[u];if(l){switch(l.updateMatrix(),l.matrixAutoUpdate=!0,N[s.path]){case N.weights:o=THREE.NumberKeyframeTrack;break;case N.rotation:o=THREE.QuaternionKeyframeTrack;break;case N.position:case N.scale:default:o=THREE.VectorKeyframeTrack}var r=l.name||l.uuid,h=void 0!==a.interpolation?C[a.interpolation]:THREE.InterpolateLinear,p=[];N[s.path]===N.weights?l.traverse(function(e){!0===e.isMesh&&!0===e.material.morphTargets&&p.push(e.name||e.uuid)}):p.push(r);for(var m=0,f=p.length;m<f;m++){var g=new o(p[m]+"."+N[s.path],THREE.AnimationUtils.arraySlice(c.array,0),THREE.AnimationUtils.arraySlice(d.array,0),h);"CUBICSPLINE"===a.interpolation&&(g.createInterpolant=function(e){return new v(this.times,this.values,this.getValueSize()/3,e)}),t.push(g)}}}}u=void 0!==y.name?y.name:"animation_"+_;return new THREE.AnimationClip(u,void 0,t)})},O.prototype.loadNode=function(e){this.json;var o=this.extensions,s=this.json.meshReferences,u=this.json.meshUses,l=this.json.nodes[e];return this.getMultiDependencies(["mesh","skin","camera"]).then(function(e){if(!0===l.isBone)n=new THREE.Bone;else if(void 0!==l.mesh){var t=e.meshes[l.mesh],n=t.clone();if(!0===t.isGroup)for(var i=0,r=t.children.length;i<r;i++){var a=t.children[i];a.material&&!0===a.material.isGLTFSpecularGlossinessMaterial&&(n.children[i].onBeforeRender=a.onBeforeRender)}else t.material&&!0===t.material.isGLTFSpecularGlossinessMaterial&&(n.onBeforeRender=t.onBeforeRender);1<s[l.mesh]&&(n.name+="_instance_"+u[l.mesh]++)}else n=void 0!==l.camera?e.cameras[l.camera]:l.extensions&&l.extensions[M.KHR_LIGHTS]&&void 0!==l.extensions[M.KHR_LIGHTS].light?o[M.KHR_LIGHTS].lights[l.extensions[M.KHR_LIGHTS].light]:new THREE.Object3D;return void 0!==l.name&&(n.name=THREE.PropertyBinding.sanitizeNodeName(l.name)),l.extras&&(n.userData=l.extras),void 0!==l.matrix?((e=new THREE.Matrix4).fromArray(l.matrix),n.applyMatrix(e)):(void 0!==l.translation&&n.position.fromArray(l.translation),void 0!==l.rotation&&n.quaternion.fromArray(l.rotation),void 0!==l.scale&&n.scale.fromArray(l.scale)),n})},O.prototype.loadScene=function(e){var o=this.json,s=this.extensions,u=this.json.scenes[e];return this.getMultiDependencies(["node","skin"]).then(function(e){var t=new THREE.Scene;void 0!==u.name&&(t.name=u.name),u.extras&&(t.userData=u.extras);for(var n,i=u.nodes||[],r=0,a=i.length;r<a;r++)!function e(t,n,i,r,a){var o=r[t],s=i.nodes[t];if(void 0!==s.skin)for(var u=!0===o.isGroup?o.children:[o],l=0,c=u.length;l<c;l++){for(var d=u[l],h=a[s.skin],p=[],m=[],f=0,g=h.joints.length;f<g;f++){var _=h.joints[f],y=r[_];y?(p.push(y),y=new THREE.Matrix4,void 0!==h.inverseBindMatrices&&y.fromArray(h.inverseBindMatrices.array,16*f),m.push(y)):console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',_)}d.bind(new THREE.Skeleton(p,m),d.matrixWorld)}if(n.add(o),s.children)for(var v=s.children,l=0,c=v.length;l<c;l++)e(v[l],o,i,r,a)}(i[r],t,o,e.nodes,e.skins);return u.extensions&&u.extensions[M.KHR_LIGHTS]&&void 0!==u.extensions[M.KHR_LIGHTS].light&&(n=s[M.KHR_LIGHTS].lights,t.add(n[u.extensions[M.KHR_LIGHTS].light])),t})},e}()},{}],43:[function(e,t,n){THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,n,i){var r=this,a=new THREE.FileLoader(this.manager);a.setPath(this.path),a.load(e,function(e){t(r.parse(e))},n,i)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),n={},i=/\s+/,r={},a=0;a<t.length;a++){var o,s,u=(u=t[a]).trim();0!==u.length&&"#"!==u.charAt(0)&&(o=(o=0<=(s=u.indexOf(" "))?u.substring(0,s):u).toLowerCase(),u=(u=0<=s?u.substring(s+1):"").trim(),"newmtl"===o?(n={name:u},r[u]=n):n&&("ka"===o||"kd"===o||"ks"===o?(s=u.split(i,3),n[o]=[parseFloat(s[0]),parseFloat(s[1]),parseFloat(s[2])]):n[o]=u))}e=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return e.setCrossOrigin(this.crossOrigin),e.setManager(this.manager),e.setMaterials(r),e}},THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t,n={};for(t in e){var i,r=e[t],a={};for(i in n[t]=a,r){var o=!0,s=r[i],u=i.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(o=!1)}o&&(a[u]=s)}}return n},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e,t=0;for(e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var t,r=this,n=this.materialsInfo[e],a={name:e,side:this.side};function i(e,t){var n,i;a[e]||(n=r.getTextureParams(t,a),(t=r.loadTexture((i=r.baseUrl,"string"!=typeof(t=n.url)||""===t?"":/^https?:\/\//i.test(t)?t:i+t))).repeat.copy(n.scale),t.offset.copy(n.offset),t.wrapS=r.wrap,t.wrapT=r.wrap,a[e]=t)}for(t in n){var o,s=n[t];if(""!==s)switch(t.toLowerCase()){case"kd":a.color=(new THREE.Color).fromArray(s);break;case"ks":a.specular=(new THREE.Color).fromArray(s);break;case"map_kd":i("map",s);break;case"map_ks":i("specularMap",s);break;case"norm":i("normalMap",s);break;case"map_bump":case"bump":i("bumpMap",s);break;case"ns":a.shininess=parseFloat(s);break;case"d":(o=parseFloat(s))<1&&(a.opacity=o,a.transparent=!0);break;case"tr":o=parseFloat(s),this.options&&this.options.invertTrProperty&&(o=1-o),o<1&&(a.opacity=o,a.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(a),this.materials[e]},getTextureParams:function(e,t){var n={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},i=e.split(/\s+/),e=i.indexOf("-bm");return 0<=e&&(t.bumpScale=parseFloat(i[e+1]),i.splice(e,2)),0<=(e=i.indexOf("-s"))&&(n.scale.set(parseFloat(i[e+1]),parseFloat(i[e+2])),i.splice(e,4)),0<=(e=i.indexOf("-o"))&&(n.offset.set(parseFloat(i[e+1]),parseFloat(i[e+2])),i.splice(e,4)),n.url=i.join(" ").trim(),n},loadTexture:function(e,t,n,i,r){var a=THREE.Loader.Handlers.get(e),o=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===a&&(a=new THREE.TextureLoader(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),r=a.load(e,n,i,r),void 0!==t&&(r.mapping=t),r}}},{}],44:[function(e,t,n){function F(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&0<t.length?t[t.length-1]:"",smooth:(void 0!==n?n:this).smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){e={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(n),n},currentMaterial:function(){if(0<this.materials.length)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&1<this.materials.length)for(var n=this.materials.length-1;0<=n;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone&&((n=n.clone(0)).inherited=!0,this.object.materials.push(n)),this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){e=parseInt(e,10);return 3*(0<=e?e-1:e+t/3)},parseNormalIndex:function(e,t){e=parseInt(e,10);return 3*(0<=e?e-1:e+t/3)},parseUVIndex:function(e,t){e=parseInt(e,10);return 2*(0<=e?e-1:e+t/2)},addVertex:function(e,t,n){var i=this.vertices,r=this.object.geometry.vertices;r.push(i[e+0],i[e+1],i[e+2]),r.push(i[t+0],i[t+1],i[t+2]),r.push(i[n+0],i[n+1],i[n+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){var i=this.normals,r=this.object.geometry.normals;r.push(i[e+0],i[e+1],i[e+2]),r.push(i[t+0],i[t+1],i[t+2]),r.push(i[n+0],i[n+1],i[n+2])},addColor:function(e,t,n){var i=this.colors,r=this.object.geometry.colors;r.push(i[e+0],i[e+1],i[e+2]),r.push(i[t+0],i[t+1],i[t+2]),r.push(i[n+0],i[n+1],i[n+2])},addUV:function(e,t,n){var i=this.uvs,r=this.object.geometry.uvs;r.push(i[e+0],i[e+1]),r.push(i[t+0],i[t+1]),r.push(i[n+0],i[n+1])},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,i,r,a,o,s,u){var l,c=this.vertices.length,e=this.parseVertexIndex(e,c),t=this.parseVertexIndex(t,c),c=this.parseVertexIndex(n,c);this.addVertex(e,t,c),void 0!==i&&(l=this.uvs.length,e=this.parseUVIndex(i,l),t=this.parseUVIndex(r,l),c=this.parseUVIndex(a,l),this.addUV(e,t,c)),void 0!==o&&(l=this.normals.length,e=this.parseNormalIndex(o,l),t=o===s?e:this.parseNormalIndex(s,l),c=o===u?e:this.parseNormalIndex(u,l),this.addNormal(e,t,c)),0<this.colors.length&&this.addColor(e,t,c)},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,n=0,i=e.length;n<i;n++)this.addVertexPoint(this.parseVertexIndex(e[n],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,i=this.uvs.length,r=0,a=e.length;r<a;r++)this.addVertexLine(this.parseVertexIndex(e[r],n));for(var o=0,a=t.length;o<a;o++)this.addUVLine(this.parseUVIndex(t[o],i))}};return e.startObject("",!1),e}function i(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null}var G,V,W;THREE.OBJLoader=(G=/^[og]\s*(.+)?/,V=/^mtllib /,W=/^usemtl /,i.prototype={constructor:i,load:function(e,t,n,i){var r=this,a=new THREE.FileLoader(r.manager);a.setPath(this.path),a.load(e,function(e){t(r.parse(e))},n,i)},setPath:function(e){this.path=e},setMaterials:function(e){return this.materials=e,this},parse:function(e){console.time("OBJLoader");var t=new F;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n,i,r=e.split("\n"),a="",o=[],s="function"==typeof"".trimLeft,u=0,l=r.length;u<l;u++)if(a=r[u],a=s?a.trimLeft():a.trim(),i=a.length,0!==i&&"#"!==(n=a.charAt(0)))if("v"===n){var c=a.split(/\s+/);switch(c[0]){case"v":t.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])),8===c.length&&t.colors.push(parseFloat(c[4]),parseFloat(c[5]),parseFloat(c[6]));break;case"vn":t.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));break;case"vt":t.uvs.push(parseFloat(c[1]),parseFloat(c[2]))}}else if("f"===n){for(var d=a.substr(1).trim().split(/\s+/),h=[],p=0,m=d.length;p<m;p++){var f=d[p];0<f.length&&(f=f.split("/"),h.push(f))}for(var g=h[0],p=1,m=h.length-1;p<m;p++){var _=h[p],y=h[p+1];t.addFace(g[0],_[0],y[0],g[1],_[1],y[1],g[2],_[2],y[2])}}else if("l"===n){var v=a.substring(1).trim().split(" "),M=[],b=[];if(-1===a.indexOf("/"))M=v;else for(var A=0,w=v.length;A<w;A++){var x=v[A].split("/");""!==x[0]&&M.push(x[0]),""!==x[1]&&b.push(x[1])}t.addLineGeometry(M,b)}else if("p"===n){var E=a.substr(1).trim().split(" ");t.addPointGeometry(E)}else if(null!==(o=G.exec(a))){var L=(" "+o[0].substr(1).trim()).substr(1);t.startObject(L)}else if(W.test(a))t.object.startMaterial(a.substring(7).trim(),t.materialLibraries);else if(V.test(a))t.materialLibraries.push(a.substring(7).trim());else if("s"===n)1<(o=a.split(" ")).length?(L=o[1].trim().toLowerCase(),t.object.smooth="0"!==L&&"off"!==L):t.object.smooth=!0,(H=t.object.currentMaterial())&&(H.smooth=t.object.smooth);else if("\0"!==a)throw new Error('THREE.OBJLoader: Unexpected line: "'+a+'"');t.finalize();var T=new THREE.Group;T.materialLibraries=[].concat(t.materialLibraries);for(u=0,l=t.objects.length;u<l;u++){var D=t.objects[u],S=D.geometry,N=D.materials,C="Line"===S.type,k="Points"===S.type,I=!1;if(0!==S.vertices.length){var j=new THREE.BufferGeometry;j.addAttribute("position",new THREE.Float32BufferAttribute(S.vertices,3)),0<S.normals.length?j.addAttribute("normal",new THREE.Float32BufferAttribute(S.normals,3)):j.computeVertexNormals(),0<S.colors.length&&(I=!0,j.addAttribute("color",new THREE.Float32BufferAttribute(S.colors,3))),0<S.uvs.length&&j.addAttribute("uv",new THREE.Float32BufferAttribute(S.uvs,2));for(var O,z=[],R=0,P=N.length;R<P;R++){var Y,B,U=N[R],H=void 0;null!==this.materials&&(H=this.materials.create(U.name),!C||!H||H instanceof THREE.LineBasicMaterial?!k||!H||H instanceof THREE.PointsMaterial||(Y=new THREE.PointsMaterial({size:10,sizeAttenuation:!1}),B.copy(H),H=Y):((B=new THREE.LineBasicMaterial).copy(H),B.lights=!1,H=B)),H||((H=C?new THREE.LineBasicMaterial:k?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial).name=U.name),H.flatShading=!U.smooth,H.vertexColors=I?THREE.VertexColors:THREE.NoColors,z.push(H)}if(1<z.length){for(R=0,P=N.length;R<P;R++){U=N[R];j.addGroup(U.groupStart,U.groupCount,R)}O=new(C?THREE.LineSegments:k?THREE.Points:THREE.Mesh)(j,z)}else O=new(C?THREE.LineSegments:k?THREE.Points:THREE.Mesh)(j,z[0]);O.name=D.name,T.add(O)}}return console.timeEnd("OBJLoader"),T}},i)},{}],45:[function(e,t,n){(n=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],46:[function(e,n,i){(function(c){var e,t;e=this,t=function(){"use strict";var We="undefined"!=typeof window?window:void 0!==c?c:"undefined"!=typeof self?self:{};function t(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)}function r(e,t){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var e,i,a=(function(e){e.exports=function(){var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}(),u=function(){function n(e,t){var n=[];var i=true;var r=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(i=(s=o.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;a=e}finally{try{if(!i&&o["return"])o["return"]()}finally{if(r)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;else if(Symbol.iterator in Object(e))return n(e,t);else throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=.001,o=1,t=function e(t,n){return"data:"+t+";base64,"+n},A=function e(t,n,i){return t+(n-t)*i},p=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),m=function(){var e=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return e}}(),i=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),s=function(){var e=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return e}}(),l=function(){var e=navigator.userAgent.match(/.*Chrome\/([0-9]+)/);var t=e?parseInt(e[1],10):null;return function(){return t}}(),c=function(){var e=false;if(l()===65){var t=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(t){var n=t[1].split("."),i=u(n,4),r=i[0],a=i[1],o=i[2],s=i[3];e=parseInt(o,10)===3325&&parseInt(s,10)<148}}return function(){return e}}(),d=function(){var e=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return e}}(),h=function e(){var t=window.orientation==90||window.orientation==-90;return d()?!t:t},r=function e(t){if(isNaN(t))return false;if(t<=a)return false;if(t>o)return false;return true},f=function e(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},g=function e(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},_=function e(t){if(m())return false;if(t.requestFullscreen)t.requestFullscreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else return false;return true},y=function e(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return false;return true},v=function e(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},M=function e(t,n,i,r){var a=t.createShader(t.VERTEX_SHADER);t.shaderSource(a,n);t.compileShader(a);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,i);t.compileShader(o);var s=t.createProgram();t.attachShader(s,a);t.attachShader(s,o);for(var u in r)t.bindAttribLocation(s,r[u],u);t.linkProgram(s);t.deleteShader(a);t.deleteShader(o);return s},b=function e(t,n){var i={};var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);var a="";for(var o=0;o<r;o++){var s=t.getActiveUniform(n,o);a=s.name.replace("[0]","");i[a]=t.getUniformLocation(n,a)}return i},w=function e(t,n,i,r,a,o,s){var u=1/(n-i),l=1/(r-a),c=1/(o-s);t[0]=-2*u;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=-2*l;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=2*c;t[11]=0;t[12]=(n+i)*u;t[13]=(a+r)*l;t[14]=(s+o)*c;t[15]=1;return t},x=function e(){var t=false;(function(e){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))t=true})(navigator.userAgent||navigator.vendor||window.opera);return t},E=function e(t,n){for(var i in n)if(n.hasOwnProperty(i))t[i]=n[i];return t},L=function e(t){if(p()){var n=t.style.width;var i=t.style.height;t.style.width=parseInt(n)+1+"px";t.style.height=parseInt(i)+"px";setTimeout(function(){t.style.width=n;t.style.height=i},100)}window.canvas=t},T=function(){var c=Math.PI/180;var d=Math.PI*.25;function u(e,t,n,i){var r=Math.tan(t?t.upDegrees*c:d),a=Math.tan(t?t.downDegrees*c:d),o=Math.tan(t?t.leftDegrees*c:d),s=Math.tan(t?t.rightDegrees*c:d),u=2/(o+s),l=2/(r+a);e[0]=u;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=l;e[6]=0;e[7]=0;e[8]=-((o-s)*u*.5);e[9]=(r-a)*l*.5;e[10]=i/(n-i);e[11]=-1;e[12]=0;e[13]=0;e[14]=i*n/(n-i);e[15]=0;return e}function l(e,t,n){var i=t[0],r=t[1],a=t[2],o=t[3],s=i+i,u=r+r,l=a+a,c=i*s,d=i*u,h=i*l,p=r*u,m=r*l,f=a*l,g=o*s,_=o*u,y=o*l;e[0]=1-(p+f);e[1]=d+y;e[2]=h-_;e[3]=0;e[4]=d-y;e[5]=1-(c+f);e[6]=m+g;e[7]=0;e[8]=h+_;e[9]=m-g;e[10]=1-(c+p);e[11]=0;e[12]=n[0];e[13]=n[1];e[14]=n[2];e[15]=1;return e}function h(e,t,n){var i=n[0],r=n[1],a=n[2],o,s,u,l,c,d,h,p,m,f,g,_;if(t===e){e[12]=t[0]*i+t[4]*r+t[8]*a+t[12];e[13]=t[1]*i+t[5]*r+t[9]*a+t[13];e[14]=t[2]*i+t[6]*r+t[10]*a+t[14];e[15]=t[3]*i+t[7]*r+t[11]*a+t[15]}else{o=t[0];s=t[1];u=t[2];l=t[3];c=t[4];d=t[5];h=t[6];p=t[7];m=t[8];f=t[9];g=t[10];_=t[11];e[0]=o;e[1]=s;e[2]=u;e[3]=l;e[4]=c;e[5]=d;e[6]=h;e[7]=p;e[8]=m;e[9]=f;e[10]=g;e[11]=_;e[12]=o*i+c*r+m*a+t[12];e[13]=s*i+d*r+f*a+t[13];e[14]=u*i+h*r+g*a+t[14];e[15]=l*i+p*r+_*a+t[15]}return e}function p(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],h=t[10],p=t[11],m=t[12],f=t[13],g=t[14],_=t[15],y=n*s-i*o,v=n*u-r*o,M=n*l-a*o,b=i*u-r*s,A=i*l-a*s,w=r*l-a*u,x=c*f-d*m,E=c*g-h*m,L=c*_-p*m,T=d*g-h*f,D=d*_-p*f,S=h*_-p*g,N=y*S-v*D+M*T+b*L-A*E+w*x;if(!N)return null;N=1/N;e[0]=(s*S-u*D+l*T)*N;e[1]=(r*D-i*S-a*T)*N;e[2]=(f*w-g*A+_*b)*N;e[3]=(h*A-d*w-p*b)*N;e[4]=(u*L-o*S-l*E)*N;e[5]=(n*S-r*L+a*E)*N;e[6]=(g*M-m*w-_*v)*N;e[7]=(c*w-h*M+p*v)*N;e[8]=(o*D-s*L+l*x)*N;e[9]=(i*L-n*D-a*x)*N;e[10]=(m*A-f*M+_*y)*N;e[11]=(d*M-c*A-p*y)*N;e[12]=(s*E-o*T-u*x)*N;e[13]=(n*T-i*E+r*x)*N;e[14]=(f*v-m*b-g*y)*N;e[15]=(c*b-d*v+h*y)*N;return e}var m=new Float32Array([0,0,0,1]);var f=new Float32Array([0,0,0]);function i(e,t,n,i,r,a){u(e,i||null,a.depthNear,a.depthFar);var o=n.orientation||m;var s=n.position||f;l(t,o,s);if(r)h(t,t,r);p(t,t)}return function(e,t,n){if(!e||!t)return false;e.pose=t;e.timestamp=t.timestamp;i(e.leftProjectionMatrix,e.leftViewMatrix,t,n._getFieldOfView("left"),n._getEyeOffset("left"),n);i(e.rightProjectionMatrix,e.rightViewMatrix,t,n._getFieldOfView("right"),n._getEyeOffset("right"),n);return true}}(),D=function e(){var t=window.self!==window.top;var n=S(document.referrer);var i=S(window.location.href);return t&&n!==i},S=function e(t){var n;var i=t.indexOf("://");if(i!==-1)n=i+3;else n=0;var r=t.indexOf("/",n);if(r===-1)r=t.length;return t.substring(0,r)},N=function e(t){if(t.w>1){console.warn("getQuaternionAngle: w > 1");return 0}var n=2*Math.acos(t.w);return n},C=function(){var n={};return function(e,t){if(n[e]===undefined){console.warn("webvr-polyfill: "+t);n[e]=true}}}(),k=function e(t,n){var i=n?"Please use "+n+" instead.":"";C(t,t+" has been deprecated. "+"This may not work on native WebVR displays. "+i)};function I(e,t,n){if(!t){n(e);return}var i=[];var r=null;for(var a=0;a<t.length;++a){var o=t[a];switch(o){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++a];if(s<e.TEXTURE0||s>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit");i.push(null,null);break}if(!r)r=e.getParameter(e.ACTIVE_TEXTURE);e.activeTexture(s);i.push(e.getParameter(o),null);break;case e.ACTIVE_TEXTURE:r=e.getParameter(e.ACTIVE_TEXTURE);i.push(null);break;default:i.push(e.getParameter(o));break}}n(e);for(var a=0;a<t.length;++a){var o=t[a];var u=i[a];switch(o){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,u);break;case e.COLOR_CLEAR_VALUE:e.clearColor(u[0],u[1],u[2],u[3]);break;case e.COLOR_WRITEMASK:e.colorMask(u[0],u[1],u[2],u[3]);break;case e.CURRENT_PROGRAM:e.useProgram(u);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,u);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,u);break;case e.TEXTURE_BINDING_2D:var s=t[++a];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s);e.bindTexture(e.TEXTURE_2D,u);break;case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++a];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s);e.bindTexture(e.TEXTURE_CUBE_MAP,u);break;case e.VIEWPORT:e.viewport(u[0],u[1],u[2],u[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:if(u)e.enable(o);else e.disable(o);break;default:console.log("No GL restore behavior for 0x"+o.toString(16));break}if(r)e.activeTexture(r)}}var j=I,O=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),z=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function R(e,t,n,i){this.gl=e;this.cardboardUI=t;this.bufferScale=n;this.dirtySubmitFrameBindings=i;this.ctxAttribs=e.getContextAttributes();this.meshWidth=20;this.meshHeight=20;this.bufferWidth=e.drawingBufferWidth;this.bufferHeight=e.drawingBufferHeight;this.realBindFramebuffer=e.bindFramebuffer;this.realEnable=e.enable;this.realDisable=e.disable;this.realColorMask=e.colorMask;this.realClearColor=e.clearColor;this.realViewport=e.viewport;if(!p()){this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width");this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")}this.isPatched=false;this.lastBoundFramebuffer=null;this.cullFace=false;this.depthTest=false;this.blend=false;this.scissorTest=false;this.stencilTest=false;this.viewport=[0,0,0,0];this.colorMask=[true,true,true,true];this.clearColor=[0,0,0,0];this.attribs={position:0,texCoord:1};this.program=M(e,O,z,this.attribs);this.uniforms=b(e,this.program);this.viewportOffsetScale=new Float32Array(8);this.setTextureBounds();this.vertexBuffer=e.createBuffer();this.indexBuffer=e.createBuffer();this.indexCount=0;this.renderTarget=e.createTexture();this.framebuffer=e.createFramebuffer();this.depthStencilBuffer=null;this.depthBuffer=null;this.stencilBuffer=null;if(this.ctxAttribs.depth&&this.ctxAttribs.stencil)this.depthStencilBuffer=e.createRenderbuffer();else if(this.ctxAttribs.depth)this.depthBuffer=e.createRenderbuffer();else if(this.ctxAttribs.stencil)this.stencilBuffer=e.createRenderbuffer();this.patch();this.onResize()}R.prototype.destroy=function(){var e=this.gl;this.unpatch();e.deleteProgram(this.program);e.deleteBuffer(this.vertexBuffer);e.deleteBuffer(this.indexBuffer);e.deleteTexture(this.renderTarget);e.deleteFramebuffer(this.framebuffer);if(this.depthStencilBuffer)e.deleteRenderbuffer(this.depthStencilBuffer);if(this.depthBuffer)e.deleteRenderbuffer(this.depthBuffer);if(this.stencilBuffer)e.deleteRenderbuffer(this.stencilBuffer);if(this.cardboardUI)this.cardboardUI.destroy()},R.prototype.onResize=function(){var e=this.gl;var t=this;var n=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];j(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null);if(t.scissorTest)t.realDisable.call(e,e.SCISSOR_TEST);t.realColorMask.call(e,true,true,true,true);t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight);t.realClearColor.call(e,0,0,0,1);e.clear(e.COLOR_BUFFER_BIT);t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer);e.bindTexture(e.TEXTURE_2D,t.renderTarget);e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0);if(t.ctxAttribs.depth&&t.ctxAttribs.stencil){e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)}else if(t.ctxAttribs.depth){e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)}else if(t.ctxAttribs.stencil){e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer);e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)}if(!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE)console.error("Framebuffer incomplete!");t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer);if(t.scissorTest)t.realEnable.call(e,e.SCISSOR_TEST);t.realColorMask.apply(e,t.colorMask);t.realViewport.apply(e,t.viewport);t.realClearColor.apply(e,t.clearColor)});if(this.cardboardUI)this.cardboardUI.onResize()},R.prototype.patch=function(){if(this.isPatched)return;var r=this;var n=this.gl.canvas;var a=this.gl;if(!p()){n.width=f()*this.bufferScale;n.height=g()*this.bufferScale;Object.defineProperty(n,"width",{configurable:true,enumerable:true,get:function e(){return r.bufferWidth},set:function e(t){r.bufferWidth=t;r.realCanvasWidth.set.call(n,t);r.onResize()}});Object.defineProperty(n,"height",{configurable:true,enumerable:true,get:function e(){return r.bufferHeight},set:function e(t){r.bufferHeight=t;r.realCanvasHeight.set.call(n,t);r.onResize()}})}this.lastBoundFramebuffer=a.getParameter(a.FRAMEBUFFER_BINDING);if(this.lastBoundFramebuffer==null){this.lastBoundFramebuffer=this.framebuffer;this.gl.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer)}this.gl.bindFramebuffer=function(e,t){r.lastBoundFramebuffer=t?t:r.framebuffer;r.realBindFramebuffer.call(a,e,r.lastBoundFramebuffer)};this.cullFace=a.getParameter(a.CULL_FACE);this.depthTest=a.getParameter(a.DEPTH_TEST);this.blend=a.getParameter(a.BLEND);this.scissorTest=a.getParameter(a.SCISSOR_TEST);this.stencilTest=a.getParameter(a.STENCIL_TEST);a.enable=function(e){switch(e){case a.CULL_FACE:r.cullFace=true;break;case a.DEPTH_TEST:r.depthTest=true;break;case a.BLEND:r.blend=true;break;case a.SCISSOR_TEST:r.scissorTest=true;break;case a.STENCIL_TEST:r.stencilTest=true;break}r.realEnable.call(a,e)};a.disable=function(e){switch(e){case a.CULL_FACE:r.cullFace=false;break;case a.DEPTH_TEST:r.depthTest=false;break;case a.BLEND:r.blend=false;break;case a.SCISSOR_TEST:r.scissorTest=false;break;case a.STENCIL_TEST:r.stencilTest=false;break}r.realDisable.call(a,e)};this.colorMask=a.getParameter(a.COLOR_WRITEMASK);a.colorMask=function(e,t,n,i){r.colorMask[0]=e;r.colorMask[1]=t;r.colorMask[2]=n;r.colorMask[3]=i;r.realColorMask.call(a,e,t,n,i)};this.clearColor=a.getParameter(a.COLOR_CLEAR_VALUE);a.clearColor=function(e,t,n,i){r.clearColor[0]=e;r.clearColor[1]=t;r.clearColor[2]=n;r.clearColor[3]=i;r.realClearColor.call(a,e,t,n,i)};this.viewport=a.getParameter(a.VIEWPORT);a.viewport=function(e,t,n,i){r.viewport[0]=e;r.viewport[1]=t;r.viewport[2]=n;r.viewport[3]=i;r.realViewport.call(a,e,t,n,i)};this.isPatched=true;L(n)},R.prototype.unpatch=function(){if(!this.isPatched)return;var e=this.gl;var t=this.gl.canvas;if(!p()){Object.defineProperty(t,"width",this.realCanvasWidth);Object.defineProperty(t,"height",this.realCanvasHeight)}t.width=this.bufferWidth;t.height=this.bufferHeight;e.bindFramebuffer=this.realBindFramebuffer;e.enable=this.realEnable;e.disable=this.realDisable;e.colorMask=this.realColorMask;e.clearColor=this.realClearColor;e.viewport=this.realViewport;if(this.lastBoundFramebuffer==this.framebuffer)e.bindFramebuffer(e.FRAMEBUFFER,null);this.isPatched=false;setTimeout(function(){L(t)},1)},R.prototype.setTextureBounds=function(e,t){if(!e)e=[0,0,.5,1];if(!t)t=[.5,0,.5,1];this.viewportOffsetScale[0]=e[0];this.viewportOffsetScale[1]=e[1];this.viewportOffsetScale[2]=e[2];this.viewportOffsetScale[3]=e[3];this.viewportOffsetScale[4]=t[0];this.viewportOffsetScale[5]=t[1];this.viewportOffsetScale[6]=t[2];this.viewportOffsetScale[7]=t[3]},R.prototype.submitFrame=function(){var e=this.gl;var t=this;var n=[];if(!this.dirtySubmitFrameBindings)n.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0);j(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null);if(t.cullFace)t.realDisable.call(e,e.CULL_FACE);if(t.depthTest)t.realDisable.call(e,e.DEPTH_TEST);if(t.blend)t.realDisable.call(e,e.BLEND);if(t.scissorTest)t.realDisable.call(e,e.SCISSOR_TEST);if(t.stencilTest)t.realDisable.call(e,e.STENCIL_TEST);t.realColorMask.call(e,true,true,true,true);t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight);if(t.ctxAttribs.alpha||p()){t.realClearColor.call(e,0,0,0,1);e.clear(e.COLOR_BUFFER_BIT)}e.useProgram(t.program);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer);e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer);e.enableVertexAttribArray(t.attribs.position);e.enableVertexAttribArray(t.attribs.texCoord);e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,false,20,0);e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,false,20,8);e.activeTexture(e.TEXTURE0);e.uniform1i(t.uniforms.diffuse,0);e.bindTexture(e.TEXTURE_2D,t.renderTarget);e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale);e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0);if(t.cardboardUI)t.cardboardUI.renderNoState();t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer);if(!t.ctxAttribs.preserveDrawingBuffer){t.realClearColor.call(e,0,0,0,0);e.clear(e.COLOR_BUFFER_BIT)}if(!t.dirtySubmitFrameBindings)t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer);if(t.cullFace)t.realEnable.call(e,e.CULL_FACE);if(t.depthTest)t.realEnable.call(e,e.DEPTH_TEST);if(t.blend)t.realEnable.call(e,e.BLEND);if(t.scissorTest)t.realEnable.call(e,e.SCISSOR_TEST);if(t.stencilTest)t.realEnable.call(e,e.STENCIL_TEST);t.realColorMask.apply(e,t.colorMask);t.realViewport.apply(e,t.viewport);if(t.ctxAttribs.alpha||!t.ctxAttribs.preserveDrawingBuffer)t.realClearColor.apply(e,t.clearColor)});if(p()){var i=e.canvas;if(i.width!=t.bufferWidth||i.height!=t.bufferHeight){t.bufferWidth=i.width;t.bufferHeight=i.height;t.onResize()}}},R.prototype.updateDeviceInfo=function(i){var e=this.gl;var r=this;var t=[e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING];j(e,t,function(e){var t=r.computeMeshVertices_(r.meshWidth,r.meshHeight,i);e.bindBuffer(e.ARRAY_BUFFER,r.vertexBuffer);e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW);if(!r.indexCount){var n=r.computeMeshIndices_(r.meshWidth,r.meshHeight);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indexBuffer);e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW);r.indexCount=n.length}})},R.prototype.computeMeshVertices_=function(e,t,n){var i=new Float32Array(2*e*t*5);var r=n.getLeftEyeVisibleTanAngles();var a=n.getLeftEyeNoLensTanAngles();var o=n.getLeftEyeVisibleScreenRect(a);var s=0;for(var u=0;u<2;u++){for(var l=0;l<t;l++)for(var c=0;c<e;c++,s++){var d=c/(e-1);var h=l/(t-1);var p=d;var m=h;var f=A(r[0],r[2],d);var g=A(r[3],r[1],h);var _=Math.sqrt(f*f+g*g);var y=n.distortion.distortInverse(_);var v=f*y/_;var M=g*y/_;d=(v-a[0])/(a[2]-a[0]);h=(M-a[3])/(a[1]-a[3]);d=(o.x+d*o.width-.5)*2;h=(o.y+h*o.height-.5)*2;i[s*5+0]=d;i[s*5+1]=h;i[s*5+2]=p;i[s*5+3]=m;i[s*5+4]=u}var b=r[2]-r[0];r[0]=-(b+r[0]);r[2]=b-r[2];b=a[2]-a[0];a[0]=-(b+a[0]);a[2]=b-a[2];o.x=1-(o.x+o.width)}return i},R.prototype.computeMeshIndices_=function(e,t){var n=new Uint16Array(2*(e-1)*(t-1)*6);var i=e/2;var r=t/2;var a=0;var o=0;for(var s=0;s<2;s++)for(var u=0;u<t;u++)for(var l=0;l<e;l++,a++){if(l==0||u==0)continue;if(l<=i==u<=r){n[o++]=a;n[o++]=a-e-1;n[o++]=a-e;n[o++]=a-e-1;n[o++]=a;n[o++]=a-1}else{n[o++]=a-1;n[o++]=a-e;n[o++]=a;n[o++]=a-e;n[o++]=a-1;n[o++]=a-e-1}}return n},R.prototype.getOwnPropertyDescriptor_=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);if(n.get===undefined||n.set===undefined){n.configurable=true;n.enumerable=true;n.get=function(){return this.getAttribute(t)};n.set=function(e){this.setAttribute(t,e)}}return n};var P=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),Y=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),B=Math.PI/180,U=60,H=12,F=20,G=1,V=.75,W=.3125,Q=4,q=28,Z=1.5;function X(e){this.gl=e;this.attribs={position:0};this.program=M(e,P,Y,this.attribs);this.uniforms=b(e,this.program);this.vertexBuffer=e.createBuffer();this.gearOffset=0;this.gearVertexCount=0;this.arrowOffset=0;this.arrowVertexCount=0;this.projMat=new Float32Array(16);this.listener=null;this.onResize()}function J(e){this.coefficients=e}X.prototype.destroy=function(){var e=this.gl;if(this.listener)e.canvas.removeEventListener("click",this.listener,false);e.deleteProgram(this.program);e.deleteBuffer(this.vertexBuffer)},X.prototype.listen=function(i,r){var a=this.gl.canvas;this.listener=function(e){var t=a.clientWidth/2;var n=q*Z;if(e.clientX>t-n&&e.clientX<t+n&&e.clientY>a.clientHeight-n)i(e);else if(e.clientX<n&&e.clientY<n)r(e)};a.addEventListener("click",this.listener,false)},X.prototype.onResize=function(){var e=this.gl;var f=this;var t=[e.ARRAY_BUFFER_BINDING];j(e,t,function(n){var a=[];var o=n.drawingBufferWidth/2;var e=Math.max(screen.width,screen.height)*window.devicePixelRatio;var t=n.drawingBufferWidth/e;var i=t*window.devicePixelRatio;var r=Q*i/2;var s=q*Z*i;var u=q*i/2;var l=(q*Z-q)*i;a.push(o-r,s);a.push(o-r,n.drawingBufferHeight);a.push(o+r,s);a.push(o+r,n.drawingBufferHeight);f.gearOffset=a.length/2;function c(e,t){var n=(90-e)*B;var i=Math.cos(n);var r=Math.sin(n);a.push(W*i*u+o,W*r*u+u);a.push(t*i*u+o,t*r*u+u)}for(var d=0;d<=6;d++){var h=d*U;c(h,G);c(h+H,G);c(h+F,V);c(h+(U-F),V);c(h+(U-H),G)}f.gearVertexCount=a.length/2-f.gearOffset;f.arrowOffset=a.length/2;function p(e,t){a.push(l+e,n.drawingBufferHeight-l-t)}var m=r/Math.sin(45*B);p(0,u);p(u,0);p(u+m,m);p(m,u+m);p(m,u-m);p(0,u);p(u,u*2);p(u+m,u*2-m);p(m,u-m);p(0,u);p(m,u-r);p(q*i,u-r);p(m,u+r);p(q*i,u+r);f.arrowVertexCount=a.length/2-f.arrowOffset;n.bindBuffer(n.ARRAY_BUFFER,f.vertexBuffer);n.bufferData(n.ARRAY_BUFFER,new Float32Array(a),n.STATIC_DRAW)})},X.prototype.render=function(){var e=this.gl;var t=this;var n=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];j(e,n,function(e){e.disable(e.CULL_FACE);e.disable(e.DEPTH_TEST);e.disable(e.BLEND);e.disable(e.SCISSOR_TEST);e.disable(e.STENCIL_TEST);e.colorMask(true,true,true,true);e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight);t.renderNoState()})},X.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program);e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer);e.enableVertexAttribArray(this.attribs.position);e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,false,8,0);e.uniform4f(this.uniforms.color,1,1,1,1);w(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024);e.uniformMatrix4fv(this.uniforms.projectionMat,false,this.projMat);e.drawArrays(e.TRIANGLE_STRIP,0,4);e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount);e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},J.prototype.distortInverse=function(e){var t=0;var n=1;var i=e-this.distort(t);while(Math.abs(n-t)>1e-4){var r=e-this.distort(n);var a=n-r*((n-t)/(r-i));t=n;n=a;i=r}return n},J.prototype.distort=function(e){var t=e*e;var n=0;for(var i=0;i<this.coefficients.length;i++)n=t*(n+this.coefficients[i]);return(n+1)*e};var K=Math.PI/180,$=180/Math.PI,ee=function e(t,n,i){this.x=t||0;this.y=n||0;this.z=i||0};ee.prototype={constructor:ee,set:function e(t,n,i){this.x=t;this.y=n;this.z=i;return this},copy:function e(t){this.x=t.x;this.y=t.y;this.z=t.z;return this},length:function e(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function e(){var t=this.length();if(t!==0){var n=1/t;this.multiplyScalar(n)}else{this.x=0;this.y=0;this.z=0}return this},multiplyScalar:function e(t){this.x*=t;this.y*=t;this.z*=t},applyQuaternion:function e(t){var n=this.x;var i=this.y;var r=this.z;var a=t.x;var o=t.y;var s=t.z;var u=t.w;var l=u*n+o*r-s*i;var c=u*i+s*n-a*r;var d=u*r+a*i-o*n;var h=-a*n-o*i-s*r;this.x=l*u+h*-a+c*-s-d*-o;this.y=c*u+h*-o+d*-a-l*-s;this.z=d*u+h*-s+l*-o-c*-a;return this},dot:function e(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function e(t,n){var i=t.x,r=t.y,a=t.z;var o=n.x,s=n.y,u=n.z;this.x=r*u-a*s;this.y=a*o-i*u;this.z=i*s-r*o;return this}};var te=function e(t,n,i,r){this.x=t||0;this.y=n||0;this.z=i||0;this.w=r!==undefined?r:1};function ne(e){this.width=e.width||f();this.height=e.height||g();this.widthMeters=e.widthMeters;this.heightMeters=e.heightMeters;this.bevelMeters=e.bevelMeters}te.prototype={constructor:te,set:function e(t,n,i,r){this.x=t;this.y=n;this.z=i;this.w=r;return this},copy:function e(t){this.x=t.x;this.y=t.y;this.z=t.z;this.w=t.w;return this},setFromEulerXYZ:function e(t,n,i){var r=Math.cos(t/2);var a=Math.cos(n/2);var o=Math.cos(i/2);var s=Math.sin(t/2);var u=Math.sin(n/2);var l=Math.sin(i/2);this.x=s*a*o+r*u*l;this.y=r*u*o-s*a*l;this.z=r*a*l+s*u*o;this.w=r*a*o-s*u*l;return this},setFromEulerYXZ:function e(t,n,i){var r=Math.cos(t/2);var a=Math.cos(n/2);var o=Math.cos(i/2);var s=Math.sin(t/2);var u=Math.sin(n/2);var l=Math.sin(i/2);this.x=s*a*o+r*u*l;this.y=r*u*o-s*a*l;this.z=r*a*l-s*u*o;this.w=r*a*o+s*u*l;return this},setFromAxisAngle:function e(t,n){var i=n/2,r=Math.sin(i);this.x=t.x*r;this.y=t.y*r;this.z=t.z*r;this.w=Math.cos(i);return this},multiply:function e(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function e(t,n){var i=t.x,r=t.y,a=t.z,o=t.w;var s=n.x,u=n.y,l=n.z,c=n.w;this.x=i*c+o*s+r*l-a*u;this.y=r*c+o*u+a*s-i*l;this.z=a*c+o*l+i*u-r*s;this.w=o*c-i*s-r*u-a*l;return this},inverse:function e(){this.x*=-1;this.y*=-1;this.z*=-1;this.normalize();return this},normalize:function e(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);if(t===0){this.x=0;this.y=0;this.z=0;this.w=1}else{t=1/t;this.x=this.x*t;this.y=this.y*t;this.z=this.z*t;this.w=this.w*t}return this},slerp:function e(t,n){if(n===0)return this;if(n===1)return this.copy(t);var i=this.x,r=this.y,a=this.z,o=this.w;var s=o*t.w+i*t.x+r*t.y+a*t.z;if(s<0){this.w=-t.w;this.x=-t.x;this.y=-t.y;this.z=-t.z;s=-s}else this.copy(t);if(s>=1){this.w=o;this.x=i;this.y=r;this.z=a;return this}var u=Math.acos(s);var l=Math.sqrt(1-s*s);if(Math.abs(l)<.001){this.w=.5*(o+this.w);this.x=.5*(i+this.x);this.y=.5*(r+this.y);this.z=.5*(a+this.z);return this}var c=Math.sin((1-n)*u)/l,d=Math.sin(n*u)/l;this.w=o*c+this.w*d;this.x=i*c+this.x*d;this.y=r*c+this.y*d;this.z=a*c+this.z*d;return this},setFromUnitVectors:function(){var n,i;var r=1e-6;return function(e,t){if(n===undefined)n=new ee;i=e.dot(t)+1;if(i<r){i=0;if(Math.abs(e.x)>Math.abs(e.z))n.set(-e.y,e.x,0);else n.set(0,-e.z,e.y)}else n.crossVectors(e,t);this.x=n.x;this.y=n.y;this.z=n.z;this.w=i;this.normalize();return this}}()};var ie=new ne({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),re=new ne({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),ae={CardboardV1:new se({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new se({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function oe(e){this.viewer=ae.CardboardV2;this.updateDeviceParams(e);this.distortion=new J(this.viewer.distortionCoefficients)}function se(e){this.id=e.id;this.label=e.label;this.fov=e.fov;this.interLensDistance=e.interLensDistance;this.baselineLensDistance=e.baselineLensDistance;this.screenLensDistance=e.screenLensDistance;this.distortionCoefficients=e.distortionCoefficients;this.inverseCoefficients=e.inverseCoefficients}oe.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},oe.prototype.getDevice=function(){return this.device},oe.prototype.setViewer=function(e){this.viewer=e;this.distortion=new J(this.viewer.distortionCoefficients)},oe.prototype.determineDevice_=function(e){if(!e)if(p()){console.warn("Using fallback iOS device measurements.");return re}else{console.warn("Using fallback Android device measurements.");return ie}var t=.0254;var n=t/e.xdpi;var i=t/e.ydpi;var r=f();var a=g();return new ne({widthMeters:n*r,heightMeters:i*a,bevelMeters:e.bevelMm*.001})},oe.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer;var t=this.device;var n=this.distortion;var i=e.screenLensDistance;var r=(t.widthMeters-e.interLensDistance)/2;var a=e.interLensDistance/2;var o=e.baselineLensDistance-t.bevelMeters;var s=t.heightMeters-o;var u=$*Math.atan(n.distort(r/i));var l=$*Math.atan(n.distort(a/i));var c=$*Math.atan(n.distort(o/i));var d=$*Math.atan(n.distort(s/i));return{leftDegrees:Math.min(u,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(c,e.fov),upDegrees:Math.min(d,e.fov)}},oe.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer;var t=this.device;var n=this.distortion;var i=Math.tan(-K*e.fov);var r=Math.tan(K*e.fov);var a=Math.tan(K*e.fov);var o=Math.tan(-K*e.fov);var s=t.widthMeters/4;var u=t.heightMeters/2;var l=e.baselineLensDistance-t.bevelMeters-u;var c=e.interLensDistance/2-s;var d=-l;var h=e.screenLensDistance;var p=n.distort((c-s)/h);var m=n.distort((d+u)/h);var f=n.distort((c+s)/h);var g=n.distort((d-u)/h);var _=new Float32Array(4);_[0]=Math.max(i,p);_[1]=Math.min(r,m);_[2]=Math.min(a,f);_[3]=Math.max(o,g);return _},oe.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer;var t=this.device;var n=this.distortion;var i=new Float32Array(4);var r=n.distortInverse(Math.tan(-K*e.fov));var a=n.distortInverse(Math.tan(K*e.fov));var o=n.distortInverse(Math.tan(K*e.fov));var s=n.distortInverse(Math.tan(-K*e.fov));var u=t.widthMeters/4;var l=t.heightMeters/2;var c=e.baselineLensDistance-t.bevelMeters-l;var d=e.interLensDistance/2-u;var h=-c;var p=e.screenLensDistance;var m=(d-u)/p;var f=(h+l)/p;var g=(d+u)/p;var _=(h-l)/p;i[0]=Math.max(r,m);i[1]=Math.min(a,f);i[2]=Math.min(o,g);i[3]=Math.max(s,_);return i},oe.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer;var n=this.device;var i=t.screenLensDistance;var r=(n.widthMeters-t.interLensDistance)/2;var a=t.baselineLensDistance-n.bevelMeters;var o=(e[0]*i+r)/n.widthMeters;var s=(e[1]*i+a)/n.heightMeters;var u=(e[2]*i+r)/n.widthMeters;var l=(e[3]*i+a)/n.heightMeters;return{x:o,y:l,width:u-o,height:s-l}},oe.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},oe.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},oe.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:$*Math.atan(e.outerDist),rightDegrees:$*Math.atan(e.innerDist),downDegrees:$*Math.atan(e.bottomDist),upDegrees:$*Math.atan(e.topDist)}},oe.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_();var t=this.viewer;var n=this.device;var i=t.screenLensDistance;var r=n.widthMeters/i;var a=n.heightMeters/i;var o=n.width/r;var s=n.height/a;var u=Math.round((e.eyePosX-e.outerDist)*o);var l=Math.round((e.eyePosY-e.bottomDist)*s);return{x:u,y:l,width:Math.round((e.eyePosX+e.innerDist)*o)-u,height:Math.round((e.eyePosY+e.topDist)*s)-l}},oe.prototype.getUndistortedParams_=function(){var e=this.viewer;var t=this.device;var n=this.distortion;var i=e.screenLensDistance;var r=e.interLensDistance/2/i;var a=t.widthMeters/i;var o=t.heightMeters/i;var s=a/2-r;var u=(e.baselineLensDistance-t.bevelMeters)/i;var l=e.fov;var c=n.distortInverse(Math.tan(K*l));var d=Math.min(s,c);var h=Math.min(r,c);var p=Math.min(u,c);var m=Math.min(o-u,c);return{outerDist:d,innerDist:h,topDist:m,bottomDist:p,eyePosX:s,eyePosY:u}},oe.Viewers=ae;var ue,le,ce,de={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function he(e,t){this.dpdb=de;this.recalculateDeviceParams_();if(e){this.onDeviceParamsUpdated=t;var n=new XMLHttpRequest;var i=this;n.open("GET",e,true);n.addEventListener("load",function(){i.loading=false;if(n.status>=200&&n.status<=299){i.dpdb=JSON.parse(n.response);i.recalculateDeviceParams_()}else console.error("Error loading online DPDB!")});n.send()}}function pe(e){this.xdpi=e.xdpi;this.ydpi=e.ydpi;this.bevelMm=e.bevelMm}function me(e,t){this.set(e,t)}function fe(e,t){this.kFilter=e;this.isDebug=t;this.currentAccelMeasurement=new me;this.currentGyroMeasurement=new me;this.previousGyroMeasurement=new me;if(p())this.filterQ=new te(-1,0,0,1);else this.filterQ=new te(1,0,0,1);this.previousFilterQ=new te;this.previousFilterQ.copy(this.filterQ);this.accelQ=new te;this.isOrientationInitialized=false;this.estimatedGravity=new ee;this.measuredGravity=new ee;this.gyroIntegralQ=new te}function ge(e,t){this.predictionTimeS=e;this.isDebug=t;this.previousQ=new te;this.previousTimestampS=null;this.deltaQ=new te;this.outQ=new te}function _e(e,t,n,i){this.yawOnly=n;this.accelerometer=new ee;this.gyroscope=new ee;this.filter=new fe(e,i);this.posePredictor=new ge(t,i);this.isFirefoxAndroid=s();this.isIOS=p();var r=l();this.isDeviceMotionInRadians=!this.isIOS&&r&&r<66;this.isWithoutDeviceMotion=c();this.filterToWorldQ=new te;if(p())this.filterToWorldQ.setFromAxisAngle(new ee(1,0,0),Math.PI/2);else this.filterToWorldQ.setFromAxisAngle(new ee(1,0,0),-Math.PI/2);this.inverseWorldToScreenQ=new te;this.worldToScreenQ=new te;this.originalPoseAdjustQ=new te;this.originalPoseAdjustQ.setFromAxisAngle(new ee(0,0,1),-window.orientation*Math.PI/180);this.setScreenTransform_();if(h())this.filterToWorldQ.multiply(this.inverseWorldToScreenQ);this.resetQ=new te;this.orientationOut_=new Float32Array(4);this.start()}he.prototype.getDeviceParams=function(){return this.deviceParams},he.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();if(e){this.deviceParams=e;if(this.onDeviceParamsUpdated)this.onDeviceParamsUpdated(this.deviceParams)}else console.error("Failed to recalculate device parameters.")},he.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e){console.error("DPDB not available.");return null}if(e.format!=1){console.error("DPDB has unexpected format version.");return null}if(!e.devices||!e.devices.length){console.error("DPDB does not have a devices section.");return null}var t=navigator.userAgent||navigator.vendor||window.opera;var n=f();var i=g();if(!e.devices){console.error("DPDB has no devices section.");return null}for(var r=0;r<e.devices.length;r++){var a=e.devices[r];if(!a.rules){console.warn("Device["+r+"] has no rules section.");continue}if(a.type!="ios"&&a.type!="android"){console.warn("Device["+r+"] has invalid type.");continue}if(p()!=(a.type=="ios"))continue;var o=false;for(var s=0;s<a.rules.length;s++){var u=a.rules[s];if(this.matchRule_(u,t,n,i)){o=true;break}}if(!o)continue;var l=a.dpi[0]||a.dpi;var c=a.dpi[1]||a.dpi;return new pe({xdpi:l,ydpi:c,bevelMm:a.bw})}console.warn("No DPDB device match.");return null},he.prototype.matchRule_=function(e,t,n,i){if(!e.ua&&!e.res)return false;if(e.ua&&t.indexOf(e.ua)<0)return false;if(e.res){if(!e.res[0]||!e.res[1])return false;var r=e.res[0];var a=e.res[1];if(Math.min(n,i)!=Math.min(r,a)||Math.max(n,i)!=Math.max(r,a))return false}return true},me.prototype.set=function(e,t){this.sample=e;this.timestampS=t},me.prototype.copy=function(e){this.set(e.sample,e.timestampS)},fe.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},fe.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var n=t-this.previousGyroMeasurement.timestampS;if(r(n))this.run_();this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},fe.prototype.run_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample);this.previousFilterQ.copy(this.accelQ);this.isOrientationInitialized=true;return}var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS;var t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t);this.filterQ.copy(this.previousFilterQ);this.filterQ.multiply(t);var n=new te;n.copy(this.filterQ);n.inverse();this.estimatedGravity.set(0,0,-1);this.estimatedGravity.applyQuaternion(n);this.estimatedGravity.normalize();this.measuredGravity.copy(this.currentAccelMeasurement.sample);this.measuredGravity.normalize();var i=new te;i.setFromUnitVectors(this.estimatedGravity,this.measuredGravity);i.inverse();if(this.isDebug)console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",$*N(i),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var r=new te;r.copy(this.filterQ);r.multiply(i);this.filterQ.slerp(r,1-this.kFilter);this.previousFilterQ.copy(this.filterQ)},fe.prototype.getOrientation=function(){return this.filterQ},fe.prototype.accelToQuaternion_=function(e){var t=new ee;t.copy(e);t.normalize();var n=new te;n.setFromUnitVectors(new ee(0,0,-1),t);n.inverse();return n},fe.prototype.gyroToQuaternionDelta_=function(e,t){var n=new te;var i=new ee;i.copy(e);i.normalize();n.setFromAxisAngle(i,e.length()*t);return n},ge.prototype.getPrediction=function(e,t,n){if(!this.previousTimestampS){this.previousQ.copy(e);this.previousTimestampS=n;return e}var i=new ee;i.copy(t);i.normalize();var r=t.length();if(r<K*20){if(this.isDebug)console.log("Moving slowly, at %s deg/s: no prediction",($*r).toFixed(1));this.outQ.copy(e);this.previousQ.copy(e);return this.outQ}var a=r*this.predictionTimeS;this.deltaQ.setFromAxisAngle(i,a);this.outQ.copy(this.previousQ);this.outQ.multiply(this.deltaQ);this.previousQ.copy(e);this.previousTimestampS=n;return this.outQ},_e.prototype.getPosition=function(){return null},_e.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var e=(new te).setFromAxisAngle(new ee(0,0,-1),0);var t=new te;if(window.orientation===-90)t.setFromAxisAngle(new ee(0,1,0),Math.PI/-2);else t.setFromAxisAngle(new ee(0,1,0),Math.PI/2);return e.multiply(t)}();this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var e=new te;e.setFromAxisAngle(new ee(1,0,0),-Math.PI/2);return e}();e=this._deviceOrientationQ;var t=new te;t.copy(e);t.multiply(this.deviceOrientationFilterToWorldQ);t.multiply(this.resetQ);t.multiply(this.worldToScreenQ);t.multiplyQuaternions(this.deviceOrientationFixQ,t);if(this.yawOnly){t.x=0;t.z=0;t.normalize()}this.orientationOut_[0]=t.x;this.orientationOut_[1]=t.y;this.orientationOut_[2]=t.z;this.orientationOut_[3]=t.w;return this.orientationOut_}else{var n=this.filter.getOrientation();e=this.posePredictor.getPrediction(n,this.gyroscope,this.previousTimestampS)}var t=new te;t.copy(this.filterToWorldQ);t.multiply(this.resetQ);t.multiply(e);t.multiply(this.worldToScreenQ);if(this.yawOnly){t.x=0;t.z=0;t.normalize()}this.orientationOut_[0]=t.x;this.orientationOut_[1]=t.y;this.orientationOut_[2]=t.z;this.orientationOut_[3]=t.w;return this.orientationOut_},_e.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation());this.resetQ.x=0;this.resetQ.y=0;this.resetQ.z*=-1;this.resetQ.normalize();if(h())this.resetQ.multiply(this.inverseWorldToScreenQ);this.resetQ.multiply(this.originalPoseAdjustQ)},_e.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new te;var t=e.alpha,n=e.beta,i=e.gamma;t=(t||0)*Math.PI/180;n=(n||0)*Math.PI/180;i=(i||0)*Math.PI/180;this._deviceOrientationQ.setFromEulerYXZ(n,t,-i)},_e.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},_e.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity;var n=e.rotationRate;var i=e.timeStamp/1e3;var r=i-this.previousTimestampS;if(r<0){C("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion");this.previousTimestampS=i;return}else if(r<=a||r>o){C("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range.");this.previousTimestampS=i;return}this.accelerometer.set(-t.x,-t.y,-t.z);if(d())this.gyroscope.set(-n.beta,n.alpha,n.gamma);else this.gyroscope.set(n.alpha,n.beta,n.gamma);if(!this.isDeviceMotionInRadians)this.gyroscope.multiplyScalar(Math.PI/180);this.filter.addAccelMeasurement(this.accelerometer,i);this.filter.addGyroMeasurement(this.gyroscope,i);this.previousTimestampS=i},_e.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},_e.prototype.onMessage_=function(e){var t=e.data;if(!t||!t.type)return;var n=t.type.toLowerCase();if(n!=="devicemotion")return;this.updateDeviceMotion_(t.deviceMotionEvent)},_e.prototype.setScreenTransform_=function(){this.worldToScreenQ.set(0,0,0,1);switch(window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new ee(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new ee(0,0,1),Math.PI/2);break;case 180:break}this.inverseWorldToScreenQ.copy(this.worldToScreenQ);this.inverseWorldToScreenQ.inverse()},_e.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this);this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this);this.onMessageCallback_=this.onMessage_.bind(this);this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this);if(p()&&D())window.addEventListener("message",this.onMessageCallback_);window.addEventListener("orientationchange",this.onOrientationChangeCallback_);if(this.isWithoutDeviceMotion)window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_);else window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},_e.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_);window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_);window.removeEventListener("orientationchange",this.onOrientationChangeCallback_);window.removeEventListener("message",this.onMessageCallback_)};var ye=60,ve=new ee(1,0,0),Me=new ee(0,0,1),be={};if(screen.orientation)be=screen.orientation;else if(screen.msOrientation)be=screen.msOrientation;else Object.defineProperty(be,"angle",{get:function e(){return window.orientation||0}});var Ae=new te;Ae.setFromAxisAngle(ve,-Math.PI/2),Ae.multiply((new te).setFromAxisAngle(Me,Math.PI/2));var we=function(){function t(e){n(this,t);this.config=e;this.sensor=null;this.fusionSensor=null;this._out=new Float32Array(4);this.api=null;this.errors=[];this._sensorQ=new te;this._worldToScreenQ=new te;this._outQ=new te;this._onSensorRead=this._onSensorRead.bind(this);this._onSensorError=this._onSensorError.bind(this);this._onOrientationChange=this._onOrientationChange.bind(this);this._onOrientationChange();this.init()}e(t,[{key:"init",value:function e(){var t=null;try{t=new RelativeOrientationSensor({frequency:ye});t.addEventListener("error",this._onSensorError)}catch(e){this.errors.push(e);if(e.name==="SecurityError"){console.error("Cannot construct sensors due to the Feature Policy");console.warn('Attempting to fall back using "devicemotion"; however this will '+"fail in the future without correct permissions.");this.useDeviceMotion()}else if(e.name==="ReferenceError")this.useDeviceMotion();else console.error(e)}if(t){this.api="sensor";this.sensor=t;this.sensor.addEventListener("reading",this._onSensorRead);this.sensor.start()}window.addEventListener("orientationchange",this._onOrientationChange)}},{key:"useDeviceMotion",value:function e(){this.api="devicemotion";this.fusionSensor=new _e(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function e(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion){this._out[0]=this._out[1]=this._out[2]=0;this._out[3]=1;return this._out}var t=this.sensor.quaternion;this._sensorQ.set(t[0],t[1],t[2],t[3]);var n=this._outQ;n.copy(Ae);n.multiply(this._sensorQ);n.multiply(this._worldToScreenQ);if(this.config.YAW_ONLY){n.x=n.z=0;n.normalize()}this._out[0]=n.x;this._out[1]=n.y;this._out[2]=n.z;this._out[3]=n.w;return this._out}},{key:"_onSensorError",value:function e(t){this.errors.push(t.error);if(t.error.name==="NotAllowedError")console.error("Permission to access sensor was denied");else if(t.error.name==="NotReadableError")console.error("Sensor could not be read");else console.error(t.error)}},{key:"_onSensorRead",value:function e(){}},{key:"_onOrientationChange",value:function e(){var t=-be.angle*Math.PI/180;this._worldToScreenQ.setFromAxisAngle(Me,t)}}]);return t}(),xe="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+";function Ee(){this.loadIcon_();var e=document.createElement("div");var t=e.style;t.position="fixed";t.top=0;t.right=0;t.bottom=0;t.left=0;t.backgroundColor="gray";t.fontFamily="sans-serif";t.zIndex=1e6;var n=document.createElement("img");n.src=this.icon;var t=n.style;t.marginLeft="25%";t.marginTop="25%";t.width="50%";e.appendChild(n);var i=document.createElement("div");var t=i.style;t.textAlign="center";t.fontSize="16px";t.lineHeight="24px";t.margin="24px 25%";t.width="50%";i.innerHTML="Place your phone into your Cardboard viewer.";e.appendChild(i);var r=document.createElement("div");var t=r.style;t.backgroundColor="#CFD8DC";t.position="fixed";t.bottom=0;t.width="100%";t.height="48px";t.padding="14px 24px";t.boxSizing="border-box";t.color="#656A6B";e.appendChild(r);var a=document.createElement("div");a.style.float="left";a.innerHTML="No Cardboard viewer?";var o=document.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/";o.innerHTML="get one";o.target="_blank";var t=o.style;t.float="right";t.fontWeight=600;t.textTransform="uppercase";t.borderLeft="1px solid gray";t.paddingLeft="24px";t.textDecoration="none";t.color="#656A6B";r.appendChild(a);r.appendChild(o);this.overlay=e;this.text=i;this.hide()}Ee.prototype.show=function(e){if(!e&&!this.overlay.parentElement)document.body.appendChild(this.overlay);else if(e){if(this.overlay.parentElement&&this.overlay.parentElement!=e)this.overlay.parentElement.removeChild(this.overlay);e.appendChild(this.overlay)}this.overlay.style.display="block";var t=this.overlay.querySelector("img");var n=t.style;if(h()){n.width="20%";n.marginLeft="40%";n.marginTop="3%"}else{n.width="50%";n.marginLeft="25%";n.marginTop="25%"}},Ee.prototype.hide=function(){this.overlay.style.display="none"},Ee.prototype.showTemporarily=function(e,t){this.show(t);this.timer=setTimeout(this.hide.bind(this),e)},Ee.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},Ee.prototype.update=function(){this.disableShowTemporarily();if(!h()&&x())this.show();else this.hide()},Ee.prototype.loadIcon_=function(){this.icon=t("image/svg+xml",xe)};var Le="CardboardV1",Te="WEBVR_CARDBOARD_VIEWER",De="webvr-polyfill-viewer-selector";function Se(){try{this.selectedKey=localStorage.getItem(Te)}catch(e){console.error("Failed to load viewer profile: %s",e)}if(!this.selectedKey)this.selectedKey=Le;this.dialog=this.createDialog_(oe.Viewers);this.root=null;this.onChangeCallbacks_=[]}Se.prototype.show=function(e){this.root=e;e.appendChild(this.dialog);var t=this.dialog.querySelector("#"+this.selectedKey);t.checked=true;this.dialog.style.display="block"},Se.prototype.hide=function(){if(this.root&&this.root.contains(this.dialog))this.root.removeChild(this.dialog);this.dialog.style.display="none"},Se.prototype.getCurrentViewer=function(){return oe.Viewers[this.selectedKey]},Se.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");if(e)return e.id;return null},Se.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},Se.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},Se.prototype.onSave_=function(){this.selectedKey=this.getSelectedKey_();if(!this.selectedKey||!oe.Viewers[this.selectedKey]){console.error("ViewerSelector.onSave_: this should never happen!");return}this.fireOnChange_(oe.Viewers[this.selectedKey]);try{localStorage.setItem(Te,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()},Se.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add(De);t.style.display="none";var n=document.createElement("div");var i=n.style;i.position="fixed";i.left=0;i.top=0;i.width="100%";i.height="100%";i.background="rgba(0, 0, 0, 0.3)";n.addEventListener("click",this.hide.bind(this));var r=280;var a=document.createElement("div");var i=a.style;i.boxSizing="border-box";i.position="fixed";i.top="24px";i.left="50%";i.marginLeft=-r/2+"px";i.width=r+"px";i.padding="24px";i.overflow="hidden";i.background="#fafafa";i.fontFamily="'Roboto', sans-serif";i.boxShadow="0px 5px 20px #666";a.appendChild(this.createH1_("Select your viewer"));for(var o in e)a.appendChild(this.createChoice_(o,e[o].label));a.appendChild(this.createButton_("Save",this.onSave_.bind(this)));t.appendChild(n);t.appendChild(a);return t},Se.prototype.createH1_=function(e){var t=document.createElement("h1");var n=t.style;n.color="black";n.fontSize="20px";n.fontWeight="bold";n.marginTop=0;n.marginBottom="24px";t.innerHTML=e;return t},Se.prototype.createChoice_=function(e,t){var n=document.createElement("div");n.style.marginTop="8px";n.style.color="black";var i=document.createElement("input");i.style.fontSize="30px";i.setAttribute("id",e);i.setAttribute("type","radio");i.setAttribute("value",e);i.setAttribute("name","field");var r=document.createElement("label");r.style.marginLeft="4px";r.setAttribute("for",e);r.innerHTML=t;n.appendChild(i);n.appendChild(r);return n},Se.prototype.createButton_=function(e,t){var n=document.createElement("button");n.innerHTML=e;var i=n.style;i.float="right";i.textTransform="uppercase";i.color="#1094f7";i.fontSize="14px";i.letterSpacing=0;i.border=0;i.background="none";i.marginTop="16px";n.addEventListener("click",t);return n};var Ne=typeof window!=="undefined"?window:typeof We!=="undefined"?We:typeof self!=="undefined"?self:{};function Ce(e){return e&&e.__esModule?e["default"]:e}function ke(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Ie,je=Ce(ke(function(i,e){(function e(t,n){i.exports=n()})(Ne,function(){return function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,r);t.l=true;return t.exports}r.m=n;r.c=i;r.d=function(e,t,n){if(!r.o(e,t))Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})};r.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};r.d(e,"a",e);return e};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=0)}([function(e,t,n){var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(1);var o=typeof navigator!=="undefined"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream;var s=function(){function e(){r(this,e);if(o)this.noSleepTimer=null;else{this.noSleepVideo=document.createElement("video");this.noSleepVideo.setAttribute("playsinline","");this.noSleepVideo.setAttribute("src",a);this.noSleepVideo.addEventListener("timeupdate",function(e){if(this.noSleepVideo.currentTime>.5)this.noSleepVideo.currentTime=Math.random()}.bind(this))}}i(e,[{key:"enable",value:function e(){if(o){this.disable();this.noSleepTimer=window.setInterval(function(){window.location.href="/";window.setTimeout(window.stop,0)},15e3)}else this.noSleepVideo.play()}},{key:"disable",value:function e(){if(o){if(this.noSleepTimer){window.clearInterval(this.noSleepTimer);this.noSleepTimer=null}}else this.noSleepVideo.pause()}}]);return e}();e.exports=s},function(e,t,n){e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})})),Oe=1e3,ze=[0,0,.5,1],Re=[.5,0,.5,1],Pe=window.requestAnimationFrame,Ye=window.cancelAnimationFrame;function Be(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function Ue(t){Object.defineProperties(this,{hasPosition:{writable:false,enumerable:true,value:t.hasPosition},hasExternalDisplay:{writable:false,enumerable:true,value:t.hasExternalDisplay},canPresent:{writable:false,enumerable:true,value:t.canPresent},maxLayers:{writable:false,enumerable:true,value:t.maxLayers},hasOrientation:{enumerable:true,get:function e(){k("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData");return t.hasOrientation}}})}function He(e){e=e||{};var t="wakelock"in e?e.wakelock:true;this.isPolyfilled=true;this.displayId=Oe++;this.displayName="";this.depthNear=.01;this.depthFar=1e4;this.isPresenting=false;Object.defineProperty(this,"isConnected",{get:function e(){k("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay");return false}});this.capabilities=new Ue({hasPosition:false,hasOrientation:false,hasExternalDisplay:false,canPresent:false,maxLayers:1});this.stageParameters=null;this.waitingForPresent_=false;this.layer_=null;this.originalParent_=null;this.fullscreenElement_=null;this.fullscreenWrapper_=null;this.fullscreenElementCachedStyle_=null;this.fullscreenEventTarget_=null;this.fullscreenChangeHandler_=null;this.fullscreenErrorHandler_=null;if(t&&x())this.wakelock_=new je}He.prototype.getFrameData=function(e){return T(e,this._getPose(),this)},He.prototype.getPose=function(){k("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData");return this._getPose()},He.prototype.resetPose=function(){k("VRDisplay.prototype.resetPose");return this._resetPose()},He.prototype.getImmediatePose=function(){k("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData");return this._getPose()},He.prototype.requestAnimationFrame=function(e){return Pe(e)},He.prototype.cancelAnimationFrame=function(e){return Ye(e)},He.prototype.wrapForFullscreen=function(e){if(p())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";");this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_)if(this.originalParent_)this.originalParent_.appendChild(this.fullscreenElement_);else this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_);this.fullscreenElement_=e;this.originalParent_=e.parentElement;if(!this.originalParent_)document.body.appendChild(e);if(!this.fullscreenWrapper_.parentElement){var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_);n.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild);this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var i=this;function r(){if(!i.fullscreenElement_)return;var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];i.fullscreenElement_.setAttribute("style",e.join("; ")+";")}r();return this.fullscreenWrapper_},He.prototype.removeFullscreenWrapper=function(){if(!this.fullscreenElement_)return;var e=this.fullscreenElement_;if(this.fullscreenElementCachedStyle_)e.setAttribute("style",this.fullscreenElementCachedStyle_);else e.removeAttribute("style");this.fullscreenElement_=null;this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;this.fullscreenWrapper_.removeChild(e);if(this.originalParent_===t)t.insertBefore(e,this.fullscreenWrapper_);else if(this.originalParent_)this.originalParent_.appendChild(e);t.removeChild(this.fullscreenWrapper_);return e},He.prototype.requestPresent=function(c){var d=this.isPresenting;var h=this;if(!(c instanceof Array)){k("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument");c=[c]}return new Promise(function(n,t){if(!h.capabilities.canPresent){t(new Error("VRDisplay is not capable of presenting."));return}if(c.length==0||c.length>h.capabilities.maxLayers){t(new Error("Invalid number of layers."));return}var e=c[0];if(!e.source){n();return}var i=e.leftBounds||ze;var r=e.rightBounds||Re;if(d){var a=h.layer_;if(a.source!==e.source)a.source=e.source;for(var o=0;o<4;o++){a.leftBounds[o]=i[o];a.rightBounds[o]=r[o]}h.wrapForFullscreen(h.layer_.source);h.updatePresent_();n();return}h.layer_={predistorted:e.predistorted,source:e.source,leftBounds:i.slice(0),rightBounds:r.slice(0)};h.waitingForPresent_=false;if(h.layer_&&h.layer_.source){var s=h.wrapForFullscreen(h.layer_.source);var u=function e(){var t=v();h.isPresenting=s===t;if(h.isPresenting){if(screen.orientation&&screen.orientation.lock)screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)});h.waitingForPresent_=false;h.beginPresent_();n()}else{if(screen.orientation&&screen.orientation.unlock)screen.orientation.unlock();h.removeFullscreenWrapper();h.disableWakeLock();h.endPresent_();h.removeFullscreenListeners_()}h.fireVRDisplayPresentChange_()};var l=function e(){if(!h.waitingForPresent_)return;h.removeFullscreenWrapper();h.removeFullscreenListeners_();h.disableWakeLock();h.waitingForPresent_=false;h.isPresenting=false;t(new Error("Unable to present."))};h.addFullscreenListeners_(s,u,l);if(_(s)){h.enableWakeLock();h.waitingForPresent_=true}else if(p()||m()){h.enableWakeLock();h.isPresenting=true;h.beginPresent_();h.fireVRDisplayPresentChange_();n()}}if(!h.waitingForPresent_&&!p()){y();t(new Error("Unable to present."))}})},He.prototype.exitPresent=function(){var n=this.isPresenting;var i=this;this.isPresenting=false;this.layer_=null;this.disableWakeLock();return new Promise(function(e,t){if(n){if(!y()&&p()){i.endPresent_();i.fireVRDisplayPresentChange_()}if(m()){i.removeFullscreenWrapper();i.removeFullscreenListeners_();i.endPresent_();i.fireVRDisplayPresentChange_()}e()}else t(new Error("Was not presenting to VRDisplay."))})},He.prototype.getLayers=function(){if(this.layer_)return[this.layer_];return[]},He.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},He.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(e)},He.prototype.addFullscreenListeners_=function(e,t,n){this.removeFullscreenListeners_();this.fullscreenEventTarget_=e;this.fullscreenChangeHandler_=t;this.fullscreenErrorHandler_=n;if(t)if(document.fullscreenEnabled)e.addEventListener("fullscreenchange",t,false);else if(document.webkitFullscreenEnabled)e.addEventListener("webkitfullscreenchange",t,false);else if(document.mozFullScreenEnabled)document.addEventListener("mozfullscreenchange",t,false);else if(document.msFullscreenEnabled)e.addEventListener("msfullscreenchange",t,false);if(n)if(document.fullscreenEnabled)e.addEventListener("fullscreenerror",n,false);else if(document.webkitFullscreenEnabled)e.addEventListener("webkitfullscreenerror",n,false);else if(document.mozFullScreenEnabled)document.addEventListener("mozfullscreenerror",n,false);else if(document.msFullscreenEnabled)e.addEventListener("msfullscreenerror",n,false)},He.prototype.removeFullscreenListeners_=function(){if(!this.fullscreenEventTarget_)return;var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,false);e.removeEventListener("webkitfullscreenchange",t,false);document.removeEventListener("mozfullscreenchange",t,false);e.removeEventListener("msfullscreenchange",t,false)}if(this.fullscreenErrorHandler_){var n=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",n,false);e.removeEventListener("webkitfullscreenerror",n,false);document.removeEventListener("mozfullscreenerror",n,false);e.removeEventListener("msfullscreenerror",n,false)}this.fullscreenEventTarget_=null;this.fullscreenChangeHandler_=null;this.fullscreenErrorHandler_=null},He.prototype.enableWakeLock=function(){if(this.wakelock_)this.wakelock_.enable()},He.prototype.disableWakeLock=function(){if(this.wakelock_)this.wakelock_.disable()},He.prototype.beginPresent_=function(){},He.prototype.endPresent_=function(){},He.prototype.submitFrame=function(e){},He.prototype.getEyeParameters=function(e){return null};var Fe={MOBILE_WAKE_LOCK:true,DEBUG:false,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:false,ROTATE_INSTRUCTIONS_DISABLED:false,YAW_ONLY:false,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:false},Ge={LEFT:"left",RIGHT:"right"};function Ve(e){var t=E({},Fe);e=E(t,e||{});He.call(this,{wakelock:e.MOBILE_WAKE_LOCK});this.config=e;this.displayName="Cardboard VRDisplay";this.capabilities=new Ue({hasPosition:false,hasOrientation:true,hasExternalDisplay:false,canPresent:true,maxLayers:1});this.stageParameters=null;this.bufferScale_=this.config.BUFFER_SCALE;this.poseSensor_=new we(this.config);this.distorter_=null;this.cardboardUI_=null;this.dpdb_=new he(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this));this.deviceInfo_=new oe(this.dpdb_.getDeviceParams());this.viewerSelector_=new Se;this.viewerSelector_.onChange(this.onViewerChanged_.bind(this));this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer());if(!this.config.ROTATE_INSTRUCTIONS_DISABLED)this.rotateInstructions_=new Ee;if(p())window.addEventListener("resize",this.onResize_.bind(this))}return(Ve.prototype=Object.create(He.prototype))._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Ve.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},Ve.prototype._getFieldOfView=function(e){var t;if(e==Ge.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=Ge.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},Ve.prototype._getEyeOffset=function(e){var t;if(e==Ge.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=Ge.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},Ve.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),n=this._getFieldOfView(e),t={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(t,"fieldOfView",{enumerable:!0,get:function(){return k("VRFieldOfView","VRFrameData's projection matrices"),n}}),t},Ve.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},Ve.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},Ve.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");(e=(e=e||this.layer_.source.getContext("experimental-webgl"))||this.layer_.source.getContext("webgl2"))&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=f()*this.bufferScale_,e.canvas.height=g()*this.bufferScale_,this.cardboardUI_=new X(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new X(e)),this.distorter_=new R(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(h()&&x()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},Ve.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},Ve.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},Ve.prototype.submitFrame=function(e){var t;this.distorter_?(this.updateBounds_(),this.distorter_.submitFrame()):this.cardboardUI_&&this.layer_&&((t=this.layer_.source.getContext("webgl").canvas).width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render())},Ve.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},Ve.prototype.onResize_=function(e){var t;this.layer_&&((t=this.layer_.source.getContext("webgl")).canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),L(t.canvas))},Ve.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},Ve.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},Ve.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},Ve.VRDisplay=He,Ve}()}(e={exports:{}}),e.exports),o=(i=a)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function u(e){this.config=n(n({},s),e),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&t())&&(this.enable(),this.getVRDisplays().then(function(e){e&&e[0]&&e[0].fireVRDisplayConnect_&&e[0].fireVRDisplayConnect_()}))}u.prototype.getPolyfillDisplays=function(){return this._polyfillDisplaysPopulated||(t()&&(e=new o({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS}),this.polyfillDisplays.push(e)),this._polyfillDisplaysPopulated=!0),this.polyfillDisplays;var e},u.prototype.enable=function(){var t,n,i;this.enabled=!0,this.hasNative&&this.native.VRFrameData&&(t=this.native.VRFrameData,n=new this.native.VRFrameData,i=this.native.VRDisplay.prototype.getFrameData,window.VRDisplay.prototype.getFrameData=function(e){e instanceof t?i.call(this,e):(i.call(this,n),e.pose=n.pose,r(n.leftProjectionMatrix,e.leftProjectionMatrix),r(n.rightProjectionMatrix,e.rightProjectionMatrix),r(n.leftViewMatrix,e.leftViewMatrix),r(n.rightViewMatrix,e.rightViewMatrix))}),navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=o.VRDisplay,window.VRFrameData=o.VRFrameData},u.prototype.getVRDisplays=function(){var t,n=this,i=this.config;if(!this.hasNative)return Promise.resolve(this.getPolyfillDisplays());var r,e=this.native.getVRDisplays.call(navigator),a=new Promise(function(e){t=setTimeout(function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),e([])},i.GET_VR_DISPLAYS_TIMEOUT)});return r=[e,a],(Promise.race?Promise.race(r):new Promise(function(e,t){for(var n=0;n<r.length;n++)r[n].then(e,t)})).then(function(e){return clearTimeout(t),0<e.length?e:n.getPolyfillDisplays()})},u.version="0.10.5",u.VRFrameData=o.VRFrameData,u.VRDisplay=o.VRDisplay;var l=Object.freeze({default:u}),l=l&&u;return void 0!==We&&We.window&&(We.document||(We.document=We.window.document),We.navigator||(We.navigator=We.window.navigator)),l},"object"==typeof i&&void 0!==n?n.exports=t():e.WebVRPolyfill=t()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,n,t){var l=/\n/,i=/\s/;function h(e){return i.test(e)}function o(e,t,n,i){return{start:t,end:t+Math.min(i,n-t)}}n.exports=function(t,e){return n.exports.lines(t,e).map(function(e){return t.substring(e.start,e.end)}).join("\n")},n.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var n="number"==typeof t.width?t.width:Number.MAX_VALUE,i=Math.max(0,t.start||0),r="number"==typeof t.end?t.end:e.length,a=t.mode,t=t.measure||o;return"pre"===a?function(e,t,n,i,r){for(var a=[],o=n,s=n;s<i&&s<t.length;s++){var u=t.charAt(s),u=l.test(u);!u&&s!==i-1||(u=e(t,o,u?s:s+1,r),a.push(u),o=s+1)}return a}(t,e,i,r,n):function(e,t,n,i,r,a){var o=[],s=r;"nowrap"===a&&(s=Number.MAX_VALUE);for(;n<i&&n<t.length;){for(var u=function(e,t,n,i){n=e.indexOf(t,n);return-1===n||i<n?i:n}(t,"\n",n,i);n<u&&h(t.charAt(n));)n++;var l=e(t,n,u,s),c=n+(l.end-l.start),d=c+"\n".length;if(c<u){for(;n<c&&!h(t.charAt(c));)c--;if(c===n)n+"\n".length<d&&d--,c=d;else for(d=c;n<c&&h(t.charAt(c-"\n".length));)c--}n<=c&&(l=e(t,n,c,s),o.push(l)),n=d}return o}(t,e,i,r,n,a)}},{}],48:[function(e,t,n){"use strict";var i=e("global/window"),r=e("is-function"),_=e("parse-headers"),a=e("xtend");function o(e,t,n){var i=e;return r(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=a(t,{uri:e}),i.callback=n,i}function y(e,t,n){return s(t=o(e,t,n))}function s(i){if(void 0===i.callback)throw new Error("callback argument missing");var r=!1,a=function(e,t,n){r||(r=!0,i.callback(e,t,n))};function o(){var e=void 0,e=l.response||l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(l);if(f)try{e=JSON.parse(e)}catch(e){}return e}function t(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,g)}function e(){if(!s){var e;clearTimeout(u),e=i.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var t=g,n=null;return 0!==e?(t={body:o(),statusCode:e,method:d,headers:{},url:c,rawRequest:l},l.getAllResponseHeaders&&(t.headers=_(l.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),a(n,t,t.body)}}var n,s,u,l=i.xhr||null,c=(l=l||new(i.cors||i.useXDR?y.XDomainRequest:y.XMLHttpRequest)).url=i.uri||i.url,d=l.method=i.method||"GET",h=i.body||i.data,p=l.headers=i.headers||{},m=!!i.sync,f=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:l};if("json"in i&&!1!==i.json&&(f=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===i.json?h:i.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(e,0)},l.onload=e,l.onerror=t,l.onprogress=function(){},l.onabort=function(){s=!0},l.ontimeout=t,l.open(d,c,!m,i.username,i.password),m||(l.withCredentials=!!i.withCredentials),!m&&0<i.timeout&&(u=setTimeout(function(){var e;s||(s=!0,l.abort("timeout"),(e=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",t(e))},i.timeout)),l.setRequestHeader)for(n in p)p.hasOwnProperty(n)&&l.setRequestHeader(n,p[n]);else if(i.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(l.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(l),l.send(h||null),l}(t.exports=y).XMLHttpRequest=i.XMLHttpRequest||function(){},y.XDomainRequest="withCredentials"in new y.XMLHttpRequest?y.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(i){y["delete"===i?"del":i]=function(e,t,n){return(t=o(e,t,n)).method=i.toUpperCase(),s(t)}})},{"global/window":17,"is-function":21,"parse-headers":31,xtend:50}],49:[function(e,t,n){t.exports=void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{}],50:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n,i=arguments[t];for(n in i)r.call(i,n)&&(e[n]=i[n])}return e};var r=Object.prototype.hasOwnProperty},{}],51:[function(e,t,n){t.exports={name:"aframe",version:"0.8.2",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"shx mkdir -p build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-v0.8.2.js.map > dist/aframe-v0.8.2.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-v0.8.2.min.js.map --output dist/aframe-v0.8.2.min.js.map] -o dist/aframe-v0.8.2.min.js",docs:"markserv --dir docs --port 9001",preghpages:"node ./scripts/preghpages.js",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy","lint:fix":"semistandard --fix",precommit:"npm run lint",prepush:"node scripts/testOnlyCheck.js",prerelease:"node scripts/release.js 0.7.1 0.8.0",start:"npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:node":"mocha --ui tdd tests/node"},repository:"aframevr/aframe",license:"MIT",dependencies:{"@tweenjs/tween.js":"^16.8.0","browserify-css":"^0.8.2",debug:"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7",envify:"^3.4.1","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","style-attr":"^1.0.2",three:"github:supermedium/three.js#r90fixMTLLoader","three-bmfont-text":"^2.1.0","webvr-polyfill":"^0.10.5"},devDependencies:{browserify:"^13.1.0","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^5.0.1",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",jsdom:"^9.11.0",karma:"1.4.1","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.0.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"1.2.4",lolex:"^1.5.1",markserv:"github:sukima/markserv#feature/fix-broken-websoketio-link",minifyify:"^7.3.3",mocha:"^3.0.2","mozilla-download":"^1.1.1","replace-in-file":"^2.5.3",semistandard:"^9.0.0",shelljs:"^0.7.7",shx:"^0.2.2",sinon:"^1.17.5","sinon-chai":"2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],52:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three");t.exports.Component=i("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var e=this.el,t=this.camera=new r.PerspectiveCamera;e.setObject3D("camera",t)},update:function(e){var t=this.data,n=this.camera;n.aspect=t.aspect||window.innerWidth/window.innerHeight,n.far=t.far,n.fov=t.fov,n.near=t.near,n.zoom=t.zoom,n.updateProjectionMatrix(),this.updateActiveCamera(e),this.updateSpectatorCamera(e)},updateActiveCamera:function(e){var t=this.data,n=this.el,i=this.system;e&&e.active===t.active||t.spectator||(t.active&&i.activeCameraEl!==n?i.setActiveCamera(n):t.active||i.activeCameraEl!==n||i.disableActiveCamera())},updateSpectatorCamera:function(e){var t=this.data,n=this.el,i=this.system;e&&e.spectator===t.spectator||(t.spectator&&i.spectatorCameraEl!==n?i.setSpectatorCamera(n):t.spectator||i.spectatorCameraEl!==n||i.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},{"../core/component":102,"../lib/three":150}],53:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three");t.exports.Component=i("collada-model",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new r.ColladaLoader,this.loader.options.convertUpAxis=!0},update:function(){var t=this,n=this.el,e=this.data;e&&(this.remove(),this.loader.load(e,function(e){t.model=e.scene,n.setObject3D("mesh",t.model),n.emit("model-loaded",{format:"collada",model:t.model})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":102,"../lib/three":150}],54:[function(e,t,n){var a,o,s,u,i=e("../core/component").registerComponent,r=e("../utils/"),l=r.bind,c="click",d="fusing",h="mouseenter",p="mousedown",m="mouseleave",f="mouseup",g="cursor-fusing",_="cursor-hovering",y="cursor-hovered",v={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]};t.exports.Component=i("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:r.device.isMobile()},fuseTimeout:{default:1500,min:0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity"]}},init:function(){var e=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.updateCanvasBounds=r.debounce(function(){e.canvasBounds=e.el.sceneEl.canvas.getBoundingClientRect()},1e3),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=l(this.onCursorDown,this),this.onCursorUp=l(this.onCursorUp,this),this.onIntersection=l(this.onIntersection,this),this.onIntersectionCleared=l(this.onIntersectionCleared,this),this.onMouseMove=l(this.onMouseMove,this)},update:function(e){this.data.rayOrigin!==e.rayOrigin&&this.updateMouseEventListeners()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var e=this.el;e.removeState(_),e.removeState(g),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(y),this.removeEventListeners()},addEventListeners:function(){var t,e=this.data,n=this.el,i=this;function r(){t=n.sceneEl.canvas,e.downEvents.length||e.upEvents.length||(v.DOWN.forEach(function(e){t.addEventListener(e,i.onCursorDown)}),v.UP.forEach(function(e){t.addEventListener(e,i.onCursorUp)}))}(t=n.sceneEl.canvas)?r():n.sceneEl.addEventListener("render-target-loaded",r),e.downEvents.forEach(function(e){n.addEventListener(e,i.onCursorDown)}),e.upEvents.forEach(function(e){n.addEventListener(e,i.onCursorUp)}),n.addEventListener("raycaster-intersection",this.onIntersection),n.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),window.addEventListener("resize",this.updateCanvasBounds)},removeEventListeners:function(){var e=this.data,t=this.el,n=this,i=t.sceneEl.canvas;!i||e.downEvents.length||e.upEvents.length||(v.DOWN.forEach(function(e){i.removeEventListener(e,n.onCursorDown)}),v.UP.forEach(function(e){i.removeEventListener(e,n.onCursorUp)})),e.downEvents.forEach(function(e){t.removeEventListener(e,n.onCursorDown)}),e.upEvents.forEach(function(e){t.removeEventListener(e,n.onCursorUp)}),t.removeEventListener("raycaster-intersection",this.onIntersection),t.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("touchstart",this.onMouseMove),i.removeEventListener("touchmove",this.onMouseMove),i.removeEventListener("resize",this.updateCanvasBounds)},updateMouseEventListeners:function(){var e=this.el,t=e.sceneEl.canvas;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("touchmove",this.onMouseMove),e.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(t.addEventListener("mousemove",this.onMouseMove,!1),t.addEventListener("touchmove",this.onMouseMove,!1),e.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:(a=new THREE.Vector3,o=new THREE.Vector2,s=new THREE.Vector3,u={origin:s,direction:a},function(e){var t,n,i=this.canvasBounds,r=this.el.sceneEl.camera;r.parent.updateMatrixWorld(),t=(n="touchmove"===e.type||"touchstart"===e.type?e.touches.item(0):e).clientX-i.left,n=n.clientY-i.top,o.x=t/i.width*2-1,o.y=2*-(n/i.height)+1,s.setFromMatrixPosition(r.matrixWorld),a.set(o.x,o.y,.5).unproject(r).sub(s).normalize(),this.el.setAttribute("raycaster",u),"touchmove"===e.type&&e.preventDefault()}),onCursorDown:function(e){"mouse"===this.data.rayOrigin&&"touchstart"===e.type&&(this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),e.preventDefault()),this.twoWayEmit(p),this.cursorDownEl=this.intersectedEl},onCursorUp:function(e){this.twoWayEmit(f),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(f,this.intersectedEventDetail)),!this.data.fuse&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(c),this.cursorDownEl=null,"touchend"===e.type&&e.preventDefault()},onIntersection:function(e){var t=this.el,n=e.detail.els[0]===t?1:0,t=e.detail.intersections[n],n=e.detail.els[n];n&&this.intersectedEl!==n&&(this.intersectedEl&&this.el.components.raycaster.getIntersection(this.intersectedEl).distance<=t.distance||(this.clearCurrentIntersection(!0),this.setIntersection(n,t)))},onIntersectionCleared:function(e){-1!==e.detail.clearedEls.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},setIntersection:function(e,t){var n=this.el,i=this.data,r=this;this.intersectedEl!==e&&(this.intersectedEl=e,n.addState(_),e.addState(y),this.twoWayEmit(h),0!==i.fuseTimeout&&i.fuse&&(n.addState(g),this.twoWayEmit(d),this.fuseTimeout=setTimeout(function(){n.removeState(g),r.twoWayEmit(c)},i.fuseTimeout)))},clearCurrentIntersection:function(e){var t,n,i=this.el;this.intersectedEl&&(this.intersectedEl.removeState(y),i.removeState(_),i.removeState(g),this.twoWayEmit(m),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==e&&0!==(n=this.el.components.raycaster.intersections).length&&(t=n[n[0].object.el===i?1:0])&&this.setIntersection(t.object.el,t))},twoWayEmit:function(e){var t=this.el,n=this.intersectedEl,i=this.el.components.raycaster.getIntersection(n);this.eventDetail.intersectedEl=n,this.eventDetail.intersection=i,t.emit(e,this.eventDetail),n&&(this.intersectedEventDetail.intersection=i,n.emit(e,this.intersectedEventDetail))}})},{"../core/component":102,"../utils/":172}],55:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/bind"),a=e("../utils/tracked-controls").checkControllerPresentAndSetup,e=e("../utils/tracked-controls"),o=e.emitIfAxesChanged,s=e.onButtonEvent,e="https://cdn.aframe.io/controllers/google/",u="Daydream Controller";t.exports.Component=i("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this;this.animationActive="pointing",this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){s(e.detail.id,"down",t)},this.onButtonUp=function(e){s(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){s(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){s(e.detail.id,"touchend",t)},this.onAxisMoved=r(this.onAxisMoved,this),this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods(),this.checkControllerPresentAndSetup=a,this.emitIfAxesChanged=o},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,u,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,hand:t.hand,idPrefix:u,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.obj",mtl:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t=e.detail.model;this.data.model&&((e=this.buttonMeshes={}).menu=t.getObjectByName("AppButton_AppButton_Cylinder.004"),e.system=t.getObjectByName("HomeButton_HomeButton_Cylinder.005"),e.trackpad=t.getObjectByName("TouchPad_TouchPad_Cylinder.003"),t.position.set(0,0,-.04))},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping.axes,e)},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n,i=this.buttonMeshes;if(i&&i[e]){switch(t){case"down":n=this.data.buttonHighlightColor;break;case"touchstart":n=this.data.buttonTouchedColor;break;default:n=this.data.buttonColor}i[e].material.color.set(n)}}})},{"../core/component":102,"../utils/bind":166,"../utils/tracked-controls":178}],56:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/bind"),e=e("../utils/tracked-controls"),a=e.checkControllerPresentAndSetup,o=e.emitIfAxesChanged,s=e.onButtonEvent,e="https://cdn.aframe.io/controllers/samsung/",u="Gear VR|GearVR|Oculus Go";t.exports.Component=i("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this;this.animationActive="pointing",this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){s(e.detail.id,"down",t)},this.onButtonUp=function(e){s(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){s(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){s(e.detail.id,"touchend",t)},this.onAxisMoved=r(this.onAxisMoved,this),this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods(),this.checkControllerPresentAndSetup=a,this.emitIfAxesChanged=o},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,u,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,idPrefix:u,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.obj",mtl:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t=e.detail.model;this.data.model&&((e=this.buttonMeshes={}).trigger=t.children[2],e.trackpad=t.children[1])},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n,i=this.buttonMeshes;if(i&&i[e]){switch(t){case"down":n=this.data.buttonHighlightColor;break;case"touchstart":n=this.data.buttonTouchedColor;break;default:n=this.data.buttonColor}i[e].material.color.set(n)}}})},{"../core/component":102,"../utils/bind":166,"../utils/tracked-controls":178}],57:[function(e,t,n){var i=e("../core/geometry").geometries,r=e("../core/geometry").geometryNames,a=e("../core/component").registerComponent,o=e("../lib/three"),s=new o.Geometry;t.exports.Component=a("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:r},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t=this.data,n=this.el,i=this.system;this.geometry&&(i.unuseGeometry(e),this.geometry=null),this.geometry=i.getOrCreateGeometry(t),(t=n.getObject3D("mesh"))?t.geometry=this.geometry:((t=new o.Mesh).geometry=this.geometry,n.setObject3D("mesh",t))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=s,this.geometry=null},updateSchema:function(e){var t=e.primitive,n=this.data&&this.data.primitive,e=i[t]&&i[t].schema;if(!e)throw new Error("Unknown geometry schema `"+t+"`");n&&n===t||this.extendSchema(e)}})},{"../core/component":102,"../core/geometry":103,"../lib/three":150}],58:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three"),a=e("../utils/").debug("components:gltf-model:warn");t.exports.Component=i("gltf-model",{schema:{type:"model"},init:function(){this.model=null,this.loader=new r.GLTFLoader},update:function(){var t=this,n=this.el,i=this.data;i&&(this.remove(),this.loader.load(i,function(e){t.model=e.scene||e.scenes[0],t.model.animations=e.animations,n.setObject3D("mesh",t.model),n.emit("model-loaded",{format:"gltf",model:t.model})},void 0,function(e){e=e&&e.message?e.message:"Failed to load glTF model";a(e),n.emit("model-error",{format:"gltf",src:i})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":102,"../lib/three":150,"../utils/":172}],59:[function(e,t,n){var e=e("../core/component").registerComponent,r={left:"https://cdn.aframe.io/controllers/oculus-hands/v2/leftHand.json",right:"https://cdn.aframe.io/controllers/oculus-hands/v2/rightHand.json"},s={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},i={};function a(e,t){if(e)return"grip"===(e=i[e])?e+(t?"close":"open"):"point"===e||"thumb"===e?e+(t?"up":"down"):"pointing"===e||"pistol"===e?e+(t?"start":"end"):void 0}i[s.fist]="grip",i[s.thumbUp]="pistol",i[s.point]="pointing",i[s.thumb]="thumb",t.exports.Component=e("hand-controls",{schema:{default:"left"},init:function(){var e=this,t=this.el;this.gesture=s.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.ObjectLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){e.handleButton("grip","down")},this.onGripUp=function(){e.handleButton("grip","up")},this.onTrackpadDown=function(){e.handleButton("trackpad","down")},this.onTrackpadUp=function(){e.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){e.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){e.handleButton("trackpad","touchend")},this.onTriggerDown=function(){e.handleButton("trigger","down")},this.onTriggerUp=function(){e.handleButton("trigger","up")},this.onTriggerTouchStart=function(){e.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){e.handleButton("trigger","touchend")},this.onGripTouchStart=function(){e.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){e.handleButton("grip","touchend")},this.onThumbstickDown=function(){e.handleButton("thumbstick","down")},this.onThumbstickUp=function(){e.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){e.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){e.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){e.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){e.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){e.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){e.handleButton("surface","touchend")},this.onControllerConnected=function(){e.setModelVisibility(!0)},this.onControllerDisconnected=function(){e.setModelVisibility(!1)},t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected)},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.mixer&&n.mixer.update(t/1e3)},addEventListeners:function(){var e=this.el;e.addEventListener("gripdown",this.onGripDown),e.addEventListener("gripup",this.onGripUp),e.addEventListener("trackpaddown",this.onTrackpadDown),e.addEventListener("trackpadup",this.onTrackpadUp),e.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.addEventListener("triggerdown",this.onTriggerDown),e.addEventListener("triggerup",this.onTriggerUp),e.addEventListener("triggertouchstart",this.onTriggerTouchStart),e.addEventListener("triggertouchend",this.onTriggerTouchEnd),e.addEventListener("griptouchstart",this.onGripTouchStart),e.addEventListener("griptouchend",this.onGripTouchEnd),e.addEventListener("thumbstickdown",this.onThumbstickDown),e.addEventListener("thumbstickup",this.onThumbstickUp),e.addEventListener("abuttontouchstart",this.onAorXTouchStart),e.addEventListener("abuttontouchend",this.onAorXTouchEnd),e.addEventListener("bbuttontouchstart",this.onBorYTouchStart),e.addEventListener("bbuttontouchend",this.onBorYTouchEnd),e.addEventListener("xbuttontouchstart",this.onAorXTouchStart),e.addEventListener("xbuttontouchend",this.onAorXTouchEnd),e.addEventListener("ybuttontouchstart",this.onBorYTouchStart),e.addEventListener("ybuttontouchend",this.onBorYTouchEnd),e.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var e=this.el;e.removeEventListener("gripdown",this.onGripDown),e.removeEventListener("gripup",this.onGripUp),e.removeEventListener("trackpaddown",this.onTrackpadDown),e.removeEventListener("trackpadup",this.onTrackpadUp),e.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.removeEventListener("triggerdown",this.onTriggerDown),e.removeEventListener("triggerup",this.onTriggerUp),e.removeEventListener("triggertouchstart",this.onTriggerTouchStart),e.removeEventListener("triggertouchend",this.onTriggerTouchEnd),e.removeEventListener("griptouchstart",this.onGripTouchStart),e.removeEventListener("griptouchend",this.onGripTouchEnd),e.removeEventListener("thumbstickdown",this.onThumbstickDown),e.removeEventListener("thumbstickup",this.onThumbstickUp),e.removeEventListener("abuttontouchstart",this.onAorXTouchStart),e.removeEventListener("abuttontouchend",this.onAorXTouchEnd),e.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),e.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),e.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),e.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),e.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),e.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),e.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(e){var t=this.el,n=this.data,i={hand:n,model:!1,orientationOffset:{x:0,y:0,z:"left"===n?90:-90}};n!==e&&this.loader.load(r[n],function(e){e=e.getObjectByName("Hand");e.material.skinning=!0,e.mixer=new THREE.AnimationMixer(e),t.setObject3D("mesh",e),e.position.set(0,0,0),e.rotation.set(0,0,0),e.visible=!1,t.setAttribute("vive-controls",i),t.setAttribute("oculus-touch-controls",i),t.setAttribute("windows-motion-controls",i)})},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(e,t){var n="down"===t,i="touchstart"===t;if(0===t.indexOf("touch")){if(i===this.touchedButtons[e])return;this.touchedButtons[e]=i}else{if(n===this.pressedButtons[e])return;this.pressedButtons[e]=n}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture,n),this.emitGestureEvents(this.gesture,n))},determineGesture:function(){var e,t=this.pressedButtons.grip,n=this.pressedButtons.surface||this.touchedButtons.surface,i=this.pressedButtons.trackpad||this.touchedButtons.trackpad,r=this.pressedButtons.trigger||this.touchedButtons.trigger,a=this.touchedButtons.AorX||this.touchedButtons.BorY,o=function(e){e=e&&e.controller&&e.controller.id;return e&&0===e.indexOf("OpenVR ")}(this.el.components["tracked-controls"]);return t?e=o?s.fist:n||a||i?r?s.fist:s.point:r?s.thumbUp:s.pointThumb:r?e=o?s.fist:s.hold:o&&i&&(e=s.point),e},animateGesture:function(e,t){e?this.playAnimation(e||s.open,t,!1):this.playAnimation(t,t,!0)},emitGestureEvents:function(e,t){var n=this.el;t!==e&&((t=a(t,!1))&&n.emit(t),(t=a(e,!0))&&n.emit(t))},playAnimation:function(e,t,n){var i,r=this.el.getObject3D("mesh");if(r){if((i=r.mixer.clipAction(e)).clampWhenFinished=!0,i.loop=THREE.LoopRepeat,i.repetitions=0,i.timeScale=n?-1:1,i.weight=1,!t||e===t)return r.mixer.stopAllAction(),void i.play();t=r.mixer.clipAction(t),r.mixer.stopAllAction(),t.weight=.15,t.play(),i.play(),t.crossFadeTo(i,.15,!0)}},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");t&&(t.visible=e)}})},{"../core/component":102}],60:[function(e,t,n){e("./camera"),e("./collada-model"),e("./cursor"),e("./daydream-controls"),e("./gearvr-controls"),e("./geometry"),e("./gltf-model"),e("./hand-controls"),e("./laser-controls"),e("./light"),e("./line"),e("./link"),e("./look-controls"),e("./material"),e("./obj-model"),e("./oculus-touch-controls"),e("./position"),e("./raycaster"),e("./rotation"),e("./scale"),e("./shadow"),e("./sound"),e("./text"),e("./tracked-controls"),e("./visible"),e("./vive-controls"),e("./wasd-controls"),e("./windows-motion-controls"),e("./scene/background"),e("./scene/debug"),e("./scene/embedded"),e("./scene/inspector"),e("./scene/fog"),e("./scene/keyboard-shortcuts"),e("./scene/pool"),e("./scene/renderer"),e("./scene/screenshot"),e("./scene/stats"),e("./scene/vr-mode-ui")},{"./camera":52,"./collada-model":53,"./cursor":54,"./daydream-controls":55,"./gearvr-controls":56,"./geometry":57,"./gltf-model":58,"./hand-controls":59,"./laser-controls":61,"./light":62,"./line":63,"./link":64,"./look-controls":65,"./material":66,"./obj-model":67,"./oculus-touch-controls":68,"./position":69,"./raycaster":70,"./rotation":71,"./scale":72,"./scene/background":73,"./scene/debug":74,"./scene/embedded":75,"./scene/fog":76,"./scene/inspector":77,"./scene/keyboard-shortcuts":78,"./scene/pool":79,"./scene/renderer":80,"./scene/screenshot":81,"./scene/stats":82,"./scene/vr-mode-ui":83,"./shadow":84,"./sound":85,"./text":86,"./tracked-controls":87,"./visible":88,"./vive-controls":89,"./wasd-controls":90,"./windows-motion-controls":91}],61:[function(e,t,n){var i=e("../core/component").registerComponent,o=e("../utils/");i("laser-controls",{schema:{hand:{default:"right"}},init:function(){var i=this.config,e=this.data,r=this.el,a=this;function t(e){var t,n=i[e.detail.name];n&&(t=o.extend({showLine:!0},n.raycaster||{}),e.detail.rayOrigin&&(t.origin=e.detail.rayOrigin.origin,t.direction=e.detail.rayOrigin.direction,t.showLine=!0),e.detail.rayOrigin||!a.modelReady?r.setAttribute("raycaster",t):r.setAttribute("raycaster","showLine",!0),r.setAttribute("cursor",o.extend({fuse:!1},n.cursor)))}r.setAttribute("daydream-controls",{hand:e.hand}),r.setAttribute("gearvr-controls",{hand:e.hand}),r.setAttribute("oculus-touch-controls",{hand:e.hand}),r.setAttribute("vive-controls",{hand:e.hand}),r.setAttribute("windows-motion-controls",{hand:e.hand}),r.addEventListener("controllerconnected",t),r.addEventListener("controllerdisconnected",function(){r.setAttribute("raycaster","showLine",!1)}),r.addEventListener("controllermodelready",function(e){t(e),a.modelReady=!0})},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown"],upEvents:["trackpadup"]}},"gearvr-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},{"../core/component":102,"../utils/":172}],62:[function(e,t,n){var c=e("../utils/bind"),o=e("../utils").diff,i=e("../utils/debug"),r=e("../core/component").registerComponent,d=e("../lib/three"),h=d.Math.degToRad,p=i("components:light:warn");t.exports.Component=r("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"]},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(e)},update:function(e){var n,i=this.data,e=o(i,e),r=this.light,a=this;!r||"type"in e?(this.setLight(this.data),this.updateShadow()):(n=!1,Object.keys(e).forEach(function(e){var t=i[e];switch(e){case"color":r.color.set(t);break;case"groundColor":r.groundColor.set(t);break;case"angle":r.angle=h(t);break;case"target":null===t?"spot"!==i.type&&"directional"!==i.type||(r.target=a.defaultTarget):t.hasLoaded?a.onSetTarget(t,r):t.addEventListener("loaded",c(a.onSetTarget,a,t,r));break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":n||(a.updateShadow(),n=!0);break;default:r[e]=t}}))},setLight:function(e){var t=this.el,n=this.getLight(e);n&&(this.light&&t.removeObject3D("light"),this.light=n,(this.light.el=t).setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||t.getObject3D("light").translateY(-1),"spot"===e.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)))},updateShadow:function(){var e=this.el,t=this.data,n=this.light;n.castShadow=t.castShadow;var i=e.getObject3D("cameraHelper");if(t.shadowCameraVisible&&!i?e.setObject3D("cameraHelper",new d.CameraHelper(n.shadow.camera)):!t.shadowCameraVisible&&i&&e.removeObject3D("cameraHelper"),!t.castShadow)return n;n.shadow.bias=t.shadowBias,n.shadow.mapSize.height=t.shadowMapHeight,n.shadow.mapSize.width=t.shadowMapWidth,n.shadow.camera.near=t.shadowCameraNear,n.shadow.camera.far=t.shadowCameraFar,n.shadow.camera instanceof d.OrthographicCamera?(n.shadow.camera.top=t.shadowCameraTop,n.shadow.camera.right=t.shadowCameraRight,n.shadow.camera.bottom=t.shadowCameraBottom,n.shadow.camera.left=t.shadowCameraLeft):n.shadow.camera.fov=t.shadowCameraFov,n.shadow.camera.updateProjectionMatrix(),i&&i.update()},getLight:function(e){var t=e.angle,n=new d.Color(e.color).getHex(),i=e.decay,r=e.distance,a=new d.Color(e.groundColor).getHex(),o=e.intensity,s=e.type,u=e.target,l=null;switch(s.toLowerCase()){case"ambient":return new d.AmbientLight(n,o);case"directional":return l=new d.DirectionalLight(n,o),this.defaultTarget=l.target,u&&(u.hasLoaded?this.onSetTarget(u,l):u.addEventListener("loaded",c(this.onSetTarget,this,u,l))),l;case"hemisphere":return new d.HemisphereLight(n,a,o);case"point":return new d.PointLight(n,o,r,i);case"spot":return l=new d.SpotLight(n,o,r,h(t),e.penumbra,i),this.defaultTarget=l.target,u&&(u.hasLoaded?this.onSetTarget(u,l):u.addEventListener("loaded",c(this.onSetTarget,this,u,l))),l;default:p("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",s)}},onSetTarget:function(e,t){t.target=e.object3D},remove:function(){var e=this.el;e.removeObject3D("light"),e.getObject3D("cameraHelper")&&e.removeObject3D("cameraHelper")}})},{"../core/component":102,"../lib/three":150,"../utils":172,"../utils/bind":166,"../utils/debug":168}],63:[function(e,t,n){e=e("../core/component").registerComponent;function o(e,t){return e&&t&&(e.x===t.x&&e.y===t.y&&e.z===t.z)}t.exports.Component=e("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var e=this.data,t=this.material=new THREE.LineBasicMaterial({color:e.color,opacity:e.opacity,transparent:e.opacity<1,visible:e.visible}),e=this.geometry=new THREE.BufferGeometry;e.addAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.line=new THREE.Line(e,t),this.el.setObject3D(this.attrName,this.line)},update:function(e){var t=this.data,n=this.geometry,i=!1,r=this.material,a=n.attributes.position.array;o(t.start,e.start)||(a[0]=t.start.x,a[1]=t.start.y,a[2]=t.start.z,i=!0),o(t.end,e.end)||(a[3]=t.end.x,a[4]=t.end.y,a[5]=t.end.z,i=!0),i&&(n.attributes.position.needsUpdate=!0,n.computeBoundingSphere()),r.color.setStyle(t.color),r.opacity=t.opacity,r.transparent=t.opacity<1,r.visible=t.visible},remove:function(){this.el.removeObject3D("line",this.line)}})},{"../core/component":102}],64:[function(e,t,n){var i,r,a,o,s,u,l,c,d=e("../core/component").registerComponent,h=e("../core/shader").registerShader,p=e("../lib/three");t.exports.Component=d("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!0}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new p.Quaternion,this.hiddenEls=[],this.initVisualAspect()},update:function(e){var t=this.data,n=this.el,i=t.highlighted?t.highlightedColor:t.backgroundColor,r=t.highlighted?t.highlightedColor:t.borderColor;n.setAttribute("material","backgroundColor",i),n.setAttribute("material","strokeColor",r),t.on!==e.on&&this.updateEventListener(),t.visualAspectEnabled&&void 0!==e.peekMode&&t.peekMode!==e.peekMode&&this.updatePeekMode(),t.image&&e.image!==t.image&&n.setAttribute("material","pano","string"==typeof t.image?t.image:t.image.src)},updatePeekMode:function(){var e=this.el,t=this.sphereEl;this.data.peekMode?(this.hideAll(),e.getObject3D("mesh").visible=!1,t.setAttribute("visible",!0)):(this.showAll(),e.getObject3D("mesh").visible=!0,t.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var e=this.el;e.isPlaying&&(this.removeEventListener(),e.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var e=this.data.on;e&&this.el.removeEventListener(e,this.navigate)},initVisualAspect:function(){var e,t,n,i=this.el;this.data.visualAspectEnabled&&(n=this.textEl=this.textEl||document.createElement("a-entity"),t=this.sphereEl=this.sphereEl||document.createElement("a-entity"),e=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),i.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),i.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),n.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),n.setAttribute("position","0 1.5 0"),i.appendChild(n),e.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("rotation","0 180 0"),e.setAttribute("position","0 0 0"),e.setAttribute("visible",!1),i.appendChild(e),t.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("visible",!1),i.appendChild(t))},navigate:function(){window.location=this.data.href},tick:(s=new p.Vector3,u=new p.Vector3,l=new p.Quaternion,c=new p.Vector3,function(){var e,t=this.el,n=t.object3D,i=t.sceneEl.camera,r=this.textEl;if(this.data.visualAspectEnabled)if(n.updateMatrixWorld(),i.parent.updateMatrixWorld(),i.updateMatrixWorld(),n.matrix.decompose(u,l,c),u.setFromMatrixPosition(n.matrixWorld),s.setFromMatrixPosition(i.matrixWorld),20<(e=u.distanceTo(s)))this.previousQuaternion||(this.quaternionClone.copy(l),this.previousQuaternion=this.quaternionClone),n.lookAt(s);else{if(i=this.calculateCameraPortalOrientation(),e<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;r.setAttribute("text","width",1.5),i<=0?(r.setAttribute("position","0 0 0.75"),r.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(r.setAttribute("position","0 0 -0.75"),r.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),t.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=i}else i<=0?r.setAttribute("rotation","0 180 0"):r.setAttribute("rotation","0 0 0"),r.setAttribute("text","width",5),r.setAttribute("position","0 1.5 0"),t.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(n.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}),hideAll:function(){var t=this.el,n=this.hiddenEls,i=this;0<n.length||t.sceneEl.object3D.traverse(function(e){e&&e.el&&e.el.hasAttribute("link-controls")||e.el&&e!==t.sceneEl.object3D&&e.el!==t&&e.el!==i.sphereEl&&e.el!==t.sceneEl.cameraEl&&!1!==e.el.getAttribute("visible")&&e.el!==i.textEl&&e.el!==i.semiSphereEl&&(e.el.setAttribute("visible",!1),n.push(e.el))})},showAll:function(){this.hiddenEls.forEach(function(e){e.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:(i=new p.Matrix4,r=new p.Vector3,a=new p.Vector3(0,0,1),o=new p.Vector3(0,0,0),function(){var e=this.el,t=e.sceneEl.camera;return r.set(0,0,0),a.set(0,0,1),o.set(0,0,0),e.object3D.matrixWorld.extractRotation(i),a.applyMatrix4(i),e.object3D.updateMatrixWorld(),e.object3D.localToWorld(o),t.parent.parent.updateMatrixWorld(),t.parent.updateMatrixWorld(),t.updateMatrixWorld(),t.localToWorld(r),r.sub(o).normalize(),a.normalize(),Math.sign(a.dot(r))}),remove:function(){this.removeEventListener()}}),h("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = saturate(direction.y * 0.5  + 0.5);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},{"../core/component":102,"../core/shader":111,"../lib/three":150}],65:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three"),a=e("../utils/"),o=a.bind,s=e("../utils").device.PolyfillControls,u="a-grabbing",l=Math.PI/2,c=a.device.checkHasPositionalTracking;t.exports.Component=i("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},touchEnabled:{default:!0}},init:function(){this.previousHMDPosition=new r.Vector3,this.hmdQuaternion=new r.Quaternion,this.hmdEuler=new r.Euler,this.position=new r.Vector3,this.savedRotation=new r.Vector3,this.savedPosition=new r.Vector3,this.polyfillObject=new r.Object3D,this.polyfillControls=new s(this.polyfillObject),this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.savedPose={position:new r.Vector3,rotation:new r.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR()},update:function(e){var t=this.data;t.enabled!==e.enabled&&this.updateGrabCursor(t.enabled),!e||t.hmdEnabled||e.hmdEnabled||(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),e&&!t.pointerLockEnabled!==e.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&document.exitPointerLock())},tick:function(e){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.removeEventListeners()},bindMethods:function(){this.onMouseDown=o(this.onMouseDown,this),this.onMouseMove=o(this.onMouseMove,this),this.onMouseUp=o(this.onMouseUp,this),this.onTouchStart=o(this.onTouchStart,this),this.onTouchMove=o(this.onTouchMove,this),this.onTouchEnd=o(this.onTouchEnd,this),this.onEnterVR=o(this.onEnterVR,this),this.onExitVR=o(this.onExitVR,this),this.onPointerLockChange=o(this.onPointerLockChange,this),this.onPointerLockError=o(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new r.Object3D,this.yawObject=new r.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.addEventListener("enter-vr",this.onEnterVR),e.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):e.addEventListener("render-target-loaded",o(this.addEventListeners,this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var e=this.el,t=this.hmdEuler,n=this.pitchObject,i=this.yawObject,r=this.el.sceneEl;r.is("vr-mode")&&r.checkHeadsetConnected()||(this.polyfillControls.update(),t.setFromQuaternion(this.polyfillObject.quaternion,"YXZ"),e.object3D.rotation.x=t.x+n.rotation.x,e.object3D.rotation.y=t.y+i.rotation.y,e.object3D.rotation.z=0)},onMouseMove:function(e){var t,n=this.pitchObject,i=this.previousMouseEvent,r=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(i=this.pointerLocked?(t=e.movementX||e.mozMovementX||0,e.movementY||e.mozMovementY||0):(t=e.screenX-i.screenX,e.screenY-i.screenY),this.previousMouseEvent=e,e=this.data.reverseMouseDrag?1:-1,r.rotation.y+=.002*t*e,n.rotation.x+=.002*i*e,n.rotation.x=Math.max(-l,Math.min(l,n.rotation.x)))},onMouseDown:function(e){var t;this.data.enabled&&0===e.button&&(t=(t=this.el.sceneEl)&&t.canvas,this.mouseDown=!0,this.previousMouseEvent=e,document.body.classList.add(u),this.data.pointerLockEnabled&&!this.pointerLocked&&(t.requestPointerLock?t.requestPointerLock():t.mozRequestPointerLock&&t.mozRequestPointerLock()))},onMouseUp:function(){this.mouseDown=!1,document.body.classList.remove(u)},onTouchStart:function(e){1===e.touches.length&&this.data.touchEnabled&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t=this.el.sceneEl.canvas,n=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(t=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/t.clientWidth,n.rotation.y-=.5*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){this.saveCameraPose()},onExitVR:function(){this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0)},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},updateGrabCursor:function(e){var t=this.el.sceneEl;function n(){t.canvas.classList.add("a-grab-cursor")}function i(){t.canvas.classList.remove("a-grab-cursor")}t.canvas?(e?n:i)():e?t.addEventListener("render-target-loaded",n):t.addEventListener("render-target-loaded",i)},saveCameraPose:function(){var e=this.el,t=void 0!==this.hasPositionalTracking?this.hasPositionalTracking:c();!this.hasSavedPose&&t&&(this.savedPose.position.copy(e.object3D.position),this.savedPose.rotation.copy(e.object3D.rotation),this.hasSavedPose=!0)},restoreCameraPose:function(){var e=this.el,t=this.savedPose,n=void 0!==this.hasPositionalTracking?this.hasPositionalTracking:c();this.hasSavedPose&&n&&(e.object3D.position.copy(t.position),e.object3D.rotation.copy(t.rotation),this.hasSavedPose=!1)}})},{"../core/component":102,"../lib/three":150,"../utils":172,"../utils/":172}],66:[function(e,t,n){var i=e("../utils/"),r=e("../core/component"),a=e("../lib/three"),e=e("../core/shader"),o=i.debug("components:material:error"),r=r.registerComponent,s=e.shaders,e=e.shaderNames;function u(e,t){e.dispose(),t.unregisterMaterial(e)}t.exports.Component=r("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:e},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColors:{type:"string",default:"none",oneOf:["face","vertex"]},visible:{default:!0}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial(e)},updateSchema:function(e){var t=e.shader,n=this.data&&this.data.shader,i=t||n,e=s[i]&&s[i].schema;e||o("Unknown shader schema "+i),n&&t===n||(this.extendSchema(e),this.updateBehavior())},updateBehavior:function(){function t(t,e){Object.keys(r).forEach(function(e){r[e]=t}),i.shader.update(r)}var n=this.schema,i=this,e=this.el.sceneEl,r={};this.tick=void 0,Object.keys(n).forEach(function(e){"time"===n[e].type&&(i.tick=t,r[e]=!0)}),e&&(this.tick?e.addBehavior(this):e.removeBehavior(this))},updateShader:function(e){var t=this.data,n=s[e]&&s[e].Shader;if(!n)throw new Error("Unknown shader "+e);(n=this.shader=new n).el=this.el,n.init(t),this.setMaterial(n.material),this.updateSchema(t)},updateMaterial:function(e){var t=this.data,n=this.material;n.alphaTest=t.alphaTest,n.depthTest=!1!==t.depthTest,n.depthWrite=!1!==t.depthWrite,n.opacity=t.opacity,n.flatShading=t.flatShading,n.side=function(e){switch(e){case"back":return a.BackSide;case"double":return a.DoubleSide;default:return a.FrontSide}}(t.side),n.transparent=!1!==t.transparent||t.opacity<1,n.vertexColors=function(e){switch(e){case"face":return a.FaceColors;case"vertex":return a.VertexColors;default:return a.NoColors}}(t.vertexColors),n.visible=t.visible,!Object.keys(e).length||e.alphaTest===t.alphaTest&&e.side===t.side&&e.vertexColors===t.vertexColors||(n.needsUpdate=!0)},remove:function(){var e=new a.MeshBasicMaterial,t=this.material,n=this.el.getObject3D("mesh");n&&(n.material=e),u(t,this.system)},setMaterial:function(n){var i=this.el,e=this.system;this.material&&u(this.material,e),this.material=n,e.registerMaterial(n),(e=i.getObject3D("mesh"))?e.material=n:i.addEventListener("object3dset",function e(t){"mesh"===t.detail.type&&t.target===i&&(i.getObject3D("mesh").material=n,i.removeEventListener("object3dset",e))})}})},{"../core/component":102,"../core/shader":111,"../lib/three":150,"../utils/":172}],67:[function(e,t,n){var i=e("../utils/debug"),r=e("../core/component").registerComponent,o=e("../lib/three"),s=i("components:obj-model:warn");t.exports.Component=r("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){this.model=null,this.objLoader=new o.OBJLoader,this.mtlLoader=new o.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin=""},update:function(){var e=this.data;e.obj&&(this.remove(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(t,e){var n=this,i=this.el,r=this.mtlLoader,a=this.objLoader;if(e)return i.hasAttribute("material")&&s("Material component properties are ignored when a .MTL is provided"),r.setTexturePath(e.substr(0,e.lastIndexOf("/")+1)),void r.load(e,function(e){e.preload(),a.setMaterials(e),a.load(t,function(e){n.model=e,i.setObject3D("mesh",e),i.emit("model-loaded",{format:"obj",model:e})})});a.load(t,function(e){var t=i.components.material;t&&e.traverse(function(e){e instanceof o.Mesh&&(e.material=t.material)}),n.model=e,i.setObject3D("mesh",e),i.emit("model-loaded",{format:"obj",model:e})})}})},{"../core/component":102,"../lib/three":150,"../utils/debug":168}],68:[function(e,t,n){var i=e("../utils/bind"),r=e("../core/component").registerComponent,a=e("../utils/tracked-controls"),o=e("../lib/three"),s=a.onButtonEvent,e="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",u=new o.Vector3(0,0,-.053),l={left:{origin:{x:.008,y:-.008,z:0},direction:{x:0,y:-.8,z:-1}},right:{origin:{x:-.008,y:-.008,z:0},direction:{x:0,y:-.8,z:-1}}};t.exports.Component=r("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:{left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){s(e.detail.id,"down",t,t.data.hand)},this.onButtonUp=function(e){s(e.detail.id,"up",t,t.data.hand)},this.onButtonTouchStart=function(e){s(e.detail.id,"touchstart",t,t.data.hand)},this.onButtonTouchEnd=function(e){s(e.detail.id,"touchend",t,t.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.emitIfAxesChanged=a.emitIfAxesChanged,this.checkControllerPresentAndSetup=a.checkControllerPresentAndSetup},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,"Oculus Touch",{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){var e,t;this.data.model&&(t="right"===this.data.hand?(e="url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-right.obj)","url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-right.mtl)"):(e="url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-left.obj)","url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-left.mtl)"),this.el.setAttribute("obj-model",{obj:e,mtl:t}))},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{id:"right"===e.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",controller:0,orientationOffset:e.orientationOffset}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id],i=this.buttonMeshes;n&&("trigger"!==n&&"grip"!==n||(t=e.detail.state.value),i&&("trigger"===n&&i.trigger&&(i.trigger.rotation.x=-t*(Math.PI/24)),"grip"===n&&i.grip&&(i.grip.rotation.y=("left"===this.data.hand?-1:1)*t*(Math.PI/60))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&(t="left"===this.data.hand,(e=this.buttonMeshes={}).grip=n.getObjectByName(t?"buttonHand_oculus-touch-controller-left.004":"buttonHand_oculus-touch-controller-right.005"),e.thumbstick=n.getObjectByName(t?"stick_oculus-touch-controller-left.007":"stick_oculus-touch-controller-right.004"),e.trigger=n.getObjectByName(t?"buttonTrigger_oculus-touch-controller-left.005":"buttonTrigger_oculus-touch-controller-right.006"),e.xbutton=n.getObjectByName("buttonX_oculus-touch-controller-left.002"),e.abutton=n.getObjectByName("buttonA_oculus-touch-controller-right.002"),e.ybutton=n.getObjectByName("buttonY_oculus-touch-controller-left.001"),e.bbutton=n.getObjectByName("buttonB_oculus-touch-controller-right.003"),n.position.copy(u),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:l[this.data.hand]}))},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping[this.data.hand].axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n="up"===t||"touchend"===t?this.data.buttonColor:"touchstart"===t?this.data.buttonTouchColor:this.data.buttonHighlightColor,t=this.buttonMeshes;this.data.model&&t&&t[e]&&t[e].material.color.set(n)}})},{"../core/component":102,"../lib/three":150,"../utils/bind":166,"../utils/tracked-controls":178}],69:[function(e,t,n){e=e("../core/component").registerComponent;t.exports.Component=e("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},{"../core/component":102}],70:[function(e,t,n){var r,i,a,o=e("../core/component").registerComponent,s=e("../lib/three"),u=e("../utils/").debug("components:raycaster:warn"),l=/^[\w\s-.,[\]#]*$/,c={childList:!0,attributes:!0,subtree:!0};t.exports.Component=o("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},recursive:{default:!0},showLine:{default:!1},useWorldCoordinates:{default:!1}},init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new s.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new s.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new s.Vector3,this.otherLineEndVec3=new s.Vector3,this.lineData={end:this.lineEndVec3},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(e){var t=this.data,n=this.el,i=this.raycaster;i.far=t.far,i.near=t.near,!t.showLine||t.far===e.far&&t.origin===e.origin&&t.direction===e.direction&&e.showLine||(this.unitLineEndVec3.copy(t.origin).add(t.direction).normalize(),this.drawLine()),!t.showLine&&e.showLine&&n.removeAttribute("line"),t.objects===e.objects||l.test(t.objects)||u('Selector "'+t.objects+'" may not update automatically with DOM changes.'),t.autoRefresh!==e.autoRefresh&&n.isPlaying&&(t.autoRefresh?this.addEventListeners():this.removeEventListeners()),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line")},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,c),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var e=this.data,e=e.objects?this.el.sceneEl.querySelectorAll(e.objects):this.el.sceneEl.children;this.objects=this.flattenChildrenShallow(e),this.dirty=!1},tick:function(e){var t=this.data,n=this.prevCheckTime;n&&e-n<t.interval||(this.prevCheckTime=e,this.checkIntersections())},checkIntersections:function(){var e,t,n,i=this.clearedIntersectedEls,r=this.el,a=this.data,o=this.intersectedEls,s=this.intersections,u=this.newIntersectedEls,l=this.newIntersections,c=this.prevIntersectedEls,d=this.rawIntersections,h=this;if(this.data.enabled){for(this.dirty&&this.refreshObjects(),function(e,t){var n;for(e.length=t.length,n=0;n<t.length;n++)e[n]=t[n]}(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),d.length=0,this.raycaster.intersectObjects(this.objects,a.recursive,d),s.length=0,e=o.length=0;e<d.length;e++)t=d[e],a.showLine&&t.object===r.getObject3D("line")||t.object.el&&(s.push(t),o.push(t.object.el));for(l.length=0,e=u.length=0;e<s.length;e++)-1===c.indexOf(s[e].object.el)&&(l.push(s[e]),u.push(s[e].object.el));for(e=i.length=0;e<c.length;e++)-1===o.indexOf(c[e])&&(c[e].emit("raycaster-intersected-cleared",this.intersectedClearedDetail),i.push(c[e]));for(i.length&&r.emit("raycaster-intersection-cleared",this.intersectionClearedDetail),e=0;e<u.length;e++)u[e].emit("raycaster-intersected",{el:r,intersection:l[e]});l.length&&(this.intersectionDetail.els=u,this.intersectionDetail.intersections=l,r.emit("raycaster-intersection",this.intersectionDetail)),setTimeout(function(){h.data.showLine&&(s.length&&(n=(s[0].object.el===r&&s[1]?s[1]:s[0]).distance),h.drawLine(n))})}},getIntersection:function(e){for(var t,n=0;n<this.intersections.length;n++)if((t=this.intersections[n]).object.el===e)return t;return null},updateOriginDirection:(i=new s.Vector3,a=new s.Vector3,function(){var e=this.el,t=this.data;t.useWorldCoordinates?this.raycaster.set(t.origin,t.direction):(e.object3D.updateMatrixWorld(),e.object3D.getWorldPosition(a),0===t.origin.x&&0===t.origin.y&&0===t.origin.z||(a=e.object3D.localToWorld(a.copy(t.origin))),i.copy(t.direction).transformDirection(e.object3D.matrixWorld).normalize(),this.raycaster.set(a,i))}),drawLine:function(e){var t=this.data,n=this.el,i=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3;void 0===e&&(e=t.far===1/0?1e3:t.far),this.lineData.start=t.origin,this.lineData.end=i.copy(this.unitLineEndVec3).multiplyScalar(e),n.setAttribute("line",this.lineData)},flattenChildrenShallow:(r=[],function(e){for(var t,n=this.objects,i=r.length=0;i<e.length;i++)e[i].object3D&&r.push(e[i].object3D);for(i=n.length=0;i<r.length;i++)(t=r[i].children)&&t.length&&n.push.apply(n,t);return n})})},{"../core/component":102,"../lib/three":150,"../utils/":172}],71:[function(e,t,n){var i=e("../lib/three").Math.degToRad,e=e("../core/component").registerComponent;t.exports.Component=e("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,t=this.el.object3D;t.rotation.set(i(e.x),i(e.y),i(e.z)),t.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},{"../core/component":102,"../lib/three":150}],72:[function(e,t,n){e=e("../core/component").registerComponent;t.exports.Component=e("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data,t=this.el.object3D,n=0===e.x?1e-5:e.x,i=0===e.y?1e-5:e.y,e=0===e.z?1e-5:e.z;t.scale.set(n,i,e)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},{"../core/component":102}],73:[function(e,t,n){e=e("../../core/component").registerComponent;t.exports.Component=e("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var e=this.data,t=this.el.object3D;e.transparent?t.background=null:t.background=new THREE.Color(e.color)}})},{"../../core/component":102}],74:[function(e,t,n){e=e("../../core/component").registerComponent;t.exports.Component=e("debug",{schema:{default:!0}})},{"../../core/component":102}],75:[function(e,t,n){e=e("../../core/component").registerComponent;t.exports.Component=e("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var e=this.el,t=e.querySelector(".a-enter-vr");!0===this.data?(t&&t.classList.add("embedded"),e.removeFullScreenStyles()):(t&&t.classList.remove("embedded"),e.addFullScreenStyles())}})},{"../../core/component":102}],76:[function(e,t,n){var i=e("../../core/component").registerComponent,r=e("../../lib/three"),a=e("../../utils/debug")("components:fog:warn");t.exports.Component=i("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var n=this.data,e=this.el,i=this.el.object3D.fog;if(e.isScene)return i&&n.type===i.name?void Object.keys(this.schema).forEach(function(e){var t=n[e];"color"===e&&(t=new r.Color(t)),i[e]=t}):(e.object3D.fog=function(e){var t;t="exponential"===e.type?new r.FogExp2(e.color,e.density):new r.Fog(e.color,e.near,e.far);return t.name=e.type,t}(n),void e.systems.material.updateMaterials());a("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.far=0,e.near=.1)}})},{"../../core/component":102,"../../lib/three":150,"../../utils/debug":168}],77:[function(s,u,e){(function(e){var n=s("../../constants").AFRAME_INJECTED,t=s("../../utils/bind"),i=s("../../../package"),r=s("../../core/component").registerComponent;var a,o="https://unpkg.com/aframe-inspector@"+((a=(a=i.version).split("."))[2]="x",a.join("."))+"/dist/aframe-inspector.min.js",o="dev"===e.env.INSPECTOR_VERSION?"https://aframe.io/aframe-inspector/dist/aframe-inspector.js":o;u.exports.Component=r("inspector",{schema:{url:{default:o}},init:function(){this.onKeydown=t(this.onKeydown,this),this.onMessage=t(this.onMessage,this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(e){e=73===e.keyCode&&e.ctrlKey&&e.altKey;this.data&&e&&this.injectInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.injectInspector()},injectInspector:function(){var e,t=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected||(this.showLoader(),(e=document.createElement("script")).src=this.data.url,e.setAttribute("data-name","aframe-inspector"),e.setAttribute(n,""),e.onload=function(){AFRAME.INSPECTOR.open(),t.hideLoader(),t.removeEventListeners()},e.onerror=function(){t.loadingMessageEl.innerHTML="Error loading Inspector"},document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,s("_process"))},{"../../../package":51,"../../constants":93,"../../core/component":102,"../../utils/bind":166,_process:6}],78:[function(e,t,n){var i=e("../../core/component").registerComponent,r=e("../../utils/").shouldCaptureKeyEvent;t.exports.Component=i("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(e){var t=this.el;r(e)&&(this.enterVREnabled&&70===e.keyCode&&t.enterVR(),this.enterVREnabled&&27===e.keyCode&&t.exitVR())}})},{"../../core/component":102,"../../utils/":172}],79:[function(e,t,n){var i=e("../../utils/debug"),e=e("../../core/component").registerComponent,r=i("components:pool:warn");t.exports.Component=e("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var e;for(this.availableEls=[],this.usedEls=[],this.data.mixin||r("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||r("Container "+this.data.container+" not found.")),this.container=this.container||this.el,e=0;e<this.data.size;++e)this.createEntity()},update:function(e){var t=this.data;e.mixin===t.mixin&&e.size===t.size||this.initPool()},createEntity:function(){var e=document.createElement("a-entity");e.play=this.wrapPlay(e.play),e.setAttribute("mixin",this.data.mixin),e.object3D.visible=!1,e.pause(),this.container.appendChild(e),this.availableEls.push(e)},wrapPlay:function(e){var t=this.usedEls;return function(){-1!==t.indexOf(this)&&e.call(this)}},requestEntity:function(){var e;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void r("Requested entity from empty pool: "+this.name);r("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.name),this.createEntity()}return e=this.availableEls.shift(),this.usedEls.push(e),e.object3D.visible=!0,e},returnEntity:function(e){var t=this.usedEls.indexOf(e);if(-1!==t)return this.usedEls.splice(t,1),this.availableEls.push(e),e.object3D.visible=!1,e.pause(),e;r("The returned entity was not previously pooled from "+this.name)}})},{"../../core/component":102,"../../utils/debug":168}],80:[function(e,t,n){var i=e("../../core/component").registerComponent,a=e("../../utils/debug")("components:renderer:warn");t.exports.Component=i("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},gammaOutput:{default:!1},physicallyCorrectLights:{default:!1},sortObjects:{default:!1}},init:function(){this.el.isScene||a("Renderer component can only be applied to <a-scene>")},update:function(e){var t=this.data,n=this.el,i=n.renderer,r=!1;0<n.time&&t.antialias!==e.antialias&&a('Property "antialias" cannot be changed after scene initialization'),t.sortObjects!==e.sortObjects&&(i.sortObjects=t.sortObjects),t.gammaOutput!==e.gammaOutput&&(i.gammaOutput=t.gammaOutput,r=!0),t.physicallyCorrectLights!==e.physicallyCorrectLights&&(i.physicallyCorrectLights=t.physicallyCorrectLights,r=!0),r&&0!==n.time&&(a("Modifying renderer properties at runtime requires shader update and may drop frames."),n.object3D.traverse(function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach(function(e){e.needsUpdate=!0}):e.material.needsUpdate=!0)}))}})},{"../../core/component":102,"../../utils/debug":168}],81:[function(e,t,n){var i=e("../../core/component").registerComponent,a=e("../../lib/three"),r=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),o=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");t.exports.Component=i("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var t=this.el,n=this;function e(){var e=t.renderer.getContext();e&&(n.cubeMapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),n.material=new a.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:r,fragmentShader:o,side:a.DoubleSide}),n.quad=new a.Mesh(new a.PlaneBufferGeometry(1,1),n.material),n.quad.visible=!1,n.camera=new a.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),n.canvas=document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),t.camera&&t.camera.add(n.quad),n.onKeyDown=n.onKeyDown.bind(n),n.onCameraActive=n.onCameraActive.bind(n),t.addEventListener("camera-set-active",n.onCameraActive))}t.renderer?e():t.addEventListener("render-target-loaded",e)},getRenderTarget:function(e,t){return new a.WebGLRenderTarget(e,t,{minFilter:a.LinearFilter,magFilter:a.LinearFilter,wrapS:a.ClampToEdgeWrapping,wrapT:a.ClampToEdgeWrapping,format:a.RGBAFormat,type:a.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onCameraActive:function(e){var t=this.quad.parent;t&&t.remove(this.quad),e.detail.cameraEl.getObject3D("camera").add(this.quad)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;this.data&&t&&(e=e.shiftKey?"equirectangular":"perspective",this.capture(e))},setCapture:function(e){var t,n,i,r=this.el;return"perspective"===e?(this.quad.visible=!1,n=this.data.camera&&this.data.camera.components.camera.camera||r.camera,t={width:this.data.width,height:this.data.height}):((n=this.camera).position.copy(r.camera.getWorldPosition()),n.rotation.copy(r.camera.getWorldRotation()),(i=new a.CubeCamera(r.camera.near,r.camera.far,Math.min(this.cubeMapSize,2048))).position.copy(r.camera.getWorldPosition()),i.rotation.copy(r.camera.getWorldRotation()),i.updateCubeMap(r.renderer,r.object3D),this.quad.material.uniforms.map.value=i.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:t,projection:e}},capture:function(e){e=this.setCapture(e);this.renderCapture(e.camera,e.size,e.projection),this.saveCapture()},getCanvas:function(e){e=this.setCapture(e);return this.renderCapture(e.camera,e.size,e.projection),this.canvas},renderCapture:function(e,t,n){var i=this.el.renderer.autoClear,r=this.el,a=this.el.renderer,o=this.getRenderTarget(t.width,t.height),s=new Uint8Array(4*t.width*t.height);this.resize(t.width,t.height),a.autoClear=!0,a.render(r.object3D,e,o,!0),a.autoClear=i,a.readRenderTargetPixels(o,0,0,t.width,t.height,s),"perspective"===n&&(s=this.flipPixelsVertically(s,t.width,t.height)),t=new ImageData(new Uint8ClampedArray(s),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(t,0,0)},flipPixelsVertically:function(e,t,n){for(var i=e.slice(0),r=0;r<t;++r)for(var a=0;a<n;++a)i[4*r+a*t*4]=e[4*r+(n-a)*t*4],i[4*r+1+a*t*4]=e[4*r+1+(n-a)*t*4],i[4*r+2+a*t*4]=e[4*r+2+(n-a)*t*4],i[4*r+3+a*t*4]=e[4*r+3+(n-a)*t*4];return i},saveCapture:function(){this.canvas.toBlob(function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),e=URL.createObjectURL(e);n.href=e,n.setAttribute("download",t),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n)},1)},"image/png")}})},{"../../core/component":102,"../../lib/three":150}],82:[function(e,t,n){var i=e("../../core/component").registerComponent,r=e("../../../vendor/rStats"),a=e("../../utils");e("../../../vendor/rStats.extras"),e("../../lib/rStatsAframe");var o=window.aframeStats,s=a.bind,u=window.threeStats;t.exports.Component=i("stats",{schema:{default:!0},init:function(){var e,t,n,i=this.el;"false"!==a.getUrlParameter("stats")&&(this.stats=(t=new u((e=i).renderer),n=new o(e),n=e.isMobile?[]:[t,n],new r({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:n})),this.statsEl=document.querySelector(".rs-base"),this.hideBound=s(this.hide,this),this.showBound=s(this.show,this),i.addEventListener("enter-vr",this.hideBound),i.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e&&(e("rAF").tick(),e("FPS").frame(),e().update())},hide:function(){this.statsEl.classList.add("a-hidden")},show:function(){this.statsEl.classList.remove("a-hidden")}})},{"../../../vendor/rStats":180,"../../../vendor/rStats.extras":179,"../../core/component":102,"../../lib/rStatsAframe":149,"../../utils":172}],83:[function(e,t,n){var i=e("../../core/component").registerComponent,r=e("../../constants/"),a=e("../../utils/"),o=a.bind,s="a-hidden";t.exports.Component=i("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0}},init:function(){var t=this,e=this.el;"false"!==a.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,this.bindMethods(),e.addEventListener("enter-vr",this.updateEnterVRInterface),e.addEventListener("exit-vr",this.updateEnterVRInterface),window.addEventListener("message",function(e){"loaderReady"===e.data.type&&(t.insideLoader=!0,t.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=o(this.onEnterVRButtonClick,this),this.onModalClick=o(this.onModalClick,this),this.toggleOrientationModalIfNeeded=o(this.toggleOrientationModalIfNeeded,this),this.updateEnterVRInterface=o(this.updateEnterVRInterface,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},update:function(){var t,e,n,i=this.el;if(!this.data.enabled||this.insideLoader||"false"===a.getUrlParameter("ui"))return this.remove();this.enterVREl||this.orientationModalEl||(this.enterVREl=(t=this.onEnterVRButtonClick,(n=document.createElement("div")).classList.add("a-enter-vr"),n.setAttribute(r.AFRAME_INJECTED,""),(e=document.createElement("button")).className="a-enter-vr-button",e.setAttribute("title","Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(r.AFRAME_INJECTED,""),n.appendChild(e),e.addEventListener("click",function(e){t(),e.stopPropagation()}),n),i.appendChild(this.enterVREl),this.orientationModalEl=function(e){var t=document.createElement("div");t.className="a-orientation-modal",t.classList.add(s),t.setAttribute(r.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(r.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",e),t.appendChild(n),t}(this.onModalClick),i.appendChild(this.orientationModalEl),this.updateEnterVRInterface())},remove:function(){[this.enterVREl,this.orientationModalEl].forEach(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is("vr-mode")?this.enterVREl.classList.add(s):this.enterVREl.classList.remove(s))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!a.device.isLandscape()&&e.is("vr-mode")?t.classList.remove(s):t.classList.add(s))}})},{"../../constants/":93,"../../core/component":102,"../../utils/":172}],84:[function(e,t,n){var i=e("../core/component"),o=e("../lib/three"),r=e("../utils/bind"),i=i.registerComponent;t.exports.Component=i("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=r(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var e=this.data;this.updateDescendants(e.cast,e.receive)},remove:function(){this.el.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(i,r){var a=this.el.sceneEl;this.el.object3D.traverse(function(e){if(e instanceof o.Mesh&&(e.castShadow=i,e.receiveShadow=r,a.hasLoaded&&e.material))for(var t=Array.isArray(e.material)?e.material:[e.material],n=0;n<t.length;n++)t[n].needsUpdate=!0})}})},{"../core/component":102,"../lib/three":150,"../utils/bind":166}],85:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/debug"),a=e("../utils/bind"),o=e("../lib/three"),s=r("components:sound:warn");t.exports.Component=i("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){this.listener=null,this.audioLoader=new o.AudioLoader,this.pool=new o.Group,this.loaded=!1,this.mustPlay=!1,this.playSound=a(this.playSound,this)},update:function(e){var n,i=this.data,t=i.src!==e.src;if(t){if(!i.src)return void s("Audio source was not specified with `src`");this.setupSound()}this.pool.children.forEach(function(e){i.positional&&(e.setDistanceModel(i.distanceModel),e.setMaxDistance(i.maxDistance),e.setRefDistance(i.refDistance),e.setRolloffFactor(i.rolloffFactor)),e.setLoop(i.loop),e.setVolume(i.volume),e.isPaused=!1}),i.on!==e.on&&this.updateEventListener(e.on),t&&((n=this).loaded=!1,this.audioLoader.load(i.src,function(t){n.pool.children.forEach(function(e){e.setBuffer(t)}),n.loaded=!0,o.Cache.remove(i.src),(n.data.autoplay||n.mustPlay)&&n.playSound(),n.el.emit("sound-loaded",n.evtDetail)}))},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){this.removeEventListener(),this.el.removeObject3D(this.attrName);try{this.pool.children.forEach(function(e){e.disconnect()})}catch(e){s("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSound),t.addEventListener(this.data.on,this.playSound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSound)},setupSound:function(){var t=this,n=this.el,e=n.sceneEl;0<this.pool.children.length&&(this.stopSound(),n.removeObject3D("sound"));var i=this.listener=e.audioListener||new o.AudioListener;e.audioListener=i,e.camera&&e.camera.add(i),e.addEventListener("camera-set-active",function(e){e.detail.cameraEl.getObject3D("camera").add(i)}),this.pool=new o.Group;for(var r=0;r<this.data.poolSize;r++){var a=new(this.data.positional?o.PositionalAudio:o.Audio)(i);this.pool.add(a)}n.setObject3D(this.attrName,this.pool),this.pool.children.forEach(function(e){e.onEnded=function(){e.isPlaying=!1,n.emit("sound-ended",t.evtDetail)}})},pauseSound:function(){this.isPlaying=!1,this.pool.children.forEach(function(e){e.source&&e.source.buffer&&e.isPlaying&&!e.isPaused&&(e.isPaused=!0,e.pause())})},playSound:function(){if(!this.loaded)return s("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);var t=!1;this.isPlaying=!0,this.pool.children.forEach(function(e){e.isPlaying||!e.buffer||t||(e.play(),e.isPaused=!1,t=!0)}),t?this.mustPlay=!1:s("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){this.isPlaying=!1,this.pool.children.forEach(function(e){e.source&&e.source.buffer&&e.stop()})}})},{"../core/component":102,"../lib/three":150,"../utils/bind":166,"../utils/debug":168}],86:[function(e,t,n){var i=e("three-bmfont-text"),d=e("load-bmfont"),r=e("../core/component").registerComponent,a=e("../core/shader"),h=e("../lib/three"),o=e("../utils/"),p=o.debug("components:text:error"),s=a.shaders,m=o.debug("components:text:warn"),a="https://cdn.aframe.io/fonts/",u={aileronsemibold:a+"Aileron-Semibold.fnt",dejavu:a+"DejaVu-sdf.fnt",exo2bold:a+"Exo2Bold.fnt",exo2semibold:a+"Exo2SemiBold.fnt",kelsonsans:a+"KelsonSans.fnt",monoid:a+"Monoid.fnt",mozillavr:a+"mozillavr.fnt",roboto:a+"Roboto-msdf.json",sourcecodepro:a+"SourceCodePro.fnt"},l=["roboto"],f="roboto";t.exports.FONTS=u;var g=new function(){var n=this.cache={};this.get=function(e,t){return e in n||(n[e]=t()),n[e]}},_={},y={};function v(e){return void 0!==(e=o.clone(e)).lineHeight&&(e.lineHeight=parseFloat(e.lineHeight),isFinite(e.lineHeight)||(e.lineHeight=void 0)),void 0!==e.width&&(e.width=parseFloat(e.width),isFinite(e.width)||(e.width=void 0)),e}function c(e,t,n){return e||(.5+t)*n}t.exports.Component=r("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:f},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:s},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=i(),this.createOrUpdateMaterial(),this.mesh=new h.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(e){var t=v(this.data),n=this.currentFont,i=this.getFontImageSrc();y[i]?this.texture=y[i]:(this.texture=y[i]=new h.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),e.font===t.font?n&&(this.updateGeometry(this.geometry,t,n),this.updateLayout(t)):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var e,t=this.data,n=this.material,i=this.shaderData,r=t.shader;if(-1!==l.indexOf(t.font)||0<=t.font.indexOf("-msdf.")?r="msdf":t.font in u&&-1===l.indexOf(t.font)&&(r="sdf"),e=(this.shaderObject&&this.shaderObject.name)!==r,i.alphaTest=t.alphaTest,i.color=t.color,i.map=this.texture,i.opacity=t.opacity,i.side=function(e){switch(e){case"back":return h.FrontSide;case"double":return h.DoubleSide;default:return h.BackSide}}(t.side),i.transparent=t.transparent,i.negate=t.negate,!e)return this.shaderObject.update(i),n.transparent=i.transparent,void(n.side=i.side);e=this.el,n=i,(r=new s[r=r].Shader).el=e,r.init(n),r.update(n),(e=r.material).transparent=n.transparent,r={material:e,shader:r},this.material=r.material,this.shaderObject=r.shader,this.material.side=i.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var o,s=this.data,u=this.el,l=this.geometry,c=this;s.font||m("No font specified. Using the default font."),this.mesh.visible=!1,o=this.lookupFont(s.font||f)||s.font,g.get(o,function(){return r=o,a=s.yOffset,new Promise(function(n,i){d(r,function(e,t){return e?(p("Error loading font",r),void i(e)):(0<=r.indexOf("/Roboto-msdf.json")&&(a=30),a&&t.chars.map(function(e){e.yoffset+=a}),void n(t))})});var r,a}).then(function(n){var i,e,t,r,a;if(1!==n.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");_[o]||(n.widthFactor=_[n]=(a=r=t=0,(e=n).chars.map(function(e){t+=e.xadvance,48<=e.id&&e.id<=57&&(a++,r+=e.xadvance)}),a?r/a:t/e.chars.length)),e=v(s),c.updateGeometry(l,c.data,n),c.currentFont=n,c.updateLayout(e),i=c.getFontImageSrc(),g.get(i,function(){return n=i,new Promise(function(t,e){(new h.ImageLoader).load(n,function(e){t(e)},void 0,function(){p("Error loading font image",n),e(null)})});var n}).then(function(e){var t=c.texture;t.image=e,t.needsUpdate=!0,y[i]=t,c.texture=t,c.mesh.visible=!0,u.emit("textfontset",{font:s.font,fontObj:n})}).catch(function(e){throw p(e),e})}).catch(function(e){throw p(e),e})},getFontImageSrc:function(){var e=this.lookupFont(this.data.font||f)||this.data.font;return this.data.fontImage||e.replace(/(\.fnt)|(\.json)/,".png")},updateLayout:function(e){var t,n,i=this.el,r=this.geometry,a=i.getAttribute("geometry"),o=r.layout,s=this.mesh,a=i.getAttribute("geometry"),u=e.width||a&&a.width||1,l=u/c(e.wrapPixels,e.wrapCount,this.currentFont.widthFactor),r=l*(o.height+o.descender);if(a&&(a.width||i.setAttribute("geometry","width",u),a.height||i.setAttribute("geometry","height",r)),"left"===(r="align"===e.anchor?e.align:e.anchor))t=0;else if("right"===r)t=-1*o.width;else{if("center"!==r)throw new TypeError("Invalid text.anchor property value",r);t=-1*o.width/2}if("bottom"===(r=e.baseline))n=0;else if("top"===r)n=-1*o.height+o.ascender;else{if("center"!==r)throw new TypeError("Invalid text.baseline property value",r);n=-1*o.height/2}s.position.x=t*l+e.xOffset,s.position.y=n*l,s.position.z=e.zOffset,s.scale.set(l,-1*l,l),this.geometry.computeBoundingSphere()},lookupFont:function(e){return u[e]},updateGeometry:function(e,t,n){e.update(o.extend({},t,{font:n,width:c(t.wrapPixels,t.wrapCount,n.widthFactor),text:t.value.toString().replace(/\\n/g,"\n").replace(/\\t/g,"\t"),lineHeight:t.lineHeight||n.common.lineHeight}))}})},{"../core/component":102,"../core/shader":111,"../lib/three":150,"../utils/":172,"load-bmfont":24,"three-bmfont-text":36}],87:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/tracked-controls"),a=e("../constants").DEFAULT_CAMERA_HEIGHT,o=e("../lib/three"),u=e("../constants").DEFAULT_HANDEDNESS,l=.175,c=-.3,d=-.03,h=0,p=0,m=-.175;t.exports.Component=i("tracked-controls",{schema:{controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},init:function(){this.axis=[0,0,0],this.buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new o.Vector3,this.controllerQuaternion=new o.Quaternion,this.controllerEuler=new o.Euler,this.updateGamepad(),this.el.object3D.matrixAutoUpdate=!1},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.update&&n.update(t/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return a},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var e=this.data,e=r.findMatchingController(this.system.controllers,e.id,e.idPrefix,e.hand,e.controller);this.controller=e},applyArmModel:function(e){var t=this.controller,n=this.controllerEuler,i=this.controllerQuaternion,r=this.deltaControllerPosition,a=this.getHeadElement().object3D,o=this.defaultUserHeight(),s=t.pose,t=(t?t.hand:void 0)||u;e.copy(a.position),r.set(l*("left"===t?-1:"right"===t?1:0),c,d),r.multiplyScalar(o),r.applyAxisAngle(a.up,a.rotation.y),e.add(r),r.set(h,p,m),r.multiplyScalar(o),s.orientation?i.fromArray(s.orientation):i.copy(a.quaternion),n.setFromQuaternion(i),n.set(n.x,n.y,0),r.applyEuler(n),e.add(r)},updatePose:function(){var e=this.controller,t=this.data,n=this.el.object3D,i=this.system.vrDisplay;e&&((e=e.pose).position?n.position.fromArray(e.position):t.armModel&&this.applyArmModel(n.position),e.orientation&&n.quaternion.fromArray(e.orientation),i&&e.position&&(e=this.el.sceneEl.renderer.vr.getStandingMatrix(),n.matrixAutoUpdate=!1,n.matrix.compose(n.position,n.quaternion,n.scale),n.matrix.multiplyMatrices(e,n.matrix),n.matrix.decompose(n.position,n.quaternion,n.scale)),n.rotateX(this.data.orientationOffset.x*o.Math.DEG2RAD),n.rotateY(this.data.orientationOffset.y*o.Math.DEG2RAD),n.rotateZ(this.data.orientationOffset.z*o.Math.DEG2RAD),n.updateMatrix(),n.matrixWorldNeedsUpdate=!0)},updateButtons:function(){var e,t,n=this.controller;if(n){for(t=0;t<n.buttons.length;++t)this.buttonStates[t]||(this.buttonStates[t]={pressed:!1,touched:!1,value:0}),e=n.buttons[t],this.handleButton(t,e);this.handleAxes()}},handleButton:function(e,t){return!!(this.handlePress(e,t)|this.handleTouch(e,t)|this.handleValue(e,t))&&(this.el.emit("buttonchanged",{id:e,state:t}),!0)},handleAxes:function(){for(var e=!1,t=this.controller.axes,n=this.axis,i=this.changedAxes,r=this.changedAxes.length=0;r<t.length;++r)i.push(n[r]!==t[r]),i[r]&&(e=!0);if(!e)return!1;for(r=this.axis.length=0;r<t.length;r++)this.axis.push(t[r]);return this.el.emit("axismove",this.axisMoveEventDetail),!0},handlePress:function(e,t){var n,i=this.buttonStates[e];return t.pressed!==i.pressed&&(n=t.pressed?"down":"up",this.el.emit("button"+n,{id:e,state:t}),i.pressed=t.pressed,!0)},handleTouch:function(e,t){var n,i=this.buttonStates[e];return t.touched!==i.touched&&(n=t.touched?"start":"end",this.el.emit("touch"+n,{id:e,state:t},!0,{touches:[]}),i.touched=t.touched,!0)},handleValue:function(e,t){e=this.buttonStates[e];return t.value!==e.value&&(e.value=t.value,!0)}})},{"../constants":93,"../core/component":102,"../lib/three":150,"../utils/tracked-controls":178}],88:[function(e,t,n){e=e("../core/component").registerComponent;t.exports.Component=e("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":102}],89:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/").bind,e=e("../utils/tracked-controls"),a=e.checkControllerPresentAndSetup,o=e.emitIfAxesChanged,s=e.onButtonEvent;t.exports.Component=i("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},init:function(){var t=this;this.animationActive="pointing",this.checkControllerPresentAndSetup=a,this.controllerPresent=!1,this.emitIfAxesChanged=o,this.lastControllerCheck=0,this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){s(e.detail.id,"down",t)},this.onButtonUp=function(e){s(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){s(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){s(e.detail.id,"touchstart",t)},this.onAxisMoved=r(this.onAxisMoved,this),this.previousButtonValues={},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data,e="right"===e.hand?0:"left"===e.hand?1:2;this.checkControllerPresentAndSetup(this,"OpenVR ",{index:e})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:"OpenVR ",controller:"right"===t.hand?0:"left"===t.hand?1:2,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",mtl:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id],i=this.buttonMeshes;n&&("trigger"===n&&(t=e.detail.state.value,i&&i.trigger&&(i.trigger.rotation.x=-t*(Math.PI/12))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t=e.detail.model,n=this;this.data.model&&((e=this.buttonMeshes={}).grip={left:t.getObjectByName("leftgrip"),right:t.getObjectByName("rightgrip")},e.menu=t.getObjectByName("menubutton"),e.system=t.getObjectByName("systembutton"),e.trackpad=t.getObjectByName("touchpad"),e.trigger=t.getObjectByName("trigger"),Object.keys(e).forEach(function(e){n.setButtonColor(e,n.data.buttonColor)}),t.position.set(0,-.015,.04))},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&(-1!==t.indexOf("touch")||(t="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(e,t)))},setButtonColor:function(e,t){var n=this.buttonMeshes;if(n)return"grip"===e?(n.grip.left.material.color.set(t),void n.grip.right.material.color.set(t)):void n[e].material.color.set(t)}})},{"../core/component":102,"../utils/":172,"../utils/tracked-controls":178}],90:[function(e,t,n){var i,r,a=e("../constants").keyboardevent.KEYCODE_TO_CODE,o=e("../core/component").registerComponent,s=e("../lib/three"),e=e("../utils/"),u=e.bind,l=e.shouldCaptureKeyEvent,c=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];t.exports.Component=o("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},easing:{default:20},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.position={},this.velocity=new s.Vector3,this.onBlur=u(this.onBlur,this),this.onFocus=u(this.onFocus,this),this.onKeyDown=u(this.onKeyDown,this),this.onKeyUp=u(this.onKeyUp,this),this.onVisibilityChange=u(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var n=this.data,i=this.el,r=this.position,a=this.velocity;!a[n.adAxis]&&!a[n.wsAxis]&&function(e){for(var t in e)return!1;return!0}(this.keys)||(t/=1e3,this.updateVelocity(t),(a[n.adAxis]||a[n.wsAxis])&&(n=i.getAttribute("position"),t=this.getMovementVector(t),r.x=n.x+t.x,r.y=n.y+t.y,r.z=n.z+t.z,i.setAttribute("position",r)))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,n,i=this.data,r=this.keys,a=this.velocity,o=i.adAxis,s=i.wsAxis;if(.2<e)return a[o]=0,void(a[s]=0);0!==a[o]&&(a[o]-=a[o]*i.easing*e),0!==a[s]&&(a[s]-=a[s]*i.easing*e),Math.abs(a[o])<1e-5&&(a[o]=0),Math.abs(a[s])<1e-5&&(a[s]=0),i.enabled&&(t=i.acceleration,i.adEnabled&&(n=i.adInverted?-1:1,(r.KeyA||r.ArrowLeft)&&(a[o]-=n*t*e),(r.KeyD||r.ArrowRight)&&(a[o]+=n*t*e)),i.wsEnabled&&(i=i.wsInverted?-1:1,(r.KeyW||r.ArrowUp)&&(a[s]-=i*t*e),(r.KeyS||r.ArrowDown)&&(a[s]+=i*t*e)))},getMovementVector:(i=new s.Vector3(0,0,0),r=new s.Euler(0,0,0,"YXZ"),function(e){var t=this.el.getAttribute("rotation"),n=this.velocity;return i.copy(n),i.multiplyScalar(e),t&&(e=this.data.fly?t.x:0,r.set(s.Math.degToRad(e),s.Math.degToRad(t.y),0),i.applyEuler(r)),i}),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){l(e)&&(e=e.code||a[e.keyCode],-1!==c.indexOf(e)&&(this.keys[e]=!0))},onKeyUp:function(e){e=e.code||a[e.keyCode];delete this.keys[e]}})},{"../constants":93,"../core/component":102,"../lib/three":150,"../utils/":172}],91:[function(e,t,n){var r,a,i,o=e("../utils/bind"),s=e("../core/component").registerComponent,u=e("../utils/tracked-controls"),l=u.onButtonEvent,c=e("../utils/"),d=c.debug("components:windows-motion-controls:debug"),h=c.debug("components:windows-motion-controls:warn"),e=e("../constants").DEFAULT_HANDEDNESS,p={left:"left.glb",right:"right.glb",default:"universal.glb"},m="Spatial Controller (Spatial Interaction Source) ",f=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/;t.exports.Component=s("windows-motion-controls",{schema:{hand:{default:e},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:{axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},bindMethods:function(){this.onModelError=o(this.onModelError,this),this.onModelLoaded=o(this.onModelLoaded,this),this.onControllersUpdate=o(this.onControllersUpdate,this),this.checkIfControllerPresent=o(this.checkIfControllerPresent,this),this.onAxisMoved=o(this.onAxisMoved,this)},init:function(){var t=this,e=this.el;this.onButtonChanged=o(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.onControllerConnected=function(){t.setModelVisibility(!0)},this.onControllerDisconnected=function(){t.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},this.emitIfAxesChanged=u.emitIfAxesChanged,this.checkControllerPresentAndSetup=u.checkControllerPresentAndSetup,e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-error",this.onModelError),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-error",this.onModelError),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,m,{hand:this.data.hand,index:this.data.pair})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){var e;this.data.model&&!this.rayOrigin.createdFromMesh?(e=this.createControllerModelUrl(),this.loadModel(e)):this.modelReady()},createControllerModelUrl:function(e){var t=this.el.components["tracked-controls"],n=t?t.controller:null,i="default",t=this.data.hand;return n&&(t=n.hand,e||(i=(n=n.id.match(f))&&n[0]||i)),"https://cdn.aframe.io/controllers/microsoft/"+i+"/"+(p[t]||p.default)},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{idPrefix:m,controller:e.pair,hand:e.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(e){var t=this.createControllerModelUrl(!0);e.detail.src!==t?(h("Failed to load controller model for device, attempting to load default."),this.loadModel(t)):h("Failed to load default controller model.")},loadModel:function(e){this.el.setAttribute("gltf-model","url("+e+")")},onModelLoaded:function(e){var t,n,i,r,a=this.controllerModel=e.detail.model,o=this.loadedMeshInfo;if(d("Processing model"),o.buttonMeshes={},o.axisMeshes={},a){for(t=0;t<this.mapping.buttons.length;t++)(n=this.mapping.buttonMeshNames[this.mapping.buttons[t]])?(i=a.getObjectByName(n))?(r={index:t,value:s(i,"VALUE"),pressed:s(i,"PRESSED"),unpressed:s(i,"UNPRESSED")}).value&&r.pressed&&r.unpressed?o.buttonMeshes[this.mapping.buttons[t]]=r:h("Missing button submesh under mesh with name: "+n+"(VALUE: "+!!r.value+", PRESSED: "+!!r.pressed+", UNPRESSED:"+!!r.unpressed+")"):h("Missing button mesh with name: "+n):d("Skipping unknown button at index: "+t+" with mapped name: "+this.mapping.buttons[t]);for(t=0;t<this.mapping.axisMeshNames.length;t++)(n=this.mapping.axisMeshNames[t])?(i=a.getObjectByName(n))?(r={index:t,value:s(i,"VALUE"),min:s(i,"MIN"),max:s(i,"MAX")}).value&&r.min&&r.max?o.axisMeshes[t]=r:h("Missing axis submesh under mesh with name: "+n+"(VALUE: "+!!r.value+", MIN: "+!!r.min+", MAX:"+!!r.max+")"):h("Missing axis mesh with name: "+n):d("Skipping unknown axis at index: "+t);this.calculateRayOriginFromMesh(a),this.setModelVisibility()}function s(e,t){for(var n=0,i=e.children.length;n<i;n++){var r=e.children[n];if(r&&r.name===t)return r}}d("Model load complete.")},calculateRayOriginFromMesh:(i=new THREE.Quaternion,function(e){var t,n;this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,(t=e.getObjectByName(this.mapping.pointingPoseMeshName))?((n=e.parent)&&(e.parent=null,e.updateMatrixWorld(!0),e.parent=n),t.getWorldPosition(this.rayOrigin.origin),t.getWorldQuaternion(i),this.rayOrigin.direction.applyQuaternion(i),n&&e.updateMatrixWorld(!0)):d("Mesh does not contain pointing origin data, defaulting to none."),this.modelReady()}),lerpAxisTransform:(a=new THREE.Quaternion,function(e,t){var n,i=this.loadedMeshInfo.axisMeshes[e];i&&(n=i.min,e=i.max,t=.5*t+.5,(i=i.value).setRotationFromQuaternion(a.copy(n.quaternion).slerp(e.quaternion,t)),i.position.lerpVectors(n.position,e.position,t))}),lerpButtonTransform:(r=new THREE.Quaternion,function(e,t){var n,i=this.loadedMeshInfo.buttonMeshes[e];i&&(n=i.unpressed,e=i.pressed,(i=i.value).setRotationFromQuaternion(r.copy(n.quaternion).slerp(e.quaternion,t)),i.position.lerpVectors(n.position,e.position,t))}),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(t,e.detail.state.value),this.el.emit(t+"changed",e.detail.state))},onAxisMoved:function(e){var t=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<t;n++)this.lerpAxisTransform(n,e.detail.axis[n]||0);this.emitIfAxesChanged(this,this.mapping.axes,e)},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");e=void 0!==e?e:this.modelVisible,this.modelVisible=e,t&&(t.visible=e)}})},{"../constants":93,"../core/component":102,"../utils/":172,"../utils/bind":166,"../utils/tracked-controls":178}],92:[function(e,t,n){var i=e("@tweenjs/tween.js"),r={alternate:"alternate",alternateReverse:"alternate-reverse",normal:"normal",reverse:"reverse"},a={linear:i.Easing.Linear.None,ease:i.Easing.Cubic.InOut,"ease-in":i.Easing.Cubic.In,"ease-out":i.Easing.Cubic.Out,"ease-in-out":i.Easing.Cubic.InOut,"ease-cubic":i.Easing.Cubic.In,"ease-in-cubic":i.Easing.Cubic.In,"ease-out-cubic":i.Easing.Cubic.Out,"ease-in-out-cubic":i.Easing.Cubic.InOut,"ease-quad":i.Easing.Quadratic.InOut,"ease-in-quad":i.Easing.Quadratic.In,"ease-out-quad":i.Easing.Quadratic.Out,"ease-in-out-quad":i.Easing.Quadratic.InOut,"ease-quart":i.Easing.Quartic.InOut,"ease-in-quart":i.Easing.Quartic.In,"ease-out-quart":i.Easing.Quartic.Out,"ease-in-out-quart":i.Easing.Quartic.InOut,"ease-quint":i.Easing.Quintic.InOut,"ease-in-quint":i.Easing.Quintic.In,"ease-out-quint":i.Easing.Quintic.Out,"ease-in-out-quint":i.Easing.Quintic.InOut,"ease-sine":i.Easing.Sinusoidal.InOut,"ease-in-sine":i.Easing.Sinusoidal.In,"ease-out-sine":i.Easing.Sinusoidal.Out,"ease-in-out-sine":i.Easing.Sinusoidal.InOut,"ease-expo":i.Easing.Exponential.InOut,"ease-in-expo":i.Easing.Exponential.In,"ease-out-expo":i.Easing.Exponential.Out,"ease-in-out-expo":i.Easing.Exponential.InOut,"ease-circ":i.Easing.Circular.InOut,"ease-in-circ":i.Easing.Circular.In,"ease-out-circ":i.Easing.Circular.Out,"ease-in-out-circ":i.Easing.Circular.InOut,"ease-elastic":i.Easing.Elastic.InOut,"ease-in-elastic":i.Easing.Elastic.In,"ease-out-elastic":i.Easing.Elastic.Out,"ease-in-out-elastic":i.Easing.Elastic.InOut,"ease-back":i.Easing.Back.InOut,"ease-in-back":i.Easing.Back.In,"ease-out-back":i.Easing.Back.Out,"ease-in-out-back":i.Easing.Back.InOut,"ease-bounce":i.Easing.Bounce.InOut,"ease-in-bounce":i.Easing.Bounce.In,"ease-out-bounce":i.Easing.Bounce.Out,"ease-in-out-bounce":i.Easing.Bounce.InOut},e={backwards:"backwards",both:"both",forwards:"forwards",none:"none"},i={attribute:"rotation",begin:"",end:"",delay:0,dur:1e3,easing:"ease",direction:r.normal,fill:e.forwards,from:void 0,repeat:0,to:void 0};t.exports.defaults=i,t.exports.directions=r,t.exports.easingFunctions=a,t.exports.fills=e,t.exports.repeats={indefinite:"indefinite"}},{"@tweenjs/tween.js":1}],93:[function(e,t,n){t.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",animation:e("./animation"),keyboardevent:e("./keyboardevent")}},{"./animation":92,"./keyboardevent":94}],94:[function(e,t,n){t.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],95:[function(e,t,n){var i=e("./a-node"),r=e("../constants/animation"),g=e("../utils/").coordinates,_=e("./schema").parseProperty,a=e("./a-register-element").registerElement,h=e("@tweenjs/tween.js"),y=e("../lib/three"),o=e("../utils/"),p=o.bind,v=o.entity.getComponentProperty,s=r.defaults,m=r.directions,f=r.easingFunctions,M=r.fills,b=r.repeats,A=g.isCoordinates,u=o.debug("core:a-animation:warn"),l=!1;function w(e){return o.extend({},e)}function x(t,n,e,i,r){var a,o,s,u,l,c,d,h=n.split("."),p={},m={};return 2===h.length?(c=h[0],d=h[1],(c=(c=t.components[c])&&c.schema)&&c[d]&&"color"===c[d].type?f():(u=h[0],s=h[1],(o=t.components[u])||(t.setAttribute(u,""),o=t.components[u]),a=o.schema,p[n]=void 0===e?v(t,n):e,p[n]=_(p[n],a[s]),m[n]=_(i,a[s]),l=function(e){n in e&&t.setAttribute(u,s,e[n])})):i&&A(i)?(p=e?g.parse(e):r,m=g.parse(i),l=function(e){t.setAttribute(n,e)}):-1!==["true","false"].indexOf(i)?(p[n]=void 0!==e&&E(e),p[n]=L(p[n]),m[n]=L(E(i)),l=function(e){t.setAttribute(n,!!e[n])}):isNaN(i)?f():(p[n]=void 0===e?parseFloat(t.getAttribute(n)):parseFloat(e),m[n]=parseFloat(i),l=function(e){t.setAttribute(n,e[n])}),{from:p,partialSetAttribute:l,to:m};function f(){p=new y.Color(e||t.getAttribute(n)),m=new y.Color(i),l=function(e){1<h.length&&t.setAttribute(h[0],h[1],T(e)),t.setAttribute(n,T(e))}}}function E(e){return"true"===e}function L(e){return e?1:0}function T(t){return"#"+["r","g","b"].map(function(e){return e=t[e],1===(e=(e=Math.floor(255*Math.min(Math.abs(e),1))).toString(16)).length?"0"+e:e}).join("")}t.exports.AAnimation=a("a-animation",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.bindMethods(),this.isRunning=!1,this.partialSetAttribute=function(){},this.tween=null,l||(u("<a-animation> has been deprecated and will be replaced by the animation component: https://www.npmjs.com/package/aframe-animation-component"),l=!0)}},attachedCallback:{value:function(){this.el=this.parentNode,this.handleMixinUpdate(),this.update(),this.load()}},attributeChangedCallback:{value:function(e,t,n){this.hasLoaded&&this.isRunning&&(this.stop(),this.handleMixinUpdate(),this.update())}},detachedCallback:{value:function(){this.isRunning&&this.stop()}},getTween:{value:function(){var e=this,t=e.data,n=e.el,i=t.attribute,r=parseInt(t.delay,10),a=v(n,i),o=e.getDirection(t.direction),s=f[t.easing],u=t.fill,l=t.repeat===b.indefinite?1/0:0,c=!1,d=x(n,i,t.from||e.initialValue,t.to,a),n=d.from,i=d.to;return e.partialSetAttribute=d.partialSetAttribute,void 0===e.count&&(e.count=l==1/0?0:parseInt(t.repeat,10)),isNaN(r)&&(r=0),e.initialValue=e.initialValue||w(a),l==1/0&&u===M.forwards&&-1!==[m.alternate,m.alternateReverse].indexOf(t.direction)&&(c=!0),o===m.reverse&&(o=i,i=w(n),n=w(o)),-1!==[M.backwards,M.both].indexOf(u)&&e.partialSetAttribute(n),new h.Tween(w(n)).to(i,t.dur).delay(r).easing(s).repeat(l).yoyo(c).onUpdate(function(){e.partialSetAttribute(this)}).onComplete(p(e.onCompleted,e))}},update:{value:function(){var e=this.data;"infinite"===e.repeat&&console.warn("Using 'infinite' as 'repeat' value is invalid.  Use 'indefinite' instead."),""===e.begin||isNaN(e.begin)||(console.warn("Using 'begin' to specify a delay is deprecated. Use 'delay' instead."),e.delay=e.begin,e.begin="");var t=e.begin,e=e.end;this.evt&&this.removeEventListeners(this.evt),this.evt={begin:t,end:e},this.addEventListeners(this.evt),""===t&&(this.stop(),this.start())},writable:window.debug},onCompleted:{value:function(){var e=this.data;if(this.isRunning=!1,-1!==[M.backwards,M.none].indexOf(e.fill)&&this.partialSetAttribute(this.initialValue),0===this.count)return this.count=void 0,void this.emit("animationend");this.isRunning=!1,this.count--,this.start()}},start:{value:function(){var e=this;this.el.hasLoaded?!this.isRunning&&this.el.isPlaying&&(this.tween=this.getTween(),this.isRunning=!0,this.tween.start(),this.emit("animationstart")):this.el.addEventListener("loaded",function(){e.start()})},writable:!0},stop:{value:function(){var e=this.tween;e&&(e.stop(),this.isRunning=!1,-1!==[M.backwards,M.none].indexOf(this.data.fill)&&this.partialSetAttribute(this.initialValue),this.emit("animationstop"))},writable:!0},getDirection:{value:function(e){return e===m.alternate?(this.prevDirection=this.prevDirection===m.normal?m.reverse:m.normal,this.prevDirection):e===m.alternateReverse?(this.prevDirection=this.prevDirection===m.reverse?m.normal:m.reverse,this.prevDirection):e}},bindMethods:{value:function(){this.start=p(this.start,this),this.stop=p(this.stop,this),this.onStateAdded=p(this.onStateAdded,this),this.onStateRemoved=p(this.onStateRemoved,this)}},addEventListeners:{value:function(e){var t=this.el,n=this;o.splitString(e.begin).forEach(function(e){t.addEventListener(e,n.start)}),o.splitString(e.end).forEach(function(e){t.addEventListener(e,n.stop)}),""===e.begin&&t.addEventListener("play",this.start),t.addEventListener("pause",this.stop),t.addEventListener("stateadded",this.onStateAdded),t.addEventListener("stateremoved",this.onStateRemoved)}},removeEventListeners:{value:function(e){var t=this.el,n=this.start,i=this.stop;o.splitString(e.begin).forEach(function(e){t.removeEventListener(e,n)}),o.splitString(e.end).forEach(function(e){t.removeEventListener(e,i)}),t.removeEventListener("stateadded",this.onStateAdded),t.removeEventListener("stateremoved",this.onStateRemoved)}},onStateAdded:{value:function(e){e.detail===this.data.begin&&this.start()},writable:!0},onStateRemoved:{value:function(e){e.detail===this.data.begin&&this.stop()},writable:!0},handleMixinUpdate:{value:function(){var e={},t=document.querySelector("#"+this.getAttribute("mixin")),n=t?o.getElData(t,s):{},t=o.getElData(this,s);o.extend(e,s,n,t),this.data=e}}})}),t.exports.getAnimationValues=x},{"../constants/animation":92,"../lib/three":150,"../utils/":172,"./a-node":100,"./a-register-element":101,"./schema":110,"@tweenjs/tween.js":1}],96:[function(e,t,n){var i=e("./a-node"),u=e("../utils/bind"),r=e("../utils/debug"),a=e("./a-register-element").registerElement,l=e("../lib/three"),o=new l.FileLoader,c=r("core:a-assets:warn");function d(e){var t=function(e){var t;if(e.hasAttribute("crossorigin"))return e;if(null!==(t=e.getAttribute("src"))){if(-1===t.indexOf("://"))return e;if(function(e){e=-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0];return e.substring(0,e.indexOf(":"))}(t)===window.location.host)return e}return c('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',t),e.crossOrigin="anonymous",e.cloneNode(!0)}(e);return t.tagName&&"video"===t.tagName.toLowerCase()&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function s(e){var t=e.lastIndexOf(".");if(0<=t){e=e.slice(t,e.length);if(".gltf"===e||".glb"===e)return"arraybuffer"}return"text"}t.exports=a("a-assets",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=o,this.timeout=null}},attachedCallback:{value:function(){var n,e,t,i,r,a,o=this,s=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(r=this.querySelectorAll("img"),n=0;n<r.length;n++)i=d(r[n]),s.push(new Promise(function(e,t){(l.Cache.files[r[n].getAttribute("src")]=i).onload=e,i.onerror=t}));for(t=this.querySelectorAll("audio, video"),n=0;n<t.length;n++)(e=d(t[n])).src||e.srcObject||c("Audio/video asset has neither `src` nor `srcObject` attributes."),s.push(function(i){return i.hasAttribute("autoplay")||"auto"===i.getAttribute("preload")?new Promise(function(n,e){return 4===i.readyState?n():i.error?e():(i.addEventListener("loadeddata",t,!1),i.addEventListener("progress",t,!1),void i.addEventListener("error",e,!1));function t(){for(var e=0,t=0;t<i.buffered.length;t++)e+=i.buffered.end(t)-i.buffered.start(t);e>=i.duration&&(l.Cache.files[i.getAttribute("src")]=i,n())}}):void 0}(e));Promise.all(s).then(u(this.load,this)),a=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){o.hasLoaded||(c("Asset loading timed out in ",a,"ms"),o.emit("timeout"),o.load())},a)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){i.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute("src")})}}})}),a("a-asset-item",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var t=this,e=this.getAttribute("src");o.setResponseType(this.getAttribute("response-type")||s(e)),o.load(e,function(e){t.data=e,setTimeout(function(){i.prototype.load.call(t)})},function(e){t.emit("progress",{loadedBytes:e.loaded,totalBytes:e.total,xhr:e})},function(e){t.emit("error",{xhr:e})})}}})}),t.exports.inferResponseType=s},{"../lib/three":150,"../utils/bind":166,"../utils/debug":168,"./a-node":100,"./a-register-element":101}],97:[function(e,t,n){var i=e("../utils/debug"),e=e("./a-register-element").registerElement,r=i("core:cubemap:warn");t.exports=e("a-cubemap",{prototype:Object.create(window.HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll("[src]"),n=[];if(6===t.length){for(e=0;e<t.length;e++)n.push(t[e].getAttribute("src"));return n}r("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":168,"./a-register-element":101}],98:[function(e,t,n){var r,a=e("./a-node"),o=e("./component").components,i=e("./a-register-element").registerElement,s=e("../lib/three"),u=e("../utils/"),l=u.debug("core:a-entity:debug"),c=u.debug("core:a-entity:warn"),d="__",h=["position","rotation","scale","visible"],e=Object.create(a.prototype,{createdCallback:{value:function(){this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new s.Group,(this.object3D.el=this).object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}},attributeChangedCallback:{value:function(e,t,n){var i=this.components[e];i&&i.justInitialized&&""===n?delete i.justInitialized:!i&&null===n||this.setEntityAttribute(e,t,n)}},attachedCallback:{value:function(){var e,t=this.sceneEl,n=this;this.addToParent(),this.isScene||(!t||!(e=t.querySelector("a-assets"))||e.hasLoaded?this.load():e.addEventListener("loaded",function(){n.load()}))}},detachedCallback:{value:function(){if(this.parentEl){for(var e in this.components)this.removeComponent(e);this.isScene||(this.removeFromParent(),a.prototype.detachedCallback.call(this),this.object3D.el=null)}}},handleMixinUpdate:{value:function(e){e?this.updateComponent(e,this.getDOMAttribute(e)):this.updateComponents()}},getObject3D:{value:function(e){return this.object3DMap[e]}},setObject3D:{value:function(e,t){var n,i=this;if(!(t instanceof s.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(e))&&this.object3D.remove(n),t.el=this,t.children.length&&t.traverse(function(e){e.el=i}),this.object3D.add(t),this.object3DMap[e]=t,this.emit("object3dset",{object:t,type:e})}},removeObject3D:{value:function(e){var t=this.getObject3D(e);t?(this.object3D.remove(t),delete this.object3DMap[e],this.emit("object3dremove",{type:e})):c("Tried to remove `Object3D` of type:",e,"which was not defined.")}},getOrCreateObject3D:{value:function(e,t){var n=this.getObject3D(e);return!n&&t&&(n=new t,this.setObject3D(e,n)),c("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),n}},add:{value:function(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(e.object3D),this.emit("child-attached",{el:e})}},addToParent:{value:function(){var e=this.parentEl=this.parentNode;e&&e.add&&!this.attachedToParent&&(e.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var e=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=this.parentNode=null,e.emit("child-detached",{el:this})}},load:{value:function(){var e=this;!this.hasLoaded&&this.parentEl&&a.prototype.load.call(this,function(){e.parentEl&&(e.updateComponents(),(e.isScene||e.parentEl.isPlaying)&&e.play())})},writable:window.debug},remove:{value:function(e){this.object3D.remove(e.object3D)}},getChildEntities:{value:function(){for(var e=this.children,t=[],n=0;n<e.length;n++){var i=e[n];i instanceof r&&t.push(i)}return t}},initComponent:{value:function(e,t,n){var i=u.split(e,d),r=i[1],a=i[0];if(o[a]&&(i=p(this,e)||void 0!==t,(i||n)&&!(e in this.components))){if(this.initComponentDependencies(a),r&&!o[a].multiple)throw new Error("Trying to initialize multiple components of type `"+a+"`. There can only be one component of this type per entity.");r=new o[a].Component(this,t,r),this.isPlaying&&r.play(),this.hasAttribute(e)||(r.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,e,"")),l("Component initialized: %s",e)}},writable:window.debug},initComponentDependencies:{value:function(e){var t,n,i=o[e];if(i&&(t=o[e].dependencies))for(n=0;n<t.length;n++)this.initComponent(t[n],window.HTMLElement.prototype.getAttribute.call(this,t[n])||void 0,!0)}},removeComponent:{value:function(n){var e=this.components[n];e&&(e.initialized?(e.pause(),e.remove(),delete this.components[n],this.emit("componentremoved",e.evtDetail)):this.addEventListener("componentinitialized",function e(t){t.detail.name===n&&(this.removeComponent(n),this.removeEventListener("componentinitialized",e))}))},writable:window.debug},updateComponents:{value:function(){var e,t,n,i,r,a=this.componentsToUpdate;if(this.hasLoaded){for(t=0;t<this.mixinEls.length;t++)for(n in this.mixinEls[t].componentCache)m(n)&&(a[n]=!0);if(this.getExtraComponents)for(n in e=this.getExtraComponents())m(n)&&(a[n]=!0);for(t=0;t<this.attributes.length;++t)n=this.attributes[t].name,-1===h.indexOf(n)&&m(n)&&(a[n]=!0);for(t=0;t<h.length;t++)n=h[t],this.hasAttribute(n)&&this.updateComponent(n,this.getDOMAttribute(n));for(n in a)i=this.getDOMAttribute(n),i=(r=e&&e[n])?r.constructor!==Object?i||r:u.extend(r,u.styleParser.parse(i||{})):i,this.updateComponent(n,i),delete a[n]}},writable:window.debug},updateComponent:{value:function(e,t,n){var i=this.components[e];if(i)return null!==t||p(this,e)?void i.updateProperties(t,n):void this.removeComponent(e);this.initComponent(e,t,!1)}},removeAttribute:{value:function(e,t){var n=this.components[e];n&&void 0===t&&this.removeComponent(e),n&&void 0!==t?n.resetProperty(t):("mixin"===e&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,e))}},play:{value:function(){var e,t,n;if(!this.isPlaying&&this.hasLoaded){for(n in this.isPlaying=!0,this.components)this.components[n].play();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].play();this.emit("play")}},writable:!0},pause:{value:function(){var e,t,n;if(this.isPlaying){for(n in this.isPlaying=!1,this.components)this.components[n].pause();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].pause();this.emit("pause")}},writable:!0},setEntityAttribute:{value:function(e,t,n){o[e]||this.components[e]?this.updateComponent(e,n):"mixin"===e&&n!==this.computedMixinStr&&this.mixinUpdate(n,t)}},mixinUpdate:{value:function(e,t){t=t||this.getAttribute("mixin"),this.updateMixins(e,t),this.updateComponents()}},setAttribute:{value:function(e,t,n){var i,r=e.indexOf(d),r=0<r?e.substring(0,r):e;if(!o[r])return"mixin"===e&&this.mixinUpdate(t),void a.prototype.setAttribute.call(this,e,t);!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),n=void 0!==n&&"string"==typeof t&&0<t.length&&"string"==typeof u.styleParser.parse(t)?((i={})[t]=n,!1):(i=t,!0===n),this.updateComponent(e,i,n),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM()},writable:window.debug},flushToDOM:{value:function(e){var t,n,i,r=this.components,a=this.children;for(i in r)r[i].flushToDOM();if(e)for(n=0;n<a.length;++n)(t=a[n]).flushToDOM&&t.flushToDOM(e)}},getAttribute:{value:function(e){var t,n,i;return"position"===e?this.object3D.position:"rotation"===e?(t=this,n=s.Math.radToDeg,i=t.object3D.rotation,(t=t.rotationObj).x=n(i.x),t.y=n(i.y),t.z=n(i.z),t):"scale"===e?this.object3D.scale:"visible"===e?this.object3D.visible:(t=this.components[e])?t.data:window.HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},getDOMAttribute:{value:function(e){var t=this.components[e];return t?t.attrValue:window.HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},addState:{value:function(e){this.is(e)||(this.states.push(e),this.emit("stateadded",e))}},removeState:{value:function(e){var t=this.states.indexOf(e);-1!==t&&(this.states.splice(t,1),this.emit("stateremoved",e))}},is:{value:function(e){return-1!==this.states.indexOf(e)}}});function p(e,t){return!(!e.components[t]||!e.components[t].attrValue)||function(e,t){var n,i=!1;for(n=0;n<t.length&&!(i=t[n].hasAttribute(e));++n);return i}(t,e.mixinEls)}function m(e){return-1!==e.indexOf(d)&&(e=u.split(e,d)[0]),!!o[e]}r=i("a-entity",{prototype:e}),t.exports=r},{"../lib/three":150,"../utils/":172,"./a-node":100,"./a-register-element":101,"./component":102}],99:[function(e,t,n){var i=e("./a-node"),r=e("./a-register-element").registerElement,a=e("./component").components,o=e("../utils");t.exports=r("a-mixin",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id"),this.isMixin=!0}},attributeChangedCallback:{value:function(e,t,n){this.cacheAttribute(e,n)}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(e,t){window.HTMLElement.prototype.setAttribute.call(this,e,t),this.cacheAttribute(e,t)}},cacheAttribute:{value:function(e,t){var n=o.split(e,"__")[0],n=a[n];n&&(void 0===t&&(t=window.HTMLElement.prototype.getAttribute.call(this,e)),this.componentCache[e]=n.parseAttrValueForCache(t))}},getAttribute:{value:function(e){return this.componentCache[e]||window.HTMLElement.prototype.getAttribute.call(this,e)}},cacheAttributes:{value:function(){for(var e,t=this.attributes,n=0;n<t.length;n++)e=t[n].name,this.cacheAttribute(e)}},updateEntities:{value:function(){var e,t,n;if(this.sceneEl)for(t=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),n=0;n<t.length;n++)(e=t[n]).hasLoaded&&!e.isMixin&&e.mixinUpdate(this.id)}}})})},{"../utils":172,"./a-node":100,"./a-register-element":101,"./component":102}],100:[function(e,t,n){var r,a,o,i=e("./a-register-element").registerElement,s=e("./a-register-element").isNode,u=e("../utils/"),l=u.debug("core:a-node:warn"),c={attributes:!0};t.exports=i("a-node",{prototype:Object.create(window.HTMLElement.prototype,{createdCallback:{value:function(){this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[],this.mixinObservers={}},writable:window.debug},attachedCallback:{value:function(){var e;this.sceneEl=this.closestScene(),this.sceneEl||l("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(e=this.getAttribute("mixin"))&&this.updateMixins(e)},writable:window.debug},attributeChangedCallback:{value:function(e,t,n){n!==this.computedMixinStr&&("mixin"!==e||this.isMixin||this.updateMixins(n,t))}},closestScene:{value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},closest:{value:function(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!t.call(n,e);)n=n.parentElement;return n}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(e,t){var n=this;this.hasLoaded||(t=t||s,t=this.getChildren().filter(t).map(function(t){return new Promise(function(e){if(t.hasLoaded)return e();t.addEventListener("loaded",e)})}),Promise.all(t).then(function(){n.hasLoaded=!0,e&&e(),n.emit("loaded",void 0,!1)}))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:(a=[],o=[],function(e,t){var n,i,r;for(a.length=0,o.length=0,i=e?u.split(e.trim(),/\s+/):a,r=t?u.split(t.trim(),/\s+/):o,n=0;n<r.length;n++)-1===i.indexOf(r[n])&&this.unregisterMixin(r[n]);for(this.computedMixinStr="",n=this.mixinEls.length=0;n<i.length;n++)this.registerMixin(document.getElementById(i[n]));this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr))})},registerMixin:{value:function(e){var t,n,i;if(e){if(i=e.getAttribute("mixin"))for(t=u.split(i.trim(),/\s+/),n=0;n<t.length;n++)this.registerMixin(document.getElementById(t[n]));this.computedMixinStr=this.computedMixinStr+" "+e.id,this.mixinEls.push(e),this.attachMixinListener(e)}}},setAttribute:{value:function(e,t){"mixin"===e&&this.updateMixins(t),window.HTMLElement.prototype.setAttribute.call(this,e,t)}},unregisterMixin:{value:function(e){for(var t=this.mixinEls,n=0;n<t.length;++n)if(e===t[n].id){t.splice(n,1);break}this.removeMixinListener(e)}},removeMixinListener:{value:function(e){var t=this.mixinObservers[e];t&&(t.disconnect(),this.mixinObservers[e]=null)}},attachMixinListener:{value:function(e){var t,n,i=this;e&&(t=e.id,this.mixinObservers[t]||((n=new MutationObserver(function(e){i.handleMixinUpdate(e[0].attributeName)})).observe(e,c),this.mixinObservers[t]=n))}},handleMixinUpdate:{value:function(){}},emit:{value:(r={},function(e,t,n,i){void 0===n&&(n=!0),r.bubbles=!!n,r.detail=t,i&&(r=u.extend({},i,r)),this.dispatchEvent(new CustomEvent(e,r))}),writable:window.debug}})})},{"../utils/":172,"./a-register-element":101}],101:[function(e,t,n){var s,u;e("document-register-element");var l=t.exports.knownTags={};function c(r,e,a,o){e.forEach(function(e){var t,n,i;t=r,n=a[e=e],i=o[e],n&&i&&n!==i&&(t[e]={value:function(){return i.apply(this,arguments),n.apply(this,arguments)},writable:window.debug})})}function d(n,i){Object.getOwnPropertyNames(n).forEach(function(e){var t;i[e]||(t=Object.getOwnPropertyDescriptor(n,e),i[e]={value:n[e],writable:t.writable})})}t.exports.isNode=function(e){return e.tagName.toLowerCase()in l||e.isNode},t.exports.registerElement=function(e,t){var n,i=Object.getPrototypeOf(t.prototype),r=t,a=s&&i===s.prototype,o=u&&i===u.prototype;return(a||o)&&(l[e.toLowerCase()]=!0),a&&(n=t.prototype,c(a={},["attachedCallback","attributeChangedCallback","createdCallback"],n,s.prototype),d(n,a),r=a,r={prototype:Object.create(i,r)}),o&&(o=t.prototype,c(t={},["attachedCallback","attributeChangedCallback","createdCallback"],o,s.prototype),c(t,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],o,u.prototype),d(o,t),r=t,r={prototype:Object.create(i,r)}),Object.getOwnPropertyNames(r.prototype).forEach(function(e){var t=r.prototype[e];"function"==typeof t&&(t.displayName=e)}),document.registerElement(e,r)},t.exports.wrapMethods=c,s=e("./a-node"),u=e("./a-entity")},{"./a-entity":98,"./a-node":100,"document-register-element":13}],102:[function(e,t,n){var o,i=e("./schema"),s=e("./scene/scenes"),u=e("./system"),m=e("../utils/"),l=t.exports.components={},f=i.parseProperties,g=i.parseProperty,c=i.process,_=i.isSingleProperty,r=i.stringifyProperties,a=i.stringifyProperty,d=m.styleParser,h=m.debug("core:component:warn"),p=document.currentScript,y=new RegExp("[A-Z]+"),v=t.exports.Component=function(e,t,n){var i=this;this.el=e,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,(this.el.components[this.attrName]=this).oldData=void 0,this.previousAttrValue=void 0,this.throttledEmitComponentChanged=m.throttle(function(){e.emit("componentchanged",i.evtDetail,!1)},200),this.updateProperties(t)};function M(e){var t,n,i={};for(n in e)t=e[n],i[n]=w(t)?m.clone(t):t;return i}function b(e,t,n){if(n&&(null===t||"object"!=typeof t))return t;var i,r=m.extend(e,t);for(i in r)r[i]&&r[i].constructor===Object&&(r[i]=m.clone(r[i]));return r}function A(e){return e.tick||e.tock}function w(e){return e&&(e.constructor===Object||e.constructor===Array)}v.prototype={schema:{},init:function(){},update:function(e){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var n=this.schema;return _(n)?g(e,n):f(d.parse(e),n,!0,this.name,t)},stringify:function(e){var t=this.schema;return"string"==typeof e?e:_(t)?a(e,t):(e=r(e,t),d.stringify(e))},updateCachedAttrValue:function(e,t){var n,i=this.parseAttrValueForCache(e),r=_(this.schema);if(void 0!==e)if(r||t)this.attrValue=i;else for(n in this.attrValue=this.attrValue?M(this.attrValue):{},i)this.attrValue[n]=i[n]},parseAttrValueForCache:function(e){var t;return"string"!=typeof e?e:(_(this.schema)?"string"==typeof(t=this.schema.parse(e))&&(t=e):t=d.parse(e),t)},flushToDOM:function(e){e=e?this.data:this.attrValue;e&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(e))},updateProperties:function(e,t){var n,i,r,a=this.el,o=this.oldData;if(a.hasLoaded){if(n=_(this.schema),r=null!==e&&"object"==typeof this.previousAttrValue&&e===this.previousAttrValue){for(i in this.attrValue)if(!(i in e)){r=!1;break}for(i in e)if(!(i in this.attrValue)){r=!1;break}}this.previousAttrValue=e,e=this.parseAttrValueForCache(e),this.updateCachedAttrValue(e,t),this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue,t,!1,r),this.initialized?m.deepEqual(this.oldData,this.data)||(this.oldData=b({},this.data,n),this.update(o),this.throttledEmitComponentChanged()):a.initializingComponents[this.name]||(a.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete a.initializingComponents[this.name],o=n&&"object"!=typeof g(void 0,this.schema)?void 0:{},this.oldData=b({},this.data,n),this.update(o),a.isPlaying&&this.play(),a.emit("componentinitialized",this.evtDetail,!1))}else this.updateCachedAttrValue(e)},resetProperty:function(e){if(_(this.schema))this.attrValue=void 0;else{if(!(e in this.attrValue))return;delete this.attrValue[e]}this.updateProperties(this.attrValue)},extendSchema:function(e){var t=m.extend({},l[this.name].schema);m.extend(t,e),this.schema=c(t),this.el.emit("schemachanged",{component:this.name})},buildData:function(e,t,n,i){var r,a,o,s,u,l,c=this.schema,d=_(c),h=this.el.mixinEls,p=e&&e.constructor===Array?e.length:null!=e;if(d)r=w(c.default)?m.clone(c.default):c.default;else for(r="object"==typeof(t=!t&&this.attrValue)?M(t):{},l=0,s=(o=Object.keys(c)).length;l<s;l++)a=c[o[l]].default,void 0===r[o[l]]&&(r[o[l]]=w(a)?m.clone(a):a);for(l=0;l<h.length;l++)(u=h[l].getAttribute(this.attrName))&&(r=b(r,u,d));if(p){if(d)return!0===i?e:g(e,c);r=b(r,e,d)}else{if(!0===i)return r;if(d)return g(r,c)}return!0===i?r:f(r,c,void 0,this.name,n)}},window.debug&&(o=t.exports.registrationOrderWarnings={}),t.exports.registerComponent=function(t,n){var e,i,r,a={};if(document.currentScript&&document.currentScript!==p&&s.forEach(function(e){e.hasLoaded||document.currentScript.compareDocumentPosition(e)!==Node.DOCUMENT_POSITION_FOLLOWING&&(h("The component `"+t+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(o[t]=!0))}),!0===y.test(t)&&h("The component name `"+t+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+t.toLowerCase()+"`"),-1!==t.indexOf("__"))throw new Error("The component name `"+t+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(n).forEach(function(e){a[e]={value:n[e],writable:!0}}),l[t])throw new Error("The component `"+t+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");return((e=function(e,t,n){v.call(this,e,t,n)}).prototype=Object.create(v.prototype,a)).name=t,(e.prototype.constructor=e).prototype.system=u&&u.systems[t],e.prototype.play=(i=e.prototype.play,function(){var e=this.el.sceneEl,t=this.el.isPlaying&&!this.isPlaying;this.initialized&&t&&(i.call(this),this.isPlaying=!0,A(this)&&e.addBehavior(this))}),e.prototype.pause=(r=e.prototype.pause,function(){var e=this.el.sceneEl;this.isPlaying&&(r.call(this),this.isPlaying=!1,A(this)&&e.removeBehavior(this))}),l[t]={Component:e,dependencies:e.prototype.dependencies,isSingleProp:_(e.prototype.schema),multiple:e.prototype.multiple,parse:e.prototype.parse,parseAttrValueForCache:e.prototype.parseAttrValueForCache,schema:m.extend(c(e.prototype.schema,e.prototype.name)),stringify:e.prototype.stringify,type:e.prototype.type},e}},{"../utils/":172,"./scene/scenes":108,"./schema":110,"./system":112}],103:[function(e,t,n){var r=e("./schema").process,a=t.exports.geometries={},o=t.exports.geometryNames=[],i=e("../lib/three"),s=t.exports.Geometry=function(){};s.prototype={schema:{},init:function(e){return this.geometry=new i.Geometry,this.geometry},update:function(e){}},t.exports.registerGeometry=function(e,t){var n,i={};if(Object.keys(t).forEach(function(e){i[e]={value:t[e],writable:!0}}),a[e])throw new Error("The geometry `"+e+"` has been already registered");return((n=function(){s.call(this)}).prototype=Object.create(s.prototype,i)).name=e,n.prototype.constructor=n,a[e]={Geometry:n,schema:r(n.prototype.schema)},o.push(e),n}},{"../lib/three":150,"./schema":110}],104:[function(e,t,n){var i=e("../utils/coordinates"),e=e("debug"),r=e("core:propertyTypes:warn"),a=e("core:propertyTypes:warn"),o=t.exports.propertyTypes={},s=/[,> .[\]:]/;function u(e,t,n,i){"type"in o?r("Property type "+e+" is already registered."):o[e]={default:t,parse:n||c,stringify:i||d}}function l(e){var t;return"string"!=typeof e?e:(t=e.match(/\url\((.+)\)/))?t[1]:"#"===e.charAt(0)?(t=document.getElementById(e.substring(1)))?"CANVAS"===t.tagName||"VIDEO"===t.tagName||"IMG"===t.tagName?t:t.getAttribute("src"):void a('"'+e+'" asset not found.'):e}function c(e){return e}function d(e){return null===e?"null":e.toString()}function h(e){return parseInt(e,10)}function p(e){return i.parse(e,this.default)}function m(e,t){if(null===e)return!0;if("object"!=typeof e)return!1;if(Object.keys(e).length!==t)return!1;var n=e.x,i=e.y,r=e.z,e=e.w;return"number"==typeof n&&"number"==typeof i&&(!(2<t&&"number"!=typeof r)&&!(3<t&&"number"!=typeof e))}u("audio","",l),u("array",[],function(e){if(Array.isArray(e))return e;return e&&"string"==typeof e?e.split(",").map(function(e){return e.trim()}):[]},function(e){return e.join(", ")}),u("asset","",l),u("boolean",!1,function(e){return"false"!==e&&!1!==e}),u("color","#FFF",c,d),u("int",0,h),u("number",0,function(e){return parseFloat(e,10)}),u("map","",l),u("model","",l),u("selector",null,function(e){return e?"string"==typeof e?"#"!==e[0]||s.test(e)?document.querySelector(e):document.getElementById(e.substring(1)):e:null},function(e){if(e.getAttribute)return"#"+e.getAttribute("id");return d(e)}),u("selectorAll",null,function(e){return e?"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e),0):e:null},function(e){if(e instanceof Array)return e.map(function(e){return"#"+e.getAttribute("id")}).join(", ");return d(e)}),u("src","",function(e){return a("`src` property type is deprecated. Use `asset` instead."),l(e)}),u("string","",c,d),u("time",0,h),u("vec2",{x:0,y:0},p,i.stringify),u("vec3",{x:0,y:0,z:0},p,i.stringify),u("vec4",{x:0,y:0,z:0,w:1},p,i.stringify),t.exports.registerPropertyType=u,t.exports.isValidDefaultValue=function(e,t){return("audio"!==e||"string"==typeof t)&&(!("array"===e&&!Array.isArray(t))&&(("asset"!==e||"string"==typeof t)&&(("boolean"!==e||"boolean"==typeof t)&&(("color"!==e||"string"==typeof t)&&(("int"!==e||"number"==typeof t)&&(("number"!==e||"number"==typeof t)&&(("map"!==e||"string"==typeof t)&&(("model"!==e||"string"==typeof t)&&(("selector"!==e||"string"==typeof t||null===t)&&(("selectorAll"!==e||"string"==typeof t||null===t)&&(("src"!==e||"string"==typeof t)&&(("string"!==e||"string"==typeof t)&&(("time"!==e||"number"==typeof t)&&("vec2"===e?m(t,2):"vec3"===e?m(t,3):"vec4"!==e||m(t,4)))))))))))))))},t.exports.isValidDefaultCoordinate=m},{"../utils/coordinates":167,debug:10}],105:[function(e,t,n){var i=e("./metaTags").inject,r=e("./wakelock"),a=e("../a-register-element"),o=e("./scenes"),s=e("../system").systems,u=e("../../lib/three"),l=e("@tweenjs/tween.js"),c=e("../../utils/"),d=e("../a-entity"),h=e("../a-node"),p=e("./postMessage"),m=c.bind,f=c.device.isIOS(),g=c.device.isMobile(),a=a.registerElement,_=c.debug("core:a-scene:warn");function y(e){var t;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||e.exitVR(),document.activeElement.blur(),document.body.focus()}(t=document.createElement("canvas")).classList.add("a-canvas"),t.dataset.aframeCanvas=!0,e.appendChild(t),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),t.addEventListener("touchmove",function(e){e.preventDefault()}),e.canvas=t,e.emit("render-target-loaded",{target:t}),setTimeout(m(e.resize,e),0)}t.exports.AScene=a("a-scene",{prototype:Object.create(d.prototype,{createdCallback:{value:function(){this.isIOS=f,this.isMobile=g,this.isScene=!0,this.object3D=new u.Scene;var i=this;this.object3D.onAfterRender=function(e,t,n){i.isPlaying&&i.tock(i.time,i.delta,n)},this.render=m(this.render,this),this.systems={},this.systemNames=[],this.time=this.delta=0,this.init()}},init:{value:function(){this.behaviors={tick:[],tock:[]},this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.renderTarget=null,y(this),this.setupRenderer(),this.resize(),this.addFullScreenStyles(),p(this),this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui","")},writable:!0},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-html"),document.body.classList.add("a-body"),this.classList.add("fullscreen")}},removeFullScreenStyles:{value:function(){document.documentElement.classList.remove("a-html"),document.body.classList.remove("a-body"),this.classList.remove("fullscreen")}},attachedCallback:{value:function(){var e,t=this;i(this),r(this),this.initSystems(),e=m(this.resize,this),window.addEventListener("load",e),window.addEventListener("resize",function(){this.isIOS?setTimeout(e,100):e()}),this.play(),o.push(this),this.onVRPresentChangeBound=m(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){t.enterVR()},this.exitVRBound=function(){t.exitVR()},this.exitVRTrueBound=function(){t.exitVR(!0)},this.pointerRestrictedBound=function(){t.pointerRestricted()},this.pointerUnrestrictedBound=function(){t.pointerUnrestricted()},window.addEventListener("vrdisplayactivate",this.enterVRBound),window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)},writable:window.debug},initSystems:{value:function(){Object.keys(s).forEach(m(this.initSystem,this))}},initSystem:{value:function(e){this.systems[e]||(this.systems[e]=new s[e](this),this.systemNames.push(e))}},detachedCallback:{value:function(){var e=o.indexOf(this);o.splice(e,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)}},addBehavior:{value:function(e){var t,n;for(n in this.behaviors)e[n]&&-1===(t=this.behaviors[n]).indexOf(e)&&t.push(e)}},getPointerLockElement:{value:function(){return document.pointerLockElement},writable:window.debug},checkHeadsetConnected:{value:c.device.checkHeadsetConnected,writable:window.debug},enterVR:{value:function(e){var t=this,n=t.renderer.vr;return this.is("vr-mode")?Promise.resolve("Already in VR."):e||!this.checkHeadsetConnected()&&!this.isMobile?(i(),Promise.resolve()):(e=c.device.getVRDisplay(),n.setDevice(e),n.enabled=!0,e.requestPresent([{source:this.canvas}]).then(i,function(e){throw e&&e.message?new Error("Failed to enter VR mode (`requestPresent`): "+e.message):new Error("Failed to enter VR mode (`requestPresent`).")}));function i(){var e;t.addState("vr-mode"),t.emit("enter-vr",{target:t}),t.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),t.addFullScreenStyles(),t.isMobile||t.checkHeadsetConnected()||((e=t.canvas).requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).apply(e),t.resize()}},writable:!0},exitVR:{value:function(e){var t=this;return this.is("vr-mode")?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),e||!this.checkHeadsetConnected()&&!this.isMobile?(n(),Promise.resolve()):(this.renderer.vr.enabled=!1,c.device.getVRDisplay().exitPresent().then(n,function(e){throw e&&e.message?new Error("Failed to exit VR mode (`exitPresent`): "+e.message):new Error("Failed to exit VR mode (`exitPresent`).")}))):Promise.resolve("Not in VR.");function n(){t.removeState("vr-mode"),t.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),t.hasAttribute("embedded")&&t.removeFullScreenStyles(),t.resize(),t.isIOS&&c.forceCanvasResizeSafariMobile(this.canvas),t.emit("exit-vr",{target:t})}},writable:!0},pointerRestricted:{value:function(){var e;this.canvas&&((e=this.getPointerLockElement())&&e!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock())}},pointerUnrestricted:{value:function(){var e=this.getPointerLockElement();e&&e===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},onVRPresentChange:{value:function(e){(e.display||e.detail.display).isPresenting?this.enterVR(!0):this.exitVR(!0)}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:d.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){_("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:d.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,n){var i=this.systems[e];if(i)return h.prototype.setAttribute.call(this,e,t),void i.updateProperties(t);d.prototype.setAttribute.call(this,e,t,n)}},removeBehavior:{value:function(e){var t,n,i;for(n in this.behaviors)e[n]&&-1!==(i=(t=this.behaviors[n]).indexOf(e))&&t.splice(i,1)}},resize:{value:function(){var e=this.camera,t=this.canvas,n=this.getAttribute("embedded")&&!this.is("vr-mode"),i=this.renderer.vr.getDevice(),i=this.renderer.vr.enabled&&i&&i.isPresenting;!e||!t||this.is("vr-mode")&&(this.isMobile||i)||(n=function(e,t){if(t)return{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth};return{height:window.innerHeight,width:window.innerWidth}}(t,n),e.aspect=n.width/n.height,e.updateProjectionMatrix(),this.renderer.setSize(n.width,n.height,!1))},writable:!0},setupRenderer:{value:function(){var e,t,n=this,i={canvas:this.canvas,antialias:!g,alpha:!0};this.hasAttribute("antialias")&&(i.antialias="true"===this.getAttribute("antialias")),this.hasAttribute("renderer")&&(t=this.getAttribute("renderer"),(t=c.styleParser.parse(t)).antialias&&"auto"!==t.antialias&&(i.antialias="true"===t.antialias)),(e=this.renderer=new u.WebGLRenderer(i)).setPixelRatio(window.devicePixelRatio),e.sortObjects=!1,this.addEventListener("camera-set-active",function(){e.vr.setPoseTarget(n.camera.el.object3D)})},writable:window.debug},play:{value:function(){var e=this;this.renderStarted?d.prototype.play.call(this):(this.addEventListener("loaded",function(){function e(e){e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark("render-started"),e.clock=new u.Clock,e.render(),e.renderStarted=!0,e.emit("renderstart")))}d.prototype.play.call(this),this.camera?e(this):this.addEventListener("camera-set-active",function(){e(this)})}),setTimeout(function(){d.prototype.load.call(e)}))}},updateComponent:{value:function(e){e in s||d.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(e,t){var n,i=this.systems;for(l.update(),n=0;n<this.behaviors.tick.length;n++)this.behaviors.tick[n].el.isPlaying&&this.behaviors.tick[n].tick(e,t);for(n=0;n<this.systemNames.length;n++)i[this.systemNames[n]].tick&&i[this.systemNames[n]].tick(e,t)}},tock:{value:function(e,t,n){for(var i=this.systems,r=0;r<this.behaviors.tock.length;r++)this.behaviors.tock[r].el.isPlaying&&this.behaviors.tock[r].tock(e,t,n);for(r=0;r<this.systemNames.length;r++)i[this.systemNames[r]].tock&&i[this.systemNames[r]].tock(e,t,n)}},render:{value:function(){this.delta=1e3*this.clock.getDelta();var e=this.renderer;this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta),e.animate(this.render),e.render(this.object3D,this.camera,this.renderTarget)},writable:!0}})}),t.exports.setupCanvas=y},{"../../lib/three":150,"../../utils/":172,"../a-entity":98,"../a-node":100,"../a-register-element":101,"../system":112,"./metaTags":106,"./postMessage":107,"./scenes":108,"./wakelock":109,"@tweenjs/tween.js":1}],106:[function(e,t,n){var i,o=e("../../constants/"),s=e("../../utils").extend,u=t.exports.MOBILE_HEAD_TAGS=[r({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui"}),r({name:"mobile-web-app-capable",content:"yes"}),r({name:"theme-color",content:"black"})],l=[r({name:"apple-mobile-web-app-capable",content:"yes"}),r({name:"apple-mobile-web-app-status-bar-style",content:"black"}),{tagName:"link",attributes:i={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},exists:function(){return document.querySelector('link[rel="'+i.rel+'"]')}}];function r(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}t.exports.inject=function(e){var t,n=document.head,i=n.querySelector("script"),r=[];return u.forEach(a),e.isIOS&&l.forEach(a),r;function a(e){e&&!e.exists()&&(t=function(e){if(!e||!e.tagName)return;var t=document.createElement(e.tagName);return t.setAttribute(o.AFRAME_INJECTED,""),s(t,e.attributes)}(e))&&(i?i.parentNode.insertBefore(t,i):n.appendChild(t),r.push(t))}}},{"../../constants/":93,"../../utils":172}],107:[function(e,t,n){var i=e("../../utils/bind"),r=e("../../utils/").isIframed;function a(e){if(e.data&&"vr"===e.data.type)switch(e.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}t.exports=function(e){r()&&window.addEventListener("message",i(a,e))}},{"../../utils/":172,"../../utils/bind":166}],108:[function(e,t,n){t.exports=[]},{}],109:[function(e,t,n){var i=e("../../../vendor/wakelock/wakelock");t.exports=function(e){var t;e.isMobile&&(t=e.wakelock=new i,e.addEventListener("enter-vr",function(){t.request()}),e.addEventListener("exit-vr",function(){t.release()}))}},{"../../../vendor/wakelock/wakelock":182}],110:[function(e,t,n){var l,i=e("../utils/"),e=e("./propertyTypes"),i=i.debug,o=e.isValidDefaultValue,s=e.propertyTypes,c=i("core:schema:warn");function r(e){return"type"in e?"string"==typeof e.type:"default"in e}function a(e,t){var n,i,r=e.default,a=e.type;return e.type?"bool"===e.type?a="boolean":"float"===e.type&&(a="number"):a=void 0===r||"boolean"!=typeof r&&"number"!=typeof r?Array.isArray(r)?"array":"string":typeof r,(i=s[a])||c("Unknown property type for component `"+t+"`: "+a),n=!!e.parse,e.parse=e.parse||i.parse,e.stringify=e.stringify||i.stringify,e.type=a,"default"in e?n||o(a,r)||c("Default value `"+r+"` does not match type `"+a+"` in component `"+t+"`"):e.default=i.default,e}function d(e,t){return null!=e&&""!==e||(e=t.default,Array.isArray(e)&&(e=e.slice())),t.parse(e,t.default)}function u(e,t){return"object"!=typeof e?e:(t&&null!==e?t:JSON).stringify(e)}t.exports.isSingleProperty=r,t.exports.process=function(e,t){if(r(e))return a(e,t);for(var n in e)e[n]=a(e[n],t);return e},t.exports.processPropertyDefinition=a,t.exports.parseProperties=(l=[],function(e,t,n,i,r){var a,o,s,u;for(o in l.length=0,n?e:t)l.push(o);if(null===e||"object"!=typeof e)return e;for(o in e)t[o]||r||c("Unknown property `"+o+"` for component/system `"+i+"`.");for(a=0;a<l.length;a++){if(s=t[o=l[a]],u=e[o],!t[o])return;e[o]=d(u,s)}return e}),t.exports.parseProperty=d,t.exports.stringifyProperties=function(e,t){var n,i,r,a,o={};for(n in e)i=t[n],"object"==typeof(a=r=e[n])&&(a=u(r,i),i||c("Unknown component property: "+n)),o[n]=a;return o},t.exports.stringifyProperty=u},{"../utils/":172,"./propertyTypes":104}],111:[function(e,t,n){var r=e("./schema").process,a=t.exports.shaders={},o=t.exports.shaderNames=[],i=e("../lib/three"),s=e("../utils"),u={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},l=t.exports.Shader=function(){};l.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new(this.raw?i.RawShaderMaterial:i.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,t){var n,i,r=this.schema,a={};for(n in r)r[n].is===t&&(i=u[r[n].type],a[n]={type:i,value:void 0});return a},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,t){var n,i,r=this.schema,a="uniform"===t?this.uniforms:this.attributes;for(n in e)r[n]&&r[n].is===t&&("map"!==r[n].type?(a[n].value=this.parseValue(r[n].type,e[n]),a[n].needsUpdate=!0):a[n]&&a[n].value!==e[n]&&(i="_texture_"+n,this.setMapOnTextureLoad(a,n,i),s.material.updateMapMaterialFromData(i,n,this,e)))},parseValue:function(e,t){var n;switch(e){case"vec2":return new i.Vector2(t.x,t.y);case"vec3":return new i.Vector3(t.x,t.y,t.z);case"vec4":return new i.Vector4(t.x,t.y,t.z,t.w);case"color":return n=new i.Color(t),new i.Vector3(n.r,n.g,n.b);case"map":return i.ImageUtils.loadTexture(t);default:return t}},setMapOnTextureLoad:function(e,t,n){var i=this;this.el.addEventListener("materialtextureloaded",function(){e[t].value=i.material[n],e[t].needsUpdate=!0})}},t.exports.registerShader=function(e,t){var n,i={};if(Object.keys(t).forEach(function(e){i[e]={value:t[e],writable:!0}}),a[e])throw new Error("The shader "+e+" has been already registered");return((n=function(){l.call(this)}).prototype=Object.create(l.prototype,i)).name=e,n.prototype.constructor=n,a[e]={Shader:n,schema:r(n.prototype.schema)},o.push(e),n}},{"../lib/three":150,"../utils":172,"./schema":110}],112:[function(e,t,n){var i=e("./component"),r=e("./schema"),o=e("../utils/"),a=r.parseProperties,s=r.parseProperty,u=r.process,l=r.isSingleProperty,c=o.styleParser,d=t.exports.systems={},h=t.exports.System=function(e){var t=i&&i.components[this.name];this.el=e,this.sceneEl=e,t&&(t.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};h.prototype={schema:{},init:function(){},update:function(e){},updateProperties:function(e){var t=this.data;Object.keys(r).length&&(this.buildData(e),this.update(t))},buildData:function(e){var t=this.schema;Object.keys(t).length&&(e=e||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),l(t)?this.data=s(e,t):this.data=a(c.parse(e)||{},t))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},t.exports.registerSystem=function(e,t){var n,i,r={},a=o.findAllScenes(document);if(Object.keys(t).forEach(function(e){r[e]={value:t[e],writable:!0}}),d[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(((i=function(e){h.call(this,e)}).prototype=Object.create(h.prototype,r)).name=e,(i.prototype.constructor=i).prototype.schema=o.extend(u(i.prototype.schema)),d[e]=i,n=0;n<a.length;n++)a[n].initSystem(e)}},{"../utils/":172,"./component":102,"./schema":110}],113:[function(e,t,n){e("./pivot")},{"./pivot":114}],114:[function(e,t,n){var i=e("../../core/component").registerComponent,a=e("../../lib/three"),o=new a.Vector3,s=new a.Vector3;i("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var e=this.data,t=this.el,n=t.object3D.parent,i=t.object3D,r=new a.Group;o.copy(i.position),s.copy(i.rotation),n.remove(i),r.add(i),n.add(r),t.object3D=r,i.position.set(-1*e.x,-1*e.y,-1*e.z),r.position.set(e.x+o.x,e.y+o.y,e.z+o.z),r.rotation.copy(i.rotation),i.rotation.set(0,0,0)}})},{"../../core/component":102,"../../lib/three":150}],115:[function(e,t,n){var i=e("../../core/component").components,r=e("../../core/shader").shaders,a=e("../../utils/"),o={};function s(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(t="material-fog"),"visible"===e&&(t="material-visible"),o[t]="material."+e}Object.keys(i.material.schema).forEach(s),Object.keys(r.standard.schema).forEach(s),t.exports=function(){return{defaultComponents:{material:{}},mappings:a.extend({},o)}}},{"../../core/component":102,"../../core/shader":111,"../../utils/":172}],116:[function(e,t,n){e("./primitives/a-camera"),e("./primitives/a-collada-model"),e("./primitives/a-cursor"),e("./primitives/a-curvedimage"),e("./primitives/a-gltf-model"),e("./primitives/a-image"),e("./primitives/a-light"),e("./primitives/a-link"),e("./primitives/a-obj-model"),e("./primitives/a-sky"),e("./primitives/a-sound"),e("./primitives/a-text"),e("./primitives/a-video"),e("./primitives/a-videosphere"),e("./primitives/meshPrimitives")},{"./primitives/a-camera":118,"./primitives/a-collada-model":119,"./primitives/a-cursor":120,"./primitives/a-curvedimage":121,"./primitives/a-gltf-model":122,"./primitives/a-image":123,"./primitives/a-light":124,"./primitives/a-link":125,"./primitives/a-obj-model":126,"./primitives/a-sky":127,"./primitives/a-sound":128,"./primitives/a-text":129,"./primitives/a-video":130,"./primitives/a-videosphere":131,"./primitives/meshPrimitives":132}],117:[function(e,n,t){var i=e("../../core/a-entity"),a=e("../../core/component").components,r=e("../../core/a-register-element").registerElement,l=e("../../utils/"),e=l.debug,o=l.entity.setComponentProperty,s=e("extras:primitives:debug"),u=e("extras:primitives:warn"),c=n.exports.primitives={};n.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),s("Registering <%s>",e),t.defaultAttributes&&u("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=r(e,{prototype:Object.create(i.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var n=this.mappings,i=this;Object.keys(n).forEach(function(e){var t;e!==e.toLowerCase()&&u("Mapping keys should be specified in lower case. The mapping key "+e+" may not be recognized"),a[e]&&(t=n[e].replace(".","-"),n[t]=n[e],delete n[e],console.warn("The primitive "+i.tagName.toLowerCase()+" has a mapping collision. The attribute "+e+" has the same name as a registered component and has been renamed to "+t))})}},getExtraComponents:{value:function(){var e,t,n,i=this,r=l.clone(this.defaultComponentsFromPrimitive),a=this.getAttribute("mixin");for(a&&(a=a.trim().split(" ")).forEach(function(e){var t=i.sceneEl.querySelector("#"+e).componentCache;Object.keys(t).forEach(function(e){r[e]=function(e,t){if(o(e))return s(t);if(o(t))return s(e);if(u(e)&&u(t))return l.extendDeep(e,t);return s(t)}(r[e],t[e])})}),t=0;t<this.attributes.length;t++)e=this.attributes[t],(n=this.mappings[e.name])&&((n=l.entity.getComponentPropertyPath(n)).constructor===Array?(r[n[0]]=r[n[0]]||{},r[n[0]][n[1]]=e.value.trim()):r[n]=e.value.trim());return r;function o(e){return void 0===e}function s(e){return u(e)?l.extendDeep({},e):e}function u(e){return null!==e&&e.constructor===Object}}},attributeChangedCallback:{value:function(e,t,n){var i=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&i&&o(this,i,n)}}})});return c[e]=n},n.exports.definePrimitive=function(e,t,r){r=r||{},Object.keys(t).map(function(e){var n,i;i=r,e=a[n=e].schema,Object.keys(e).map(function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==i[t]&&(t=n+"-"+e),i[t]=n+"."+e})}),n.exports.registerPrimitive(e,l.extendDeep({},null,{defaultComponents:t,mappings:r}))}},{"../../core/a-entity":98,"../../core/a-register-element":101,"../../core/component":102,"../../utils/":172}],118:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{y:1.6}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},{"../primitives":117}],119:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-collada-model",{mappings:{src:"collada-model"}})},{"../primitives":117}],120:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-cursor",e("../../../utils/").extendDeep({},i(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],121:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-curvedimage",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],122:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":117}],123:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-image",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],124:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":117}],125:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-link",{defaultComponents:{},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},{"../primitives":117}],126:[function(e,t,n){var i=e("../getMeshMixin")();(0,e("../primitives").registerPrimitive)("a-obj-model",e("../../../utils/").extendDeep({},i,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],127:[function(e,t,n){var i=e("../getMeshMixin"),r=e("../primitives").registerPrimitive,a=e("../../../utils/"),e=e("./meshPrimitives");r("a-sky",a.extendDeep({},i(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:a.extendDeep({},e["a-sphere"].prototype.mappings)}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117,"./meshPrimitives":132}],128:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":117}],129:[function(e,t,n){(0,e("../primitives").definePrimitive)("a-text",{text:{anchor:"align",width:5}})},{"../primitives":117}],130:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-video",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],131:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-videosphere",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],132:[function(e,t,n){var r=e("../getMeshMixin"),a=e("../../../core/geometry").geometries,i=e("../../../core/geometry").geometryNames,o=e("../primitives").registerPrimitive,s=e("../../../utils/"),u=t.exports={};function l(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}i.forEach(function(e){var t=a[e],n=l(e),i={};Object.keys(t.schema).forEach(function(e){i[l(e)]="geometry."+e});n="a-"+n,e=o(n,s.extendDeep({},r(),{defaultComponents:{geometry:{primitive:e}},mappings:i}));u[n]=e})},{"../../../core/geometry":103,"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],133:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new r.BoxGeometry(e.width,e.height,e.depth,e.segmentsWidth,e.segmentsHeight,e.segmentsDepth)}})},{"../core/geometry":103,"../lib/three":150}],134:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.CircleGeometry(e.radius,e.segments,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],135:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],136:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],137:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.DodecahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],138:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.IcosahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],139:[function(e,t,n){e("./box.js"),e("./circle.js"),e("./cone.js"),e("./cylinder.js"),e("./dodecahedron.js"),e("./icosahedron.js"),e("./octahedron.js"),e("./plane.js"),e("./ring.js"),e("./sphere.js"),e("./tetrahedron.js"),e("./torus.js"),e("./torusKnot.js"),e("./triangle.js")},{"./box.js":133,"./circle.js":134,"./cone.js":135,"./cylinder.js":136,"./dodecahedron.js":137,"./icosahedron.js":138,"./octahedron.js":140,"./plane.js":141,"./ring.js":142,"./sphere.js":143,"./tetrahedron.js":144,"./torus.js":145,"./torusKnot.js":146,"./triangle.js":147}],140:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.OctahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],141:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new r.PlaneGeometry(e.width,e.height,e.segmentsWidth,e.segmentsHeight)}})},{"../core/geometry":103,"../lib/three":150}],142:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],143:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new r.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,a(e.phiStart),a(e.phiLength),a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],144:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.TetrahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],145:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new r.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,a(e.arc))}})},{"../core/geometry":103,"../lib/three":150}],146:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new r.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}})},{"../core/geometry":103,"../lib/three":150}],147:[function(e,t,n){var i=e("../core/geometry").registerGeometry,o=e("../lib/three"),s=new o.Quaternion,u=new o.Vector3(0,0,1),l=new o.Vector2,c=new o.Vector2,d=new o.Vector2;i("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(e){var t,n,i,r,a=new o.Triangle;a.a.set(e.vertexA.x,e.vertexA.y,e.vertexA.z),a.b.set(e.vertexB.x,e.vertexB.y,e.vertexB.z),a.c.set(e.vertexC.x,e.vertexC.y,e.vertexC.z),t=a.normal(),s.setFromUnitVectors(t,u),n=a.a.clone().applyQuaternion(s),i=a.b.clone().applyQuaternion(s),r=a.c.clone().applyQuaternion(s),l.set(Math.min(n.x,i.x,r.x),Math.min(n.y,i.y,r.y)),c.set(Math.max(n.x,i.x,r.x),Math.max(n.y,i.y,r.y)),d.set(0,0).subVectors(c,l),n=(new o.Vector2).subVectors(n,l).divide(d),i=(new o.Vector2).subVectors(i,l).divide(d),r=(new o.Vector2).subVectors(r,l).divide(d),(e=this.geometry=new o.Geometry).vertices.push(a.a),e.vertices.push(a.b),e.vertices.push(a.c),e.faces.push(new o.Face3(0,1,2,t)),e.faceVertexUvs[0]=[[n,i,r]]}})},{"../core/geometry":103,"../lib/three":150}],148:[function(e,t,n){window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices;var i=e("webvr-polyfill");window.webvrpolyfill=new i({BUFFER_SCALE:1,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0});var r=e("./utils/"),a=r.debug,o=a("A-Frame:error"),s=a("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&s("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),"file:"===window.location.protocol&&o("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),window.Promise=window.Promise||e("promise-polyfill"),r.device.isIOSOlderThan10(window.navigator.userAgent)&&(window.WebVRConfig.BUFFER_SCALE=1/window.devicePixelRatio),e("present"),r.device.isBrowserEnvironment&&(e("./style/aframe.css"),e("./style/rStats.css"));var u=e("./core/scene/a-scene").AScene,l=e("./core/component").components,c=e("./core/component").registerComponent,d=e("./core/geometry").registerGeometry,h=e("./extras/primitives/primitives").registerPrimitive,p=e("./core/shader").registerShader,m=e("./core/system").registerSystem,f=e("./core/shader").shaders,g=e("./core/system").systems,_=window.THREE=e("./lib/three"),i=window.TWEEN=e("@tweenjs/tween.js"),a=e("../package");e("./components/index"),e("./geometries/index"),e("./shaders/index"),e("./systems/index");s=e("./core/a-node"),o=e("./core/a-entity");e("./core/a-animation"),e("./core/a-assets"),e("./core/a-cubemap"),e("./core/a-mixin"),e("./extras/components/"),e("./extras/primitives/"),console.log("A-Frame Version: 0.8.2 (Date 2018-04-15, Commit #b20527f)"),console.log("three Version:",a.dependencies.three),console.log("WebVR Polyfill Version:",a.dependencies["webvr-polyfill"]),t.exports=window.AFRAME={AComponent:e("./core/component").Component,AEntity:o,ANode:s,AScene:u,components:l,geometries:e("./core/geometry").geometries,registerComponent:c,registerElement:e("./core/a-register-element").registerElement,registerGeometry:d,registerPrimitive:h,registerShader:p,registerSystem:m,primitives:{getMeshMixin:e("./extras/primitives/getMeshMixin"),primitives:e("./extras/primitives/primitives").primitives},scenes:e("./core/scene/scenes"),schema:e("./core/schema"),shaders:f,systems:g,THREE:_,TWEEN:i,utils:r,version:a.version}},{"../package":51,"./components/index":60,"./core/a-animation":95,"./core/a-assets":96,"./core/a-cubemap":97,"./core/a-entity":98,"./core/a-mixin":99,"./core/a-node":100,"./core/a-register-element":101,"./core/component":102,"./core/geometry":103,"./core/scene/a-scene":105,"./core/scene/scenes":108,"./core/schema":110,"./core/shader":111,"./core/system":112,"./extras/components/":113,"./extras/primitives/":116,"./extras/primitives/getMeshMixin":115,"./extras/primitives/primitives":117,"./geometries/index":139,"./lib/three":150,"./shaders/index":152,"./style/aframe.css":157,"./style/rStats.css":158,"./systems/index":161,"./utils/":172,"@tweenjs/tween.js":1,present:32,"promise-polyfill":33,"webvr-polyfill":46}],149:[function(e,t,n){window.aframeStats=function(e){var t=null,n=e;return{update:function(){var e;t("te").set((e=n.querySelectorAll("*"),Array.prototype.slice.call(e).filter(function(e){return e.isEntity}),e.length)),window.performance.getEntriesByName&&t("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(e){t=e},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"==typeof t&&(t.exports={aframeStats:window.aframeStats})},{}],150:[function(t,n,e){(function(e){e=e.THREE=t("three");e.TextureLoader&&(e.TextureLoader.prototype.crossOrigin="anonymous"),e.ImageLoader&&(e.ImageLoader.prototype.crossOrigin="anonymous"),e.Cache&&(e.Cache.enabled=!0),t("three/examples/js/loaders/GLTFLoader"),t("three/examples/js/loaders/OBJLoader"),t("three/examples/js/loaders/MTLLoader"),t("three/examples/js/loaders/ColladaLoader"),e.ColladaLoader.prototype.crossOrigin="anonymous",e.GLTFLoader.prototype.crossOrigin="anonymous",e.MTLLoader.prototype.crossOrigin="anonymous",e.OBJLoader.prototype.crossOrigin="anonymous",n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{three:40,"three/examples/js/loaders/ColladaLoader":41,"three/examples/js/loaders/GLTFLoader":42,"three/examples/js/loaders/MTLLoader":43,"three/examples/js/loaders/OBJLoader":44}],151:[function(e,t,n){var i=e("../core/shader").registerShader,r=e("../lib/three"),a=e("../utils/");function o(e){return{fog:e.fog,color:new r.Color(e.color),wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth}}t.exports.Shader=i("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.textureSrc=null,this.material=new r.MeshBasicMaterial(o(e)),a.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),a.material.updateMap(this,e)},updateMaterial:function(t){var n=this.material;t=o(t),Object.keys(t).forEach(function(e){n[e]=t[e]})}})},{"../core/shader":111,"../lib/three":150,"../utils/":172}],152:[function(e,t,n){e("./flat"),e("./standard"),e("./sdf"),e("./msdf"),e("./ios10hls")},{"./flat":151,"./ios10hls":153,"./msdf":154,"./sdf":155,"./standard":156}],153:[function(e,t,n){e=e("../core/shader").registerShader;t.exports.Shader=e("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")})},{"../core/shader":111}],154:[function(e,t,n){e=e("../core/shader").registerShader;t.exports.Shader=e("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","uniform bool negate;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","void main() {","  vec3 sample = texture2D(map, vUV).rgb;","  if (negate) {","    sample = 1.0 - sample;","  }","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  if (isBigEnough <= BIG_ENOUGH && alpha < alphaTest) { discard; return; }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n")})},{"../core/shader":111}],155:[function(e,t,n){e=e("../core/shader").registerShader;t.exports.Shader=e("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#else","float aastep(float value, float afwidth) {","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","#endif","void main() {","#ifdef GL_OES_standard_derivatives","  vec2 uv = vUV;","  vec4 texColor = texture2D(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  else if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture2D(map, box.xy).a, width)","      + contour(texture2D(map, box.zw).a, width)","      + contour(texture2D(map, box.xw).a, width)","      + contour(texture2D(map, box.zy).a, width)","    )) / 3.0;","  }","  if (isBigEnough <= BIG_ENOUGH && alpha < alphaTest) { discard; return; }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","#else","  vec4 texColor = texture2D(map, vUV);","  float value = texColor.a;","  float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  float alpha = aastep(value, afwidth);","  float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","  if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","  alpha = alpha * ratio + (1.0 - ratio) * value;","  if (ratio < 1.0)","    if (alpha <= DISCARD_ALPHA) { discard; return; }","#endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":111}],156:[function(e,t,n){var i=e("../core/shader").registerShader,a=e("../lib/three"),o=e("../utils/"),s=new a.CubeTextureLoader,u={};function r(e){var t={color:new a.Color(e.color),emissive:new a.Color(e.emissive),emissiveIntensity:e.emissiveIntensity,fog:e.fog,metalness:e.metalness,roughness:e.roughness,wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth};return e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}t.exports.Shader=i("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.material=new a.MeshStandardMaterial(r(e)),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&o.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&o.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&o.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&o.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},updateMaterial:function(t){var n=this.material;t=r(t),Object.keys(t).forEach(function(e){n[e]=t[e]})},updateEnvMap:function(e){var n=this,i=this.material,r=e.envMap,e=e.sphericalEnvMap;if(!r&&!e||this.isLoadingEnvMap)return i.envMap=null,void(i.needsUpdate=!0);this.isLoadingEnvMap=!0,e?this.el.sceneEl.systems.material.loadTexture(e,{src:e},function(e){n.isLoadingEnvMap=!1,e.mapping=a.SphericalReflectionMapping,i.envMap=e,o.material.handleTextureEvents(n.el,e),i.needsUpdate=!0}):u[r]?u[r].then(function(e){n.isLoadingEnvMap=!1,i.envMap=e,o.material.handleTextureEvents(n.el,e),i.needsUpdate=!0}):u[r]=new Promise(function(t){o.srcLoader.validateCubemapSrc(r,function(e){s.load(e,function(e){n.isLoadingEnvMap=!1,i.envMap=e,o.material.handleTextureEvents(n.el,e),t(e)})})})}})},{"../core/shader":111,"../lib/three":150,"../utils/":172}],157:[function(e,t,n){var i=".a-html{bottom:0;left:0;position:fixed;right:0;top:0}.a-body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.a-canvas.a-grab-cursor:active,.a-grabbing{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}a-scene.fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;position:fixed!important}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:204px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;position:absolute;right:20px;bottom:20px}.a-enter-vr.embedded{right:5px;bottom:5px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;cursor:pointer;min-width:50px;min-height:30px;padding-right:5%;padding-top:4%;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}";e("browserify-css").createStyle(i,{href:"src\\style\\aframe.css"}),t.exports=i},{"browserify-css":5}],158:[function(e,t,n){var i=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";e("browserify-css").createStyle(i,{href:"src\\style\\rStats.css"}),t.exports=i},{"browserify-css":5}],159:[function(e,t,n){var i=e("../utils/bind"),r=e("../constants/"),e=e("../core/system").registerSystem,l="data-aframe-default-camera";t.exports.System=e("camera",{init:function(){this.activeCameraEl=null,this.sceneEl.addEventListener("loaded",i(this.setupDefaultCamera,this))},setupDefaultCamera:function(){var e,t=this.sceneEl;!t.camera||t.camera.el.getAttribute("camera").spectator?((e=document.createElement("a-entity")).setAttribute("camera",{active:!0}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(r.AFRAME_INJECTED,""),e.setAttribute("position",{x:0,y:r.DEFAULT_CAMERA_HEIGHT,z:0}),t.appendChild(e),t.addEventListener("enter-vr",this.removeDefaultOffset),t.addEventListener("exit-vr",this.addDefaultOffset),t.emit("camera-ready",{cameraEl:e})):t.emit("camera-ready",{cameraEl:t.camera.el})},disableActiveCamera:function(){var e=this.sceneEl.querySelectorAll("[camera]");e[e.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,n,i,r=this.activeCameraEl,a=this.sceneEl,o=e.getObject3D("camera");if(o&&e!==this.activeCameraEl){var s,u=a.querySelector("["+l+"]");for(e===(u&&u.querySelector("[camera]"))||(u=a).camera&&(s=u.querySelector("["+l+"]"))&&u.removeChild(s),this.activeCameraEl=e,this.activeCameraEl.play(),a.camera=o,r&&r.setAttribute("camera","active",!1),n=a.querySelectorAll("[camera]"),i=0;i<n.length;i++)(t=n[i]).isEntity&&e!==t&&(t.setAttribute("camera","active",!1),t.pause());a.emit("camera-set-active",{cameraEl:e})}},setSpectatorCamera:function(e){var t=this.spectatorCameraEl,n=this.sceneEl;e.getObject3D("camera")&&e!==this.spectatorCameraEl&&(t&&t.setAttribute("camera","spectator",!1),(t=this.spectatorCameraEl=e).setAttribute("camera","active",!1),t.play(),n.emit("camera-set-spectator",{cameraEl:e}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},tock:function(){var e,t=this.sceneEl,n=t.renderer.vr.enabled;this.spectatorCameraEl&&!t.isMobile&&(e=this.spectatorCameraEl.components.camera.camera,t.renderer.vr.enabled=!1,t.renderer.render(t.object3D,e),t.renderer.vr.enabled=n)}})},{"../constants/":93,"../core/system":112,"../utils/bind":166}],160:[function(e,t,n){var r=e("../core/geometry").geometries,i=e("../core/system").registerSystem,a=e("../lib/three");function o(e){var t=e.primitive,n=r[t]&&r[t].Geometry,i=new n;if(!n)throw new Error("Unknown geometry `"+t+"`");return i.init(e),i=i.geometry,(e=e.buffer)?((e=(new a.BufferGeometry).fromGeometry(i)).metadata={type:i.type,parameters:i.parameters||{}},i.dispose(),e):i}t.exports.System=i("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,n,i,r,a=this.cache;return e.skipCache?o(e):(t=a[n=this.hash(e)],(i=this.cacheCount)[r=n]=void 0===i[r]?1:i[r]+1,t||(t=o(e),a[n]=t))},unuseGeometry:function(e){var t=this.cache,n=this.cacheCount;e.skipCache||t[e=this.hash(e)]&&(n[e]--,0<n[e]||(t[e].dispose(),delete t[e],delete n[e]))},hash:function(e){return JSON.stringify(e)}})},{"../core/geometry":103,"../core/system":112,"../lib/three":150}],161:[function(e,t,n){e("./camera"),e("./geometry"),e("./light"),e("./material"),e("./shadow"),e("./tracked-controls")},{"./camera":159,"./geometry":160,"./light":162,"./material":163,"./shadow":164,"./tracked-controls":165}],162:[function(e,t,n){var i=e("../core/system").registerSystem,r=e("../utils/bind"),a=e("../constants/"),o="data-aframe-default-light";t.exports.System=i("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",r(this.setupDefaultLights,this))},registerLight:function(e){e.hasAttribute(o)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var e,t=this.sceneEl;if(this.defaultLights){e=document.querySelectorAll("["+o+"]");for(var n=0;n<e.length;n++)t.removeChild(e[n]);this.defaultLights=!1}},setupDefaultLights:function(){var e,t=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((e=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),e.setAttribute(o,""),e.setAttribute(a.AFRAME_INJECTED,""),t.appendChild(e),(e=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),e.setAttribute("position",{x:-.5,y:1,z:1}),e.setAttribute(o,""),e.setAttribute(a.AFRAME_INJECTED,""),t.appendChild(e),this.defaultLights=!0)}})},{"../constants/":93,"../core/system":112,"../utils/bind":166}],163:[function(e,t,n){var i=e("../core/system").registerSystem,c=e("../lib/three"),r=e("../utils/"),d=e("../utils/material").isHLS,a=r.bind,e=r.debug,s=e("components:texture:error"),u=new c.TextureLoader,h=e("components:texture:warn");function p(e,t){var n=t.offset||{x:0,y:0},i=t.repeat||{x:1,y:1};!t.npot&&1||(e.wrapS=c.ClampToEdgeWrapping,e.wrapT=c.ClampToEdgeWrapping,e.magFilter=c.LinearFilter,e.minFilter=c.LinearFilter),1===i.x&&1===i.y||(e.wrapS=c.RepeatWrapping,e.wrapT=c.RepeatWrapping,e.repeat.set(i.x,i.y)),0===n.x&&0===n.y||e.offset.set(n.x,n.y)}u.setCrossOrigin("anonymous"),t.exports.System=i("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",a(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,n){var i=this;if("CANVAS"!==e.tagName)return"VIDEO"===e.tagName?(e.src||e.srcObject||e.childElementCount||h("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(e,t,n)):void r.srcLoader.validateSrc(e,function(e){i.loadImage(e,t,n)},function(e){i.loadVideo(e,t,n)});this.loadCanvas(e,t,n)},loadImage:function(e,t,n){var i,r,a=this.hash(t),o=this.textureCache;o[a]||(o[a]=(i=e,r=t,new Promise(function(t,e){function n(e){p(e,r),e.needsUpdate=!0,t(e)}if("string"!=typeof i)return void n(new c.Texture(i));u.load(i,n,function(){},function(e){s("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)})}))),o[a].then(n)},loadCanvas:function(e,t,n){e.readyState=2,e.HAVE_CURRENT_DATA=2,this.loadVideo(e,t,n)},loadVideo:function(e,t,n){var i,r,a,o,s,u=this.textureCache;function l(e){e.texture.needsUpdate=!0,n(e.texture,e.videoEl)}if("string"!=typeof e){if(r=e,u[i=this.hashVideo(t,r)])return void u[i].then(l);(o=r).autoplay=o.hasAttribute("autoplay")&&"false"!==o.getAttribute("autoplay"),o.controls=o.hasAttribute("controls")&&"false"!==o.getAttribute("controls"),"false"===o.getAttribute("loop")&&o.removeAttribute("loop"),"false"===o.getAttribute("preload")&&(o.preload="none"),o.crossOrigin=o.crossOrigin||"anonymous",o.setAttribute("playsinline",""),!void o.setAttribute("webkit-playsinline","")}r=r||(a=e,o=t.width,e=t.height,(s=document.createElement("video")).width=o,s.height=e,s.setAttribute("playsinline",""),s.setAttribute("webkit-playsinline",""),s.autoplay=!0,s.loop=!0,s.crossOrigin="anonymous",s.addEventListener("error",function(){h("`$s` is not a valid video",a)},!0),s.src=a,s),u[i=this.hashVideo(t,r)]?u[i].then(l):((s=new c.VideoTexture(r)).minFilter=c.LinearFilter,p(s,t),this.sceneEl.isIOS&&d(r.src||r.getAttribute("src"),r.type||r.getAttribute("type"))&&(s.format=c.RGBAFormat,s.needsCorrectionBGRA=!0,s.flipY=!1,s.needsCorrectionFlipY=!0),r={texture:s,videoEl:r},u[i]=Promise.resolve(r),l(r))},hash:function(e){return e.src.tagName&&((e=r.extendDeep({},e)).src=e.src.src),JSON.stringify(e)},hashVideo:function(e,t){var n,i,r,a=t.getAttribute("id");if(a)return a;for(i="",r=e||{},n=0;n<t.attributes.length;n++)r[t.attributes[n].name]=t.attributes[n].value;return Object.keys(r).sort().forEach(function(e){i+=e+":"+r[e]+";"}),i},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(t){delete this.materials[t.uuid];var n=this.textureCounts;Object.keys(t).filter(function(e){return t[e]&&t[e].isTexture}).forEach(function(e){n[t[e].uuid]--,n[t[e].uuid]<=0&&t[e].dispose()})},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})},onMaterialTextureLoaded:function(e){this.textureCounts[e.detail.texture.uuid]||(this.textureCounts[e.detail.texture.uuid]=0),this.textureCounts[e.detail.texture.uuid]++}})},{"../core/system":112,"../lib/three":150,"../utils/":172,"../utils/material":173}],164:[function(e,t,n){var i=e("../core/system").registerSystem,e=e("../lib/three"),r={basic:e.BasicShadowMap,pcf:e.PCFShadowMap,pcfsoft:e.PCFSoftShadowMap};t.exports.System=i("shadow",{schema:{autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var e=this.sceneEl,t=this.data;this.shadowMapEnabled=!1,e.renderer&&(e.renderer.shadowMap.type=r[t.type],e.renderer.shadowMap.autoUpdate=t.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},setShadowMapEnabled:function(e){var t=this.sceneEl.renderer;this.shadowMapEnabled=e,t&&(t.shadowMap.enabled=e)}})},{"../core/system":112,"../lib/three":150}],165:[function(e,t,n){var i=e("../core/system").registerSystem,r=e("../utils");t.exports.System=i("tracked-controls",{init:function(){var t=this;this.controllers=[],this.updateControllerList(navigator.getGamepads&&navigator.getGamepads()),this.throttledUpdateControllerList=r.throttle(this.updateControllerList,500,this),navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(e){e.length&&(t.vrDisplay=e[0])})})},tick:function(){var e=navigator.getGamepads&&navigator.getGamepads();this.throttledUpdateControllerList(e)},updateControllerList:function(e){var t,n,i,r=this.controllers;if(e){for(i=r.length,n=r.length=0;n<e.length;++n)(t=e[n])&&t.pose&&r.push(t);r.length!==i&&this.el.emit("controllersupdated",void 0,!1)}}})},{"../core/system":112,"../utils":172}],166:[function(e,t,n){t.exports=function(t,n){return i=Array.prototype.slice.call(arguments,2),function(){var e=i.concat(Array.prototype.slice.call(arguments,0));return t.apply(n,e)};var i}},{}],167:[function(e,t,n){var i=e("./debug"),r=e("object-assign"),a=i("utils:coordinates:warn"),o=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;function s(e){return o.test(e)}function u(e){for(var t in e)void 0!==e[t]?e[t].constructor===String&&(e[t]=parseFloat(e[t],10)):delete e[t];return e}t.exports.regex=o,t.exports.parse=function(e,t){var n;return e&&e instanceof Object?(t&&(e.x=(void 0===e.x?t:e).x,e.y=(void 0===e.y?t:e).y,e.z=(void 0===e.z?t:e).z,e.w=(void 0===e.w?t:e).w),u(e)):null==e?"object"==typeof t?r({},t):t:(n=e.trim().replace(/\s+/g," ").split(" "),(e={}).x=n[0]||t&&t.x,e.y=n[1]||t&&t.y,e.z=n[2]||t&&t.z,e.w=n[3]||t&&t.w,u(e))},t.exports.stringify=function(e){return"object"!=typeof e?e:[e.x,e.y,e.z,e.w].join(" ").trim()},t.exports.isCoordinates=s,t.exports.isCoordinate=function(e){return a("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),s(e)},t.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)}},{"./debug":168,"object-assign":26}],168:[function(a,o,e){(function(e){function t(e){var t=n(e);return t.color=function(e){e=function(e){e=e.split(":");return e[e.length-1]}(e);return r.colors&&r.colors[e]||null}(e),t}var n=a("debug"),i=a("object-assign"),r={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}};i(t,n);i=function(){try{return window.localStorage}catch(e){}}();i&&(parseInt(i.logs,10)||"true"===i.logs)?t.enable("*"):t.enable("*:error,*:info,*:warn"),e.browser&&(window.logs=t),o.exports=t}).call(this,a("_process"))},{_process:6,debug:10,"object-assign":26}],169:[function(e,d,t){(function(e){var i,r;function t(){return i}navigator.getVRDisplays&&navigator.getVRDisplays().then(function(e){i=e.length&&e[0],r="Cardboard VRDisplay"===i.displayName}),d.exports.getVRDisplay=t,d.exports.checkHeadsetConnected=function(){return!!i},d.exports.checkHasPositionalTracking=function(){var e=i;return!o()&&!l()&&(e&&e.capabilities.hasPosition)};var n,a,o=(a=!1,n=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(a=!0),(u()||s()||c())&&(a=!0),function(){return a});function s(e){e=e||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(e)}function u(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function l(){return/SamsungBrowser.+Mobile VR/i.test(window.navigator.userAgent)}function c(){return/R7 Build/.test(window.navigator.userAgent)}d.exports.isMobile=o,d.exports.isTablet=s,d.exports.isIOS=u,d.exports.isGearVR=l,d.exports.isR7=c,d.exports.isLandscape=function(){var e=window.orientation;return c()&&(e+=90),90===e||-90===e},d.exports.isIOSOlderThan10=function(e){return/(iphone|ipod|ipad).*os.(7|8|9)/i.test(e)},d.exports.isBrowserEnvironment=!(e&&!e.browser),d.exports.isNodeEnvironment=!d.exports.isBrowserEnvironment,d.exports.PolyfillControls=function(t){var n;window.VRFrameData&&(n=new window.VRFrameData),this.update=function(){var e;i&&r&&(i.getFrameData(n),null!==(e=n.pose).orientation&&t.quaternion.fromArray(e.orientation),null!==e.position?t.position.fromArray(e.position):t.position.set(0,0,0))}}}).call(this,e("_process"))},{_process:6}],170:[function(e,t,n){var i={};function r(e,t){return i[t=t||"."]||(i[t]={}),-1!==e.indexOf(t)?i[t][e]=e.split(t):i[t][e]=e,i[t][e]}t.exports.getComponentPropertyPath=r,t.exports.propertyPathCache=i,t.exports.getComponentProperty=function(e,t,n){return n=n||".",-1!==t.indexOf(n)?(n=r(t,n)).constructor===String?e.getAttribute(n):e.getAttribute(n[0])[n[1]]:e.getAttribute(t)},t.exports.setComponentProperty=function(e,t,n,i){i=i||".",-1===t.indexOf(i)?e.setAttribute(t,n):(i=r(t,i)).constructor===String?e.setAttribute(i,n):e.setAttribute(i[0],i[1],n)}},{}],171:[function(e,t,n){t.exports=function(e){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t,10)+1+"px",e.style.height=parseInt(n,10)+1+"px",setTimeout(function(){e.style.width=t,e.style.height=n},200)}},{}],172:[function(e,a,t){var n=e("./debug"),i=e("deep-assign"),r=e("./device"),o=e("object-assign"),s=e("./object-pool"),u=n("utils:warn");a.exports.bind=e("./bind"),a.exports.coordinates=e("./coordinates"),a.exports.debug=n,a.exports.device=r,a.exports.entity=e("./entity"),a.exports.forceCanvasResizeSafariMobile=e("./forceCanvasResizeSafariMobile"),a.exports.material=e("./material"),a.exports.objectPool=s,a.exports.split=e("./split").split,a.exports.styleParser=e("./styleParser"),a.exports.trackedControls=e("./tracked-controls"),a.exports.checkHeadsetConnected=function(){return u("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),r.checkHeadsetConnected(arguments)},a.exports.isGearVR=function(){return u("`utils.isGearVR` has moved to `utils.device.isGearVR`"),r.isGearVR(arguments)},a.exports.isIOS=function(){return u("`utils.isIOS` has moved to `utils.device.isIOS`"),r.isIOS(arguments)},a.exports.isMobile=function(){return u("`utils.isMobile has moved to `utils.device.isMobile`"),r.isMobile(arguments)},a.exports.throttle=function(t,n,e){var i;return e&&(t=a.exports.bind(t,e)),function(){var e=Date.now();(void 0===i||n<=(void 0===i?n:e-i))&&(i=e,t.apply(null,arguments))}},a.exports.throttleTick=function(n,i,e){var r;return e&&(n=a.exports.bind(n,e)),function(e,t){t=void 0===r?t:e-r;(void 0===r||i<=t)&&n(r=e,t)}},a.exports.debounce=function(i,r,a){var o;return function(){var e=this,t=arguments,n=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||i.apply(e,t)},r),n&&i.apply(e,t)}},a.exports.extend=o,a.exports.extendDeep=i,a.exports.clone=function(e){return JSON.parse(JSON.stringify(e))};var l,c,d=(l=s.createPool(function(){return[]}),function(e,t){var n,i,r,a,o,s;if(void 0===e||void 0===t||null===e||null===t||!(e&&t&&e.constructor===Object&&t.constructor===Object||e.constructor===Array&&t.constructor===Array))return e===t;for(n in i=l.use(),r=l.use(),i.length=0,r.length=0,e)i.push(n);for(n in t)r.push(n);if(i.length!==r.length)return l.recycle(i),l.recycle(r),!1;for(a=0;a<i.length;++a)if(o=e[i[a]],s=t[i[a]],"object"==typeof o||"object"==typeof s||Array.isArray(o)&&Array.isArray(s)){if(o!==s&&!d(o,s))return l.recycle(i),l.recycle(r),!1}else if(o!==s)return l.recycle(i),l.recycle(r),!1;return l.recycle(i),l.recycle(r),!0});a.exports.deepEqual=d,a.exports.diff=(c=[],function(e,t,n){var i,r,a,o,s,u,l=n||{};for(o in c.length=0,e)c.push(o);if(!t)return l;for(a in t)-1===c.indexOf(a)&&c.push(a);for(s=0;s<c.length;s++)i=e[o=c[s]],r=t[o],((u=i&&r&&i.constructor===Object&&r.constructor===Object)&&!d(i,r)||!u&&i!==r)&&(l[o]=r);return l}),a.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},a.exports.splitString=function(e,t){void 0===t&&(t=" ");var n=new RegExp(t,"g");return(e=(e||"").replace(n,t)).split(t)},a.exports.getElData=function(t,e){e=e||{};var n={};return Object.keys(e).forEach(function(e){t.hasAttribute(e)&&(n[e]=t.getAttribute(e))}),n},a.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},a.exports.isIframed=function(){return window.top!==window.self},a.exports.findAllScenes=function(e){for(var t=[],n=e.getElementsByTagName("*"),i=0,r=n.length;i<r;i++)n[i].isScene&&t.push(n[i]);return t},a.exports.srcLoader=e("./src-loader")},{"./bind":166,"./coordinates":167,"./debug":168,"./device":169,"./entity":170,"./forceCanvasResizeSafariMobile":171,"./material":173,"./object-pool":174,"./split":175,"./src-loader":176,"./styleParser":177,"./tracked-controls":178,"deep-assign":12,"object-assign":26}],173:[function(e,n,t){var u=e("../lib/three"),i=["application/x-mpegurl","application/vnd.apple.mpegurl"];function l(e,t){t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",function(){e.components&&e.components.material&&(t.needsCorrectionBGRA&&t.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(e.components.material.data.shader)&&e.setAttribute("material","shader","ios10hls"),e.emit("materialvideoloadeddata",{src:t.image,texture:t}))}),t.image.addEventListener("ended",function(){e.emit("materialvideoended",{src:t.image,texture:t})})))}n.exports.updateMapMaterialFromData=function(t,e,n,i){var r=n.el,a=n.material,o=i[e];if(n.materialSrcs||(n.materialSrcs={}),!o)return delete n.materialSrcs[t],void s(null);function s(e){a[t]=e,a.needsUpdate=!0,l(r,e)}o!==n.materialSrcs[t]&&((n.materialSrcs[t]=o)instanceof u.Texture?s(o):r.sceneEl.systems.material.loadTexture(o,{src:o,repeat:i.repeat,offset:i.offset,npot:i.npot},function(e){if(n.materialSrcs[t]!==o)return;s(e)}))},n.exports.updateMap=function(e,t){return n.exports.updateMapMaterialFromData("map","src",e,t)},n.exports.updateDistortionMap=function(e,t,n){var i=e;"ambientOcclusion"===e&&(i="ao");var r=t.el,a=t.material,o=n[e+"Map"],s={};if(s.src=o,s.offset=n[e+"TextureOffset"],s.repeat=n[e+"TextureRepeat"],s.wrap=n[e+"TextureWrap"],o)return o===t[e+"TextureSrc"]?void 0:(t[e+"TextureSrc"]=o,void r.sceneEl.systems.material.loadTexture(o,s,u));function u(e){a[i+"Map"]=e,a.needsUpdate=!0,l(r,e)}a.map&&u(null)},n.exports.handleTextureEvents=l,n.exports.isHLS=function(e,t){return!(!t||!i.includes(t.toLowerCase()))||!!(e&&0<e.toLowerCase().indexOf(".m3u8"))}},{"../lib/three":150}],174:[function(e,t,n){var o=Object.freeze(Object.create(null));function s(){return{}}function u(e){if(e.constructor===Object)for(var t in e)e[t]=void 0}t.exports.createPool=function(i){var r=[],a=null;function t(e){var t,n;if(0<(e=void 0===e?r.length:e)&&null==a&&(a=0),0<e)for(t=r.length,r.length+=Number(e),n=t;n<r.length;n++)r[n]=i();return r.length}return i=i||s,{grow:t,pool:r,recycle:function(e){e instanceof Object&&(null!==a&&-1!==a?r[--a]=e:r[r.length]=e)},size:function(){return r.length},use:function(){var e;return null!==a&&a!==r.length||t(r.length||5),e=r[a],r[a++]=o,u(e),e}}},t.exports.clearObject=u},{}],175:[function(e,t,n){var i;t.exports.split=(i={},function(e,t){return t in i||(i[t]={}),e in i[t]||(i[t][e]=e.split(t)),i[t][e]})},{}],176:[function(e,t,n){var u=e("./debug")("utils:src-loader:warn");function l(t,n,i){var r,a,o;a=function(e){(e?n:i)(t)},(r=t).tagName?a("IMG"===r.tagName):((o=new XMLHttpRequest).open("HEAD",r),o.addEventListener("load",function(e){var t;!(200<=o.status&&o.status<300)||null==(t=o.getResponseHeader("Content-Type"))?s(r,a):t.startsWith("image")?a(!0):a(!1),o.abort()}),o.send())}function c(e){e=e.match(/\url\((.+)\)/);if(e)return e[1]}function s(e,t){var n=new Image;n.addEventListener("load",function(){t(!0)}),n.addEventListener("error",function(){t(!1)}),n.src=e}t.exports={parseUrl:c,validateSrc:l,validateCubemapSrc:function(e,t){for(var n,i,r="",a=[],o=0;o<5;o++)r+="(url\\((?:[^\\)]+)\\),\\s*)";function s(e){a.push(e),6===a.length&&t(a)}if(r+="(url\\((?:[^\\)]+)\\)\\s*)",i=e.match(new RegExp(r)))for(o=1;o<7;o++)l(c(i[o]),s);else if(n=function(t){try{var e=document.querySelector(t);return e||u('No element was found matching the selector: "%s"',t),e}catch(e){return void u('"%s" is not a valid selector',t)}}(e))return"A-CUBEMAP"===n.tagName&&n.srcs?t(n.srcs):void u('Selector "%s" does not point to <a-cubemap>',e)}}},{"./debug":168}],177:[function(e,t,n){var i=e("style-attr");function r(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function a(n){var e=Object.keys(n),i={};return e.forEach(function(e){var t=r(e);i[t]=n[e]}),i}t.exports.parse=function(e){var t;return"string"!=typeof e||(t=i.parse(e))[""]?e:a(t)},t.exports.stringify=function(e){return"string"==typeof e?e:i.stringify(e)},t.exports.toCamelCase=r,t.exports.transformKeysToCamelCase=a},{"style-attr":35}],178:[function(e,t,n){var p=e("./split").split,m=e("../constants").DEFAULT_HANDEDNESS,u=["x","y","z","w"],f=2;function r(e,t,n){var i=e.el.sceneEl,e=n.index||0;return!!t&&(!!(i=i&&i.systems["tracked-controls"])&&(!!(i=i.controllers).length&&!!a(i,null,t,n.hand,e)))}function a(e,t,n,i,r){var a,o,s,u,l,c,d=0,h=r||0;for(n&&0<=n.indexOf("|")&&(o=p(n,"|")),s=0;s<e.length;s++){if(a=e[s],o){for(l=!1,u=0;u<o.length;u++)if((c=o[u])&&a.id.startsWith(c)){l=!0;break}if(!l)continue}else if(n&&a.id.indexOf(n))continue;if((n||a.id===t)&&(!i||!a.hand||i===a.hand)){if(i&&!a.hand&&(h=f*r+(i===m?0:1)),d===h)return a;++d}}}t.exports.checkControllerPresentAndSetup=function(e,t,n){var i=e.el,n=r(e,t,n);if(e.controllerPresent&&!e.controllerEventsActive&&e.addEventListeners(),n===e.controllerPresent)return n;(e.controllerPresent=n)?(e.injectTrackedControls(),e.addEventListeners(),i.emit("controllerconnected",{name:e.name,component:e})):(e.removeEventListeners(),i.emit("controllerdisconnected",{name:e.name,component:e}))},t.exports.isControllerPresent=r,t.exports.findMatchingController=a,t.exports.emitIfAxesChanged=function(e,t,n){var i,r,a,o,s;for(r in t){for(i=t[r],a=!1,s=0;s<i.length;s++)n.detail.changed[i[s]]&&(a=!0);if(a){for(o={},s=0;s<i.length;s++)o[u[s]]=n.detail.axis[i[s]];e.el.emit(r+"moved",o)}}},t.exports.onButtonEvent=function(e,t,n,i){e=(i?n.mapping[i]:n.mapping).buttons[e];n.el.emit(e+t),n.updateModel&&n.updateModel(e,t)}},{"../constants":93,"./split":175}],179:[function(e,t,n){window.glStats=function(){var t=null,e=0,n=0,i=0,r=0,a=0,o=0,s=0;function u(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=u(WebGLRenderingContext.prototype.drawArrays,function(){e++,arguments[0]==this.POINTS?o+=arguments[2]:a+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=u(WebGLRenderingContext.prototype.drawElements,function(){n++,r+=arguments[1]/3,a+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=u(WebGLRenderingContext.prototype.useProgram,function(){i++}),WebGLRenderingContext.prototype.bindTexture=u(WebGLRenderingContext.prototype.bindTexture,function(){s++});return{update:function(){t("allcalls").set(e+n),t("drawElements").set(n),t("drawArrays").set(e),t("bindTexture").set(s),t("useProgram").set(i),t("glfaces").set(r),t("glvertices").set(a),t("glpoints").set(o)},start:function(){s=o=a=r=i=n=e=0},end:function(){},attach:function(e){t=e},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){var t=null;return{update:function(){t("renderer.info.memory.geometries").set(e.info.memory.geometries),t("renderer.info.programs").set(e.info.programs.length),t("renderer.info.memory.textures").set(e.info.memory.textures),t("renderer.info.render.calls").set(e.info.render.calls),t("renderer.info.render.faces").set(e.info.render.faces),t("renderer.info.render.points").set(e.info.render.points),t("renderer.info.render.vertices").set(e.info.render.vertices)},start:function(){},end:function(){},attach:function(e){t=e},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.faces":{caption:"Faces",over:1e3},"renderer.info.render.points":{caption:"Points"},"renderer.info.render.vertices":{caption:"Vertices"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.faces","renderer.info.render.points","renderer.info.render.vertices"]}],fractions:[]}},window.BrowserStats=function(){var e,t=null,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var i=Math.log(1024);function r(e){var t=Math.floor(Math.log(e)/i);return Math.round(100*e/Math.pow(1024,t))/100}return{update:function(){n=r(performance.memory.usedJSHeapSize),e=r(performance.memory.totalJSHeapSize),t("memory").set(n),t("total").set(e)},start:function(){n=0},end:function(){},attach:function(e){t=e},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},"object"==typeof t&&(t.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],180:[function(e,t,n){"use strict";!function(){"performance"in window==0&&(window.performance={});var e,t=window.performance;"now"in t==0&&(e=Date.now(),t.timing&&t.timing.navigationStart&&(e=t.timing.navigationStart),t.now=function(){return Date.now()-e}),t.mark||(t.mark=function(){}),t.measure||(t.measure=function(){})}(),window.rStats=function(e){function o(e,t){for(var n=Object.keys(e),i=0,r=n.length;i<r;i++)t(n[i])}var v=e||{},s=v.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],e=(v.CSSPath||"")+"rStats.css";(v.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",e]).forEach(function(e){var t;t=e,(e=document.createElement("link")).href=t,e.rel="stylesheet",e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e)}),v.values||(v.values={});var n,M,c=10,d=200,r={};function b(e,t,n){var i=n||{},r=document.createElement("canvas"),a=r.getContext("2d"),o=0,s=0,n=i.color||"#666666",u=document.createElement("canvas"),i=u.getContext("2d");u.width=1,u.height=2*c,i.fillStyle="#444444",i.fillRect(0,0,1,2*c),i.fillStyle=n,i.fillRect(0,c,1,c),i.fillStyle="#ffffff",i.globalAlpha=.5,i.fillRect(0,c,1,1),i.globalAlpha=1;var l=document.createElement("canvas"),i=l.getContext("2d");return l.width=1,l.height=2*c,i.fillStyle="#444444",i.fillRect(0,0,1,2*c),i.fillStyle="#b70000",i.fillRect(0,c,1,c),i.globalAlpha=.5,i.fillStyle="#ffffff",i.fillRect(0,c,1,1),i.globalAlpha=1,r.width=d,r.height=c,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),a.fillStyle="#444444",a.fillRect(0,0,r.width,r.height),{draw:function(e,t){(o*=.99)<(s+=.1*(e-s))&&(o=s),a.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height),t?a.drawImage(l,r.width-1,r.height-s*r.height/o-c):a.drawImage(u,r.width-1,r.height-s*r.height/o-c)}}}function u(e,t){var r=document.createElement("canvas"),a=r.getContext("2d");return r.width=d,r.height=c*t,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),a.fillStyle="#444444",a.fillRect(0,0,r.width,r.height),{draw:function(n){a.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height);var i=0;o(n,function(e){var t=n[e]*r.height;a.fillStyle=s[e],a.fillRect(r.width-1,i,1,t),i+=t})}}}function i(e,t){var n,i=e,r=0,a=0,o=0,s=0,u=performance.now(),l=0,c=document.createElement("div"),d=document.createElement("span"),e=document.createElement("div"),h=document.createTextNode(""),p=v?v.values[i.toLowerCase()]:null,m=new b(c,0,p),f=!1;function g(e){p&&p.average&&(s+=e,l++,(e=performance.now())-u>=(p.avgMs||1e3)&&(o=s/l,u=e,l=s=0))}function _(){n=performance.now(),v.userTimingAPI&&performance.mark(i+"-start"),f=!0}function y(){r=performance.now()-n,v.userTimingAPI&&(performance.mark(i+"-end"),f&&performance.measure(i,i+"-start",i+"-end")),g(r)}return d.className="rs-counter-id",d.textContent=p&&p.caption?p.caption:i,e.className="rs-counter-value",e.appendChild(h),c.appendChild(d),c.appendChild(e),(t?t.div:M).appendChild(c),n=performance.now(),{set:function(e){g(r=e)},start:_,tick:function(){y(),_()},end:y,frame:function(){var e=performance.now(),t=e-n;a++,1e3<t&&(r=p&&!1===p.interpolate?a:1e3*a/t,a=0,n=e,g(r))},value:function(){return r},draw:function(){var e=p&&p.average?o:r;h.nodeValue=Math.round(100*e)/100,e=p&&(p.below&&r<p.below||p.over&&r>p.over),m.draw(r,e),c.className=e?"rs-counter-base alarm":"rs-counter-base"}}}function a(e){var t=e.toLowerCase();if(void 0===t&&(t="default"),r[t])return r[t];var n=null;v&&v.groups&&o(v.groups,function(e){e=v.groups[parseInt(e,10)];n||-1===e.values.indexOf(t.toLowerCase())||(n=e)});e=new i(t,n);return r[t]=e}function t(){o(v.plugins,function(e){v.plugins[e].update()}),o(r,function(e){r[e].draw()}),v&&v.fractions&&o(v.fractions,function(t){var e=v.fractions[parseInt(t,10)],n=[],i=r[e.base.toLowerCase()];i&&(i=i.value(),o(v.fractions[t].steps,function(e){e=v.fractions[t].steps[parseInt(e,10)].toLowerCase(),e=r[e];e&&n.push(e.value()/i)})),e.graph.draw(n)})}return function(){if(v.plugins){v.values||(v.values={}),v.groups||(v.groups=[]),v.fractions||(v.fractions=[]);for(var t=0;t<v.plugins.length;t++)v.plugins[t].attach(a),o(v.plugins[t].values,function(e){v.values[e]=v.plugins[t].values[e]}),v.groups=v.groups.concat(v.plugins[t].groups),v.fractions=v.fractions.concat(v.plugins[t].fractions)}else v.plugins={};(n=document.createElement("div")).className="rs-base",(M=document.createElement("div")).className="rs-container",M.style.height="auto",n.appendChild(M),document.body.appendChild(n),v&&(v.groups&&o(v.groups,function(e){var t=v.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;e=document.createElement("h1");e.textContent=t.caption,e.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),M.appendChild(e),M.appendChild(n)}),v.fractions&&o(v.fractions,function(n){var e=v.fractions[parseInt(n,10)],t=document.createElement("div");t.className="rs-fraction";var i=document.createElement("div");i.className="rs-legend";var r=0;o(v.fractions[n].steps,function(e){var t=document.createElement("p");t.textContent=v.fractions[n].steps[e],t.style.color=s[r],i.appendChild(t),r++}),t.appendChild(i),t.style.height=r*c+"px";var a=new u(e.div=t,r);e.graph=a,M.appendChild(t)}))}(),function(e){return e?a(e):{element:n,update:t}}},"object"==typeof t&&(t.exports=window.rStats)},{}],181:[function(e,t,n){var i={base64:function(e,t){return"data:"+e+";base64,"+t},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},appendQueryParameter:function(e,t,n){var i=e.indexOf("?")<0?"?":"&";return e+=i+t+"="+n},getQueryParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};t.exports=i},{}],182:[function(e,t,n){var i,r=e("./util.js");function a(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=r.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}function o(){var e=null;this.request=function(){e=e||setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3)},this.release=function(){e&&(clearInterval(e),e=null)}}t.exports=(i=navigator.userAgent||navigator.vendor||window.opera).match(/iPhone/i)||i.match(/iPod/i)?o:a},{"./util.js":181}]},{},[148])(148)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function m(){return e.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(d(e,t))return;return 1}function a(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){for(var n=[],i=0;i<e.length;++i)n.push(t(e[i],i));return n}function h(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return Dt(e,t,n,i,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=f(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function _(e){var t=p(NaN);return null!=e?h(f(t),e):f(t).userInvalidated=!0,t}i=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var y=m.momentProperties=[],t=!1;function v(e,t){var n,i,r;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=f(t)),a(t._locale)||(e._locale=t._locale),0<y.length)for(n=0;n<y.length;n++)a(r=t[i=y[n]])||(e[i]=r);return e}function M(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,m.updateOffset(this),t=!1)}function b(e){return e instanceof M||null!=e&&null!=e._isAMomentObject}function A(e){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(r,a){var o=!0;return h(function(){if(null!=m.deprecationHandler&&m.deprecationHandler(null,r),o){for(var e,t,n=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\n["+i+"] ",arguments[0])d(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}A(r+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var w,x={};function E(e,t){null!=m.deprecationHandler&&m.deprecationHandler(e,t),x[e]||(A(t),x[e]=!0)}function L(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var n,i=h({},e);for(n in t)d(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)d(e,n)&&!d(t,n)&&s(e[n])&&(i[n]=h({},i[n]));return i}function D(e){null!=e&&this.set(e)}m.suppressDeprecationWarnings=!1,m.deprecationHandler=null,w=Object.keys||function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};function S(e,t,n){var i=""+Math.abs(e),t=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t)).toString().substr(1)+i}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,C=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,k={},I={};function j(e,t,n,i){var r="string"==typeof i?function(){return this[i]()}:i;e&&(I[e]=r),t&&(I[t[0]]=function(){return S(r.apply(this,arguments),t[1],t[2])}),n&&(I[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function O(e,t){return e.isValid()?(t=z(t,e.localeData()),k[t]=k[t]||function(i){for(var e,r=i.match(N),t=0,a=r.length;t<a;t++)I[r[t]]?r[t]=I[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<a;n++)t+=L(r[n])?r[n].call(e,i):r[n];return t}}(t),k[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(C.lastIndex=0;0<=n&&C.test(e);)e=e.replace(C,i),C.lastIndex=0,--n;return e}var R={};function P(e,t){var n=e.toLowerCase();R[n]=R[n+"s"]=R[t]=e}function Y(e){return"string"==typeof e?R[e]||R[e.toLowerCase()]:void 0}function B(e){var t,n,i={};for(n in e)d(e,n)&&(t=Y(n))&&(i[t]=e[n]);return i}var U={};function H(e,t){U[e]=t}function F(e){return e%4==0&&e%100!=0||e%400==0}function G(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,e=0;return 0!=t&&isFinite(t)&&(e=G(t)),e}function W(t,n){return function(e){return null!=e?(q(this,t,e),m.updateOffset(this,n),this):Q(this,t)}}function Q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&F(e.year())&&1===e.month()&&29===e.date()?(n=V(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),De(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Z,X=/\d/,J=/\d\d/,K=/\d{3}/,$=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ne=/\d\d\d\d?/,ie=/\d\d\d\d\d\d?/,re=/\d{1,3}/,ae=/\d{1,4}/,oe=/[+-]?\d{1,6}/,se=/\d+/,ue=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,ce=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,n,i){Z[e]=L(n)?n:function(e,t){return e&&i?i:n}}function pe(e,t){return d(Z,e)?Z[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Z={};var fe={};function ge(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),l(n)&&(i=function(e,t){t[n]=V(e)}),t=0;t<e.length;t++)fe[e[t]]=i}function _e(e,r){ge(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}var ye,ve=0,Me=1,be=2,Ae=3,we=4,xe=5,Ee=6,Le=7,Te=8;function De(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?F(e)?29:28:31-n%7%2}ye=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),j("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),H("month",8),he("M",te),he("MM",te,J),he("MMM",function(e,t){return t.monthsShortRegex(e)}),he("MMMM",function(e,t){return t.monthsRegex(e)}),ge(["M","MM"],function(e,t){t[Me]=V(e)-1}),ge(["MMM","MMMM"],function(e,t,n,i){i=n._locale.monthsParse(e,i,n._strict);null!=i?t[Me]=i:f(n).invalidMonth=e});var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ce=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke=de,Ie=de;function je(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=V(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Oe(e){return null!=e?(je(this,e),m.updateOffset(this,!0),this):Q(this,"Month")}function ze(){function e(e,t){return t.length-e.length}for(var t,n=[],i=[],r=[],a=0;a<12;a++)t=p([2e3,a]),n.push(this.monthsShort(t,"")),i.push(this.months(t,"")),r.push(this.months(t,"")),r.push(this.monthsShort(t,""));for(n.sort(e),i.sort(e),r.sort(e),a=0;a<12;a++)n[a]=me(n[a]),i[a]=me(i[a]);for(a=0;a<24;a++)r[a]=me(r[a]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Re(e){return F(e)?366:365}j("Y",0,0,function(){var e=this.year();return e<=9999?S(e,4):"+"+e}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),P("year","y"),H("year",1),he("Y",ue),he("YY",te,J),he("YYYY",ae,$),he("YYYYY",oe,ee),he("YYYYYY",oe,ee),ge(["YYYYY","YYYYYY"],ve),ge("YYYY",function(e,t){t[ve]=2===e.length?m.parseTwoDigitYear(e):V(e)}),ge("YY",function(e,t){t[ve]=m.parseTwoDigitYear(e)}),ge("Y",function(e,t){t[ve]=parseInt(e,10)}),m.parseTwoDigitYear=function(e){return V(e)+(68<V(e)?1900:2e3)};var Pe=W("FullYear",!0);function Ye(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Be(e,t,n){n=7+t-n;return n-(7+Ye(e,0,n).getUTCDay()-t)%7-1}function Ue(e,t,n,i,r){var a,r=1+7*(t-1)+(7+n-i)%7+Be(e,i,r),r=r<=0?Re(a=e-1)+r:r>Re(e)?(a=e+1,r-Re(e)):(a=e,r);return{year:a,dayOfYear:r}}function He(e,t,n){var i,r,a=Be(e.year(),t,n),a=Math.floor((e.dayOfYear()-a-1)/7)+1;return a<1?i=a+Fe(r=e.year()-1,t,n):a>Fe(e.year(),t,n)?(i=a-Fe(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Fe(e,t,n){var i=Be(e,t,n),n=Be(e+1,t,n);return(Re(e)-i+n)/7}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),H("week",5),H("isoWeek",5),he("w",te),he("ww",te,J),he("W",te),he("WW",te,J),_e(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=V(e)});function Ge(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("d",0,"do","day"),j("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),j("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),j("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),he("d",te),he("e",te),he("E",te),he("dd",function(e,t){return t.weekdaysMinRegex(e)}),he("ddd",function(e,t){return t.weekdaysShortRegex(e)}),he("dddd",function(e,t){return t.weekdaysRegex(e)}),_e(["dd","ddd","dddd"],function(e,t,n,i){i=n._locale.weekdaysParse(e,i,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),_e(["d","e","E"],function(e,t,n,i){t[i]=V(e)});var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=de,Ze=de,Xe=de;function Je(){function e(e,t){return t.length-e.length}for(var t,n,i,r=[],a=[],o=[],s=[],u=0;u<7;u++)i=p([2e3,1]).day(u),t=me(this.weekdaysMin(i,"")),n=me(this.weekdaysShort(i,"")),i=me(this.weekdays(i,"")),r.push(t),a.push(n),o.push(i),s.push(t),s.push(n),s.push(i);r.sort(e),a.sort(e),o.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ke(){return this.hours()%12||12}function $e(e,t){j(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Ke),j("k",["kk",2],0,function(){return this.hours()||24}),j("hmm",0,0,function(){return""+Ke.apply(this)+S(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Ke.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)}),$e("a",!0),$e("A",!1),P("hour","h"),H("hour",13),he("a",et),he("A",et),he("H",te),he("h",te),he("k",te),he("HH",te,J),he("hh",te,J),he("kk",te,J),he("hmm",ne),he("hmmss",ie),he("Hmm",ne),he("Hmmss",ie),ge(["H","HH"],Ae),ge(["k","kk"],function(e,t,n){e=V(e);t[Ae]=24===e?0:e}),ge(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ge(["h","hh"],function(e,t,n){t[Ae]=V(e),f(n).bigHour=!0}),ge("hmm",function(e,t,n){var i=e.length-2;t[Ae]=V(e.substr(0,i)),t[we]=V(e.substr(i)),f(n).bigHour=!0}),ge("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ae]=V(e.substr(0,i)),t[we]=V(e.substr(i,2)),t[xe]=V(e.substr(r)),f(n).bigHour=!0}),ge("Hmm",function(e,t,n){var i=e.length-2;t[Ae]=V(e.substr(0,i)),t[we]=V(e.substr(i))}),ge("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ae]=V(e.substr(0,i)),t[we]=V(e.substr(i,2)),t[xe]=V(e.substr(r))});var tt=W("Hours",!0);var nt,it={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Ve,weekdaysMin:Qe,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},rt={},at={};function ot(e){return e&&e.toLowerCase().replace("_","-")}function st(e){for(var t,n,i,r,a=0;a<e.length;){for(t=(r=ot(e[a]).split("-")).length,n=(n=ot(e[a+1]))?n.split("-"):null;0<t;){if(i=ut(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}(r,n)>=t-1)break;t--}a++}return nt}function ut(t){var e;if(void 0===rt[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=nt._abbr,require("./locale/"+t),lt(e)}catch(e){rt[t]=null}return rt[t]}function lt(e,t){return e&&((t=a(t)?dt(e):ct(e,t))?nt=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nt._abbr}function ct(e,t){if(null===t)return delete rt[e],null;var n,i=it;if(t.abbr=e,null!=rt[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=rt[e]._config;else if(null!=t.parentLocale)if(null!=rt[t.parentLocale])i=rt[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return at[t.parentLocale]||(at[t.parentLocale]=[]),at[t.parentLocale].push({name:e,config:t}),null;i=n._config}return rt[e]=new D(T(i,t)),at[e]&&at[e].forEach(function(e){ct(e.name,e.config)}),lt(e),rt[e]}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!o(e)){if(t=ut(e))return t;e=[e]}return st(e)}function ht(e){var t=e._a;return t&&-2===f(e).overflow&&(t=t[Me]<0||11<t[Me]?Me:t[be]<1||t[be]>De(t[ve],t[Me])?be:t[Ae]<0||24<t[Ae]||24===t[Ae]&&(0!==t[we]||0!==t[xe]||0!==t[Ee])?Ae:t[we]<0||59<t[we]?we:t[xe]<0||59<t[xe]?xe:t[Ee]<0||999<t[Ee]?Ee:-1,f(e)._overflowDayOfYear&&(t<ve||be<t)&&(t=be),f(e)._overflowWeeks&&-1===t&&(t=Le),f(e)._overflowWeekday&&-1===t&&(t=Te),f(e).overflow=t),e}var pt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yt=/^\/?Date\((-?\d+)/i,vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function bt(e){var t,n,i,r,a,o,s=e._i,u=pt.exec(s)||mt.exec(s);if(u){for(f(e).iso=!0,t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[1])){r=gt[t][0],i=!1!==gt[t][2];break}if(null!=r){if(u[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(u[3])){a=(u[2]||" ")+_t[t][0];break}if(null==a)return void(e._isValid=!1)}if(i||null==a){if(u[4]){if(!ft.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),Lt(e)}else e._isValid=!1}else e._isValid=!1}else e._isValid=!1}function At(e,t,n,i,r,a){r=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ne.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&r.push(parseInt(a,10)),r}function wt(e){var t,n,i,r,a=vt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));a?(t=At(a[4],a[3],a[2],a[5],a[6],a[7]),n=a[1],i=t,r=e,n&&We.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()?(f(r).weekdayMismatch=!0,r._isValid=!1):(e._a=t,e._tzm=(r=a[8],t=a[9],a=a[10],r?Mt[r]:t?0:60*(((t=parseInt(a,10))-(a=t%100))/100)+a),e._d=Ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0)):e._isValid=!1}function xt(e,t,n){return null!=e?e:null!=t?t:n}function Et(e){var t,n,i,r,a,o,s,u,l,c,d,h,p=[];if(!e._d){for(a=e,h=new Date(m.now()),n=a._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()],e._w&&null==e._a[be]&&null==e._a[Me]&&(null!=(a=(r=e)._w).GG||null!=a.W||null!=a.E?(l=1,c=4,o=xt(a.GG,r._a[ve],He(St(),1,4).year),s=xt(a.W,1),((u=xt(a.E,1))<1||7<u)&&(d=!0)):(l=r._locale._week.dow,c=r._locale._week.doy,h=He(St(),l,c),o=xt(a.gg,r._a[ve],h.year),s=xt(a.w,h.week),null!=a.d?((u=a.d)<0||6<u)&&(d=!0):null!=a.e?(u=a.e+l,(a.e<0||6<a.e)&&(d=!0)):u=l),s<1||s>Fe(o,l,c)?f(r)._overflowWeeks=!0:null!=d?f(r)._overflowWeekday=!0:(c=Ue(o,s,u,l,c),r._a[ve]=c.year,r._dayOfYear=c.dayOfYear)),null!=e._dayOfYear&&(i=xt(e._a[ve],n[ve]),(e._dayOfYear>Re(i)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=Ye(i,0,e._dayOfYear),e._a[Me]=i.getUTCMonth(),e._a[be]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=p[t]=n[t];for(;t<7;t++)e._a[t]=p[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ae]&&0===e._a[we]&&0===e._a[xe]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[Ae]=0),e._d=(e._useUTC?Ye:function(e,t,n,i,r,a,o){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,a,o),s}).apply(null,p),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ae]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function Lt(e){if(e._f!==m.ISO_8601)if(e._f!==m.RFC_2822){e._a=[],f(e).empty=!0;for(var t,n,i,r,a,o=""+e._i,s=o.length,u=0,l=z(e._f,e._locale).match(N)||[],c=0;c<l.length;c++)n=l[c],(t=(o.match(pe(n,e))||[])[0])&&(0<(r=o.substr(0,o.indexOf(t))).length&&f(e).unusedInput.push(r),o=o.slice(o.indexOf(t)+t.length),u+=t.length),I[n]?(t?f(e).empty=!1:f(e).unusedTokens.push(n),i=n,a=e,null!=(r=t)&&d(fe,i)&&fe[i](r,a._a,a,i)):e._strict&&!t&&f(e).unusedTokens.push(n);f(e).charsLeftOver=s-u,0<o.length&&f(e).unusedInput.push(o),e._a[Ae]<=12&&!0===f(e).bigHour&&0<e._a[Ae]&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Ae]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((n=e.isPM(n))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}(e._locale,e._a[Ae],e._meridiem),null!==(s=f(e).era)&&(e._a[ve]=e._locale.erasConvertYear(s,e._a[ve])),Et(e),ht(e)}else wt(e);else bt(e)}function Tt(e){var t=e._i,n=e._f;return e._locale=e._locale||dt(e._l),null===t||void 0===n&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new M(ht(t)):(r(t)?e._d=t:o(n)?function(e){var t,n,i,r,a,o,s=!1;if(0===e._f.length)return f(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)a=0,o=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Lt(t),g(t)&&(o=!0),a+=f(t).charsLeftOver,a+=10*f(t).unusedTokens.length,f(t).score=a,s?a<i&&(i=a,n=t):(null==i||a<i||o)&&(i=a,n=t,o&&(s=!0));h(e,n||t)}(e):n?Lt(e):a(n=(t=e)._i)?t._d=new Date(m.now()):r(n)?t._d=new Date(n.valueOf()):"string"==typeof n?function(e){var t=yt.exec(e._i);null===t?(bt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:m.createFromInputFallback(e)))):e._d=new Date(+t[1])}(t):o(n)?(t._a=c(n.slice(0),function(e){return parseInt(e,10)}),Et(t)):s(n)?function(e){var t,n;e._d||(n=void 0===(t=B(e._i)).day?t.date:t.day,e._a=c([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Et(e))}(t):l(n)?t._d=new Date(n):m.createFromInputFallback(t),g(e)||(e._d=null),e))}function Dt(e,t,n,i,r){var a={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,(a=new M(ht(Tt(a=a))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function St(e,t,n,i){return Dt(e,t,n,i,!1)}m.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),m.ISO_8601=function(){},m.RFC_2822=function(){};var Nt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),Ct=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:_()});function kt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jt(e){var t=B(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,e=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(d(e,t)&&(-1===ye.call(It,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<It.length;++n)if(e[It[n]]){if(i)return!1;parseFloat(e[It[n]])!==V(e[It[n]])&&(i=!0)}return!0}(t),this._milliseconds=+e+1e3*l+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=dt(),this._bubble()}function Ot(e){return e instanceof jt}function zt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Rt(e,n){j(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+S(~~(e/60),2)+n+S(~~e%60,2)})}Rt("Z",":"),Rt("ZZ",""),he("Z",ce),he("ZZ",ce),ge(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Yt(ce,e)});var Pt=/([\+\-]|\d\d)/gi;function Yt(e,t){t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Pt)||["-",0,0])[1]+V(e[2]))?0:"+"===e[0]?t:-t}function Bt(e,t){var n;return t._isUTC?(n=t.clone(),t=(b(e)||r(e)?e:St(e)).valueOf()-n.valueOf(),n._d.setTime(n._d.valueOf()+t),m.updateOffset(n,!1),n):St(e).local()}function Ut(e){return-Math.round(e._d.getTimezoneOffset())}function Ht(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}m.updateOffset=function(){};var Ft=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Gt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vt(e,t){var n,i=e,r=null;return Ot(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(r=Ft.exec(e))?(n="-"===r[1]?-1:1,i={y:0,d:V(r[be])*n,h:V(r[Ae])*n,m:V(r[we])*n,s:V(r[xe])*n,ms:V(zt(1e3*r[Ee]))*n}):(r=Gt.exec(e))?(n="-"===r[1]?-1:1,i={y:Wt(r[2],n),M:Wt(r[3],n),w:Wt(r[4],n),d:Wt(r[5],n),h:Wt(r[6],n),m:Wt(r[7],n),s:Wt(r[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(n=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Bt(t,e),e.isBefore(t)?n=Qt(e,t):((n=Qt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(St(i.from),St(i.to)),(i={}).ms=n.milliseconds,i.M=n.months),i=new jt(i),Ot(e)&&d(e,"_locale")&&(i._locale=e._locale),Ot(e)&&d(e,"_isValid")&&(i._isValid=e._isValid),i}function Wt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(E(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Zt(this,Vt(e,t),i),this}}function Zt(e,t,n,i){var r=t._milliseconds,a=zt(t._days),t=zt(t._months);e.isValid()&&(i=null==i||i,t&&je(e,Q(e,"Month")+t*n),a&&q(e,"Date",Q(e,"Date")+a*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&m.updateOffset(e,a||t))}Vt.fn=jt.prototype,Vt.invalid=function(){return Vt(NaN)};var Xt=qt(1,"add"),de=qt(-1,"subtract");function Jt(e){return"string"==typeof e||e instanceof String}function Kt(e){return b(e)||r(e)||Jt(e)||l(e)||function(t){var e=o(t),n=!1;e&&(n=0===t.filter(function(e){return!l(e)&&Jt(t)}).length);return e&&n}(e)||function(e){var t,n,i=s(e)&&!u(e),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)n=a[t],r=r||d(e,n);return i&&r}(e)||null==e}function $t(e,t){if(e.date()<t.date())return-$t(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months"),i=t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i);return-(n+i)||0}function en(e){return void 0===e?this._locale._abbr:(null!=(e=dt(e))&&(this._locale=e),this)}m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";ne=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function tn(){return this._locale}var nn=126227808e5;function rn(e,t){return(e%t+t)%t}function an(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-nn:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-nn:Date.UTC(e,t,n)}function sn(e,t){return t.erasAbbrRegex(e)}function un(){for(var e=[],t=[],n=[],i=[],r=this.eras(),a=0,o=r.length;a<o;++a)t.push(me(r[a].name)),e.push(me(r[a].abbr)),n.push(me(r[a].narrow)),i.push(me(r[a].name)),i.push(me(r[a].abbr)),i.push(me(r[a].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function ln(e,t){j(0,[e,e.length],0,t)}function cn(e,t,n,i,r){var a;return null==e?He(this,i,r).year:((a=Fe(e,i,r))<t&&(t=a),function(e,t,n,i,r){r=Ue(e,t,n,i,r),r=Ye(r.year,0,r.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,e,t,n,i,r))}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),he("N",sn),he("NN",sn),he("NNN",sn),he("NNNN",function(e,t){return t.erasNameRegex(e)}),he("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ge(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){i=n._locale.erasParse(e,i,n._strict);i?f(n).era=i:f(n).invalidEra=e}),he("y",se),he("yy",se),he("yyy",se),he("yyyy",se),he("yo",function(e,t){return t._eraYearOrdinalRegex||se}),ge(["y","yy","yyy","yyyy"],ve),ge(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ve]=n._locale.eraYearOrdinalParse(e,r):t[ve]=parseInt(e,10)}),j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ln("gggg","weekYear"),ln("ggggg","weekYear"),ln("GGGG","isoWeekYear"),ln("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),he("G",ue),he("g",ue),he("GG",te,J),he("gg",te,J),he("GGGG",ae,$),he("gggg",ae,$),he("GGGGG",oe,ee),he("ggggg",oe,ee),_e(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=V(e)}),_e(["gg","GG"],function(e,t,n,i){t[i]=m.parseTwoDigitYear(e)}),j("Q",0,"Qo","quarter"),P("quarter","Q"),H("quarter",7),he("Q",X),ge("Q",function(e,t){t[Me]=3*(V(e)-1)}),j("D",["DD",2],"Do","date"),P("date","D"),H("date",9),he("D",te),he("DD",te,J),he("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ge(["D","DD"],be),ge("Do",function(e,t){t[be]=V(e.match(te)[0])});ie=W("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),H("dayOfYear",4),he("DDD",re),he("DDDD",K),ge(["DDD","DDDD"],function(e,t,n){n._dayOfYear=V(e)}),j("m",["mm",2],0,"minute"),P("minute","m"),H("minute",14),he("m",te),he("mm",te,J),ge(["m","mm"],we);Se=W("Minutes",!1);j("s",["ss",2],0,"second"),P("second","s"),H("second",15),he("s",te),he("ss",te,J),ge(["s","ss"],xe);var dn,Ve=W("Seconds",!1);for(j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),H("millisecond",16),he("S",re,X),he("SS",re,J),he("SSS",re,K),dn="SSSS";dn.length<=9;dn+="S")he(dn,se);function hn(e,t){t[Ee]=V(1e3*("0."+e))}for(dn="S";dn.length<=9;dn+="S")ge(dn,hn);Qe=W("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");ae=M.prototype;function pn(e){return e}ae.add=Xt,ae.calendar=function(e,t){1===arguments.length&&(arguments[0]?Kt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=s(e)&&!u(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r=0;r<i.length;r+=1)n=n||d(e,i[r]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var n=e||St(),e=Bt(n,this).startOf("day"),e=m.calendarFormat(this,e)||"sameElse",t=t&&(L(t[e])?t[e].call(this,n):t[e]);return this.format(t||this.localeData().calendar(e,this,St(n)))},ae.clone=function(){return new M(this)},ae.diff=function(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=Bt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=Y(t)){case"year":a=$t(this,i)/12;break;case"month":a=$t(this,i);break;case"quarter":a=$t(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:G(a)},ae.endOf=function(e){var t,n;if(void 0===(e=Y(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:an,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-rn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-rn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-rn(t,1e3)-1}return this._d.setTime(t),m.updateOffset(this,!0),this},ae.format=function(e){return e=e||(this.isUtc()?m.defaultFormatUtc:m.defaultFormat),e=O(this,e),this.localeData().postformat(e)},ae.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||St(e).isValid())?Vt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ae.fromNow=function(e){return this.from(St(),e)},ae.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||St(e).isValid())?Vt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ae.toNow=function(e){return this.to(St(),e)},ae.get=function(e){return L(this[e=Y(e)])?this[e]():this},ae.invalidAt=function(){return f(this).overflow},ae.isAfter=function(e,t){return e=b(e)?e:St(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},ae.isBefore=function(e,t){return e=b(e)?e:St(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},ae.isBetween=function(e,t,n,i){return e=b(e)?e:St(e),t=b(t)?t:St(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n)))},ae.isSame=function(e,t){return e=b(e)?e:St(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=Y(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},ae.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ae.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ae.isValid=function(){return g(this)},ae.lang=ne,ae.locale=en,ae.localeData=tn,ae.max=Ct,ae.min=Nt,ae.parsingFlags=function(){return h({},f(this))},ae.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)d(e,t)&&n.push({unit:t,priority:U[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=B(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(L(this[e=Y(e)]))return this[e](t);return this},ae.startOf=function(e){var t,n;if(void 0===(e=Y(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?on:an,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=rn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=rn(t,6e4);break;case"second":t=this._d.valueOf(),t-=rn(t,1e3)}return this._d.setTime(t),m.updateOffset(this,!0),this},ae.subtract=de,ae.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},ae.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},ae.toDate=function(){return new Date(this.valueOf())},ae.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e;return(e=t?this.clone().utc():this).year()<0||9999<e.year()?O(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",O(e,"Z")):O(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ae.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+t+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=n+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ae.unix=function(){return Math.floor(this.valueOf()/1e3)},ae.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ae.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ae.eraName=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},ae.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},ae.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},ae.eraYear=function(){for(var e,t,n=this.localeData().eras(),i=0,r=n.length;i<r;++i)if(e=n[i].since<=n[i].until?1:-1,t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return(this.year()-m(n[i].since).year())*e+n[i].offset;return this.year()},ae.year=Pe,ae.isLeapYear=function(){return F(this.year())},ae.weekYear=function(e){return cn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ae.isoWeekYear=function(e){return cn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ae.quarter=ae.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ae.month=Oe,ae.daysInMonth=function(){return De(this.year(),this.month())},ae.week=ae.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ae.isoWeek=ae.isoWeeks=function(e){var t=He(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ae.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},ae.weeksInWeekYear=function(){var e=this.localeData()._week;return Fe(this.weekYear(),e.dow,e.doy)},ae.isoWeeksInYear=function(){return Fe(this.year(),1,4)},ae.isoWeeksInISOWeekYear=function(){return Fe(this.isoWeekYear(),1,4)},ae.date=ie,ae.day=ae.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},ae.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ae.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=(t=e,e=this.localeData(),"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?t:t-7)},ae.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ae.hour=ae.hours=tt,ae.minute=ae.minutes=Se,ae.second=ae.seconds=Ve,ae.millisecond=ae.milliseconds=Qe,ae.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:Ut(this);if("string"==typeof e){if(null===(e=Yt(ce,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Ut(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Zt(this,Vt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this},ae.utc=function(e){return this.utcOffset(0,e)},ae.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ut(this),"m")),this},ae.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Yt(le,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},ae.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ae.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ae.isLocal=function(){return!!this.isValid()&&!this._isUTC},ae.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ae.isUtc=Ht,ae.isUTC=Ht,ae.zoneAbbr=function(){return this._isUTC?"UTC":""},ae.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ae.dates=n("dates accessor is deprecated. Use date instead.",ie),ae.months=n("months accessor is deprecated. Use month instead",Oe),ae.years=n("years accessor is deprecated. Use year instead",Pe),ae.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),ae.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=Tt(t))._a?(e=(t._isUTC?p:St)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0,o=0;o<i;o++)(n&&e[o]!==t[o]||!n&&V(e[o])!==V(t[o]))&&a++;return a+r}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});$=D.prototype;function mn(e,t,n,i){var r=dt(),t=p().set(i,t);return r[n](t,e)}function fn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return mn(e,t,n,"month");for(var i=[],r=0;r<12;r++)i[r]=mn(e,r,n,"month");return i}function gn(e,t,n,i){t=("boolean"==typeof e?l(t)&&(n=t,t=void 0):(t=e,e=!1,l(n=t)&&(n=t,t=void 0)),t||"");var r,a=dt(),o=e?a._week.dow:0,s=[];if(null!=n)return mn(t,(n+o)%7,i,"day");for(r=0;r<7;r++)s[r]=mn(t,(r+o)%7,i,"day");return s}$.calendar=function(e,t,n){return L(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},$.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(N).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},$.invalidDate=function(){return this._invalidDate},$.ordinal=function(e){return this._ordinal.replace("%d",e)},$.preparse=pn,$.postformat=pn,$.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return L(r)?r(e,t,n,i):r.replace(/%d/i,e)},$.pastFuture=function(e,t){return L(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},$.set=function(e){var t,n;for(n in e)d(e,n)&&(L(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},$.eras=function(e,t){for(var n,i=this._eras||dt("en")._eras,r=0,a=i.length;r<a;++r)switch("string"==typeof i[r].since&&(n=m(i[r].since).startOf("day"),i[r].since=n.valueOf()),typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":n=m(i[r].until).startOf("day").valueOf(),i[r].until=n.valueOf()}return i},$.erasParse=function(e,t,n){var i,r,a,o,s,u=this.eras();for(e=e.toUpperCase(),i=0,r=u.length;i<r;++i)if(a=u[i].name.toUpperCase(),o=u[i].abbr.toUpperCase(),s=u[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[i];break;case"NNNN":if(a===e)return u[i];break;case"NNNNN":if(s===e)return u[i]}else if(0<=[a,o,s].indexOf(e))return u[i]},$.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?m(e.since).year():m(e.since).year()+(t-e.offset)*n},$.erasAbbrRegex=function(e){return d(this,"_erasAbbrRegex")||un.call(this),e?this._erasAbbrRegex:this._erasRegex},$.erasNameRegex=function(e){return d(this,"_erasNameRegex")||un.call(this),e?this._erasNameRegex:this._erasRegex},$.erasNarrowRegex=function(e){return d(this,"_erasNarrowRegex")||un.call(this),e?this._erasNarrowRegex:this._erasRegex},$.months=function(e,t){return e?(o(this._months)?this._months:this._months[(this._months.isFormat||Ce).test(t)?"format":"standalone"])[e.month()]:o(this._months)?this._months:this._months.standalone},$.monthsShort=function(e,t){return e?(o(this._monthsShort)?this._monthsShort:this._monthsShort[Ce.test(t)?"format":"standalone"])[e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},$.monthsParse=function(e,t,n){var i,r;if(this._monthsParseExact)return function(e,t,n){var i,r,a,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ye.call(this._shortMonthsParse,e))?r:null:-1!==(r=ye.call(this._longMonthsParse,e))?r:null:"MMM"===t?-1!==(r=ye.call(this._shortMonthsParse,e))||-1!==(r=ye.call(this._longMonthsParse,e))?r:null:-1!==(r=ye.call(this._longMonthsParse,e))||-1!==(r=ye.call(this._shortMonthsParse,e))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},$.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ie),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},$.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},$.week=function(e){return He(e,this._week.dow,this._week.doy).week},$.firstDayOfYear=function(){return this._week.doy},$.firstDayOfWeek=function(){return this._week.dow},$.weekdays=function(e,t){return t=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Ge(t,this._week.dow):e?t[e.day()]:t},$.weekdaysMin=function(e){return!0===e?Ge(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},$.weekdaysShort=function(e){return!0===e?Ge(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},$.weekdaysParse=function(e,t,n){var i,r;if(this._weekdaysParseExact)return function(e,t,n){var i,r,a,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ye.call(this._weekdaysParse,e))?r:null:"ddd"===t?-1!==(r=ye.call(this._shortWeekdaysParse,e))?r:null:-1!==(r=ye.call(this._minWeekdaysParse,e))?r:null:"dddd"===t?-1!==(r=ye.call(this._weekdaysParse,e))||-1!==(r=ye.call(this._shortWeekdaysParse,e))||-1!==(r=ye.call(this._minWeekdaysParse,e))?r:null:"ddd"===t?-1!==(r=ye.call(this._shortWeekdaysParse,e))||-1!==(r=ye.call(this._weekdaysParse,e))||-1!==(r=ye.call(this._minWeekdaysParse,e))?r:null:-1!==(r=ye.call(this._minWeekdaysParse,e))||-1!==(r=ye.call(this._weekdaysParse,e))||-1!==(r=ye.call(this._shortWeekdaysParse,e))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},$.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},$.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},$.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},$.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},$.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},lt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===V(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),m.lang=n("moment.lang is deprecated. Use moment.locale instead.",lt),m.langData=n("moment.langData is deprecated. Use moment.localeData instead.",dt);var _n=Math.abs;function yn(e,t,n,i){n=Vt(t,n);return e._milliseconds+=i*n._milliseconds,e._days+=i*n._days,e._months+=i*n._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function Mn(e){return 4800*e/146097}function bn(e){return 146097*e/4800}function An(e){return function(){return this.as(e)}}oe=An("ms"),ee=An("s"),X=An("m"),J=An("h"),re=An("d"),K=An("w"),Xt=An("M"),Ct=An("Q"),Nt=An("y");function wn(e){return function(){return this.isValid()?this._data[e]:NaN}}de=wn("milliseconds"),tt=wn("seconds"),Se=wn("minutes"),Ve=wn("hours"),Qe=wn("days"),ie=wn("months"),Pe=wn("years");var xn=Math.round,En={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ln(e,t,n,i){var r=Vt(e).abs(),a=xn(r.as("s")),o=xn(r.as("m")),s=xn(r.as("h")),u=xn(r.as("d")),l=xn(r.as("M")),c=xn(r.as("w")),r=xn(r.as("y")),u=(a<=n.ss?["s",a]:a<n.s&&["ss",a])||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(u=u||c<=1&&["w"]||c<n.w&&["ww",c]),(u=u||l<=1&&["M"]||l<n.M&&["MM",l]||r<=1&&["y"]||["yy",r])[2]=t,u[3]=0<+e,u[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,u)}var Tn=Math.abs;function Dn(e){return(0<e)-(e<0)||+e}function Sn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,a,o,s=Tn(this._milliseconds)/1e3,u=Tn(this._days),l=Tn(this._months),c=this.asSeconds();return c?(e=G(s/60),t=G(e/60),s%=60,e%=60,n=G(l/12),l%=12,i=s?s.toFixed(3).replace(/\.?0+$/,""):"",r=c<0?"-":"",a=Dn(this._months)!==Dn(c)?"-":"",o=Dn(this._days)!==Dn(c)?"-":"",c=Dn(this._milliseconds)!==Dn(c)?"-":"",r+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(u?o+u+"D":"")+(t||e||s?"T":"")+(t?c+t+"H":"")+(e?c+e+"M":"")+(s?c+i+"S":"")):"P0D"}$=jt.prototype;$.isValid=function(){return this._isValid},$.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},$.add=function(e,t){return yn(this,e,t,1)},$.subtract=function(e,t){return yn(this,e,t,-1)},$.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=Y(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Mn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(bn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},$.asMilliseconds=oe,$.asSeconds=ee,$.asMinutes=X,$.asHours=J,$.asDays=re,$.asWeeks=K,$.asMonths=Xt,$.asQuarters=Ct,$.asYears=Nt,$.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},$._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*vn(bn(n)+t),n=t=0),i.milliseconds=e%1e3,e=G(e/1e3),i.seconds=e%60,e=G(e/60),i.minutes=e%60,e=G(e/60),i.hours=e%24,t+=G(e/24),n+=e=G(Mn(t)),t-=vn(bn(e)),e=G(n/12),n%=12,i.days=t,i.months=n,i.years=e,this},$.clone=function(){return Vt(this)},$.get=function(e){return e=Y(e),this.isValid()?this[e+"s"]():NaN},$.milliseconds=de,$.seconds=tt,$.minutes=Se,$.hours=Ve,$.days=Qe,$.weeks=function(){return G(this.days()/7)},$.months=ie,$.years=Pe,$.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=En;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(i=Object.assign({},En,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),t=this.localeData(),i=Ln(this,!n,i,t),n&&(i=t.pastFuture(+this,i)),t.postformat(i)},$.toISOString=Sn,$.toString=Sn,$.toJSON=Sn,$.locale=en,$.localeData=tn,$.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Sn),$.lang=ne,j("X",0,0,"unix"),j("x",0,0,"valueOf"),he("x",ue),he("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ge("x",function(e,t,n){n._d=new Date(V(e))}),m.version="2.29.1",e=St,m.fn=ae,m.min=function(){return kt("isBefore",[].slice.call(arguments,0))},m.max=function(){return kt("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=p,m.unix=function(e){return St(1e3*e)},m.months=function(e,t){return fn(e,t,"months")},m.isDate=r,m.locale=lt,m.invalid=_,m.duration=Vt,m.isMoment=b,m.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},m.parseZone=function(){return St.apply(null,arguments).parseZone()},m.localeData=dt,m.isDuration=Ot,m.monthsShort=function(e,t){return fn(e,t,"monthsShort")},m.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},m.defineLocale=ct,m.updateLocale=function(e,t){var n,i;return null!=t?(i=it,null!=rt[e]&&null!=rt[e].parentLocale?rt[e].set(T(rt[e]._config,t)):(null!=(n=ut(e))&&(i=n._config),t=T(i,t),null==n&&(t.abbr=e),(t=new D(t)).parentLocale=rt[e],rt[e]=t),lt(e)):null!=rt[e]&&(null!=rt[e].parentLocale?(rt[e]=rt[e].parentLocale,e===lt()&&lt(e)):null!=rt[e]&&delete rt[e]),rt[e]},m.locales=function(){return w(rt)},m.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},m.normalizeUnits=Y,m.relativeTimeRounding=function(e){return void 0===e?xn:"function"==typeof e&&(xn=e,!0)},m.relativeTimeThreshold=function(e,t){return void 0!==En[e]&&(void 0===t?En[e]:(En[e]=t,"s"===e&&(En.ss=t-1),!0))},m.calendarFormat=function(e,t){return(t=e.diff(t,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},m.prototype=ae,m.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},m.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[MÃ´re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});function Nn(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}var Cn={s:["Ø£ÙÙ ÙÙ Ø«Ø§ÙÙØ©","Ø«Ø§ÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø«Ø§ÙÙØªØ§Ù","Ø«Ø§ÙÙØªÙÙ"],"%d Ø«ÙØ§Ù","%d Ø«Ø§ÙÙØ©","%d Ø«Ø§ÙÙØ©"],m:["Ø£ÙÙ ÙÙ Ø¯ÙÙÙØ©","Ø¯ÙÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø¯ÙÙÙØªØ§Ù","Ø¯ÙÙÙØªÙÙ"],"%d Ø¯ÙØ§Ø¦Ù","%d Ø¯ÙÙÙØ©","%d Ø¯ÙÙÙØ©"],h:["Ø£ÙÙ ÙÙ Ø³Ø§Ø¹Ø©","Ø³Ø§Ø¹Ø© ÙØ§Ø­Ø¯Ø©",["Ø³Ø§Ø¹ØªØ§Ù","Ø³Ø§Ø¹ØªÙÙ"],"%d Ø³Ø§Ø¹Ø§Øª","%d Ø³Ø§Ø¹Ø©","%d Ø³Ø§Ø¹Ø©"],d:["Ø£ÙÙ ÙÙ ÙÙÙ","ÙÙÙ ÙØ§Ø­Ø¯",["ÙÙÙØ§Ù","ÙÙÙÙÙ"],"%d Ø£ÙØ§Ù","%d ÙÙÙÙØ§","%d ÙÙÙ"],M:["Ø£ÙÙ ÙÙ Ø´ÙØ±","Ø´ÙØ± ÙØ§Ø­Ø¯",["Ø´ÙØ±Ø§Ù","Ø´ÙØ±ÙÙ"],"%d Ø£Ø´ÙØ±","%d Ø´ÙØ±Ø§","%d Ø´ÙØ±"],y:["Ø£ÙÙ ÙÙ Ø¹Ø§Ù","Ø¹Ø§Ù ÙØ§Ø­Ø¯",["Ø¹Ø§ÙØ§Ù","Ø¹Ø§ÙÙÙ"],"%d Ø£Ø¹ÙØ§Ù","%d Ø¹Ø§ÙÙØ§","%d Ø¹Ø§Ù"]},$=function(o){return function(e,t,n,i){var r=Nn(e),a=Cn[o][Nn(e)];return 2===r&&(a=a[t?0:1]),a.replace(/%d/i,e)}},ne=["Ø¬Ø§ÙÙÙ","ÙÙÙØ±Ù","ÙØ§Ø±Ø³","Ø£ÙØ±ÙÙ","ÙØ§Ù","Ø¬ÙØ§Ù","Ø¬ÙÙÙÙØ©","Ø£ÙØª","Ø³Ø¨ØªÙØ¨Ø±","Ø£ÙØªÙØ¨Ø±","ÙÙÙÙØ¨Ø±","Ø¯ÙØ³ÙØ¨Ø±"];m.defineLocale("ar-dz",{months:ne,monthsShort:ne,weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/âM/âYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(e){return"Ù"===e},meridiem:function(e,t,n){return e<12?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯ÙØ§ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"Ø¨Ø¹Ø¯ %s",past:"ÙÙØ° %s",s:$("s"),ss:$("s"),m:$("m"),mm:$("m"),h:$("h"),hh:$("h"),d:$("d"),dd:$("d"),M:$("M"),MM:$("M"),y:$("y"),yy:$("y")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:0,doy:4}}),m.defineLocale("ar-kw",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥ØªÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø§Ø­Ø¯_Ø§ØªÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø§Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:0,doy:12}});function kn(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}var In={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},jn={s:["Ø£ÙÙ ÙÙ Ø«Ø§ÙÙØ©","Ø«Ø§ÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø«Ø§ÙÙØªØ§Ù","Ø«Ø§ÙÙØªÙÙ"],"%d Ø«ÙØ§Ù","%d Ø«Ø§ÙÙØ©","%d Ø«Ø§ÙÙØ©"],m:["Ø£ÙÙ ÙÙ Ø¯ÙÙÙØ©","Ø¯ÙÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø¯ÙÙÙØªØ§Ù","Ø¯ÙÙÙØªÙÙ"],"%d Ø¯ÙØ§Ø¦Ù","%d Ø¯ÙÙÙØ©","%d Ø¯ÙÙÙØ©"],h:["Ø£ÙÙ ÙÙ Ø³Ø§Ø¹Ø©","Ø³Ø§Ø¹Ø© ÙØ§Ø­Ø¯Ø©",["Ø³Ø§Ø¹ØªØ§Ù","Ø³Ø§Ø¹ØªÙÙ"],"%d Ø³Ø§Ø¹Ø§Øª","%d Ø³Ø§Ø¹Ø©","%d Ø³Ø§Ø¹Ø©"],d:["Ø£ÙÙ ÙÙ ÙÙÙ","ÙÙÙ ÙØ§Ø­Ø¯",["ÙÙÙØ§Ù","ÙÙÙÙÙ"],"%d Ø£ÙØ§Ù","%d ÙÙÙÙØ§","%d ÙÙÙ"],M:["Ø£ÙÙ ÙÙ Ø´ÙØ±","Ø´ÙØ± ÙØ§Ø­Ø¯",["Ø´ÙØ±Ø§Ù","Ø´ÙØ±ÙÙ"],"%d Ø£Ø´ÙØ±","%d Ø´ÙØ±Ø§","%d Ø´ÙØ±"],y:["Ø£ÙÙ ÙÙ Ø¹Ø§Ù","Ø¹Ø§Ù ÙØ§Ø­Ø¯",["Ø¹Ø§ÙØ§Ù","Ø¹Ø§ÙÙÙ"],"%d Ø£Ø¹ÙØ§Ù","%d Ø¹Ø§ÙÙØ§","%d Ø¹Ø§Ù"]},ue=function(o){return function(e,t,n,i){var r=kn(e),a=jn[o][kn(e)];return 2===r&&(a=a[t?0:1]),a.replace(/%d/i,e)}},ae=["ÙÙØ§ÙØ±","ÙØ¨Ø±Ø§ÙØ±","ÙØ§Ø±Ø³","Ø£Ø¨Ø±ÙÙ","ÙØ§ÙÙ","ÙÙÙÙÙ","ÙÙÙÙÙ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙØ¨Ø±","Ø£ÙØªÙØ¨Ø±","ÙÙÙÙØ¨Ø±","Ø¯ÙØ³ÙØ¨Ø±"];m.defineLocale("ar-ly",{months:ae,monthsShort:ae,weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/âM/âYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(e){return"Ù"===e},meridiem:function(e,t,n){return e<12?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯ÙØ§ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"Ø¨Ø¹Ø¯ %s",past:"ÙÙØ° %s",s:ue("s"),ss:ue("s"),m:ue("m"),mm:ue("m"),h:ue("h"),hh:ue("h"),d:ue("d"),dd:ue("d"),M:ue("M"),MM:ue("M"),y:ue("y"),yy:ue("y")},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return In[e]}).replace(/,/g,"Ø")},week:{dow:6,doy:12}}),m.defineLocale("ar-ma",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø§Ø­Ø¯_Ø§Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø§Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:1,doy:4}});var On={1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©",0:"Ù "},zn={"Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù ":"0"};m.defineLocale("ar-sa",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§ÙÙ_ÙÙÙÙÙ_ÙÙÙÙÙ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§ÙÙ_ÙÙÙÙÙ_ÙÙÙÙÙ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(e){return"Ù"===e},meridiem:function(e,t,n){return e<12?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},preparse:function(e){return e.replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g,function(e){return zn[e]}).replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return On[e]}).replace(/,/g,"Ø")},week:{dow:0,doy:6}}),m.defineLocale("ar-tn",{months:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),monthsShort:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:1,doy:4}});function Rn(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}var Pn={1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©",0:"Ù "},Yn={"Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù ":"0"},Bn={s:["Ø£ÙÙ ÙÙ Ø«Ø§ÙÙØ©","Ø«Ø§ÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø«Ø§ÙÙØªØ§Ù","Ø«Ø§ÙÙØªÙÙ"],"%d Ø«ÙØ§Ù","%d Ø«Ø§ÙÙØ©","%d Ø«Ø§ÙÙØ©"],m:["Ø£ÙÙ ÙÙ Ø¯ÙÙÙØ©","Ø¯ÙÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø¯ÙÙÙØªØ§Ù","Ø¯ÙÙÙØªÙÙ"],"%d Ø¯ÙØ§Ø¦Ù","%d Ø¯ÙÙÙØ©","%d Ø¯ÙÙÙØ©"],h:["Ø£ÙÙ ÙÙ Ø³Ø§Ø¹Ø©","Ø³Ø§Ø¹Ø© ÙØ§Ø­Ø¯Ø©",["Ø³Ø§Ø¹ØªØ§Ù","Ø³Ø§Ø¹ØªÙÙ"],"%d Ø³Ø§Ø¹Ø§Øª","%d Ø³Ø§Ø¹Ø©","%d Ø³Ø§Ø¹Ø©"],d:["Ø£ÙÙ ÙÙ ÙÙÙ","ÙÙÙ ÙØ§Ø­Ø¯",["ÙÙÙØ§Ù","ÙÙÙÙÙ"],"%d Ø£ÙØ§Ù","%d ÙÙÙÙØ§","%d ÙÙÙ"],M:["Ø£ÙÙ ÙÙ Ø´ÙØ±","Ø´ÙØ± ÙØ§Ø­Ø¯",["Ø´ÙØ±Ø§Ù","Ø´ÙØ±ÙÙ"],"%d Ø£Ø´ÙØ±","%d Ø´ÙØ±Ø§","%d Ø´ÙØ±"],y:["Ø£ÙÙ ÙÙ Ø¹Ø§Ù","Ø¹Ø§Ù ÙØ§Ø­Ø¯",["Ø¹Ø§ÙØ§Ù","Ø¹Ø§ÙÙÙ"],"%d Ø£Ø¹ÙØ§Ù","%d Ø¹Ø§ÙÙØ§","%d Ø¹Ø§Ù"]},ne=function(o){return function(e,t,n,i){var r=Rn(e),a=Bn[o][Rn(e)];return 2===r&&(a=a[t?0:1]),a.replace(/%d/i,e)}},$=["ÙÙØ§ÙØ±","ÙØ¨Ø±Ø§ÙØ±","ÙØ§Ø±Ø³","Ø£Ø¨Ø±ÙÙ","ÙØ§ÙÙ","ÙÙÙÙÙ","ÙÙÙÙÙ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙØ¨Ø±","Ø£ÙØªÙØ¨Ø±","ÙÙÙÙØ¨Ø±","Ø¯ÙØ³ÙØ¨Ø±"];m.defineLocale("ar",{months:$,monthsShort:$,weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/âM/âYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(e){return"Ù"===e},meridiem:function(e,t,n){return e<12?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯ÙØ§ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"Ø¨Ø¹Ø¯ %s",past:"ÙÙØ° %s",s:ne("s"),ss:ne("s"),m:ne("m"),mm:ne("m"),h:ne("h"),hh:ne("h"),d:ne("d"),dd:ne("d"),M:ne("M"),MM:ne("M"),y:ne("y"),yy:ne("y")},preparse:function(e){return e.replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g,function(e){return Yn[e]}).replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Pn[e]}).replace(/,/g,"Ø")},week:{dow:6,doy:12}});var Un={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-Ã¼ncÃ¼",4:"-Ã¼ncÃ¼",100:"-Ã¼ncÃ¼",6:"-ncÄ±",9:"-uncu",10:"-uncu",30:"-uncu",60:"-Ä±ncÄ±",90:"-Ä±ncÄ±"};function Hn(e,t,n){return"m"===n?t?"ÑÐ²ÑÐ»ÑÐ½Ð°":"ÑÐ²ÑÐ»ÑÐ½Ñ":"h"===n?t?"Ð³Ð°Ð´Ð·ÑÐ½Ð°":"Ð³Ð°Ð´Ð·ÑÐ½Ñ":e+" "+(e=+e,n=(n={ss:t?"ÑÐµÐºÑÐ½Ð´Ð°_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´":"ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´",mm:t?"ÑÐ²ÑÐ»ÑÐ½Ð°_ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½":"ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½",hh:t?"Ð³Ð°Ð´Ð·ÑÐ½Ð°_Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½":"Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½",dd:"Ð´Ð·ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð·ÑÐ½",MM:"Ð¼ÐµÑÑÑ_Ð¼ÐµÑÑÑÑ_Ð¼ÐµÑÑÑÐ°Ñ",yy:"Ð³Ð¾Ð´_Ð³Ð°Ð´Ñ_Ð³Ð°Ð´Ð¾Ñ"}[n]).split("_"),e%10==1&&e%100!=11?n[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?n[1]:n[2])}m.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertÉsi_ÃÉrÅÉnbÉ axÅamÄ±_ÃÉrÅÉnbÉ_CÃ¼mÉ axÅamÄ±_CÃ¼mÉ_ÅÉnbÉ".split("_"),weekdaysShort:"Baz_BzE_ÃAx_ÃÉr_CAx_CÃ¼m_ÅÉn".split("_"),weekdaysMin:"Bz_BE_ÃA_ÃÉ_CA_CÃ¼_ÅÉ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugÃ¼n saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gÉlÉn hÉftÉ] dddd [saat] LT",lastDay:"[dÃ¼nÉn] LT",lastWeek:"[keÃ§Én hÉftÉ] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s ÉvvÉl",s:"bir neÃ§É saniyÉ",ss:"%d saniyÉ",m:"bir dÉqiqÉ",mm:"%d dÉqiqÉ",h:"bir saat",hh:"%d saat",d:"bir gÃ¼n",dd:"%d gÃ¼n",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecÉ|sÉhÉr|gÃ¼ndÃ¼z|axÅam/,isPM:function(e){return/^(gÃ¼ndÃ¼z|axÅam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecÉ":e<12?"sÉhÉr":e<17?"gÃ¼ndÃ¼z":"axÅam"},dayOfMonthOrdinalParse:/\d{1,2}-(Ä±ncÄ±|inci|nci|Ã¼ncÃ¼|ncÄ±|uncu)/,ordinal:function(e){if(0===e)return e+"-Ä±ncÄ±";var t=e%10;return e+(Un[t]||Un[e%100-t]||Un[100<=e?100:null])},week:{dow:1,doy:7}}),m.defineLocale("be",{months:{format:"ÑÑÑÐ´Ð·ÐµÐ½Ñ_Ð»ÑÑÐ°Ð³Ð°_ÑÐ°ÐºÐ°Ð²ÑÐºÐ°_ÐºÑÐ°ÑÐ°Ð²ÑÐºÐ°_ÑÑÐ°ÑÐ½Ñ_ÑÑÑÐ²ÐµÐ½Ñ_Ð»ÑÐ¿ÐµÐ½Ñ_Ð¶Ð½ÑÑÐ½Ñ_Ð²ÐµÑÐ°ÑÐ½Ñ_ÐºÐ°ÑÑÑÑÑÐ½ÑÐºÐ°_Ð»ÑÑÑÐ°Ð¿Ð°Ð´Ð°_ÑÐ½ÐµÐ¶Ð½Ñ".split("_"),standalone:"ÑÑÑÐ´Ð·ÐµÐ½Ñ_Ð»ÑÑÑ_ÑÐ°ÐºÐ°Ð²ÑÐº_ÐºÑÐ°ÑÐ°Ð²ÑÐº_ÑÑÐ°Ð²ÐµÐ½Ñ_ÑÑÑÐ²ÐµÐ½Ñ_Ð»ÑÐ¿ÐµÐ½Ñ_Ð¶Ð½ÑÐ²ÐµÐ½Ñ_Ð²ÐµÑÐ°ÑÐµÐ½Ñ_ÐºÐ°ÑÑÑÑÑÐ½ÑÐº_Ð»ÑÑÑÐ°Ð¿Ð°Ð´_ÑÐ½ÐµÐ¶Ð°Ð½Ñ".split("_")},monthsShort:"ÑÑÑÐ´_Ð»ÑÑ_ÑÐ°Ðº_ÐºÑÐ°Ñ_ÑÑÐ°Ð²_ÑÑÑÐ²_Ð»ÑÐ¿_Ð¶Ð½ÑÐ²_Ð²ÐµÑ_ÐºÐ°ÑÑ_Ð»ÑÑÑ_ÑÐ½ÐµÐ¶".split("_"),weekdays:{format:"Ð½ÑÐ´Ð·ÐµÐ»Ñ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑÑÐ¾ÑÐ°Ðº_ÑÐµÑÐ°Ð´Ñ_ÑÐ°ÑÐ²ÐµÑ_Ð¿ÑÑÐ½ÑÑÑ_ÑÑÐ±Ð¾ÑÑ".split("_"),standalone:"Ð½ÑÐ´Ð·ÐµÐ»Ñ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑÑÐ¾ÑÐ°Ðº_ÑÐµÑÐ°Ð´Ð°_ÑÐ°ÑÐ²ÐµÑ_Ð¿ÑÑÐ½ÑÑÐ°_ÑÑÐ±Ð¾ÑÐ°".split("_"),isFormat:/\[ ?[Ð£ÑÑ] ?(?:Ð¼ÑÐ½ÑÐ»ÑÑ|Ð½Ð°ÑÑÑÐ¿Ð½ÑÑ)? ?\] ?dddd/},weekdaysShort:"Ð½Ð´_Ð¿Ð½_Ð°Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð°Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ð³.",LLL:"D MMMM YYYY Ð³., HH:mm",LLLL:"dddd, D MMMM YYYY Ð³., HH:mm"},calendar:{sameDay:"[Ð¡ÑÐ½Ð½Ñ Ñ] LT",nextDay:"[ÐÐ°ÑÑÑÐ° Ñ] LT",lastDay:"[Ð£ÑÐ¾ÑÐ° Ñ] LT",nextWeek:function(){return"[Ð£] dddd [Ñ] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[Ð£ Ð¼ÑÐ½ÑÐ»ÑÑ] dddd [Ñ] LT";case 1:case 2:case 4:return"[Ð£ Ð¼ÑÐ½ÑÐ»Ñ] dddd [Ñ] LT"}},sameElse:"L"},relativeTime:{future:"Ð¿ÑÐ°Ð· %s",past:"%s ÑÐ°Ð¼Ñ",s:"Ð½ÐµÐºÐ°Ð»ÑÐºÑ ÑÐµÐºÑÐ½Ð´",m:Hn,mm:Hn,h:Hn,hh:Hn,d:"Ð´Ð·ÐµÐ½Ñ",dd:Hn,M:"Ð¼ÐµÑÑÑ",MM:Hn,y:"Ð³Ð¾Ð´",yy:Hn},meridiemParse:/Ð½Ð¾ÑÑ|ÑÐ°Ð½ÑÑÑ|Ð´Ð½Ñ|Ð²ÐµÑÐ°ÑÐ°/,isPM:function(e){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐ°ÑÐ°)$/.test(e)},meridiem:function(e,t,n){return e<4?"Ð½Ð¾ÑÑ":e<12?"ÑÐ°Ð½ÑÑÑ":e<17?"Ð´Ð½Ñ":"Ð²ÐµÑÐ°ÑÐ°"},dayOfMonthOrdinalParse:/\d{1,2}-(Ñ|Ñ|Ð³Ð°)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-Ñ":e+"-Ñ";case"D":return e+"-Ð³Ð°";default:return e}},week:{dow:1,doy:7}}),m.defineLocale("bg",{months:"ÑÐ½ÑÐ°ÑÐ¸_ÑÐµÐ²ÑÑÐ°ÑÐ¸_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ð¹_ÑÐ½Ð¸_ÑÐ»Ð¸_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸_Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸_Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸_Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸".split("_"),monthsShort:"ÑÐ½Ñ_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_ÑÐ½Ð¸_ÑÐ»Ð¸_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),weekdays:"Ð½ÐµÐ´ÐµÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÑÐ´Ð°_ÑÐµÑÐ²ÑÑÑÑÐº_Ð¿ÐµÑÑÐº_ÑÑÐ±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²ÑÐ¾_ÑÑÑ_ÑÐµÑ_Ð¿ÐµÑ_ÑÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ÐÐ½ÐµÑ Ð²] LT",nextDay:"[Ð£ÑÑÐµ Ð²] LT",nextWeek:"dddd [Ð²] LT",lastDay:"[ÐÑÐµÑÐ° Ð²] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ÐÐ¸Ð½Ð°Ð»Ð°ÑÐ°] dddd [Ð²] LT";case 1:case 2:case 4:case 5:return"[ÐÐ¸Ð½Ð°Ð»Ð¸Ñ] dddd [Ð²] LT"}},sameElse:"L"},relativeTime:{future:"ÑÐ»ÐµÐ´ %s",past:"Ð¿ÑÐµÐ´Ð¸ %s",s:"Ð½ÑÐºÐ¾Ð»ÐºÐ¾ ÑÐµÐºÑÐ½Ð´Ð¸",ss:"%d ÑÐµÐºÑÐ½Ð´Ð¸",m:"Ð¼Ð¸Ð½ÑÑÐ°",mm:"%d Ð¼Ð¸Ð½ÑÑÐ¸",h:"ÑÐ°Ñ",hh:"%d ÑÐ°ÑÐ°",d:"Ð´ÐµÐ½",dd:"%d Ð´ÐµÐ½Ð°",w:"ÑÐµÐ´Ð¼Ð¸ÑÐ°",ww:"%d ÑÐµÐ´Ð¼Ð¸ÑÐ¸",M:"Ð¼ÐµÑÐµÑ",MM:"%d Ð¼ÐµÑÐµÑÐ°",y:"Ð³Ð¾Ð´Ð¸Ð½Ð°",yy:"%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"},dayOfMonthOrdinalParse:/\d{1,2}-(ÐµÐ²|ÐµÐ½|ÑÐ¸|Ð²Ð¸|ÑÐ¸|Ð¼Ð¸)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ÐµÐ²":0==n?e+"-ÐµÐ½":10<n&&n<20?e+"-ÑÐ¸":1==t?e+"-Ð²Ð¸":2==t?e+"-ÑÐ¸":7==t||8==t?e+"-Ð¼Ð¸":e+"-ÑÐ¸"},week:{dow:1,doy:7}}),m.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_MÉkalo_ZuwÉnkalo_Zuluyekalo_Utikalo_SÉtanburukalo_ÉkutÉburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_MÉ_Zuw_Zul_Uti_SÉt_Éku_Now_Des".split("_"),weekdays:"Kari_NtÉnÉn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_NtÉ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lÉrÉ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lÉrÉ] HH:mm"},calendar:{sameDay:"[Bi lÉrÉ] LT",nextDay:"[Sini lÉrÉ] LT",nextWeek:"dddd [don lÉrÉ] LT",lastDay:"[Kunu lÉrÉ] LT",lastWeek:"dddd [tÉmÉnen lÉrÉ] LT",sameElse:"L"},relativeTime:{future:"%s kÉnÉ",past:"a bÉ %s bÉ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lÉrÉ kelen",hh:"lÉrÉ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var Fn={1:"à§§",2:"à§¨",3:"à§©",4:"à§ª",5:"à§«",6:"à§¬",7:"à§­",8:"à§®",9:"à§¯",0:"à§¦"},Gn={"à§§":"1","à§¨":"2","à§©":"3","à§ª":"4","à§«":"5","à§¬":"6","à§­":"7","à§®":"8","à§¯":"9","à§¦":"0"};m.defineLocale("bn-bd",{months:"à¦à¦¾à¦¨à§à§à¦¾à¦°à¦¿_à¦«à§à¦¬à§à¦°à§à§à¦¾à¦°à¦¿_à¦®à¦¾à¦°à§à¦_à¦à¦ªà§à¦°à¦¿à¦²_à¦®à§_à¦à§à¦¨_à¦à§à¦²à¦¾à¦_à¦à¦à¦¸à§à¦_à¦¸à§à¦ªà§à¦à§à¦®à§à¦¬à¦°_à¦à¦à§à¦à§à¦¬à¦°_à¦¨à¦­à§à¦®à§à¦¬à¦°_à¦¡à¦¿à¦¸à§à¦®à§à¦¬à¦°".split("_"),monthsShort:"à¦à¦¾à¦¨à§_à¦«à§à¦¬à§à¦°à§_à¦®à¦¾à¦°à§à¦_à¦à¦ªà§à¦°à¦¿à¦²_à¦®à§_à¦à§à¦¨_à¦à§à¦²à¦¾à¦_à¦à¦à¦¸à§à¦_à¦¸à§à¦ªà§à¦_à¦à¦à§à¦à§_à¦¨à¦­à§_à¦¡à¦¿à¦¸à§".split("_"),weekdays:"à¦°à¦¬à¦¿à¦¬à¦¾à¦°_à¦¸à§à¦®à¦¬à¦¾à¦°_à¦®à¦à§à¦à¦²à¦¬à¦¾à¦°_à¦¬à§à¦§à¦¬à¦¾à¦°_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à¦¿à¦¬à¦¾à¦°_à¦¶à§à¦à§à¦°à¦¬à¦¾à¦°_à¦¶à¦¨à¦¿à¦¬à¦¾à¦°".split("_"),weekdaysShort:"à¦°à¦¬à¦¿_à¦¸à§à¦®_à¦®à¦à§à¦à¦²_à¦¬à§à¦§_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à¦¿_à¦¶à§à¦à§à¦°_à¦¶à¦¨à¦¿".split("_"),weekdaysMin:"à¦°à¦¬à¦¿_à¦¸à§à¦®_à¦®à¦à§à¦à¦²_à¦¬à§à¦§_à¦¬à§à¦¹_à¦¶à§à¦à§à¦°_à¦¶à¦¨à¦¿".split("_"),longDateFormat:{LT:"A h:mm à¦¸à¦®à§",LTS:"A h:mm:ss à¦¸à¦®à§",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¦¸à¦®à§",LLLL:"dddd, D MMMM YYYY, A h:mm à¦¸à¦®à§"},calendar:{sameDay:"[à¦à¦] LT",nextDay:"[à¦à¦à¦¾à¦®à§à¦à¦¾à¦²] LT",nextWeek:"dddd, LT",lastDay:"[à¦à¦¤à¦à¦¾à¦²] LT",lastWeek:"[à¦à¦¤] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¦ªà¦°à§",past:"%s à¦à¦à§",s:"à¦à§à§à¦ à¦¸à§à¦à§à¦¨à§à¦¡",ss:"%d à¦¸à§à¦à§à¦¨à§à¦¡",m:"à¦à¦ à¦®à¦¿à¦¨à¦¿à¦",mm:"%d à¦®à¦¿à¦¨à¦¿à¦",h:"à¦à¦ à¦à¦¨à§à¦à¦¾",hh:"%d à¦à¦¨à§à¦à¦¾",d:"à¦à¦ à¦¦à¦¿à¦¨",dd:"%d à¦¦à¦¿à¦¨",M:"à¦à¦ à¦®à¦¾à¦¸",MM:"%d à¦®à¦¾à¦¸",y:"à¦à¦ à¦¬à¦à¦°",yy:"%d à¦¬à¦à¦°"},preparse:function(e){return e.replace(/[à§§à§¨à§©à§ªà§«à§¬à§­à§®à§¯à§¦]/g,function(e){return Gn[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Fn[e]})},meridiemParse:/à¦°à¦¾à¦¤|à¦­à§à¦°|à¦¸à¦à¦¾à¦²|à¦¦à§à¦ªà§à¦°|à¦¬à¦¿à¦à¦¾à¦²|à¦¸à¦¨à§à¦§à§à¦¯à¦¾|à¦°à¦¾à¦¤/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¦°à¦¾à¦¤"===t?e<4?e:e+12:"à¦­à§à¦°"===t||"à¦¸à¦à¦¾à¦²"===t?e:"à¦¦à§à¦ªà§à¦°"===t?3<=e?e:e+12:"à¦¬à¦¿à¦à¦¾à¦²"===t||"à¦¸à¦¨à§à¦§à§à¦¯à¦¾"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à¦°à¦¾à¦¤":e<6?"à¦­à§à¦°":e<12?"à¦¸à¦à¦¾à¦²":e<15?"à¦¦à§à¦ªà§à¦°":e<18?"à¦¬à¦¿à¦à¦¾à¦²":e<20?"à¦¸à¦¨à§à¦§à§à¦¯à¦¾":"à¦°à¦¾à¦¤"},week:{dow:0,doy:6}});var Vn={1:"à§§",2:"à§¨",3:"à§©",4:"à§ª",5:"à§«",6:"à§¬",7:"à§­",8:"à§®",9:"à§¯",0:"à§¦"},Wn={"à§§":"1","à§¨":"2","à§©":"3","à§ª":"4","à§«":"5","à§¬":"6","à§­":"7","à§®":"8","à§¯":"9","à§¦":"0"};m.defineLocale("bn",{months:"à¦à¦¾à¦¨à§à§à¦¾à¦°à¦¿_à¦«à§à¦¬à§à¦°à§à§à¦¾à¦°à¦¿_à¦®à¦¾à¦°à§à¦_à¦à¦ªà§à¦°à¦¿à¦²_à¦®à§_à¦à§à¦¨_à¦à§à¦²à¦¾à¦_à¦à¦à¦¸à§à¦_à¦¸à§à¦ªà§à¦à§à¦®à§à¦¬à¦°_à¦à¦à§à¦à§à¦¬à¦°_à¦¨à¦­à§à¦®à§à¦¬à¦°_à¦¡à¦¿à¦¸à§à¦®à§à¦¬à¦°".split("_"),monthsShort:"à¦à¦¾à¦¨à§_à¦«à§à¦¬à§à¦°à§_à¦®à¦¾à¦°à§à¦_à¦à¦ªà§à¦°à¦¿à¦²_à¦®à§_à¦à§à¦¨_à¦à§à¦²à¦¾à¦_à¦à¦à¦¸à§à¦_à¦¸à§à¦ªà§à¦_à¦à¦à§à¦à§_à¦¨à¦­à§_à¦¡à¦¿à¦¸à§".split("_"),weekdays:"à¦°à¦¬à¦¿à¦¬à¦¾à¦°_à¦¸à§à¦®à¦¬à¦¾à¦°_à¦®à¦à§à¦à¦²à¦¬à¦¾à¦°_à¦¬à§à¦§à¦¬à¦¾à¦°_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à¦¿à¦¬à¦¾à¦°_à¦¶à§à¦à§à¦°à¦¬à¦¾à¦°_à¦¶à¦¨à¦¿à¦¬à¦¾à¦°".split("_"),weekdaysShort:"à¦°à¦¬à¦¿_à¦¸à§à¦®_à¦®à¦à§à¦à¦²_à¦¬à§à¦§_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à¦¿_à¦¶à§à¦à§à¦°_à¦¶à¦¨à¦¿".split("_"),weekdaysMin:"à¦°à¦¬à¦¿_à¦¸à§à¦®_à¦®à¦à§à¦à¦²_à¦¬à§à¦§_à¦¬à§à¦¹_à¦¶à§à¦à§à¦°_à¦¶à¦¨à¦¿".split("_"),longDateFormat:{LT:"A h:mm à¦¸à¦®à§",LTS:"A h:mm:ss à¦¸à¦®à§",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¦¸à¦®à§",LLLL:"dddd, D MMMM YYYY, A h:mm à¦¸à¦®à§"},calendar:{sameDay:"[à¦à¦] LT",nextDay:"[à¦à¦à¦¾à¦®à§à¦à¦¾à¦²] LT",nextWeek:"dddd, LT",lastDay:"[à¦à¦¤à¦à¦¾à¦²] LT",lastWeek:"[à¦à¦¤] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¦ªà¦°à§",past:"%s à¦à¦à§",s:"à¦à§à§à¦ à¦¸à§à¦à§à¦¨à§à¦¡",ss:"%d à¦¸à§à¦à§à¦¨à§à¦¡",m:"à¦à¦ à¦®à¦¿à¦¨à¦¿à¦",mm:"%d à¦®à¦¿à¦¨à¦¿à¦",h:"à¦à¦ à¦à¦¨à§à¦à¦¾",hh:"%d à¦à¦¨à§à¦à¦¾",d:"à¦à¦ à¦¦à¦¿à¦¨",dd:"%d à¦¦à¦¿à¦¨",M:"à¦à¦ à¦®à¦¾à¦¸",MM:"%d à¦®à¦¾à¦¸",y:"à¦à¦ à¦¬à¦à¦°",yy:"%d à¦¬à¦à¦°"},preparse:function(e){return e.replace(/[à§§à§¨à§©à§ªà§«à§¬à§­à§®à§¯à§¦]/g,function(e){return Wn[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Vn[e]})},meridiemParse:/à¦°à¦¾à¦¤|à¦¸à¦à¦¾à¦²|à¦¦à§à¦ªà§à¦°|à¦¬à¦¿à¦à¦¾à¦²|à¦°à¦¾à¦¤/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¦°à¦¾à¦¤"===t&&4<=e||"à¦¦à§à¦ªà§à¦°"===t&&e<5||"à¦¬à¦¿à¦à¦¾à¦²"===t?e+12:e},meridiem:function(e,t,n){return e<4?"à¦°à¦¾à¦¤":e<10?"à¦¸à¦à¦¾à¦²":e<17?"à¦¦à§à¦ªà§à¦°":e<20?"à¦¬à¦¿à¦à¦¾à¦²":"à¦°à¦¾à¦¤"},week:{dow:0,doy:6}});var Qn={1:"à¼¡",2:"à¼¢",3:"à¼£",4:"à¼¤",5:"à¼¥",6:"à¼¦",7:"à¼§",8:"à¼¨",9:"à¼©",0:"à¼ "},qn={"à¼¡":"1","à¼¢":"2","à¼£":"3","à¼¤":"4","à¼¥":"5","à¼¦":"6","à¼§":"7","à¼¨":"8","à¼©":"9","à¼ ":"0"};function Zn(e,t,n){return e+" "+(n={mm:"munutenn",MM:"miz",dd:"devezh"}[n],2!==e?n:function(e){var t={m:"v",b:"v",d:"z"};return void 0!==t[e.charAt(0)]?t[e.charAt(0)]+e.substring(1):e}(n))}m.defineLocale("bo",{months:"à½à¾³à¼à½à¼à½à½à¼à½à½¼_à½à¾³à¼à½à¼à½à½à½²à½¦à¼à½_à½à¾³à¼à½à¼à½à½¦à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½²à¼à½_à½à¾³à¼à½à¼à½£à¾à¼à½_à½à¾³à¼à½à¼à½à¾²à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à½à¼à½_à½à¾³à¼à½à¼à½à½¢à¾à¾±à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½¦à¼à½".split("_"),monthsShort:"à½à¾³à¼1_à½à¾³à¼2_à½à¾³à¼3_à½à¾³à¼4_à½à¾³à¼5_à½à¾³à¼6_à½à¾³à¼7_à½à¾³à¼8_à½à¾³à¼9_à½à¾³à¼10_à½à¾³à¼11_à½à¾³à¼12".split("_"),monthsShortRegex:/^(à½à¾³à¼\d{1,2})/,monthsParseExact:!0,weekdays:"à½à½à½ à¼à½à½²à¼à½à¼_à½à½à½ à¼à½à¾³à¼à½à¼_à½à½à½ à¼à½à½²à½à¼à½à½à½¢à¼_à½à½à½ à¼à½£à¾·à½à¼à½à¼_à½à½à½ à¼à½à½´à½¢à¼à½à½´_à½à½à½ à¼à½à¼à½¦à½à½¦à¼_à½à½à½ à¼à½¦à¾¤à½ºà½à¼à½à¼".split("_"),weekdaysShort:"à½à½²à¼à½à¼_à½à¾³à¼à½à¼_à½à½²à½à¼à½à½à½¢à¼_à½£à¾·à½à¼à½à¼_à½à½´à½¢à¼à½à½´_à½à¼à½¦à½à½¦à¼_à½¦à¾¤à½ºà½à¼à½à¼".split("_"),weekdaysMin:"à½à½²_à½à¾³_à½à½²à½_à½£à¾·à½_à½à½´à½¢_à½¦à½à½¦_à½¦à¾¤à½ºà½".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[à½à½²à¼à½¢à½²à½] LT",nextDay:"[à½¦à½à¼à½à½²à½] LT",nextWeek:"[à½à½à½´à½à¼à½à¾²à½à¼à½¢à¾à½ºà½¦à¼à½], LT",lastDay:"[à½à¼à½¦à½] LT",lastWeek:"[à½à½à½´à½à¼à½à¾²à½à¼à½à½à½ à¼à½] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à½£à¼",past:"%s à½¦à¾à½à¼à½£",s:"à½£à½à¼à½¦à½",ss:"%d à½¦à¾à½¢à¼à½à¼",m:"à½¦à¾à½¢à¼à½à¼à½à½à½²à½",mm:"%d à½¦à¾à½¢à¼à½",h:"à½à½´à¼à½à½¼à½à¼à½à½à½²à½",hh:"%d à½à½´à¼à½à½¼à½",d:"à½à½²à½à¼à½à½à½²à½",dd:"%d à½à½²à½à¼",M:"à½à¾³à¼à½à¼à½à½à½²à½",MM:"%d à½à¾³à¼à½",y:"à½£à½¼à¼à½à½à½²à½",yy:"%d à½£à½¼"},preparse:function(e){return e.replace(/[à¼¡à¼¢à¼£à¼¤à¼¥à¼¦à¼§à¼¨à¼©à¼ ]/g,function(e){return qn[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Qn[e]})},meridiemParse:/à½à½à½à¼à½à½¼|à½à½¼à½à½¦à¼à½à½¦|à½à½²à½à¼à½à½´à½|à½à½à½¼à½à¼à½à½|à½à½à½à¼à½à½¼/,meridiemHour:function(e,t){return 12===e&&(e=0),"à½à½à½à¼à½à½¼"===t&&4<=e||"à½à½²à½à¼à½à½´à½"===t&&e<5||"à½à½à½¼à½à¼à½à½"===t?e+12:e},meridiem:function(e,t,n){return e<4?"à½à½à½à¼à½à½¼":e<10?"à½à½¼à½à½¦à¼à½à½¦":e<17?"à½à½²à½à¼à½à½´à½":e<20?"à½à½à½¼à½à¼à½à½":"à½à½à½à¼à½à½¼"},week:{dow:0,doy:6}});ae=[/^gen/i,/^c[Ê¼\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],ue=/^(genver|c[Ê¼\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[Ê¼\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,$=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];function Xn(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1!==e&&(2===e||3===e||4===e)?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1!==e&&(2===e||3===e||4===e)?"godine":"godina"}}m.defineLocale("br",{months:"Genver_CÊ¼hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_CÊ¼hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_MercÊ¼her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:$,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[Ê¼\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:$,monthsRegex:ue,monthsShortRegex:ue,monthsStrictRegex:/^(genver|c[Ê¼\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[Ê¼\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:ae,longMonthsParse:ae,shortMonthsParse:ae,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[WarcÊ¼hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[DecÊ¼h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s Ê¼zo",s:"un nebeud segondennoÃ¹",ss:"%d eilenn",m:"ur vunutenn",mm:Zn,h:"un eur",hh:"%d eur",d:"un devezh",dd:Zn,M:"ur miz",MM:Zn,y:"ur bloaz",yy:function(e){switch(function e(t){if(9<t)return e(t%10);return t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(aÃ±|vet)/,ordinal:function(e){return e+(1===e?"aÃ±":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}}),m.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[proÅ¡lu] dddd [u] LT";case 6:return"[proÅ¡le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proÅ¡li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:Xn,m:Xn,mm:Xn,h:Xn,hh:Xn,d:"dan",dd:Xn,M:"mjesec",MM:Xn,y:"godinu",yy:Xn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),m.defineLocale("ca",{months:{standalone:"gener_febrer_marÃ§_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de marÃ§_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._marÃ§_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demÃ  a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquÃ­ %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|Ã¨|a)/,ordinal:function(e,t){return e+("w"!==t&&"W"!==t?1===e?"r":2===e?"n":3===e?"r":4===e?"t":"Ã¨":"a")},week:{dow:1,doy:4}});ne="leden_Ãºnor_bÅezen_duben_kvÄten_Äerven_Äervenec_srpen_zÃ¡ÅÃ­_ÅÃ­jen_listopad_prosinec".split("_"),$="led_Ãºno_bÅe_dub_kvÄ_Ävn_Ävc_srp_zÃ¡Å_ÅÃ­j_lis_pro".split("_"),ue=[/^led/i,/^Ãºno/i,/^bÅe/i,/^dub/i,/^kvÄ/i,/^(Ävn|Äerven$|Äervna)/i,/^(Ävc|Äervenec|Äervence)/i,/^srp/i,/^zÃ¡Å/i,/^ÅÃ­j/i,/^lis/i,/^pro/i],ae=/^(leden|Ãºnor|bÅezen|duben|kvÄten|Äervenec|Äervence|Äerven|Äervna|srpen|zÃ¡ÅÃ­|ÅÃ­jen|listopad|prosinec|led|Ãºno|bÅe|dub|kvÄ|Ävn|Ävc|srp|zÃ¡Å|ÅÃ­j|lis|pro)/i;function Jn(e){return 1<e&&e<5&&1!=~~(e/10)}function Kn(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pÃ¡r sekund":"pÃ¡r sekundami";case"ss":return t||i?r+(Jn(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?r+(Jn(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(Jn(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?r+(Jn(e)?"dny":"dnÃ­"):r+"dny";case"M":return t||i?"mÄsÃ­c":"mÄsÃ­cem";case"MM":return t||i?r+(Jn(e)?"mÄsÃ­ce":"mÄsÃ­cÅ¯"):r+"mÄsÃ­ci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?r+(Jn(e)?"roky":"let"):r+"lety"}}function $n(e,t,n,i){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?e[n][0]:e[n][1]}function ei(e,t,n,i){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?e[n][0]:e[n][1]}function ti(e,t,n,i){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?e[n][0]:e[n][1]}m.defineLocale("cs",{months:ne,monthsShort:$,monthsRegex:ae,monthsShortRegex:ae,monthsStrictRegex:/^(leden|ledna|Ãºnora|Ãºnor|bÅezen|bÅezna|duben|dubna|kvÄten|kvÄtna|Äervenec|Äervence|Äerven|Äervna|srpen|srpna|zÃ¡ÅÃ­|ÅÃ­jen|ÅÃ­jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|Ãºno|bÅe|dub|kvÄ|Ävn|Ävc|srp|zÃ¡Å|ÅÃ­j|lis|pro)/i,monthsParse:ue,longMonthsParse:ue,shortMonthsParse:ue,weekdays:"nedÄle_pondÄlÃ­_ÃºterÃ½_stÅeda_Ätvrtek_pÃ¡tek_sobota".split("_"),weekdaysShort:"ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),weekdaysMin:"ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zÃ­tra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedÄli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stÅedu v] LT";case 4:return"[ve Ätvrtek v] LT";case 5:return"[v pÃ¡tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vÄera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedÄli v] LT";case 1:case 2:return"[minulÃ©] dddd [v] LT";case 3:return"[minulou stÅedu v] LT";case 4:case 5:return"[minulÃ½] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pÅed %s",s:Kn,ss:Kn,m:Kn,mm:Kn,h:Kn,hh:Kn,d:Kn,dd:Kn,M:Kn,MM:Kn,y:Kn,yy:Kn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("cv",{months:"ÐºÓÑÐ»Ð°Ñ_Ð½Ð°ÑÓÑ_Ð¿ÑÑ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«ÓÑÑÐ¼Ðµ_ÑÑÓ_Ò«ÑÑÐ»Ð°_Ð°Ð²ÓÐ½_ÑÐ¿Ð°_ÑÓ³Ðº_ÑÐ°ÑÑÐ°Ð²".split("_"),monthsShort:"ÐºÓÑ_Ð½Ð°Ñ_Ð¿ÑÑ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«ÓÑ_ÑÑÓ_Ò«ÑÑ_Ð°Ð²Ð½_ÑÐ¿Ð°_ÑÓ³Ðº_ÑÐ°Ñ".split("_"),weekdays:"Ð²ÑÑÑÐ°ÑÐ½Ð¸ÐºÑÐ½_ÑÑÐ½ÑÐ¸ÐºÑÐ½_ÑÑÐ»Ð°ÑÐ¸ÐºÑÐ½_ÑÐ½ÐºÑÐ½_ÐºÓÒ«Ð½ÐµÑÐ½Ð¸ÐºÑÐ½_ÑÑÐ½ÐµÐºÑÐ½_ÑÓÐ¼Ð°ÑÐºÑÐ½".split("_"),weekdaysShort:"Ð²ÑÑ_ÑÑÐ½_ÑÑÐ»_ÑÐ½_ÐºÓÒ«_ÑÑÐ½_ÑÓÐ¼".split("_"),weekdaysMin:"Ð²Ñ_ÑÐ½_ÑÑ_ÑÐ½_ÐºÒ«_ÑÑ_ÑÐ¼".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ]",LLL:"YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ], HH:mm",LLLL:"dddd, YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ], HH:mm"},calendar:{sameDay:"[ÐÐ°ÑÐ½] LT [ÑÐµÑÐµÑÑÐµ]",nextDay:"[Ð«ÑÐ°Ð½] LT [ÑÐµÑÐµÑÑÐµ]",lastDay:"[ÓÐ½ÐµÑ] LT [ÑÐµÑÐµÑÑÐµ]",nextWeek:"[ÒªÐ¸ÑÐµÑ] dddd LT [ÑÐµÑÐµÑÑÐµ]",lastWeek:"[ÐÑÑÐ½Ó] dddd LT [ÑÐµÑÐµÑÑÐµ]",sameElse:"L"},relativeTime:{future:function(e){return e+(/ÑÐµÑÐµÑ$/i.exec(e)?"ÑÐµÐ½":/Ò«ÑÐ»$/i.exec(e)?"ÑÐ°Ð½":"ÑÐ°Ð½")},past:"%s ÐºÐ°ÑÐ»Ð»Ð°",s:"Ð¿ÓÑ-Ð¸Ðº Ò«ÐµÐºÐºÑÐ½Ñ",ss:"%d Ò«ÐµÐºÐºÑÐ½Ñ",m:"Ð¿ÓÑ Ð¼Ð¸Ð½ÑÑ",mm:"%d Ð¼Ð¸Ð½ÑÑ",h:"Ð¿ÓÑ ÑÐµÑÐµÑ",hh:"%d ÑÐµÑÐµÑ",d:"Ð¿ÓÑ ÐºÑÐ½",dd:"%d ÐºÑÐ½",M:"Ð¿ÓÑ ÑÐ¹ÓÑ",MM:"%d ÑÐ¹ÓÑ",y:"Ð¿ÓÑ Ò«ÑÐ»",yy:"%d Ò«ÑÐ»"},dayOfMonthOrdinalParse:/\d{1,2}-Ð¼ÓÑ/,ordinal:"%d-Ð¼ÓÑ",week:{dow:1,doy:7}}),m.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn Ã´l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return 20<e?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":0<e&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}}),m.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸n_man_tir_ons_tor_fre_lÃ¸r".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"pÃ¥ dddd [kl.] LT",lastDay:"[i gÃ¥r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"fÃ¥ sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"et Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("de-at",{months:"JÃ¤nner_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"JÃ¤n._Feb._MÃ¤rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$n,mm:"%d Minuten",h:$n,hh:"%d Stunden",d:$n,dd:$n,w:$n,ww:"%d Wochen",M:$n,MM:$n,y:$n,yy:$n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("de-ch",{months:"Januar_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._MÃ¤rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:ei,mm:"%d Minuten",h:ei,hh:"%d Stunden",d:ei,dd:ei,w:ei,ww:"%d Wochen",M:ei,MM:ei,y:ei,yy:ei},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("de",{months:"Januar_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._MÃ¤rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:ti,mm:"%d Minuten",h:ti,hh:"%d Stunden",d:ti,dd:ti,w:ti,ww:"%d Wochen",M:ti,MM:ti,y:ti,yy:ti},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});ae=["ÞÞ¬ÞÞªÞÞ¦ÞÞ©","ÞÞ¬ÞÞ°ÞÞªÞÞ¦ÞÞ©","ÞÞ§ÞÞ¨ÞÞª","ÞÞ­ÞÞ°ÞÞ©ÞÞª","ÞÞ­","ÞÞ«ÞÞ°","ÞÞªÞÞ¦ÞÞ¨","ÞÞ¯ÞÞ¦ÞÞ°ÞÞª","ÞÞ¬ÞÞ°ÞÞ¬ÞÞ°ÞÞ¦ÞÞª","ÞÞ®ÞÞ°ÞÞ¯ÞÞ¦ÞÞª","ÞÞ®ÞÞ¬ÞÞ°ÞÞ¦ÞÞª","ÞÞ¨ÞÞ¬ÞÞ°ÞÞ¦ÞÞª"],ue=["ÞÞ§ÞÞ¨ÞÞ°ÞÞ¦","ÞÞ¯ÞÞ¦","ÞÞ¦ÞÞ°ÞÞ§ÞÞ¦","ÞÞªÞÞ¦","ÞÞªÞÞ§ÞÞ°ÞÞ¦ÞÞ¨","ÞÞªÞÞªÞÞª","ÞÞ®ÞÞ¨ÞÞ¨ÞÞª"];m.defineLocale("dv",{months:ae,monthsShort:ae,weekdays:ue,weekdaysShort:ue,weekdaysMin:"ÞÞ§ÞÞ¨_ÞÞ¯ÞÞ¦_ÞÞ¦ÞÞ°_ÞÞªÞÞ¦_ÞÞªÞÞ§_ÞÞªÞÞª_ÞÞ®ÞÞ¨".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ÞÞ|ÞÞ/,isPM:function(e){return"ÞÞ"===e},meridiem:function(e,t,n){return e<12?"ÞÞ":"ÞÞ"},calendar:{sameDay:"[ÞÞ¨ÞÞ¦ÞÞª] LT",nextDay:"[ÞÞ§ÞÞ¦ÞÞ§] LT",nextWeek:"dddd LT",lastDay:"[ÞÞ¨ÞÞ°ÞÞ¬] LT",lastWeek:"[ÞÞ§ÞÞ¨ÞÞªÞÞ¨] dddd LT",sameElse:"L"},relativeTime:{future:"ÞÞ¬ÞÞ­ÞÞ¦ÞÞ¨ %s",past:"ÞÞªÞÞ¨ÞÞ° %s",s:"ÞÞ¨ÞÞªÞÞ°ÞÞªÞÞ®ÞÞ¬ÞÞ°",ss:"d% ÞÞ¨ÞÞªÞÞ°ÞÞª",m:"ÞÞ¨ÞÞ¨ÞÞ¬ÞÞ°",mm:"ÞÞ¨ÞÞ¨ÞÞª %d",h:"ÞÞ¦ÞÞ¨ÞÞ¨ÞÞ¬ÞÞ°",hh:"ÞÞ¦ÞÞ¨ÞÞ¨ÞÞª %d",d:"ÞÞªÞÞ¦ÞÞ¬ÞÞ°",dd:"ÞÞªÞÞ¦ÞÞ° %d",M:"ÞÞ¦ÞÞ¬ÞÞ°",MM:"ÞÞ¦ÞÞ° %d",y:"ÞÞ¦ÞÞ¦ÞÞ¬ÞÞ°",yy:"ÞÞ¦ÞÞ¦ÞÞª %d"},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:7,doy:12}}),m.defineLocale("el",{monthsNominativeEl:"ÎÎ±Î½Î¿ÏÎ¬ÏÎ¹Î¿Ï_Î¦ÎµÎ²ÏÎ¿ÏÎ¬ÏÎ¹Î¿Ï_ÎÎ¬ÏÏÎ¹Î¿Ï_ÎÏÏÎ¯Î»Î¹Î¿Ï_ÎÎ¬Î¹Î¿Ï_ÎÎ¿ÏÎ½Î¹Î¿Ï_ÎÎ¿ÏÎ»Î¹Î¿Ï_ÎÏÎ³Î¿ÏÏÏÎ¿Ï_Î£ÎµÏÏÎ­Î¼Î²ÏÎ¹Î¿Ï_ÎÎºÏÏÎ²ÏÎ¹Î¿Ï_ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï_ÎÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï".split("_"),monthsGenitiveEl:"ÎÎ±Î½Î¿ÏÎ±ÏÎ¯Î¿Ï_Î¦ÎµÎ²ÏÎ¿ÏÎ±ÏÎ¯Î¿Ï_ÎÎ±ÏÏÎ¯Î¿Ï_ÎÏÏÎ¹Î»Î¯Î¿Ï_ÎÎ±ÎÎ¿Ï_ÎÎ¿ÏÎ½Î¯Î¿Ï_ÎÎ¿ÏÎ»Î¯Î¿Ï_ÎÏÎ³Î¿ÏÏÏÎ¿Ï_Î£ÎµÏÏÎµÎ¼Î²ÏÎ¯Î¿Ï_ÎÎºÏÏÎ²ÏÎ¯Î¿Ï_ÎÎ¿ÎµÎ¼Î²ÏÎ¯Î¿Ï_ÎÎµÎºÎµÎ¼Î²ÏÎ¯Î¿Ï".split("_"),months:function(e,t){return e?("string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl:this._monthsNominativeEl)[e.month()]:this._monthsNominativeEl},monthsShort:"ÎÎ±Î½_Î¦ÎµÎ²_ÎÎ±Ï_ÎÏÏ_ÎÎ±Ï_ÎÎ¿ÏÎ½_ÎÎ¿ÏÎ»_ÎÏÎ³_Î£ÎµÏ_ÎÎºÏ_ÎÎ¿Îµ_ÎÎµÎº".split("_"),weekdays:"ÎÏÏÎ¹Î±ÎºÎ®_ÎÎµÏÏÎ­ÏÎ±_Î¤ÏÎ¯ÏÎ·_Î¤ÎµÏÎ¬ÏÏÎ·_Î Î­Î¼ÏÏÎ·_Î Î±ÏÎ±ÏÎºÎµÏÎ®_Î£Î¬Î²Î²Î±ÏÎ¿".split("_"),weekdaysShort:"ÎÏÏ_ÎÎµÏ_Î¤ÏÎ¹_Î¤ÎµÏ_Î ÎµÎ¼_Î Î±Ï_Î£Î±Î²".split("_"),weekdaysMin:"ÎÏ_ÎÎµ_Î¤Ï_Î¤Îµ_Î Îµ_Î Î±_Î£Î±".split("_"),meridiem:function(e,t,n){return 11<e?n?"Î¼Î¼":"ÎÎ":n?"ÏÎ¼":"Î Î"},isPM:function(e){return"Î¼"===(e+"").toLowerCase()[0]},meridiemParse:/[Î Î]\.?Î?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Î£Î®Î¼ÎµÏÎ± {}] LT",nextDay:"[ÎÏÏÎ¹Î¿ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Î§Î¸ÎµÏ {}] LT",lastWeek:function(){return 6!==this.day()?"[ÏÎ·Î½ ÏÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·] dddd [{}] LT":"[ÏÎ¿ ÏÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿] dddd [{}] LT"},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],i=t&&t.hours();return e=n,("undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e))&&(n=n.apply(t)),n.replace("{}",i%12==1?"ÏÏÎ·":"ÏÏÎ¹Ï")},relativeTime:{future:"ÏÎµ %s",past:"%s ÏÏÎ¹Î½",s:"Î»Î¯Î³Î± Î´ÎµÏÏÎµÏÏÎ»ÎµÏÏÎ±",ss:"%d Î´ÎµÏÏÎµÏÏÎ»ÎµÏÏÎ±",m:"Î­Î½Î± Î»ÎµÏÏÏ",mm:"%d Î»ÎµÏÏÎ¬",h:"Î¼Î¯Î± ÏÏÎ±",hh:"%d ÏÏÎµÏ",d:"Î¼Î¯Î± Î¼Î­ÏÎ±",dd:"%d Î¼Î­ÏÎµÏ",M:"Î­Î½Î±Ï Î¼Î®Î½Î±Ï",MM:"%d Î¼Î®Î½ÎµÏ",y:"Î­Î½Î±Ï ÏÏÏÎ½Î¿Ï",yy:"%d ÏÏÏÎ½Î¹Î±"},dayOfMonthOrdinalParse:/\d{1,2}Î·/,ordinal:"%dÎ·",week:{dow:1,doy:4}}),m.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:0,doy:4}}),m.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),m.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:1,doy:4}}),m.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:1,doy:4}}),m.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),m.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:0,doy:6}}),m.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:1,doy:4}}),m.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:1,doy:4}}),m.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aÅ­gusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aÅ­g_sept_okt_nov_dec".split("_"),weekdays:"dimanÄo_lundo_mardo_merkredo_ÄµaÅ­do_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ÄµaÅ­_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_Äµa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return 11<e?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[HodiaÅ­ je] LT",nextDay:"[MorgaÅ­ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[HieraÅ­ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaÅ­ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var ni="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ii="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),ae=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ue=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;m.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?(/-MMM-/.test(t)?ii:ni)[e.month()]:ni},monthsRegex:ue,monthsShortRegex:ue,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ae,longMonthsParse:ae,shortMonthsParse:ae,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}});var ri="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ai="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),ue=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ae=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;m.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?(/-MMM-/.test(t)?ai:ri)[e.month()]:ri},monthsRegex:ae,monthsShortRegex:ae,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ue,longMonthsParse:ue,shortMonthsParse:ue,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:0,doy:4},invalidDate:"Fecha invÃ¡lida"});var oi="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),si="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),ae=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ue=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;m.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?(/-MMM-/.test(t)?si:oi)[e.month()]:oi},monthsRegex:ue,monthsShortRegex:ue,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ae,longMonthsParse:ae,shortMonthsParse:ae,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:0,doy:6}});var ui="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),li="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),ue=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ae=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function ci(e,t,n,i){e={s:["mÃµne sekundi","mÃµni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["Ã¼he minuti","Ã¼ks minut"],mm:[e+" minuti",e+" minutit"],h:["Ã¼he tunni","tund aega","Ã¼ks tund"],hh:[e+" tunni",e+" tundi"],d:["Ã¼he pÃ¤eva","Ã¼ks pÃ¤ev"],M:["kuu aja","kuu aega","Ã¼ks kuu"],MM:[e+" kuu",e+" kuud"],y:["Ã¼he aasta","aasta","Ã¼ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?e[n][2]||e[n][1]:i?e[n][0]:e[n][1]}m.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?(/-MMM-/.test(t)?li:ui)[e.month()]:ui},monthsRegex:ae,monthsShortRegex:ae,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ue,longMonthsParse:ue,shortMonthsParse:ue,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4},invalidDate:"Fecha invÃ¡lida"}),m.defineLocale("et",{months:"jaanuar_veebruar_mÃ¤rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mÃ¤rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pÃ¼hapÃ¤ev_esmaspÃ¤ev_teisipÃ¤ev_kolmapÃ¤ev_neljapÃ¤ev_reede_laupÃ¤ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[TÃ¤na,] LT",nextDay:"[Homme,] LT",nextWeek:"[JÃ¤rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pÃ¤rast",past:"%s tagasi",s:ci,ss:ci,m:ci,mm:ci,h:ci,hh:ci,d:ci,dd:"%d pÃ¤eva",M:ci,MM:ci,y:ci,yy:ci},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var di={1:"Û±",2:"Û²",3:"Û³",4:"Û´",5:"Ûµ",6:"Û¶",7:"Û·",8:"Û¸",9:"Û¹",0:"Û°"},hi={"Û±":"1","Û²":"2","Û³":"3","Û´":"4","Ûµ":"5","Û¶":"6","Û·":"7","Û¸":"8","Û¹":"9","Û°":"0"};m.defineLocale("fa",{months:"ÚØ§ÙÙÛÙ_ÙÙØ±ÛÙ_ÙØ§Ø±Ø³_Ø¢ÙØ±ÛÙ_ÙÙ_ÚÙØ¦Ù_ÚÙØ¦ÛÙ_Ø§ÙØª_Ø³Ù¾ØªØ§ÙØ¨Ø±_Ø§Ú©ØªØ¨Ø±_ÙÙØ§ÙØ¨Ø±_Ø¯Ø³Ø§ÙØ¨Ø±".split("_"),monthsShort:"ÚØ§ÙÙÛÙ_ÙÙØ±ÛÙ_ÙØ§Ø±Ø³_Ø¢ÙØ±ÛÙ_ÙÙ_ÚÙØ¦Ù_ÚÙØ¦ÛÙ_Ø§ÙØª_Ø³Ù¾ØªØ§ÙØ¨Ø±_Ø§Ú©ØªØ¨Ø±_ÙÙØ§ÙØ¨Ø±_Ø¯Ø³Ø§ÙØ¨Ø±".split("_"),weekdays:"ÛÚ©âØ´ÙØ¨Ù_Ø¯ÙØ´ÙØ¨Ù_Ø³ÙâØ´ÙØ¨Ù_ÚÙØ§Ø±Ø´ÙØ¨Ù_Ù¾ÙØ¬âØ´ÙØ¨Ù_Ø¬ÙØ¹Ù_Ø´ÙØ¨Ù".split("_"),weekdaysShort:"ÛÚ©âØ´ÙØ¨Ù_Ø¯ÙØ´ÙØ¨Ù_Ø³ÙâØ´ÙØ¨Ù_ÚÙØ§Ø±Ø´ÙØ¨Ù_Ù¾ÙØ¬âØ´ÙØ¨Ù_Ø¬ÙØ¹Ù_Ø´ÙØ¨Ù".split("_"),weekdaysMin:"Û_Ø¯_Ø³_Ú_Ù¾_Ø¬_Ø´".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ÙØ¨Ù Ø§Ø² Ø¸ÙØ±|Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±/,isPM:function(e){return/Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±/.test(e)},meridiem:function(e,t,n){return e<12?"ÙØ¨Ù Ø§Ø² Ø¸ÙØ±":"Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±"},calendar:{sameDay:"[Ø§ÙØ±ÙØ² Ø³Ø§Ø¹Øª] LT",nextDay:"[ÙØ±Ø¯Ø§ Ø³Ø§Ø¹Øª] LT",nextWeek:"dddd [Ø³Ø§Ø¹Øª] LT",lastDay:"[Ø¯ÛØ±ÙØ² Ø³Ø§Ø¹Øª] LT",lastWeek:"dddd [Ù¾ÛØ´] [Ø³Ø§Ø¹Øª] LT",sameElse:"L"},relativeTime:{future:"Ø¯Ø± %s",past:"%s Ù¾ÛØ´",s:"ÚÙØ¯ Ø«Ø§ÙÛÙ",ss:"%d Ø«Ø§ÙÛÙ",m:"ÛÚ© Ø¯ÙÛÙÙ",mm:"%d Ø¯ÙÛÙÙ",h:"ÛÚ© Ø³Ø§Ø¹Øª",hh:"%d Ø³Ø§Ø¹Øª",d:"ÛÚ© Ø±ÙØ²",dd:"%d Ø±ÙØ²",M:"ÛÚ© ÙØ§Ù",MM:"%d ÙØ§Ù",y:"ÛÚ© Ø³Ø§Ù",yy:"%d Ø³Ø§Ù"},preparse:function(e){return e.replace(/[Û°-Û¹]/g,function(e){return hi[e]}).replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return di[e]}).replace(/,/g,"Ø")},dayOfMonthOrdinalParse:/\d{1,2}Ù/,ordinal:"%dÙ",week:{dow:6,doy:12}});var pi="nolla yksi kaksi kolme neljÃ¤ viisi kuusi seitsemÃ¤n kahdeksan yhdeksÃ¤n".split(" "),mi=["nolla","yhden","kahden","kolmen","neljÃ¤n","viiden","kuuden",pi[7],pi[8],pi[9]];function fi(e,t,n,i){var r="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"ss":r=i?"sekunnin":"sekuntia";break;case"m":return i?"minuutin":"minuutti";case"mm":r=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":r=i?"tunnin":"tuntia";break;case"d":return i?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤";case"dd":r=i?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤Ã¤";break;case"M":return i?"kuukauden":"kuukausi";case"MM":r=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":r=i?"vuoden":"vuotta"}return n=i,r=((e=e)<10?(n?mi:pi)[e]:e)+" "+r}m.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesÃ¤kuu_heinÃ¤kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesÃ¤_heinÃ¤_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tÃ¤nÃ¤Ã¤n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pÃ¤Ã¤stÃ¤",past:"%s sitten",s:fi,ss:fi,m:fi,mm:fi,h:fi,hh:fi,d:fi,dd:fi,M:fi,MM:fi,y:fi,yy:fi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),m.defineLocale("fo",{months:"januar_februar_mars_aprÃ­l_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mÃ¡nadagur_tÃ½sdagur_mikudagur_hÃ³sdagur_frÃ­ggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mÃ¡n_tÃ½s_mik_hÃ³s_frÃ­_ley".split("_"),weekdaysMin:"su_mÃ¡_tÃ½_mi_hÃ³_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Ã dag kl.] LT",nextDay:"[Ã morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Ã gjÃ¡r kl.] LT",lastWeek:"[sÃ­Ã°stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sÃ­Ã°ani",s:"fÃ¡ sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tÃ­mi",hh:"%d tÃ­mar",d:"ein dagur",dd:"%d dagar",M:"ein mÃ¡naÃ°ur",MM:"%d mÃ¡naÃ°ir",y:"eitt Ã¡r",yy:"%d Ã¡r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("fr-ca",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),m.defineLocale("fr-ch",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});ae=/(janv\.?|fÃ©vr\.?|mars|avr\.?|mai|juin|juil\.?|aoÃ»t|sept\.?|oct\.?|nov\.?|dÃ©c\.?|janvier|fÃ©vrier|mars|avril|mai|juin|juillet|aoÃ»t|septembre|octobre|novembre|dÃ©cembre)/i,ue=[/^janv/i,/^fÃ©vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aoÃ»t/i,/^sept/i,/^oct/i,/^nov/i,/^dÃ©c/i];m.defineLocale("fr",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsRegex:ae,monthsShortRegex:ae,monthsStrictRegex:/^(janvier|fÃ©vrier|mars|avril|mai|juin|juillet|aoÃ»t|septembre|octobre|novembre|dÃ©cembre)/i,monthsShortStrictRegex:/(janv\.?|fÃ©vr\.?|mars|avr\.?|mai|juin|juil\.?|aoÃ»t|sept\.?|oct\.?|nov\.?|dÃ©c\.?)/i,monthsParse:ue,longMonthsParse:ue,shortMonthsParse:ue,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var gi="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),_i="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");m.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return e?(/-MMM-/.test(t)?_i:gi)[e.month()]:gi},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[Ã´frÃ»ne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minÃºt",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});m.defineLocale("ga",{months:["EanÃ¡ir","Feabhra","MÃ¡rta","AibreÃ¡n","Bealtaine","Meitheamh","IÃºil","LÃºnasa","MeÃ¡n FÃ³mhair","Deireadh FÃ³mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","MÃ¡rt","Aib","Beal","Meith","IÃºil","LÃºn","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["DÃ© Domhnaigh","DÃ© Luain","DÃ© MÃ¡irt","DÃ© CÃ©adaoin","DÃ©ardaoin","DÃ© hAoine","DÃ© Sathairn"],weekdaysShort:["Domh","Luan","MÃ¡irt","CÃ©ad","DÃ©ar","Aoine","Sath"],weekdaysMin:["Do","Lu","MÃ¡","CÃ©","DÃ©","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[AmÃ¡rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[InnÃ© ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s Ã³ shin",s:"cÃºpla soicind",ss:"%d soicind",m:"nÃ³imÃ©ad",mm:"%d nÃ³imÃ©ad",h:"uair an chloig",hh:"%d uair an chloig",d:"lÃ¡",dd:"%d lÃ¡",M:"mÃ­",MM:"%d mÃ­onna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}});function yi(e,t,n,i){e={s:["à¤¥à¥à¤¡à¤¯à¤¾ à¤¸à¥à¤à¤à¤¡à¤¾à¤à¤¨à¥","à¤¥à¥à¤¡à¥ à¤¸à¥à¤à¤à¤¡"],ss:[e+" à¤¸à¥à¤à¤à¤¡à¤¾à¤à¤¨à¥",e+" à¤¸à¥à¤à¤à¤¡"],m:["à¤à¤à¤¾ à¤®à¤¿à¤£à¤à¤¾à¤¨","à¤à¤ à¤®à¤¿à¤¨à¥à¤"],mm:[e+" à¤®à¤¿à¤£à¤à¤¾à¤à¤¨à¥",e+" à¤®à¤¿à¤£à¤à¤¾à¤"],h:["à¤à¤à¤¾ à¤µà¤°à¤¾à¤¨","à¤à¤ à¤µà¤°"],hh:[e+" à¤µà¤°à¤¾à¤à¤¨à¥",e+" à¤µà¤°à¤¾à¤"],d:["à¤à¤à¤¾ à¤¦à¤¿à¤¸à¤¾à¤¨","à¤à¤ à¤¦à¥à¤¸"],dd:[e+" à¤¦à¤¿à¤¸à¤¾à¤à¤¨à¥",e+" à¤¦à¥à¤¸"],M:["à¤à¤à¤¾ à¤®à¥à¤¹à¤¯à¤¨à¥à¤¯à¤¾à¤¨","à¤à¤ à¤®à¥à¤¹à¤¯à¤¨à¥"],MM:[e+" à¤®à¥à¤¹à¤¯à¤¨à¥à¤¯à¤¾à¤¨à¥",e+" à¤®à¥à¤¹à¤¯à¤¨à¥"],y:["à¤à¤à¤¾ à¤µà¤°à¥à¤¸à¤¾à¤¨","à¤à¤ à¤µà¤°à¥à¤¸"],yy:[e+" à¤µà¤°à¥à¤¸à¤¾à¤à¤¨à¥",e+" à¤µà¤°à¥à¤¸à¤¾à¤"]};return i?e[n][0]:e[n][1]}function vi(e,t,n,i){e={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return i?e[n][0]:e[n][1]}m.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am MÃ rt","An Giblean","An CÃ¨itean","An t-Ãgmhios","An t-Iuchar","An LÃ¹nastal","An t-Sultain","An DÃ mhair","An t-Samhain","An DÃ¹bhlachd"],monthsShort:["Faoi","Gear","MÃ rt","Gibl","CÃ¨it","Ãgmh","Iuch","LÃ¹n","Sult","DÃ mh","Samh","DÃ¹bh"],monthsParseExact:!0,weekdays:["DidÃ²mhnaich","Diluain","DimÃ irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["DÃ²","Lu","MÃ ","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mÃ ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dÃ¨ aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mÃ¬os",MM:"%d mÃ¬osan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),m.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuÃ±o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuÃ±._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mÃ©rcores_xoves_venres_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._mÃ©r._xov._ven._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mÃ©_xo_ve_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"Ã¡s":"Ã¡")+"] LT"},nextDay:function(){return"[maÃ±Ã¡ "+(1!==this.hours()?"Ã¡s":"Ã¡")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"Ã¡s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"Ã¡":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"Ã¡s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),m.defineLocale("gom-deva",{months:{standalone:"à¤à¤¾à¤¨à¥à¤µà¤¾à¤°à¥_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤¾à¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥à¤²_à¤®à¥_à¤à¥à¤¨_à¤à¥à¤²à¤¯_à¤à¤à¤¸à¥à¤_à¤¸à¤ªà¥à¤à¥à¤à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¥à¤µà¥à¤¹à¥à¤à¤¬à¤°_à¤¡à¤¿à¤¸à¥à¤à¤¬à¤°".split("_"),format:"à¤à¤¾à¤¨à¥à¤µà¤¾à¤°à¥à¤à¥à¤¯à¤¾_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤¾à¤°à¥à¤à¥à¤¯à¤¾_à¤®à¤¾à¤°à¥à¤à¤¾à¤à¥à¤¯à¤¾_à¤à¤ªà¥à¤°à¥à¤²à¤¾à¤à¥à¤¯à¤¾_à¤®à¥à¤¯à¤¾à¤à¥à¤¯à¤¾_à¤à¥à¤¨à¤¾à¤à¥à¤¯à¤¾_à¤à¥à¤²à¤¯à¤¾à¤à¥à¤¯à¤¾_à¤à¤à¤¸à¥à¤à¤¾à¤à¥à¤¯à¤¾_à¤¸à¤ªà¥à¤à¥à¤à¤¬à¤°à¤¾à¤à¥à¤¯à¤¾_à¤à¤à¥à¤à¥à¤¬à¤°à¤¾à¤à¥à¤¯à¤¾_à¤¨à¥à¤µà¥à¤¹à¥à¤à¤¬à¤°à¤¾à¤à¥à¤¯à¤¾_à¤¡à¤¿à¤¸à¥à¤à¤¬à¤°à¤¾à¤à¥à¤¯à¤¾".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"à¤à¤¾à¤¨à¥._à¤«à¥à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥._à¤®à¥_à¤à¥à¤¨_à¤à¥à¤²._à¤à¤._à¤¸à¤ªà¥à¤à¥à¤._à¤à¤à¥à¤à¥._à¤¨à¥à¤µà¥à¤¹à¥à¤._à¤¡à¤¿à¤¸à¥à¤.".split("_"),monthsParseExact:!0,weekdays:"à¤à¤¯à¤¤à¤¾à¤°_à¤¸à¥à¤®à¤¾à¤°_à¤®à¤à¤à¤³à¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤¬à¤¿à¤°à¥à¤¸à¥à¤¤à¤¾à¤°_à¤¸à¥à¤à¥à¤°à¤¾à¤°_à¤¶à¥à¤¨à¤µà¤¾à¤°".split("_"),weekdaysShort:"à¤à¤¯à¤¤._à¤¸à¥à¤®._à¤®à¤à¤à¤³._à¤¬à¥à¤§._à¤¬à¥à¤°à¥à¤¸à¥à¤¤._à¤¸à¥à¤à¥à¤°._à¤¶à¥à¤¨.".split("_"),weekdaysMin:"à¤_à¤¸à¥_à¤®à¤_à¤¬à¥_à¤¬à¥à¤°à¥_à¤¸à¥_à¤¶à¥".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [à¤µà¤¾à¤à¤¤à¤¾à¤]",LTS:"A h:mm:ss [à¤µà¤¾à¤à¤¤à¤¾à¤]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [à¤µà¤¾à¤à¤¤à¤¾à¤]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [à¤µà¤¾à¤à¤¤à¤¾à¤]",llll:"ddd, D MMM YYYY, A h:mm [à¤µà¤¾à¤à¤¤à¤¾à¤]"},calendar:{sameDay:"[à¤à¤¯à¤] LT",nextDay:"[à¤«à¤¾à¤²à¥à¤¯à¤¾à¤] LT",nextWeek:"[à¤«à¥à¤¡à¤²à¥] dddd[,] LT",lastDay:"[à¤à¤¾à¤²] LT",lastWeek:"[à¤«à¤¾à¤à¤²à¥] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s à¤à¤¦à¥à¤",s:yi,ss:yi,m:yi,mm:yi,h:yi,hh:yi,d:yi,dd:yi,M:yi,MM:yi,y:yi,yy:yi},dayOfMonthOrdinalParse:/\d{1,2}(à¤µà¥à¤°)/,ordinal:function(e,t){switch(t){case"D":return e+"à¤µà¥à¤°";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/à¤°à¤¾à¤¤à¥|à¤¸à¤à¤¾à¤³à¥à¤|à¤¦à¤¨à¤ªà¤¾à¤°à¤¾à¤|à¤¸à¤¾à¤à¤à¥/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¤°à¤¾à¤¤à¥"===t?e<4?e:e+12:"à¤¸à¤à¤¾à¤³à¥à¤"===t?e:"à¤¦à¤¨à¤ªà¤¾à¤°à¤¾à¤"===t?12<e?e:e+12:"à¤¸à¤¾à¤à¤à¥"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à¤°à¤¾à¤¤à¥":e<12?"à¤¸à¤à¤¾à¤³à¥à¤":e<16?"à¤¦à¤¨à¤ªà¤¾à¤°à¤¾à¤":e<20?"à¤¸à¤¾à¤à¤à¥":"à¤°à¤¾à¤¤à¥"}}),m.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:vi,ss:vi,m:vi,mm:vi,h:vi,hh:vi,d:vi,dd:vi,M:vi,MM:vi,y:vi,yy:vi},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?12<e?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});var Mi={1:"à«§",2:"à«¨",3:"à«©",4:"à«ª",5:"à««",6:"à«¬",7:"à«­",8:"à«®",9:"à«¯",0:"à«¦"},bi={"à«§":"1","à«¨":"2","à«©":"3","à«ª":"4","à««":"5","à«¬":"6","à«­":"7","à«®":"8","à«¯":"9","à«¦":"0"};m.defineLocale("gu",{months:"àªàª¾àª¨à«àª¯à«àªàª°à«_àª«à«àª¬à«àª°à«àªàª°à«_àª®àª¾àª°à«àª_àªàªªà«àª°àª¿àª²_àª®à«_àªà«àª¨_àªà«àª²àª¾àª_àªàªàª¸à«àª_àª¸àªªà«àªà«àª®à«àª¬àª°_àªàªà«àªà«àª¬àª°_àª¨àªµà«àª®à«àª¬àª°_àª¡àª¿àª¸à«àª®à«àª¬àª°".split("_"),monthsShort:"àªàª¾àª¨à«àª¯à«._àª«à«àª¬à«àª°à«._àª®àª¾àª°à«àª_àªàªªà«àª°àª¿._àª®à«_àªà«àª¨_àªà«àª²àª¾._àªàª._àª¸àªªà«àªà«._àªàªà«àªà«._àª¨àªµà«._àª¡àª¿àª¸à«.".split("_"),monthsParseExact:!0,weekdays:"àª°àªµàª¿àªµàª¾àª°_àª¸à«àª®àªµàª¾àª°_àª®àªàªàª³àªµàª¾àª°_àª¬à«àª§à«àªµàª¾àª°_àªà«àª°à«àªµàª¾àª°_àª¶à«àªà«àª°àªµàª¾àª°_àª¶àª¨àª¿àªµàª¾àª°".split("_"),weekdaysShort:"àª°àªµàª¿_àª¸à«àª®_àª®àªàªàª³_àª¬à«àª§à«_àªà«àª°à«_àª¶à«àªà«àª°_àª¶àª¨àª¿".split("_"),weekdaysMin:"àª°_àª¸à«_àª®àª_àª¬à«_àªà«_àª¶à«_àª¶".split("_"),longDateFormat:{LT:"A h:mm àªµàª¾àªà«àª¯à«",LTS:"A h:mm:ss àªµàª¾àªà«àª¯à«",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm àªµàª¾àªà«àª¯à«",LLLL:"dddd, D MMMM YYYY, A h:mm àªµàª¾àªà«àª¯à«"},calendar:{sameDay:"[àªàª] LT",nextDay:"[àªàª¾àª²à«] LT",nextWeek:"dddd, LT",lastDay:"[àªàªàªàª¾àª²à«] LT",lastWeek:"[àªªàª¾àªàª²àª¾] dddd, LT",sameElse:"L"},relativeTime:{future:"%s àª®àª¾",past:"%s àªªàª¹à«àª²àª¾",s:"àªàª®à«àª àªªàª³à«",ss:"%d àª¸à«àªàªàª¡",m:"àªàª àª®àª¿àª¨àª¿àª",mm:"%d àª®àª¿àª¨àª¿àª",h:"àªàª àªàª²àª¾àª",hh:"%d àªàª²àª¾àª",d:"àªàª àª¦àª¿àªµàª¸",dd:"%d àª¦àª¿àªµàª¸",M:"àªàª àª®àª¹àª¿àª¨à«",MM:"%d àª®àª¹àª¿àª¨à«",y:"àªàª àªµàª°à«àª·",yy:"%d àªµàª°à«àª·"},preparse:function(e){return e.replace(/[à«§à«¨à«©à«ªà««à«¬à«­à«®à«¯à«¦]/g,function(e){return bi[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Mi[e]})},meridiemParse:/àª°àª¾àª¤|àª¬àªªà«àª°|àª¸àªµàª¾àª°|àª¸àª¾àªàª/,meridiemHour:function(e,t){return 12===e&&(e=0),"àª°àª¾àª¤"===t?e<4?e:e+12:"àª¸àªµàª¾àª°"===t?e:"àª¬àªªà«àª°"===t?10<=e?e:e+12:"àª¸àª¾àªàª"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"àª°àª¾àª¤":e<10?"àª¸àªµàª¾àª°":e<17?"àª¬àªªà«àª°":e<20?"àª¸àª¾àªàª":"àª°àª¾àª¤"},week:{dow:0,doy:6}}),m.defineLocale("he",{months:"×× ×××¨_×¤××¨×××¨_××¨×¥_××¤×¨××_×××_××× ×_××××_×××××¡×_×¡×¤××××¨_×××§××××¨_× ×××××¨_××¦×××¨".split("_"),monthsShort:"×× ××³_×¤××¨×³_××¨×¥_××¤×¨×³_×××_××× ×_××××_××××³_×¡×¤××³_×××§×³_× ×××³_××¦××³".split("_"),weekdays:"×¨××©××_×©× ×_×©×××©×_×¨×××¢×_××××©×_×©××©×_×©××ª".split("_"),weekdaysShort:"××³_××³_××³_××³_××³_××³_×©×³".split("_"),weekdaysMin:"×_×_×_×_×_×_×©".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [×]MMMM YYYY",LLL:"D [×]MMMM YYYY HH:mm",LLLL:"dddd, D [×]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[×××× ×Ö¾]LT",nextDay:"[×××¨ ×Ö¾]LT",nextWeek:"dddd [××©×¢×] LT",lastDay:"[××ª××× ×Ö¾]LT",lastWeek:"[××××] dddd [××××¨×× ××©×¢×] LT",sameElse:"L"},relativeTime:{future:"××¢×× %s",past:"××¤× × %s",s:"××¡×¤×¨ ×©× ×××ª",ss:"%d ×©× ×××ª",m:"××§×",mm:"%d ××§××ª",h:"×©×¢×",hh:function(e){return 2===e?"×©×¢×ª×××":e+" ×©×¢××ª"},d:"×××",dd:function(e){return 2===e?"××××××":e+" ××××"},M:"××××©",MM:function(e){return 2===e?"××××©×××":e+" ××××©××"},y:"×©× ×",yy:function(e){return 2===e?"×©× ×ª×××":e%10==0&&10!==e?e+" ×©× ×":e+" ×©× ××"}},meridiemParse:/×××"×¦|××¤× ×"×¦|×××¨× ××¦××¨×××|××¤× × ××¦××¨×××|××¤× ××ª ×××§×¨|××××§×¨|××¢×¨×/i,isPM:function(e){return/^(×××"×¦|×××¨× ××¦××¨×××|××¢×¨×)$/.test(e)},meridiem:function(e,t,n){return e<5?"××¤× ××ª ×××§×¨":e<10?"××××§×¨":e<12?n?'××¤× ×"×¦':"××¤× × ××¦××¨×××":e<18?n?'×××"×¦':"×××¨× ××¦××¨×××":"××¢×¨×"}});var Ai={1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"},wi={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"},ae=[/^à¤à¤¨/i,/^à¤«à¤¼à¤°|à¤«à¤°/i,/^à¤®à¤¾à¤°à¥à¤/i,/^à¤à¤ªà¥à¤°à¥/i,/^à¤®à¤/i,/^à¤à¥à¤¨/i,/^à¤à¥à¤²/i,/^à¤à¤/i,/^à¤¸à¤¿à¤¤à¤|à¤¸à¤¿à¤¤/i,/^à¤à¤à¥à¤à¥/i,/^à¤¨à¤µ|à¤¨à¤µà¤/i,/^à¤¦à¤¿à¤¸à¤|à¤¦à¤¿à¤¸/i];function xi(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1!==e&&(2===e||3===e||4===e)?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1!==e&&(2===e||3===e||4===e)?"godine":"godina"}}m.defineLocale("hi",{months:{format:"à¤à¤¨à¤µà¤°à¥_à¤«à¤¼à¤°à¤µà¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥à¤²_à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤_à¤à¤à¤¸à¥à¤¤_à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¤µà¤®à¥à¤¬à¤°_à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°".split("_"),standalone:"à¤à¤¨à¤µà¤°à¥_à¤«à¤°à¤µà¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥à¤²_à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤_à¤à¤à¤¸à¥à¤¤_à¤¸à¤¿à¤¤à¤à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¤µà¤à¤¬à¤°_à¤¦à¤¿à¤¸à¤à¤¬à¤°".split("_")},monthsShort:"à¤à¤¨._à¤«à¤¼à¤°._à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥._à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²._à¤à¤._à¤¸à¤¿à¤¤._à¤à¤à¥à¤à¥._à¤¨à¤µ._à¤¦à¤¿à¤¸.".split("_"),weekdays:"à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥à¤®à¤µà¤¾à¤°_à¤®à¤à¤à¤²à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤à¥à¤°à¥à¤µà¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),weekdaysShort:"à¤°à¤µà¤¿_à¤¸à¥à¤®_à¤®à¤à¤à¤²_à¤¬à¥à¤§_à¤à¥à¤°à¥_à¤¶à¥à¤à¥à¤°_à¤¶à¤¨à¤¿".split("_"),weekdaysMin:"à¤°_à¤¸à¥_à¤®à¤_à¤¬à¥_à¤à¥_à¤¶à¥_à¤¶".split("_"),longDateFormat:{LT:"A h:mm à¤¬à¤à¥",LTS:"A h:mm:ss à¤¬à¤à¥",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¤¬à¤à¥",LLLL:"dddd, D MMMM YYYY, A h:mm à¤¬à¤à¥"},monthsParse:ae,longMonthsParse:ae,shortMonthsParse:[/^à¤à¤¨/i,/^à¤«à¤¼à¤°/i,/^à¤®à¤¾à¤°à¥à¤/i,/^à¤à¤ªà¥à¤°à¥/i,/^à¤®à¤/i,/^à¤à¥à¤¨/i,/^à¤à¥à¤²/i,/^à¤à¤/i,/^à¤¸à¤¿à¤¤/i,/^à¤à¤à¥à¤à¥/i,/^à¤¨à¤µ/i,/^à¤¦à¤¿à¤¸/i],monthsRegex:/^(à¤à¤¨à¤µà¤°à¥|à¤à¤¨\.?|à¤«à¤¼à¤°à¤µà¤°à¥|à¤«à¤°à¤µà¤°à¥|à¤«à¤¼à¤°\.?|à¤®à¤¾à¤°à¥à¤?|à¤à¤ªà¥à¤°à¥à¤²|à¤à¤ªà¥à¤°à¥\.?|à¤®à¤?|à¤à¥à¤¨?|à¤à¥à¤²à¤¾à¤|à¤à¥à¤²\.?|à¤à¤à¤¸à¥à¤¤|à¤à¤\.?|à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°|à¤¸à¤¿à¤¤à¤à¤¬à¤°|à¤¸à¤¿à¤¤\.?|à¤à¤à¥à¤à¥à¤¬à¤°|à¤à¤à¥à¤à¥\.?|à¤¨à¤µà¤®à¥à¤¬à¤°|à¤¨à¤µà¤à¤¬à¤°|à¤¨à¤µ\.?|à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°|à¤¦à¤¿à¤¸à¤à¤¬à¤°|à¤¦à¤¿à¤¸\.?)/i,monthsShortRegex:/^(à¤à¤¨à¤µà¤°à¥|à¤à¤¨\.?|à¤«à¤¼à¤°à¤µà¤°à¥|à¤«à¤°à¤µà¤°à¥|à¤«à¤¼à¤°\.?|à¤®à¤¾à¤°à¥à¤?|à¤à¤ªà¥à¤°à¥à¤²|à¤à¤ªà¥à¤°à¥\.?|à¤®à¤?|à¤à¥à¤¨?|à¤à¥à¤²à¤¾à¤|à¤à¥à¤²\.?|à¤à¤à¤¸à¥à¤¤|à¤à¤\.?|à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°|à¤¸à¤¿à¤¤à¤à¤¬à¤°|à¤¸à¤¿à¤¤\.?|à¤à¤à¥à¤à¥à¤¬à¤°|à¤à¤à¥à¤à¥\.?|à¤¨à¤µà¤®à¥à¤¬à¤°|à¤¨à¤µà¤à¤¬à¤°|à¤¨à¤µ\.?|à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°|à¤¦à¤¿à¤¸à¤à¤¬à¤°|à¤¦à¤¿à¤¸\.?)/i,monthsStrictRegex:/^(à¤à¤¨à¤µà¤°à¥?|à¤«à¤¼à¤°à¤µà¤°à¥|à¤«à¤°à¤µà¤°à¥?|à¤®à¤¾à¤°à¥à¤?|à¤à¤ªà¥à¤°à¥à¤²?|à¤®à¤?|à¤à¥à¤¨?|à¤à¥à¤²à¤¾à¤?|à¤à¤à¤¸à¥à¤¤?|à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°|à¤¸à¤¿à¤¤à¤à¤¬à¤°|à¤¸à¤¿à¤¤?\.?|à¤à¤à¥à¤à¥à¤¬à¤°|à¤à¤à¥à¤à¥\.?|à¤¨à¤µà¤®à¥à¤¬à¤°|à¤¨à¤µà¤à¤¬à¤°?|à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°|à¤¦à¤¿à¤¸à¤à¤¬à¤°?)/i,monthsShortStrictRegex:/^(à¤à¤¨\.?|à¤«à¤¼à¤°\.?|à¤®à¤¾à¤°à¥à¤?|à¤à¤ªà¥à¤°à¥\.?|à¤®à¤?|à¤à¥à¤¨?|à¤à¥à¤²\.?|à¤à¤\.?|à¤¸à¤¿à¤¤\.?|à¤à¤à¥à¤à¥\.?|à¤¨à¤µ\.?|à¤¦à¤¿à¤¸\.?)/i,calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤à¤²] LT",nextWeek:"dddd, LT",lastDay:"[à¤à¤²] LT",lastWeek:"[à¤ªà¤¿à¤à¤²à¥] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¤®à¥à¤",past:"%s à¤ªà¤¹à¤²à¥",s:"à¤à¥à¤ à¤¹à¥ à¤à¥à¤·à¤£",ss:"%d à¤¸à¥à¤à¤à¤¡",m:"à¤à¤ à¤®à¤¿à¤¨à¤",mm:"%d à¤®à¤¿à¤¨à¤",h:"à¤à¤ à¤à¤à¤à¤¾",hh:"%d à¤à¤à¤à¥",d:"à¤à¤ à¤¦à¤¿à¤¨",dd:"%d à¤¦à¤¿à¤¨",M:"à¤à¤ à¤®à¤¹à¥à¤¨à¥",MM:"%d à¤®à¤¹à¥à¤¨à¥",y:"à¤à¤ à¤µà¤°à¥à¤·",yy:"%d à¤µà¤°à¥à¤·"},preparse:function(e){return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(e){return wi[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ai[e]})},meridiemParse:/à¤°à¤¾à¤¤|à¤¸à¥à¤¬à¤¹|à¤¦à¥à¤ªà¤¹à¤°|à¤¶à¤¾à¤®/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¤°à¤¾à¤¤"===t?e<4?e:e+12:"à¤¸à¥à¤¬à¤¹"===t?e:"à¤¦à¥à¤ªà¤¹à¤°"===t?10<=e?e:e+12:"à¤¶à¤¾à¤®"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à¤°à¤¾à¤¤":e<10?"à¤¸à¥à¤¬à¤¹":e<17?"à¤¦à¥à¤ªà¤¹à¤°":e<20?"à¤¶à¤¾à¤®":"à¤°à¤¾à¤¤"},week:{dow:0,doy:6}}),m.defineLocale("hr",{months:{format:"sijeÄnja_veljaÄe_oÅ¾ujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeÄanj_veljaÄa_oÅ¾ujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._oÅ¾u._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[proÅ¡lu] [nedjelju] [u] LT";case 3:return"[proÅ¡lu] [srijedu] [u] LT";case 6:return"[proÅ¡le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proÅ¡li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:xi,m:xi,mm:xi,h:xi,hh:xi,d:"dan",dd:xi,M:"mjesec",MM:xi,y:"godinu",yy:xi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Ei="vasÃ¡rnap hÃ©tfÅn kedden szerdÃ¡n csÃ¼tÃ¶rtÃ¶kÃ¶n pÃ©nteken szombaton".split(" ");function Li(e,t,n,i){var r=e;switch(n){case"s":return i||t?"nÃ©hÃ¡ny mÃ¡sodperc":"nÃ©hÃ¡ny mÃ¡sodperce";case"ss":return r+(i||t)?" mÃ¡sodperc":" mÃ¡sodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" Ã³ra":" Ã³rÃ¡ja");case"hh":return r+(i||t?" Ã³ra":" Ã³rÃ¡ja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hÃ³nap":" hÃ³napja");case"MM":return r+(i||t?" hÃ³nap":" hÃ³napja");case"y":return"egy"+(i||t?" Ã©v":" Ã©ve");case"yy":return r+(i||t?" Ã©v":" Ã©ve")}return""}function Ti(e){return(e?"":"[mÃºlt] ")+"["+Ei[this.day()]+"] LT[-kor]"}function Di(e){return e%100==11||e%10!=1}function Si(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nokkrar sekÃºndur":"nokkrum sekÃºndum";case"ss":return Di(e)?r+(t||i?"sekÃºndur":"sekÃºndum"):r+"sekÃºnda";case"m":return t?"mÃ­nÃºta":"mÃ­nÃºtu";case"mm":return Di(e)?r+(t||i?"mÃ­nÃºtur":"mÃ­nÃºtum"):t?r+"mÃ­nÃºta":r+"mÃ­nÃºtu";case"hh":return Di(e)?r+(t||i?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return t?"dagur":i?"dag":"degi";case"dd":return Di(e)?t?r+"dagar":r+(i?"daga":"dÃ¶gum"):t?r+"dagur":r+(i?"dag":"degi");case"M":return t?"mÃ¡nuÃ°ur":i?"mÃ¡nuÃ°":"mÃ¡nuÃ°i";case"MM":return Di(e)?t?r+"mÃ¡nuÃ°ir":r+(i?"mÃ¡nuÃ°i":"mÃ¡nuÃ°um"):t?r+"mÃ¡nuÃ°ur":r+(i?"mÃ¡nuÃ°":"mÃ¡nuÃ°i");case"y":return t||i?"Ã¡r":"Ã¡ri";case"yy":return Di(e)?r+(t||i?"Ã¡r":"Ã¡rum"):r+(t||i?"Ã¡r":"Ã¡ri")}}m.defineLocale("hu",{months:"januÃ¡r_februÃ¡r_mÃ¡rcius_Ã¡prilis_mÃ¡jus_jÃºnius_jÃºlius_augusztus_szeptember_oktÃ³ber_november_december".split("_"),monthsShort:"jan._feb._mÃ¡rc._Ã¡pr._mÃ¡j._jÃºn._jÃºl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasÃ¡rnap_hÃ©tfÅ_kedd_szerda_csÃ¼tÃ¶rtÃ¶k_pÃ©ntek_szombat".split("_"),weekdaysShort:"vas_hÃ©t_kedd_sze_csÃ¼t_pÃ©n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Ti.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Ti.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mÃºlva",past:"%s",s:Li,ss:Li,m:Li,mm:Li,h:Li,hh:Li,d:Li,dd:Li,M:Li,MM:Li,y:Li,yy:Li},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("hy-am",{months:{format:"Õ°Õ¸ÖÕ¶Õ¾Õ¡ÖÕ«_ÖÕ¥Õ¿ÖÕ¾Õ¡ÖÕ«_Õ´Õ¡ÖÕ¿Õ«_Õ¡ÕºÖÕ«Õ¬Õ«_Õ´Õ¡ÕµÕ«Õ½Õ«_Õ°Õ¸ÖÕ¶Õ«Õ½Õ«_Õ°Õ¸ÖÕ¬Õ«Õ½Õ«_ÖÕ£Õ¸Õ½Õ¿Õ¸Õ½Õ«_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥ÖÕ«_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥ÖÕ«_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥ÖÕ«_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥ÖÕ«".split("_"),standalone:"Õ°Õ¸ÖÕ¶Õ¾Õ¡Ö_ÖÕ¥Õ¿ÖÕ¾Õ¡Ö_Õ´Õ¡ÖÕ¿_Õ¡ÕºÖÕ«Õ¬_Õ´Õ¡ÕµÕ«Õ½_Õ°Õ¸ÖÕ¶Õ«Õ½_Õ°Õ¸ÖÕ¬Õ«Õ½_ÖÕ£Õ¸Õ½Õ¿Õ¸Õ½_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥Ö_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥Ö_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö".split("_")},monthsShort:"Õ°Õ¶Õ¾_ÖÕ¿Ö_Õ´ÖÕ¿_Õ¡ÕºÖ_Õ´ÕµÕ½_Õ°Õ¶Õ½_Õ°Õ¬Õ½_ÖÕ£Õ½_Õ½ÕºÕ¿_Õ°Õ¯Õ¿_Õ¶Õ´Õ¢_Õ¤Õ¯Õ¿".split("_"),weekdays:"Õ¯Õ«ÖÕ¡Õ¯Õ«_Õ¥ÖÕ¯Õ¸ÖÕ·Õ¡Õ¢Õ©Õ«_Õ¥ÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«_Õ¹Õ¸ÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«_Õ°Õ«Õ¶Õ£Õ·Õ¡Õ¢Õ©Õ«_Õ¸ÖÖÕ¢Õ¡Õ©_Õ·Õ¡Õ¢Õ¡Õ©".split("_"),weekdaysShort:"Õ¯ÖÕ¯_Õ¥ÖÕ¯_Õ¥ÖÖ_Õ¹ÖÖ_Õ°Õ¶Õ£_Õ¸ÖÖÕ¢_Õ·Õ¢Õ©".split("_"),weekdaysMin:"Õ¯ÖÕ¯_Õ¥ÖÕ¯_Õ¥ÖÖ_Õ¹ÖÖ_Õ°Õ¶Õ£_Õ¸ÖÖÕ¢_Õ·Õ¢Õ©".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Õ©.",LLL:"D MMMM YYYY Õ©., HH:mm",LLLL:"dddd, D MMMM YYYY Õ©., HH:mm"},calendar:{sameDay:"[Õ¡ÕµÕ½ÖÖ] LT",nextDay:"[Õ¾Õ¡Õ²Õ¨] LT",lastDay:"[Õ¥ÖÕ¥Õ¯] LT",nextWeek:function(){return"dddd [ÖÖÕ¨ ÕªÕ¡Õ´Õ¨] LT"},lastWeek:function(){return"[Õ¡Õ¶ÖÕ¡Õ®] dddd [ÖÖÕ¨ ÕªÕ¡Õ´Õ¨] LT"},sameElse:"L"},relativeTime:{future:"%s Õ°Õ¥Õ¿Õ¸",past:"%s Õ¡Õ¼Õ¡Õ»",s:"Õ´Õ« ÖÕ¡Õ¶Õ« Õ¾Õ¡ÕµÖÕ¯ÕµÕ¡Õ¶",ss:"%d Õ¾Õ¡ÕµÖÕ¯ÕµÕ¡Õ¶",m:"ÖÕ¸ÕºÕ¥",mm:"%d ÖÕ¸ÕºÕ¥",h:"ÕªÕ¡Õ´",hh:"%d ÕªÕ¡Õ´",d:"ÖÖ",dd:"%d ÖÖ",M:"Õ¡Õ´Õ«Õ½",MM:"%d Õ¡Õ´Õ«Õ½",y:"Õ¿Õ¡ÖÕ«",yy:"%d Õ¿Õ¡ÖÕ«"},meridiemParse:/Õ£Õ«Õ·Õ¥ÖÕ¾Õ¡|Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡|ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡|Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶/,isPM:function(e){return/^(ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡|Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶)$/.test(e)},meridiem:function(e){return e<4?"Õ£Õ«Õ·Õ¥ÖÕ¾Õ¡":e<12?"Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡":e<17?"ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡":"Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(Õ«Õ¶|ÖÕ¤)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-Õ«Õ¶":e+"-ÖÕ¤";default:return e}},week:{dow:1,doy:7}}),m.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?11<=e?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),m.defineLocale("is",{months:"janÃºar_febrÃºar_mars_aprÃ­l_maÃ­_jÃºnÃ­_jÃºlÃ­_Ã¡gÃºst_september_oktÃ³ber_nÃ³vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maÃ­_jÃºn_jÃºl_Ã¡gÃº_sep_okt_nÃ³v_des".split("_"),weekdays:"sunnudagur_mÃ¡nudagur_Ã¾riÃ°judagur_miÃ°vikudagur_fimmtudagur_fÃ¶studagur_laugardagur".split("_"),weekdaysShort:"sun_mÃ¡n_Ã¾ri_miÃ°_fim_fÃ¶s_lau".split("_"),weekdaysMin:"Su_MÃ¡_Ãr_Mi_Fi_FÃ¶_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[Ã­ dag kl.] LT",nextDay:"[Ã¡ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Ã­ gÃ¦r kl.] LT",lastWeek:"[sÃ­Ã°asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s sÃ­Ã°an",s:Si,ss:Si,m:Si,mm:Si,h:"klukkustund",hh:Si,d:Si,dd:Si,M:Si,MM:Si,y:Si,yy:Si},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedÃ¬_martedÃ¬_mercoledÃ¬_giovedÃ¬_venerdÃ¬_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0!==this.day()?"[lo scorso] dddd [alle] LT":"[la scorsa] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),m.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedÃ¬_martedÃ¬_mercoledÃ¬_giovedÃ¬_venerdÃ¬_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0!==this.day()?"[Lo scorso] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[La scorsa] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),m.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"ä»¤å",narrow:"ã¿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"å¹³æ",narrow:"ã»",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"æ­å",narrow:"ã¼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"å¤§æ­£",narrow:"ã½",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"ææ²»",narrow:"ã¾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"è¥¿æ¦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"ç´åå",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(å|\d+)å¹´/,eraYearOrdinalParse:function(e,t){return"å"===t[1]?1:parseInt(t[1]||e,10)},months:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æ¥ææ¥_æææ¥_ç«ææ¥_æ°´ææ¥_æ¨ææ¥_éææ¥_åææ¥".split("_"),weekdaysShort:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),weekdaysMin:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥ HH:mm",LLLL:"YYYYå¹´MæDæ¥ dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥(ddd) HH:mm"},meridiemParse:/åå|åå¾/i,isPM:function(e){return"åå¾"===e},meridiem:function(e,t,n){return e<12?"åå":"åå¾"},calendar:{sameDay:"[ä»æ¥] LT",nextDay:"[ææ¥] LT",nextWeek:function(e){return e.week()!==this.week()?"[æ¥é±]dddd LT":"dddd LT"},lastDay:"[æ¨æ¥] LT",lastWeek:function(e){return this.week()!==e.week()?"[åé±]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}æ¥/,ordinal:function(e,t){switch(t){case"y":return 1===e?"åå¹´":e+"å¹´";case"d":case"D":case"DDD":return e+"æ¥";default:return e}},relativeTime:{future:"%så¾",past:"%så",s:"æ°ç§",ss:"%dç§",m:"1å",mm:"%då",h:"1æé",hh:"%dæé",d:"1æ¥",dd:"%dæ¥",M:"1ã¶æ",MM:"%dã¶æ",y:"1å¹´",yy:"%då¹´"}}),m.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?11<=e?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),m.defineLocale("ka",{months:"áááááá á_ááááá áááá_ááá á¢á_ááá ááá_áááá¡á_ááááá¡á_ááááá¡á_ááááá¡á¢á_á¡áá¥á¢ááááá á_áá¥á¢ááááá á_ááááááá á_áááááááá á".split("_"),monthsShort:"ááá_ááá_ááá _ááá _ááá_ááá_ááá_ááá_á¡áá¥_áá¥á¢_ááá_ááá".split("_"),weekdays:{standalone:"áááá á_áá á¨ááááá_á¡ááá¨ááááá_ááá®á¨ááááá_á®á£áá¨ááááá_ááá áá¡áááá_á¨ááááá".split("_"),format:"áááá áá¡_áá á¨ááááá¡_á¡ááá¨ááááá¡_ááá®á¨ááááá¡_á®á£áá¨ááááá¡_ááá áá¡áááá¡_á¨ááááá¡".split("_"),isFormat:/(á¬ááá|á¨ááááá)/},weekdaysShort:"ááá_áá á¨_á¡áá_ááá®_á®á£á_ááá _á¨áá".split("_"),weekdaysMin:"áá_áá _á¡á_áá_á®á£_áá_á¨á".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[áá¦áá¡] LT[-áá]",nextDay:"[á®ááá] LT[-áá]",lastDay:"[áá£á¨áá] LT[-áá]",nextWeek:"[á¨ááááá] dddd LT[-áá]",lastWeek:"[á¬ááá] dddd LT-áá",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(á¬áá|á¬á£á|á¡ááá|á¬áá|áá¦|áá)(á|á)/,function(e,t,n){return"á"===n?t+"á¨á":t+n+"á¨á"})},past:function(e){return/(á¬ááá|á¬á£áá|á¡áááá|áá¦á|ááá)/.test(e)?e.replace(/(á|á)$/,"áá¡ á¬áá"):/á¬ááá/.test(e)?e.replace(/á¬ááá$/,"á¬ááá¡ á¬áá"):e},s:"á áááááááá á¬ááá",ss:"%d á¬ááá",m:"á¬á£áá",mm:"%d á¬á£áá",h:"á¡áááá",hh:"%d á¡áááá",d:"áá¦á",dd:"%d áá¦á",M:"ááá",MM:"%d ááá",y:"á¬ááá",yy:"%d á¬ááá"},dayOfMonthOrdinalParse:/0|1-áá|áá-\d{1,2}|\d{1,2}-á/,ordinal:function(e){return 0===e?e:1===e?e+"-áá":e<20||e<=100&&e%20==0||e%100==0?"áá-"+e:e+"-á"},week:{dow:1,doy:7}});var Ni={0:"-ÑÑ",1:"-ÑÑ",2:"-ÑÑ",3:"-ÑÑ",4:"-ÑÑ",5:"-ÑÑ",6:"-ÑÑ",7:"-ÑÑ",8:"-ÑÑ",9:"-ÑÑ",10:"-ÑÑ",20:"-ÑÑ",30:"-ÑÑ",40:"-ÑÑ",50:"-ÑÑ",60:"-ÑÑ",70:"-ÑÑ",80:"-ÑÑ",90:"-ÑÑ",100:"-ÑÑ"};m.defineLocale("kk",{months:"ÒÐ°Ò£ÑÐ°Ñ_Ð°ÒÐ¿Ð°Ð½_Ð½Ð°ÑÑÑÐ·_ÑÓÑÑÑ_Ð¼Ð°Ð¼ÑÑ_Ð¼Ð°ÑÑÑÐ¼_ÑÑÐ»Ð´Ðµ_ÑÐ°Ð¼ÑÐ·_ÒÑÑÐºÒ¯Ð¹ÐµÐº_ÒÐ°Ð·Ð°Ð½_ÒÐ°ÑÐ°ÑÐ°_Ð¶ÐµÐ»ÑÐ¾ÒÑÐ°Ð½".split("_"),monthsShort:"ÒÐ°Ò£_Ð°ÒÐ¿_Ð½Ð°Ñ_ÑÓÑ_Ð¼Ð°Ð¼_Ð¼Ð°Ñ_ÑÑÐ»_ÑÐ°Ð¼_ÒÑÑ_ÒÐ°Ð·_ÒÐ°Ñ_Ð¶ÐµÐ»".split("_"),weekdays:"Ð¶ÐµÐºÑÐµÐ½Ð±Ñ_Ð´Ò¯Ð¹ÑÐµÐ½Ð±Ñ_ÑÐµÐ¹ÑÐµÐ½Ð±Ñ_ÑÓÑÑÐµÐ½Ð±Ñ_Ð±ÐµÐ¹ÑÐµÐ½Ð±Ñ_Ð¶Ò±Ð¼Ð°_ÑÐµÐ½Ð±Ñ".split("_"),weekdaysShort:"Ð¶ÐµÐº_Ð´Ò¯Ð¹_ÑÐµÐ¹_ÑÓÑ_Ð±ÐµÐ¹_Ð¶Ò±Ð¼_ÑÐµÐ½".split("_"),weekdaysMin:"Ð¶Ðº_Ð´Ð¹_ÑÐ¹_ÑÑ_Ð±Ð¹_Ð¶Ð¼_ÑÐ½".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ÐÒ¯Ð³ÑÐ½ ÑÐ°ÒÐ°Ñ] LT",nextDay:"[ÐÑÑÐµÒ£ ÑÐ°ÒÐ°Ñ] LT",nextWeek:"dddd [ÑÐ°ÒÐ°Ñ] LT",lastDay:"[ÐÐµÑÐµ ÑÐ°ÒÐ°Ñ] LT",lastWeek:"[Ó¨ÑÐºÐµÐ½ Ð°Ð¿ÑÐ°Ð½ÑÒ£] dddd [ÑÐ°ÒÐ°Ñ] LT",sameElse:"L"},relativeTime:{future:"%s ÑÑÑÐ½Ð´Ðµ",past:"%s Ð±Ò±ÑÑÐ½",s:"Ð±ÑÑÐ½ÐµÑÐµ ÑÐµÐºÑÐ½Ð´",ss:"%d ÑÐµÐºÑÐ½Ð´",m:"Ð±ÑÑ Ð¼Ð¸Ð½ÑÑ",mm:"%d Ð¼Ð¸Ð½ÑÑ",h:"Ð±ÑÑ ÑÐ°ÒÐ°Ñ",hh:"%d ÑÐ°ÒÐ°Ñ",d:"Ð±ÑÑ ÐºÒ¯Ð½",dd:"%d ÐºÒ¯Ð½",M:"Ð±ÑÑ Ð°Ð¹",MM:"%d Ð°Ð¹",y:"Ð±ÑÑ Ð¶ÑÐ»",yy:"%d Ð¶ÑÐ»"},dayOfMonthOrdinalParse:/\d{1,2}-(ÑÑ|ÑÑ)/,ordinal:function(e){return e+(Ni[e]||Ni[e%10]||Ni[100<=e?100:null])},week:{dow:1,doy:7}});var Ci={1:"á¡",2:"á¢",3:"á£",4:"á¤",5:"á¥",6:"á¦",7:"á§",8:"á¨",9:"á©",0:"á "},ki={"á¡":"1","á¢":"2","á£":"3","á¤":"4","á¥":"5","á¦":"6","á§":"7","á¨":"8","á©":"9","á ":"0"};m.defineLocale("km",{months:"áááá¶_áá»áááá_áá¸áá¶_áááá¶_á§ááá¶_áá·áá»áá¶_áááááá¶_áá¸á á¶_ááááá¶_áá»áá¶_áá·áááá·áá¶_áááá¼".split("_"),monthsShort:"áááá¶_áá»áááá_áá¸áá¶_áááá¶_á§ááá¶_áá·áá»áá¶_áááááá¶_áá¸á á¶_ááááá¶_áá»áá¶_áá·áááá·áá¶_áááá¼".split("_"),weekdays:"á¢á¶áá·ááá_ááááá_á¢áááá¶á_áá»á_áááá ááááá·á_áá»ááá_áááá".split("_"),weekdaysShort:"á¢á¶_á_á¢_á_ááá_áá»_á".split("_"),weekdaysMin:"á¢á¶_á_á¢_á_ááá_áá»_á".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/áááá¹á|áááá¶á/,isPM:function(e){return"áááá¶á"===e},meridiem:function(e,t,n){return e<12?"áááá¹á":"áááá¶á"},calendar:{sameDay:"[ááááááá áááá] LT",nextDay:"[ááá¢áá áááá] LT",nextWeek:"dddd [áááá] LT",lastDay:"[áááá·ááá·á áááá] LT",lastWeek:"dddd [ááááá¶á ááá»á] [áááá] LT",sameElse:"L"},relativeTime:{future:"%sááá",past:"%sáá»á",s:"ááá»áááá¶ááá·áá¶áá¸",ss:"%d áá·áá¶áá¸",m:"áá½ááá¶áá¸",mm:"%d áá¶áá¸",h:"áá½ááááá",hh:"%d áááá",d:"áá½ááááá",dd:"%d áááá",M:"áá½ááá",MM:"%d áá",y:"áá½ááááá¶á",yy:"%d áááá¶á"},dayOfMonthOrdinalParse:/áá¸\d{1,2}/,ordinal:"áá¸%d",preparse:function(e){return e.replace(/[á¡á¢á£á¤á¥á¦á§á¨á©á ]/g,function(e){return ki[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ci[e]})},week:{dow:1,doy:4}});var Ii={1:"à³§",2:"à³¨",3:"à³©",4:"à³ª",5:"à³«",6:"à³¬",7:"à³­",8:"à³®",9:"à³¯",0:"à³¦"},ji={"à³§":"1","à³¨":"2","à³©":"3","à³ª":"4","à³«":"5","à³¬":"6","à³­":"7","à³®":"8","à³¯":"9","à³¦":"0"};m.defineLocale("kn",{months:"à²à²¨à²µà²°à²¿_à²«à³à²¬à³à²°à²µà²°à²¿_à²®à²¾à²°à³à²à³_à²à²ªà³à²°à²¿à²²à³_à²®à³à³_à²à³à²¨à³_à²à³à²²à³à³_à²à²à²¸à³à²à³_à²¸à³à²ªà³à²à³à²à²¬à²°à³_à²à²à³à²à³à³à³à²¬à²°à³_à²¨à²µà³à²à²¬à²°à³_à²¡à²¿à²¸à³à²à²¬à²°à³".split("_"),monthsShort:"à²à²¨_à²«à³à²¬à³à²°_à²®à²¾à²°à³à²à³_à²à²ªà³à²°à²¿à²²à³_à²®à³à³_à²à³à²¨à³_à²à³à²²à³à³_à²à²à²¸à³à²à³_à²¸à³à²ªà³à²à³à²_à²à²à³à²à³à³à³_à²¨à²µà³à²_à²¡à²¿à²¸à³à²".split("_"),monthsParseExact:!0,weekdays:"à²­à²¾à²¨à³à²µà²¾à²°_à²¸à³à³à³à²®à²µà²¾à²°_à²®à²à²à²³à²µà²¾à²°_à²¬à³à²§à²µà²¾à²°_à²à³à²°à³à²µà²¾à²°_à²¶à³à²à³à²°à²µà²¾à²°_à²¶à²¨à²¿à²µà²¾à²°".split("_"),weekdaysShort:"à²­à²¾à²¨à³_à²¸à³à³à³à²®_à²®à²à²à²³_à²¬à³à²§_à²à³à²°à³_à²¶à³à²à³à²°_à²¶à²¨à²¿".split("_"),weekdaysMin:"à²­à²¾_à²¸à³à³à³_à²®à²_à²¬à³_à²à³_à²¶à³_à²¶".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[à²à²à²¦à³] LT",nextDay:"[à²¨à²¾à²³à³] LT",nextWeek:"dddd, LT",lastDay:"[à²¨à²¿à²¨à³à²¨à³] LT",lastWeek:"[à²à³à³à²¨à³à²¯] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à²¨à²à²¤à²°",past:"%s à²¹à²¿à²à²¦à³",s:"à²à³à²²à²µà³ à²à³à²·à²£à²à²³à³",ss:"%d à²¸à³à²à³à²à²¡à³à²à²³à³",m:"à²à²à²¦à³ à²¨à²¿à²®à²¿à²·",mm:"%d à²¨à²¿à²®à²¿à²·",h:"à²à²à²¦à³ à²à²à²à³",hh:"%d à²à²à²à³",d:"à²à²à²¦à³ à²¦à²¿à²¨",dd:"%d à²¦à²¿à²¨",M:"à²à²à²¦à³ à²¤à²¿à²à²à²³à³",MM:"%d à²¤à²¿à²à²à²³à³",y:"à²à²à²¦à³ à²µà²°à³à²·",yy:"%d à²µà²°à³à²·"},preparse:function(e){return e.replace(/[à³§à³¨à³©à³ªà³«à³¬à³­à³®à³¯à³¦]/g,function(e){return ji[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ii[e]})},meridiemParse:/à²°à²¾à²¤à³à²°à²¿|à²¬à³à²³à²¿à²à³à²à³|à²®à²§à³à²¯à²¾à²¹à³à²¨|à²¸à²à²à³/,meridiemHour:function(e,t){return 12===e&&(e=0),"à²°à²¾à²¤à³à²°à²¿"===t?e<4?e:e+12:"à²¬à³à²³à²¿à²à³à²à³"===t?e:"à²®à²§à³à²¯à²¾à²¹à³à²¨"===t?10<=e?e:e+12:"à²¸à²à²à³"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à²°à²¾à²¤à³à²°à²¿":e<10?"à²¬à³à²³à²¿à²à³à²à³":e<17?"à²®à²§à³à²¯à²¾à²¹à³à²¨":e<20?"à²¸à²à²à³":"à²°à²¾à²¤à³à²°à²¿"},dayOfMonthOrdinalParse:/\d{1,2}(à²¨à³à³)/,ordinal:function(e){return e+"à²¨à³à³"},week:{dow:0,doy:6}}),m.defineLocale("ko",{months:"1ì_2ì_3ì_4ì_5ì_6ì_7ì_8ì_9ì_10ì_11ì_12ì".split("_"),monthsShort:"1ì_2ì_3ì_4ì_5ì_6ì_7ì_8ì_9ì_10ì_11ì_12ì".split("_"),weekdays:"ì¼ìì¼_ììì¼_íìì¼_ììì¼_ëª©ìì¼_ê¸ìì¼_í ìì¼".split("_"),weekdaysShort:"ì¼_ì_í_ì_ëª©_ê¸_í ".split("_"),weekdaysMin:"ì¼_ì_í_ì_ëª©_ê¸_í ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYYë MMMM Dì¼",LLL:"YYYYë MMMM Dì¼ A h:mm",LLLL:"YYYYë MMMM Dì¼ dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYYë MMMM Dì¼",lll:"YYYYë MMMM Dì¼ A h:mm",llll:"YYYYë MMMM Dì¼ dddd A h:mm"},calendar:{sameDay:"ì¤ë LT",nextDay:"ë´ì¼ LT",nextWeek:"dddd LT",lastDay:"ì´ì  LT",lastWeek:"ì§ëì£¼ dddd LT",sameElse:"L"},relativeTime:{future:"%s í",past:"%s ì ",s:"ëª ì´",ss:"%dì´",m:"1ë¶",mm:"%dë¶",h:"í ìê°",hh:"%dìê°",d:"íë£¨",dd:"%dì¼",M:"í ë¬",MM:"%dë¬",y:"ì¼ ë",yy:"%dë"},dayOfMonthOrdinalParse:/\d{1,2}(ì¼|ì|ì£¼)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"ì¼";case"M":return e+"ì";case"w":case"W":return e+"ì£¼";default:return e}},meridiemParse:/ì¤ì |ì¤í/,isPM:function(e){return"ì¤í"===e},meridiem:function(e,t,n){return e<12?"ì¤ì ":"ì¤í"}});var Oi={1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©",0:"Ù "},zi={"Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù ":"0"},ue=["Ú©Ø§ÙÙÙÛ Ø¯ÙÙÛÙ","Ø´ÙØ¨Ø§Øª","Ø¦Ø§Ø²Ø§Ø±","ÙÛØ³Ø§Ù","Ø¦Ø§ÛØ§Ø±","Ø­ÙØ²ÛÛØ±Ø§Ù","ØªÛÙÙÙØ²","Ø¦Ø§Ø¨","Ø¦ÛÛÙÙÙÙ","ØªØ´Ø±ÛÙÛ ÛÛÙÛÙ","ØªØ´Ø±ÛÙÛ Ø¯ÙÙÛÙ","ÙØ§ÙÙÙÛ ÛÛÚ©ÛÙ"];m.defineLocale("ku",{months:ue,monthsShort:ue,weekdays:"ÛÙâÙØ´ÙâÙÙÙâ_Ø¯ÙÙØ´ÙâÙÙÙâ_Ø³ÛØ´ÙâÙÙÙâ_ÚÙØ§Ø±Ø´ÙâÙÙÙâ_Ù¾ÛÙØ¬Ø´ÙâÙÙÙâ_ÙÙâÛÙÛ_Ø´ÙâÙÙÙâ".split("_"),weekdaysShort:"ÛÙâÙØ´ÙâÙ_Ø¯ÙÙØ´ÙâÙ_Ø³ÛØ´ÙâÙ_ÚÙØ§Ø±Ø´ÙâÙ_Ù¾ÛÙØ¬Ø´ÙâÙ_ÙÙâÛÙÛ_Ø´ÙâÙÙÙâ".split("_"),weekdaysMin:"Û_Ø¯_Ø³_Ú_Ù¾_Ù_Ø´".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/Ø¦ÛÙØ§Ø±Ùâ|Ø¨ÙâÛØ§ÙÛ/,isPM:function(e){return/Ø¦ÛÙØ§Ø±Ùâ/.test(e)},meridiem:function(e,t,n){return e<12?"Ø¨ÙâÛØ§ÙÛ":"Ø¦ÛÙØ§Ø±Ùâ"},calendar:{sameDay:"[Ø¦ÙâÙØ±Û ÙØ§ØªÚÙÛØ±] LT",nextDay:"[Ø¨ÙâÛØ§ÙÛ ÙØ§ØªÚÙÛØ±] LT",nextWeek:"dddd [ÙØ§ØªÚÙÛØ±] LT",lastDay:"[Ø¯ÙÛÙÛ ÙØ§ØªÚÙÛØ±] LT",lastWeek:"dddd [ÙØ§ØªÚÙÛØ±] LT",sameElse:"L"},relativeTime:{future:"ÙÙâ %s",past:"%s",s:"ÚÙâÙØ¯ ÚØ±ÙÙâÛÙâÙ",ss:"ÚØ±ÙÙâ %d",m:"ÛÙâÙ Ø®ÙÙÙâÙ",mm:"%d Ø®ÙÙÙâÙ",h:"ÛÙâÙ ÙØ§ØªÚÙÛØ±",hh:"%d ÙØ§ØªÚÙÛØ±",d:"ÛÙâÙ ÚÛÚ",dd:"%d ÚÛÚ",M:"ÛÙâÙ ÙØ§ÙÚ¯",MM:"%d ÙØ§ÙÚ¯",y:"ÛÙâÙ Ø³Ø§Úµ",yy:"%d Ø³Ø§Úµ"},preparse:function(e){return e.replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g,function(e){return zi[e]}).replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Oi[e]}).replace(/,/g,"Ø")},week:{dow:6,doy:12}});var Ri={0:"-ÑÒ¯",1:"-ÑÐ¸",2:"-ÑÐ¸",3:"-ÑÒ¯",4:"-ÑÒ¯",5:"-ÑÐ¸",6:"-ÑÑ",7:"-ÑÐ¸",8:"-ÑÐ¸",9:"-ÑÑ",10:"-ÑÑ",20:"-ÑÑ",30:"-ÑÑ",40:"-ÑÑ",50:"-ÑÒ¯",60:"-ÑÑ",70:"-ÑÐ¸",80:"-ÑÐ¸",90:"-ÑÑ",100:"-ÑÒ¯"};function Pi(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function Yi(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return 0==t?Yi(e/10):Yi(t)}if(e<1e4){for(;10<=e;)e/=10;return Yi(e)}return Yi(e/=1e3)}m.defineLocale("ky",{months:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_"),monthsShort:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°ÑÑ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),weekdays:"ÐÐµÐºÑÐµÐ¼Ð±Ð¸_ÐÒ¯Ð¹ÑÓ©Ð¼Ð±Ò¯_Ð¨ÐµÐ¹ÑÐµÐ¼Ð±Ð¸_Ð¨Ð°ÑÑÐµÐ¼Ð±Ð¸_ÐÐµÐ¹ÑÐµÐ¼Ð±Ð¸_ÐÑÐ¼Ð°_ÐÑÐµÐ¼Ð±Ð¸".split("_"),weekdaysShort:"ÐÐµÐº_ÐÒ¯Ð¹_Ð¨ÐµÐ¹_Ð¨Ð°Ñ_ÐÐµÐ¹_ÐÑÐ¼_ÐÑÐµ".split("_"),weekdaysMin:"ÐÐº_ÐÐ¹_Ð¨Ð¹_Ð¨Ñ_ÐÐ¹_ÐÐ¼_ÐÑ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ÐÒ¯Ð³Ò¯Ð½ ÑÐ°Ð°Ñ] LT",nextDay:"[Ð­ÑÑÐµÒ£ ÑÐ°Ð°Ñ] LT",nextWeek:"dddd [ÑÐ°Ð°Ñ] LT",lastDay:"[ÐÐµÑÑÑ ÑÐ°Ð°Ñ] LT",lastWeek:"[Ó¨ÑÐºÓ©Ð½ Ð°Ð¿ÑÐ°Ð½ÑÐ½] dddd [ÐºÒ¯Ð½Ò¯] [ÑÐ°Ð°Ñ] LT",sameElse:"L"},relativeTime:{future:"%s Ð¸ÑÐ¸Ð½Ð´Ðµ",past:"%s Ð¼ÑÑÑÐ½",s:"Ð±Ð¸ÑÐ½ÐµÑÐµ ÑÐµÐºÑÐ½Ð´",ss:"%d ÑÐµÐºÑÐ½Ð´",m:"Ð±Ð¸Ñ Ð¼Ò¯Ð½Ó©Ñ",mm:"%d Ð¼Ò¯Ð½Ó©Ñ",h:"Ð±Ð¸Ñ ÑÐ°Ð°Ñ",hh:"%d ÑÐ°Ð°Ñ",d:"Ð±Ð¸Ñ ÐºÒ¯Ð½",dd:"%d ÐºÒ¯Ð½",M:"Ð±Ð¸Ñ Ð°Ð¹",MM:"%d Ð°Ð¹",y:"Ð±Ð¸Ñ Ð¶ÑÐ»",yy:"%d Ð¶ÑÐ»"},dayOfMonthOrdinalParse:/\d{1,2}-(ÑÐ¸|ÑÑ|ÑÒ¯|ÑÑ)/,ordinal:function(e){return e+(Ri[e]||Ri[e%10]||Ri[100<=e?100:null])},week:{dow:1,doy:7}}),m.defineLocale("lb",{months:"Januar_Februar_MÃ¤erz_AbrÃ«ll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_MÃ©indeg_DÃ«nschdeg_MÃ«ttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._MÃ©._DÃ«._MÃ«._Do._Fr._Sa.".split("_"),weekdaysMin:"So_MÃ©_DÃ«_MÃ«_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[GÃ«schter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return Yi(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return Yi(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:Pi,mm:"%d Minutten",h:Pi,hh:"%d Stonnen",d:Pi,dd:"%d Deeg",M:Pi,MM:"%d MÃ©int",y:Pi,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("lo",{months:"àº¡àº±àºàºàº­àº_àºàº¸àº¡àºàº²_àº¡àºµàºàº²_à»àº¡àºªàº²_àºàº¶àºàºªàº°àºàº²_àº¡àº´àºàº¸àºàº²_àºà»àº¥àº°àºàº»àº_àºªàº´àºàº«àº²_àºàº±àºàºàº²_àºàº¸àº¥àº²_àºàº°àºàº´àº_àºàº±àºàº§àº²".split("_"),monthsShort:"àº¡àº±àºàºàº­àº_àºàº¸àº¡àºàº²_àº¡àºµàºàº²_à»àº¡àºªàº²_àºàº¶àºàºªàº°àºàº²_àº¡àº´àºàº¸àºàº²_àºà»àº¥àº°àºàº»àº_àºªàº´àºàº«àº²_àºàº±àºàºàº²_àºàº¸àº¥àº²_àºàº°àºàº´àº_àºàº±àºàº§àº²".split("_"),weekdays:"àº­àº²àºàº´àº_àºàº±àº_àº­àº±àºàºàº²àº_àºàº¸àº_àºàº°àº«àº±àº_àºªàº¸àº_à»àºªàº»àº²".split("_"),weekdaysShort:"àºàº´àº_àºàº±àº_àº­àº±àºàºàº²àº_àºàº¸àº_àºàº°àº«àº±àº_àºªàº¸àº_à»àºªàº»àº²".split("_"),weekdaysMin:"àº_àº_àº­àº_àº_àºàº«_àºªàº_àºª".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"àº§àº±àºdddd D MMMM YYYY HH:mm"},meridiemParse:/àºàº­àºà»àºàº»à»àº²|àºàº­àºà»àº¥àº/,isPM:function(e){return"àºàº­àºà»àº¥àº"===e},meridiem:function(e,t,n){return e<12?"àºàº­àºà»àºàº»à»àº²":"àºàº­àºà»àº¥àº"},calendar:{sameDay:"[àº¡àº·à»àºàºµà»à»àº§àº¥àº²] LT",nextDay:"[àº¡àº·à»àº­àº·à»àºà»àº§àº¥àº²] LT",nextWeek:"[àº§àº±àº]dddd[à»à»àº²à»àº§àº¥àº²] LT",lastDay:"[àº¡àº·à»àº§àº²àºàºàºµà»à»àº§àº¥àº²] LT",lastWeek:"[àº§àº±àº]dddd[à»àº¥à»àº§àºàºµà»à»àº§àº¥àº²] LT",sameElse:"L"},relativeTime:{future:"àº­àºµàº %s",past:"%sàºà»àº²àºàº¡àº²",s:"àºà»à»à»àºàº»à»àº²à»àºàº§àº´àºàº²àºàºµ",ss:"%d àº§àº´àºàº²àºàºµ",m:"1 àºàº²àºàºµ",mm:"%d àºàº²àºàºµ",h:"1 àºàº»à»àº§à»àº¡àº",hh:"%d àºàº»à»àº§à»àº¡àº",d:"1 àº¡àº·à»",dd:"%d àº¡àº·à»",M:"1 à»àºàº·àº­àº",MM:"%d à»àºàº·àº­àº",y:"1 àºàºµ",yy:"%d àºàºµ"},dayOfMonthOrdinalParse:/(àºàºµà»)\d{1,2}/,ordinal:function(e){return"àºàºµà»"+e}});var Bi={ss:"sekundÄ_sekundÅ¾iÅ³_sekundes",m:"minutÄ_minutÄs_minutÄ",mm:"minutÄs_minuÄiÅ³_minutes",h:"valanda_valandos_valandÄ",hh:"valandos_valandÅ³_valandas",d:"diena_dienos_dienÄ",dd:"dienos_dienÅ³_dienas",M:"mÄnuo_mÄnesio_mÄnesÄ¯",MM:"mÄnesiai_mÄnesiÅ³_mÄnesius",y:"metai_metÅ³_metus",yy:"metai_metÅ³_metus"};function Ui(e,t,n,i){return t?Fi(n)[0]:i?Fi(n)[1]:Fi(n)[2]}function Hi(e){return e%10==0||10<e&&e<20}function Fi(e){return Bi[e].split("_")}function Gi(e,t,n,i){var r=e+" ";return 1===e?r+Ui(0,t,n[0],i):t?r+(Hi(e)?Fi(n)[1]:Fi(n)[0]):i?r+Fi(n)[1]:r+(Hi(e)?Fi(n)[1]:Fi(n)[2])}m.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandÅ¾io_geguÅ¾Äs_birÅ¾elio_liepos_rugpjÅ«Äio_rugsÄjo_spalio_lapkriÄio_gruodÅ¾io".split("_"),standalone:"sausis_vasaris_kovas_balandis_geguÅ¾Ä_birÅ¾elis_liepa_rugpjÅ«tis_rugsÄjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienÄ¯_pirmadienÄ¯_antradienÄ¯_treÄiadienÄ¯_ketvirtadienÄ¯_penktadienÄ¯_Å¡eÅ¡tadienÄ¯".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treÄiadienis_ketvirtadienis_penktadienis_Å¡eÅ¡tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Å eÅ¡".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Å ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Å iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[PraÄjusÄ¯] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieÅ¡ %s",s:function(e,t,n,i){return t?"kelios sekundÄs":i?"keliÅ³ sekundÅ¾iÅ³":"kelias sekundes"},ss:Gi,m:Ui,mm:Gi,h:Ui,hh:Gi,d:Ui,dd:Gi,M:Ui,MM:Gi,y:Ui,yy:Gi},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var Vi={ss:"sekundes_sekundÄm_sekunde_sekundes".split("_"),m:"minÅ«tes_minÅ«tÄm_minÅ«te_minÅ«tes".split("_"),mm:"minÅ«tes_minÅ«tÄm_minÅ«te_minÅ«tes".split("_"),h:"stundas_stundÄm_stunda_stundas".split("_"),hh:"stundas_stundÄm_stunda_stundas".split("_"),d:"dienas_dienÄm_diena_dienas".split("_"),dd:"dienas_dienÄm_diena_dienas".split("_"),M:"mÄneÅ¡a_mÄneÅ¡iem_mÄnesis_mÄneÅ¡i".split("_"),MM:"mÄneÅ¡a_mÄneÅ¡iem_mÄnesis_mÄneÅ¡i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function Wi(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function Qi(e,t,n){return e+" "+Wi(Vi[n],e,t)}function qi(e,t,n){return Wi(Vi[n],e,t)}m.defineLocale("lv",{months:"janvÄris_februÄris_marts_aprÄ«lis_maijs_jÅ«nijs_jÅ«lijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jÅ«n_jÅ«l_aug_sep_okt_nov_dec".split("_"),weekdays:"svÄtdiena_pirmdiena_otrdiena_treÅ¡diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Å odien pulksten] LT",nextDay:"[RÄ«t pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[PagÄjuÅ¡Ä] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pÄc %s",past:"pirms %s",s:function(e,t){return t?"daÅ¾as sekundes":"daÅ¾Äm sekundÄm"},ss:Qi,m:qi,mm:Qi,h:qi,hh:Qi,d:qi,dd:Qi,M:qi,MM:Qi,y:qi,yy:Qi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Zi={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var i=Zi.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+Zi.correctGrammaticalCase(e,i)}};function Xi(e,t,n,i){switch(n){case"s":return t?"ÑÑÐ´ÑÑÐ½ ÑÐµÐºÑÐ½Ð´":"ÑÑÐ´ÑÑÐ½ ÑÐµÐºÑÐ½Ð´ÑÐ½";case"ss":return e+(t?" ÑÐµÐºÑÐ½Ð´":" ÑÐµÐºÑÐ½Ð´ÑÐ½");case"m":case"mm":return e+(t?" Ð¼Ð¸Ð½ÑÑ":" Ð¼Ð¸Ð½ÑÑÑÐ½");case"h":case"hh":return e+(t?" ÑÐ°Ð³":" ÑÐ°Ð³Ð¸Ð¹Ð½");case"d":case"dd":return e+(t?" Ó©Ð´Ó©Ñ":" Ó©Ð´ÑÐ¸Ð¹Ð½");case"M":case"MM":return e+(t?" ÑÐ°Ñ":" ÑÐ°ÑÑÐ½");case"y":case"yy":return e+(t?" Ð¶Ð¸Ð»":" Ð¶Ð¸Ð»Ð¸Ð¹Ð½");default:return e}}m.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄe u] LT",lastWeek:function(){return["[proÅ¡le] [nedjelje] [u] LT","[proÅ¡log] [ponedjeljka] [u] LT","[proÅ¡log] [utorka] [u] LT","[proÅ¡le] [srijede] [u] LT","[proÅ¡log] [Äetvrtka] [u] LT","[proÅ¡log] [petka] [u] LT","[proÅ¡le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:Zi.translate,m:Zi.translate,mm:Zi.translate,h:Zi.translate,hh:Zi.translate,d:"dan",dd:Zi.translate,M:"mjesec",MM:Zi.translate,y:"godinu",yy:Zi.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),m.defineLocale("mi",{months:"Kohi-tÄte_Hui-tanguru_PoutÅ«-te-rangi_Paenga-whÄwhÄ_Haratua_Pipiri_HÅngoingoi_Here-turi-kÅkÄ_Mahuru_Whiringa-Ä-nuku_Whiringa-Ä-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_HÅngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"RÄtapu_Mane_TÅ«rei_Wenerei_TÄite_Paraire_HÄtarei".split("_"),weekdaysShort:"Ta_Ma_TÅ«_We_TÄi_Pa_HÄ".split("_"),weekdaysMin:"Ta_Ma_TÅ«_We_TÄi_Pa_HÄ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hÄkona ruarua",ss:"%d hÄkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),m.defineLocale("mk",{months:"ÑÐ°Ð½ÑÐ°ÑÐ¸_ÑÐµÐ²ÑÑÐ°ÑÐ¸_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ñ_ÑÑÐ½Ð¸_ÑÑÐ»Ð¸_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸_Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸_Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸_Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸".split("_"),monthsShort:"ÑÐ°Ð½_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ñ_ÑÑÐ½_ÑÑÐ»_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),weekdays:"Ð½ÐµÐ´ÐµÐ»Ð°_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÑÑÐ¾Ðº_Ð¿ÐµÑÐ¾Ðº_ÑÐ°Ð±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²ÑÐ¾_ÑÑÐµ_ÑÐµÑ_Ð¿ÐµÑ_ÑÐ°Ð±".split("_"),weekdaysMin:"Ð½e_Ð¿o_Ð²Ñ_ÑÑ_ÑÐµ_Ð¿Ðµ_Ña".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ÐÐµÐ½ÐµÑ Ð²Ð¾] LT",nextDay:"[Ð£ÑÑÐµ Ð²Ð¾] LT",nextWeek:"[ÐÐ¾] dddd [Ð²Ð¾] LT",lastDay:"[ÐÑÐµÑÐ° Ð²Ð¾] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ÐÐ·Ð¼Ð¸Ð½Ð°ÑÐ°ÑÐ°] dddd [Ð²Ð¾] LT";case 1:case 2:case 4:case 5:return"[ÐÐ·Ð¼Ð¸Ð½Ð°ÑÐ¸Ð¾Ñ] dddd [Ð²Ð¾] LT"}},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"Ð¿ÑÐµÐ´ %s",s:"Ð½ÐµÐºÐ¾Ð»ÐºÑ ÑÐµÐºÑÐ½Ð´Ð¸",ss:"%d ÑÐµÐºÑÐ½Ð´Ð¸",m:"ÐµÐ´Ð½Ð° Ð¼Ð¸Ð½ÑÑÐ°",mm:"%d Ð¼Ð¸Ð½ÑÑÐ¸",h:"ÐµÐ´ÐµÐ½ ÑÐ°Ñ",hh:"%d ÑÐ°ÑÐ°",d:"ÐµÐ´ÐµÐ½ Ð´ÐµÐ½",dd:"%d Ð´ÐµÐ½Ð°",M:"ÐµÐ´ÐµÐ½ Ð¼ÐµÑÐµÑ",MM:"%d Ð¼ÐµÑÐµÑÐ¸",y:"ÐµÐ´Ð½Ð° Ð³Ð¾Ð´Ð¸Ð½Ð°",yy:"%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"},dayOfMonthOrdinalParse:/\d{1,2}-(ÐµÐ²|ÐµÐ½|ÑÐ¸|Ð²Ð¸|ÑÐ¸|Ð¼Ð¸)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ÐµÐ²":0==n?e+"-ÐµÐ½":10<n&&n<20?e+"-ÑÐ¸":1==t?e+"-Ð²Ð¸":2==t?e+"-ÑÐ¸":7==t||8==t?e+"-Ð¼Ð¸":e+"-ÑÐ¸"},week:{dow:1,doy:7}}),m.defineLocale("ml",{months:"à´à´¨àµà´µà´°à´¿_à´«àµà´¬àµà´°àµà´µà´°à´¿_à´®à´¾àµ¼à´àµà´àµ_à´à´ªàµà´°à´¿àµ½_à´®àµà´¯àµ_à´àµàµº_à´àµà´²àµ_à´à´à´¸àµà´±àµà´±àµ_à´¸àµà´ªàµà´±àµà´±à´à´¬àµ¼_à´à´àµà´àµà´¬àµ¼_à´¨à´µà´à´¬àµ¼_à´¡à´¿à´¸à´à´¬àµ¼".split("_"),monthsShort:"à´à´¨àµ._à´«àµà´¬àµà´°àµ._à´®à´¾àµ¼._à´à´ªàµà´°à´¿._à´®àµà´¯àµ_à´àµàµº_à´àµà´²àµ._à´à´._à´¸àµà´ªàµà´±àµà´±._à´à´àµà´àµ._à´¨à´µà´._à´¡à´¿à´¸à´.".split("_"),monthsParseExact:!0,weekdays:"à´à´¾à´¯à´±à´¾à´´àµà´_à´¤à´¿à´àµà´à´³à´¾à´´àµà´_à´àµà´µàµà´µà´¾à´´àµà´_à´¬àµà´§à´¨à´¾à´´àµà´_à´µàµà´¯à´¾à´´à´¾à´´àµà´_à´µàµà´³àµà´³à´¿à´¯à´¾à´´àµà´_à´¶à´¨à´¿à´¯à´¾à´´àµà´".split("_"),weekdaysShort:"à´à´¾à´¯àµ¼_à´¤à´¿à´àµà´àµ¾_à´àµà´µàµà´µ_à´¬àµà´§àµ»_à´µàµà´¯à´¾à´´à´_à´µàµà´³àµà´³à´¿_à´¶à´¨à´¿".split("_"),weekdaysMin:"à´à´¾_à´¤à´¿_à´àµ_à´¬àµ_à´µàµà´¯à´¾_à´µàµ_à´¶".split("_"),longDateFormat:{LT:"A h:mm -à´¨àµ",LTS:"A h:mm:ss -à´¨àµ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -à´¨àµ",LLLL:"dddd, D MMMM YYYY, A h:mm -à´¨àµ"},calendar:{sameDay:"[à´à´¨àµà´¨àµ] LT",nextDay:"[à´¨à´¾à´³àµ] LT",nextWeek:"dddd, LT",lastDay:"[à´à´¨àµà´¨à´²àµ] LT",lastWeek:"[à´à´´à´¿à´àµà´] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à´à´´à´¿à´àµà´àµ",past:"%s à´®àµàµ»à´ªàµ",s:"à´àµ½à´ª à´¨à´¿à´®à´¿à´·à´àµà´àµ¾",ss:"%d à´¸àµà´àµà´àµ»à´¡àµ",m:"à´à´°àµ à´®à´¿à´¨à´¿à´±àµà´±àµ",mm:"%d à´®à´¿à´¨à´¿à´±àµà´±àµ",h:"à´à´°àµ à´®à´£à´¿à´àµà´àµàµ¼",hh:"%d à´®à´£à´¿à´àµà´àµàµ¼",d:"à´à´°àµ à´¦à´¿à´µà´¸à´",dd:"%d à´¦à´¿à´µà´¸à´",M:"à´à´°àµ à´®à´¾à´¸à´",MM:"%d à´®à´¾à´¸à´",y:"à´à´°àµ à´µàµ¼à´·à´",yy:"%d à´µàµ¼à´·à´"},meridiemParse:/à´°à´¾à´¤àµà´°à´¿|à´°à´¾à´µà´¿à´²àµ|à´à´àµà´ à´à´´à´¿à´àµà´àµ|à´µàµà´àµà´¨àµà´¨àµà´°à´|à´°à´¾à´¤àµà´°à´¿/i,meridiemHour:function(e,t){return 12===e&&(e=0),"à´°à´¾à´¤àµà´°à´¿"===t&&4<=e||"à´à´àµà´ à´à´´à´¿à´àµà´àµ"===t||"à´µàµà´àµà´¨àµà´¨àµà´°à´"===t?e+12:e},meridiem:function(e,t,n){return e<4?"à´°à´¾à´¤àµà´°à´¿":e<12?"à´°à´¾à´µà´¿à´²àµ":e<17?"à´à´àµà´ à´à´´à´¿à´àµà´àµ":e<20?"à´µàµà´àµà´¨àµà´¨àµà´°à´":"à´°à´¾à´¤àµà´°à´¿"}}),m.defineLocale("mn",{months:"ÐÑÐ³Ð´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_Ð¥Ð¾ÑÑÐ´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÑÐ°Ð²Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÓ©ÑÓ©Ð²Ð´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_Ð¢Ð°Ð²Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÑÐ³Ð°Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÐ¾Ð»Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÐ°Ð¹Ð¼Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÐ´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_ÐÑÐ°Ð²Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÐ²Ð°Ð½ Ð½ÑÐ³Ð´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_ÐÑÐ²Ð°Ð½ ÑÐ¾ÑÑÐ´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ".split("_"),monthsShort:"1 ÑÐ°Ñ_2 ÑÐ°Ñ_3 ÑÐ°Ñ_4 ÑÐ°Ñ_5 ÑÐ°Ñ_6 ÑÐ°Ñ_7 ÑÐ°Ñ_8 ÑÐ°Ñ_9 ÑÐ°Ñ_10 ÑÐ°Ñ_11 ÑÐ°Ñ_12 ÑÐ°Ñ".split("_"),monthsParseExact:!0,weekdays:"ÐÑÐ¼_ÐÐ°Ð²Ð°Ð°_ÐÑÐ³Ð¼Ð°Ñ_ÐÑÐ°Ð³Ð²Ð°_ÐÒ¯ÑÑÐ²_ÐÐ°Ð°ÑÐ°Ð½_ÐÑÐ¼Ð±Ð°".split("_"),weekdaysShort:"ÐÑÐ¼_ÐÐ°Ð²_ÐÑÐ³_ÐÑÐ°_ÐÒ¯Ñ_ÐÐ°Ð°_ÐÑÐ¼".split("_"),weekdaysMin:"ÐÑ_ÐÐ°_ÐÑ_ÐÑ_ÐÒ¯_ÐÐ°_ÐÑ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY Ð¾Ð½Ñ MMMMÑÐ½ D",LLL:"YYYY Ð¾Ð½Ñ MMMMÑÐ½ D HH:mm",LLLL:"dddd, YYYY Ð¾Ð½Ñ MMMMÑÐ½ D HH:mm"},meridiemParse:/Ò®Ó¨|Ò®Ð¥/i,isPM:function(e){return"Ò®Ð¥"===e},meridiem:function(e,t,n){return e<12?"Ò®Ó¨":"Ò®Ð¥"},calendar:{sameDay:"[Ó¨Ð½Ó©Ó©Ð´Ó©Ñ] LT",nextDay:"[ÐÐ°ÑÐ³Ð°Ð°Ñ] LT",nextWeek:"[ÐÑÑÑ] dddd LT",lastDay:"[Ó¨ÑÐ¸Ð³Ð´Ó©Ñ] LT",lastWeek:"[Ó¨Ð½Ð³Ó©ÑÑÓ©Ð½] dddd LT",sameElse:"L"},relativeTime:{future:"%s Ð´Ð°ÑÐ°Ð°",past:"%s Ó©Ð¼Ð½Ó©",s:Xi,ss:Xi,m:Xi,mm:Xi,h:Xi,hh:Xi,d:Xi,dd:Xi,M:Xi,MM:Xi,y:Xi,yy:Xi},dayOfMonthOrdinalParse:/\d{1,2} Ó©Ð´Ó©Ñ/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" Ó©Ð´Ó©Ñ";default:return e}}});var Ji={1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"},Ki={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"};function $i(e,t,n,i){var r="";if(t)switch(n){case"s":r="à¤à¤¾à¤¹à¥ à¤¸à¥à¤à¤à¤¦";break;case"ss":r="%d à¤¸à¥à¤à¤à¤¦";break;case"m":r="à¤à¤ à¤®à¤¿à¤¨à¤¿à¤";break;case"mm":r="%d à¤®à¤¿à¤¨à¤¿à¤à¥";break;case"h":r="à¤à¤ à¤¤à¤¾à¤¸";break;case"hh":r="%d à¤¤à¤¾à¤¸";break;case"d":r="à¤à¤ à¤¦à¤¿à¤µà¤¸";break;case"dd":r="%d à¤¦à¤¿à¤µà¤¸";break;case"M":r="à¤à¤ à¤®à¤¹à¤¿à¤¨à¤¾";break;case"MM":r="%d à¤®à¤¹à¤¿à¤¨à¥";break;case"y":r="à¤à¤ à¤µà¤°à¥à¤·";break;case"yy":r="%d à¤µà¤°à¥à¤·à¥"}else switch(n){case"s":r="à¤à¤¾à¤¹à¥ à¤¸à¥à¤à¤à¤¦à¤¾à¤";break;case"ss":r="%d à¤¸à¥à¤à¤à¤¦à¤¾à¤";break;case"m":r="à¤à¤à¤¾ à¤®à¤¿à¤¨à¤¿à¤à¤¾";break;case"mm":r="%d à¤®à¤¿à¤¨à¤¿à¤à¤¾à¤";break;case"h":r="à¤à¤à¤¾ à¤¤à¤¾à¤¸à¤¾";break;case"hh":r="%d à¤¤à¤¾à¤¸à¤¾à¤";break;case"d":r="à¤à¤à¤¾ à¤¦à¤¿à¤µà¤¸à¤¾";break;case"dd":r="%d à¤¦à¤¿à¤µà¤¸à¤¾à¤";break;case"M":r="à¤à¤à¤¾ à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾";break;case"MM":r="%d à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾à¤";break;case"y":r="à¤à¤à¤¾ à¤µà¤°à¥à¤·à¤¾";break;case"yy":r="%d à¤µà¤°à¥à¤·à¤¾à¤"}return r.replace(/%d/i,e)}m.defineLocale("mr",{months:"à¤à¤¾à¤¨à¥à¤µà¤¾à¤°à¥_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤¾à¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿à¤²_à¤®à¥_à¤à¥à¤¨_à¤à¥à¤²à¥_à¤à¤à¤¸à¥à¤_à¤¸à¤ªà¥à¤à¥à¤à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¥à¤µà¥à¤¹à¥à¤à¤¬à¤°_à¤¡à¤¿à¤¸à¥à¤à¤¬à¤°".split("_"),monthsShort:"à¤à¤¾à¤¨à¥._à¤«à¥à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤._à¤à¤ªà¥à¤°à¤¿._à¤®à¥._à¤à¥à¤¨._à¤à¥à¤²à¥._à¤à¤._à¤¸à¤ªà¥à¤à¥à¤._à¤à¤à¥à¤à¥._à¤¨à¥à¤µà¥à¤¹à¥à¤._à¤¡à¤¿à¤¸à¥à¤.".split("_"),monthsParseExact:!0,weekdays:"à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥à¤®à¤µà¤¾à¤°_à¤®à¤à¤à¤³à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤à¥à¤°à¥à¤µà¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),weekdaysShort:"à¤°à¤µà¤¿_à¤¸à¥à¤®_à¤®à¤à¤à¤³_à¤¬à¥à¤§_à¤à¥à¤°à¥_à¤¶à¥à¤à¥à¤°_à¤¶à¤¨à¤¿".split("_"),weekdaysMin:"à¤°_à¤¸à¥_à¤®à¤_à¤¬à¥_à¤à¥_à¤¶à¥_à¤¶".split("_"),longDateFormat:{LT:"A h:mm à¤µà¤¾à¤à¤¤à¤¾",LTS:"A h:mm:ss à¤µà¤¾à¤à¤¤à¤¾",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¤µà¤¾à¤à¤¤à¤¾",LLLL:"dddd, D MMMM YYYY, A h:mm à¤µà¤¾à¤à¤¤à¤¾"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤à¤¦à¥à¤¯à¤¾] LT",nextWeek:"dddd, LT",lastDay:"[à¤à¤¾à¤²] LT",lastWeek:"[à¤®à¤¾à¤à¥à¤²] dddd, LT",sameElse:"L"},relativeTime:{future:"%sà¤®à¤§à¥à¤¯à¥",past:"%sà¤ªà¥à¤°à¥à¤µà¥",s:$i,ss:$i,m:$i,mm:$i,h:$i,hh:$i,d:$i,dd:$i,M:$i,MM:$i,y:$i,yy:$i},preparse:function(e){return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(e){return Ki[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ji[e]})},meridiemParse:/à¤ªà¤¹à¤¾à¤à¥|à¤¸à¤à¤¾à¤³à¥|à¤¦à¥à¤ªà¤¾à¤°à¥|à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥|à¤°à¤¾à¤¤à¥à¤°à¥/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¤ªà¤¹à¤¾à¤à¥"===t||"à¤¸à¤à¤¾à¤³à¥"===t?e:"à¤¦à¥à¤ªà¤¾à¤°à¥"===t||"à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥"===t||"à¤°à¤¾à¤¤à¥à¤°à¥"===t?12<=e?e:e+12:void 0},meridiem:function(e,t,n){return 0<=e&&e<6?"à¤ªà¤¹à¤¾à¤à¥":e<12?"à¤¸à¤à¤¾à¤³à¥":e<17?"à¤¦à¥à¤ªà¤¾à¤°à¥":e<20?"à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥":"à¤°à¤¾à¤¤à¥à¤°à¥"},week:{dow:0,doy:6}}),m.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),m.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),m.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ä unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_DiÄembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ä un_Lul_Aww_Set_Ott_Nov_DiÄ".split("_"),weekdays:"Il-Ä¦add_It-Tnejn_It-Tlieta_L-ErbgÄ§a_Il-Ä¦amis_Il-Ä imgÄ§a_Is-Sibt".split("_"),weekdaysShort:"Ä¦ad_Tne_Tli_Erb_Ä¦am_Ä im_Sib".split("_"),weekdaysMin:"Ä¦a_Tn_Tl_Er_Ä¦a_Ä i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[GÄ§ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraÄ§ fil-]LT",lastWeek:"dddd [li gÄ§adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"fâ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegÄ§a",hh:"%d siegÄ§at",d:"Ä¡urnata",dd:"%d Ä¡ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}});var er={1:"á",2:"á",3:"á",4:"á",5:"á",6:"á",7:"á",8:"á",9:"á",0:"á"},tr={"á":"1","á":"2","á":"3","á":"4","á":"5","á":"6","á":"7","á":"8","á":"9","á":"0"};m.defineLocale("my",{months:"áááºááá«áá®_áá±áá±á¬áºáá«áá®_áááº_á§áá¼á®_áá±_áá½ááº_áá°áá­á¯ááº_áá¼áá¯ááº_áááºáááºáá¬_á¡á±á¬ááºáá­á¯áá¬_áá­á¯áááºáá¬_áá®áááºáá¬".split("_"),monthsShort:"áááº_áá±_áááº_áá¼á®_áá±_áá½ááº_áá­á¯ááº_áá¼_áááº_á¡á±á¬ááº_áá­á¯_áá®".split("_"),weekdays:"ááááºá¹ááá½á±_ááááºá¹áá¬_á¡ááºá¹áá«_áá¯áá¹ááá°á¸_áá¼á¬áááá±á¸_áá±á¬áá¼á¬_ááá±".split("_"),weekdaysShort:"áá½á±_áá¬_áá«_áá°á¸_áá¼á¬_áá±á¬_áá±".split("_"),weekdaysMin:"áá½á±_áá¬_áá«_áá°á¸_áá¼á¬_áá±á¬_áá±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ááá±.] LT [áá¾á¬]",nextDay:"[ááááºáá¼ááº] LT [áá¾á¬]",nextWeek:"dddd LT [áá¾á¬]",lastDay:"[ááá±.á] LT [áá¾á¬]",lastWeek:"[áá¼á®á¸áá²á·áá±á¬] dddd LT [áá¾á¬]",sameElse:"L"},relativeTime:{future:"áá¬áááºá· %s áá¾á¬",past:"áá½ááºáá²á·áá±á¬ %s á",s:"ááá¹áááº.á¡áááºá¸áááº",ss:"%d ááá¹ááá·áº",m:"áááºáá­áááº",mm:"%d áá­áááº",h:"áááºáá¬áá®",hh:"%d áá¬áá®",d:"áááºáááº",dd:"%d áááº",M:"áááºá",MM:"%d á",y:"áááºáá¾ááº",yy:"%d áá¾ááº"},preparse:function(e){return e.replace(/[áááááááááá]/g,function(e){return tr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return er[e]})},week:{dow:1,doy:4}}),m.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸._ma._ti._on._to._fr._lÃ¸.".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gÃ¥r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"ett Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var nr={1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"},ir={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"};m.defineLocale("ne",{months:"à¤à¤¨à¤µà¤°à¥_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿à¤²_à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤_à¤à¤à¤·à¥à¤_à¤¸à¥à¤ªà¥à¤à¥à¤®à¥à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¥à¤­à¥à¤®à¥à¤¬à¤°_à¤¡à¤¿à¤¸à¥à¤®à¥à¤¬à¤°".split("_"),monthsShort:"à¤à¤¨._à¤«à¥à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿._à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤._à¤à¤._à¤¸à¥à¤ªà¥à¤._à¤à¤à¥à¤à¥._à¤¨à¥à¤­à¥._à¤¡à¤¿à¤¸à¥.".split("_"),monthsParseExact:!0,weekdays:"à¤à¤à¤¤à¤¬à¤¾à¤°_à¤¸à¥à¤®à¤¬à¤¾à¤°_à¤®à¤à¥à¤à¤²à¤¬à¤¾à¤°_à¤¬à¥à¤§à¤¬à¤¾à¤°_à¤¬à¤¿à¤¹à¤¿à¤¬à¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤¬à¤¾à¤°_à¤¶à¤¨à¤¿à¤¬à¤¾à¤°".split("_"),weekdaysShort:"à¤à¤à¤¤._à¤¸à¥à¤®._à¤®à¤à¥à¤à¤²._à¤¬à¥à¤§._à¤¬à¤¿à¤¹à¤¿._à¤¶à¥à¤à¥à¤°._à¤¶à¤¨à¤¿.".split("_"),weekdaysMin:"à¤._à¤¸à¥._à¤®à¤._à¤¬à¥._à¤¬à¤¿._à¤¶à¥._à¤¶.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aà¤à¥ h:mm à¤¬à¤à¥",LTS:"Aà¤à¥ h:mm:ss à¤¬à¤à¥",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aà¤à¥ h:mm à¤¬à¤à¥",LLLL:"dddd, D MMMM YYYY, Aà¤à¥ h:mm à¤¬à¤à¥"},preparse:function(e){return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(e){return ir[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return nr[e]})},meridiemParse:/à¤°à¤¾à¤¤à¤¿|à¤¬à¤¿à¤¹à¤¾à¤¨|à¤¦à¤¿à¤à¤à¤¸à¥|à¤¸à¤¾à¤à¤/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¤°à¤¾à¤¤à¤¿"===t?e<4?e:e+12:"à¤¬à¤¿à¤¹à¤¾à¤¨"===t?e:"à¤¦à¤¿à¤à¤à¤¸à¥"===t?10<=e?e:e+12:"à¤¸à¤¾à¤à¤"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"à¤°à¤¾à¤¤à¤¿":e<12?"à¤¬à¤¿à¤¹à¤¾à¤¨":e<16?"à¤¦à¤¿à¤à¤à¤¸à¥":e<20?"à¤¸à¤¾à¤à¤":"à¤°à¤¾à¤¤à¤¿"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤­à¥à¤²à¤¿] LT",nextWeek:"[à¤à¤à¤à¤¦à¥] dddd[,] LT",lastDay:"[à¤¹à¤¿à¤à¥] LT",lastWeek:"[à¤à¤à¤à¥] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sà¤®à¤¾",past:"%s à¤à¤à¤¾à¤¡à¤¿",s:"à¤à¥à¤¹à¥ à¤à¥à¤·à¤£",ss:"%d à¤¸à¥à¤à¥à¤£à¥à¤¡",m:"à¤à¤ à¤®à¤¿à¤¨à¥à¤",mm:"%d à¤®à¤¿à¤¨à¥à¤",h:"à¤à¤ à¤à¤£à¥à¤à¤¾",hh:"%d à¤à¤£à¥à¤à¤¾",d:"à¤à¤ à¤¦à¤¿à¤¨",dd:"%d à¤¦à¤¿à¤¨",M:"à¤à¤ à¤®à¤¹à¤¿à¤¨à¤¾",MM:"%d à¤®à¤¹à¤¿à¤¨à¤¾",y:"à¤à¤ à¤¬à¤°à¥à¤·",yy:"%d à¤¬à¤°à¥à¤·"},week:{dow:0,doy:6}});var rr="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),ar="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ae=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ue=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;m.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?(/-MMM-/.test(t)?ar:rr)[e.month()]:rr},monthsRegex:ue,monthsShortRegex:ue,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:ae,longMonthsParse:ae,shortMonthsParse:ae,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"Ã©Ã©n minuut",mm:"%d minuten",h:"Ã©Ã©n uur",hh:"%d uur",d:"Ã©Ã©n dag",dd:"%d dagen",M:"Ã©Ã©n maand",MM:"%d maanden",y:"Ã©Ã©n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});var or="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),sr="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ue=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ae=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;m.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?(/-MMM-/.test(t)?sr:or)[e.month()]:or},monthsRegex:ae,monthsShortRegex:ae,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:ue,longMonthsParse:ue,shortMonthsParse:ue,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"Ã©Ã©n minuut",mm:"%d minuten",h:"Ã©Ã©n uur",hh:"%d uur",d:"Ã©Ã©n dag",dd:"%d dagen",w:"Ã©Ã©n week",ww:"%d weken",M:"Ã©Ã©n maand",MM:"%d maanden",y:"Ã©Ã©n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),m.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mÃ¥ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._mÃ¥._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_mÃ¥_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gÃ¥r klokka] LT",lastWeek:"[FÃ¸regÃ¥ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mÃ¥nad",MM:"%d mÃ¥nader",y:"eit Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("oc-lnc",{months:{standalone:"geniÃ¨r_febriÃ¨r_marÃ§_abril_mai_junh_julhet_agost_setembre_octÃ²bre_novembre_decembre".split("_"),format:"de geniÃ¨r_de febriÃ¨r_de marÃ§_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octÃ²bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._marÃ§_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimÃ¨cres_dijÃ²us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uÃ¨i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[iÃ¨r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquÃ­ %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|Ã¨|a)/,ordinal:function(e,t){return e+("w"!==t&&"W"!==t?1===e?"r":2===e?"n":3===e?"r":4===e?"t":"Ã¨":"a")},week:{dow:1,doy:4}});var ur={1:"à©§",2:"à©¨",3:"à©©",4:"à©ª",5:"à©«",6:"à©¬",7:"à©­",8:"à©®",9:"à©¯",0:"à©¦"},lr={"à©§":"1","à©¨":"2","à©©":"3","à©ª":"4","à©«":"5","à©¬":"6","à©­":"7","à©®":"8","à©¯":"9","à©¦":"0"};m.defineLocale("pa-in",{months:"à¨à¨¨à¨µà¨°à©_à¨«à¨¼à¨°à¨µà¨°à©_à¨®à¨¾à¨°à¨_à¨à¨ªà©à¨°à©à¨²_à¨®à¨_à¨à©à¨¨_à¨à©à¨²à¨¾à¨_à¨à¨à¨¸à¨¤_à¨¸à¨¤à©°à¨¬à¨°_à¨à¨à¨¤à©à¨¬à¨°_à¨¨à¨µà©°à¨¬à¨°_à¨¦à¨¸à©°à¨¬à¨°".split("_"),monthsShort:"à¨à¨¨à¨µà¨°à©_à¨«à¨¼à¨°à¨µà¨°à©_à¨®à¨¾à¨°à¨_à¨à¨ªà©à¨°à©à¨²_à¨®à¨_à¨à©à¨¨_à¨à©à¨²à¨¾à¨_à¨à¨à¨¸à¨¤_à¨¸à¨¤à©°à¨¬à¨°_à¨à¨à¨¤à©à¨¬à¨°_à¨¨à¨µà©°à¨¬à¨°_à¨¦à¨¸à©°à¨¬à¨°".split("_"),weekdays:"à¨à¨¤à¨µà¨¾à¨°_à¨¸à©à¨®à¨µà¨¾à¨°_à¨®à©°à¨à¨²à¨µà¨¾à¨°_à¨¬à©à¨§à¨µà¨¾à¨°_à¨µà©à¨°à¨µà¨¾à¨°_à¨¸à¨¼à©à©±à¨à¨°à¨µà¨¾à¨°_à¨¸à¨¼à¨¨à©à¨à¨°à¨µà¨¾à¨°".split("_"),weekdaysShort:"à¨à¨¤_à¨¸à©à¨®_à¨®à©°à¨à¨²_à¨¬à©à¨§_à¨µà©à¨°_à¨¸à¨¼à©à¨à¨°_à¨¸à¨¼à¨¨à©".split("_"),weekdaysMin:"à¨à¨¤_à¨¸à©à¨®_à¨®à©°à¨à¨²_à¨¬à©à¨§_à¨µà©à¨°_à¨¸à¨¼à©à¨à¨°_à¨¸à¨¼à¨¨à©".split("_"),longDateFormat:{LT:"A h:mm à¨µà¨à©",LTS:"A h:mm:ss à¨µà¨à©",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¨µà¨à©",LLLL:"dddd, D MMMM YYYY, A h:mm à¨µà¨à©"},calendar:{sameDay:"[à¨à¨] LT",nextDay:"[à¨à¨²] LT",nextWeek:"[à¨à¨à¨²à¨¾] dddd, LT",lastDay:"[à¨à¨²] LT",lastWeek:"[à¨ªà¨¿à¨à¨²à©] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¨µà¨¿à©±à¨",past:"%s à¨ªà¨¿à¨à¨²à©",s:"à¨à©à¨ à¨¸à¨à¨¿à©°à¨",ss:"%d à¨¸à¨à¨¿à©°à¨",m:"à¨à¨ à¨®à¨¿à©°à¨",mm:"%d à¨®à¨¿à©°à¨",h:"à¨à©±à¨ à¨à©°à¨à¨¾",hh:"%d à¨à©°à¨à©",d:"à¨à©±à¨ à¨¦à¨¿à¨¨",dd:"%d à¨¦à¨¿à¨¨",M:"à¨à©±à¨ à¨®à¨¹à©à¨¨à¨¾",MM:"%d à¨®à¨¹à©à¨¨à©",y:"à¨à©±à¨ à¨¸à¨¾à¨²",yy:"%d à¨¸à¨¾à¨²"},preparse:function(e){return e.replace(/[à©§à©¨à©©à©ªà©«à©¬à©­à©®à©¯à©¦]/g,function(e){return lr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ur[e]})},meridiemParse:/à¨°à¨¾à¨¤|à¨¸à¨µà©à¨°|à¨¦à©à¨ªà¨¹à¨¿à¨°|à¨¸à¨¼à¨¾à¨®/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¨°à¨¾à¨¤"===t?e<4?e:e+12:"à¨¸à¨µà©à¨°"===t?e:"à¨¦à©à¨ªà¨¹à¨¿à¨°"===t?10<=e?e:e+12:"à¨¸à¨¼à¨¾à¨®"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à¨°à¨¾à¨¤":e<10?"à¨¸à¨µà©à¨°":e<17?"à¨¦à©à¨ªà¨¹à¨¿à¨°":e<20?"à¨¸à¨¼à¨¾à¨®":"à¨°à¨¾à¨¤"},week:{dow:0,doy:6}});var cr="styczeÅ_luty_marzec_kwiecieÅ_maj_czerwiec_lipiec_sierpieÅ_wrzesieÅ_paÅºdziernik_listopad_grudzieÅ".split("_"),dr="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzeÅnia_paÅºdziernika_listopada_grudnia".split("_"),ae=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paÅº/i,/^lis/i,/^gru/i];function hr(e){return e%10<5&&1<e%10&&~~(e/10)%10!=1}function pr(e,t,n){var i=e+" ";switch(n){case"ss":return i+(hr(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutÄ";case"mm":return i+(hr(e)?"minuty":"minut");case"h":return t?"godzina":"godzinÄ";case"hh":return i+(hr(e)?"godziny":"godzin");case"ww":return i+(hr(e)?"tygodnie":"tygodni");case"MM":return i+(hr(e)?"miesiÄce":"miesiÄcy");case"yy":return i+(hr(e)?"lata":"lat")}}function mr(e,t,n){return e+(20<=e%100||100<=e&&e%100==0?" de ":" ")+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sÄptÄmÃ¢ni",MM:"luni",yy:"ani"}[n]}function fr(e,t,n){return"m"===n?t?"Ð¼Ð¸Ð½ÑÑÐ°":"Ð¼Ð¸Ð½ÑÑÑ":e+" "+(e=+e,n=(n={ss:t?"ÑÐµÐºÑÐ½Ð´Ð°_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´":"ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´",mm:t?"Ð¼Ð¸Ð½ÑÑÐ°_Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑ":"Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑ",hh:"ÑÐ°Ñ_ÑÐ°ÑÐ°_ÑÐ°ÑÐ¾Ð²",dd:"Ð´ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð½ÐµÐ¹",ww:"Ð½ÐµÐ´ÐµÐ»Ñ_Ð½ÐµÐ´ÐµÐ»Ð¸_Ð½ÐµÐ´ÐµÐ»Ñ",MM:"Ð¼ÐµÑÑÑ_Ð¼ÐµÑÑÑÐ°_Ð¼ÐµÑÑÑÐµÐ²",yy:"Ð³Ð¾Ð´_Ð³Ð¾Ð´Ð°_Ð»ÐµÑ"}[n]).split("_"),e%10==1&&e%100!=11?n[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?n[1]:n[2])}m.defineLocale("pl",{months:function(e,t){return e?(/D MMMM/.test(t)?dr:cr)[e.month()]:cr},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paÅº_lis_gru".split("_"),monthsParse:ae,longMonthsParse:ae,shortMonthsParse:ae,weekdays:"niedziela_poniedziaÅek_wtorek_Åroda_czwartek_piÄtek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_År_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_År_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DziÅ o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielÄ o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W ÅrodÄ o] LT";case 6:return"[W sobotÄ o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszÅÄ niedzielÄ o] LT";case 3:return"[W zeszÅÄ ÅrodÄ o] LT";case 6:return"[W zeszÅÄ sobotÄ o] LT";default:return"[W zeszÅy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:pr,m:pr,mm:pr,h:pr,hh:pr,d:"1 dzieÅ",dd:"%d dni",w:"tydzieÅ",ww:pr,M:"miesiÄc",MM:pr,y:"rok",yy:pr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("pt-br",{months:"janeiro_fevereiro_marÃ§o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terÃ§a-feira_quarta-feira_quinta-feira_sexta-feira_sÃ¡bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sÃ¡b".split("_"),weekdaysMin:"do_2Âª_3Âª_4Âª_5Âª_6Âª_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [Ã s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [Ã s] HH:mm"},calendar:{sameDay:"[Hoje Ã s] LT",nextDay:"[AmanhÃ£ Ã s] LT",nextWeek:"dddd [Ã s] LT",lastDay:"[Ontem Ã s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Ãltimo] dddd [Ã s] LT":"[Ãltima] dddd [Ã s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"hÃ¡ %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mÃªs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",invalidDate:"Data invÃ¡lida"}),m.defineLocale("pt",{months:"janeiro_fevereiro_marÃ§o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_TerÃ§a-feira_Quarta-feira_Quinta-feira_Sexta-feira_SÃ¡bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_SÃ¡b".split("_"),weekdaysMin:"Do_2Âª_3Âª_4Âª_5Âª_6Âª_SÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje Ã s] LT",nextDay:"[AmanhÃ£ Ã s] LT",nextWeek:"dddd [Ã s] LT",lastDay:"[Ontem Ã s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Ãltimo] dddd [Ã s] LT":"[Ãltima] dddd [Ã s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"hÃ¡ %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mÃªs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),m.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminicÄ_luni_marÈi_miercuri_joi_vineri_sÃ¢mbÄtÄ".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_SÃ¢m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_SÃ¢".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mÃ¢ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s Ã®n urmÄ",s:"cÃ¢teva secunde",ss:mr,m:"un minut",mm:mr,h:"o orÄ",hh:mr,d:"o zi",dd:mr,w:"o sÄptÄmÃ¢nÄ",ww:mr,M:"o lunÄ",MM:mr,y:"un an",yy:mr},week:{dow:1,doy:7}});ue=[/^ÑÐ½Ð²/i,/^ÑÐµÐ²/i,/^Ð¼Ð°Ñ/i,/^Ð°Ð¿Ñ/i,/^Ð¼Ð°[Ð¹Ñ]/i,/^Ð¸ÑÐ½/i,/^Ð¸ÑÐ»/i,/^Ð°Ð²Ð³/i,/^ÑÐµÐ½/i,/^Ð¾ÐºÑ/i,/^Ð½Ð¾Ñ/i,/^Ð´ÐµÐº/i];m.defineLocale("ru",{months:{format:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑÐ°_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ñ_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑÐ°_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_"),standalone:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_")},monthsShort:{format:"ÑÐ½Ð²._ÑÐµÐ²Ñ._Ð¼Ð°Ñ._Ð°Ð¿Ñ._Ð¼Ð°Ñ_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³._ÑÐµÐ½Ñ._Ð¾ÐºÑ._Ð½Ð¾ÑÐ±._Ð´ÐµÐº.".split("_"),standalone:"ÑÐ½Ð²._ÑÐµÐ²Ñ._Ð¼Ð°ÑÑ_Ð°Ð¿Ñ._Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³._ÑÐµÐ½Ñ._Ð¾ÐºÑ._Ð½Ð¾ÑÐ±._Ð´ÐµÐº.".split("_")},weekdays:{standalone:"Ð²Ð¾ÑÐºÑÐµÑÐµÐ½ÑÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÐµÑÐ³_Ð¿ÑÑÐ½Ð¸ÑÐ°_ÑÑÐ±Ð±Ð¾ÑÐ°".split("_"),format:"Ð²Ð¾ÑÐºÑÐµÑÐµÐ½ÑÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ñ_ÑÐµÑÐ²ÐµÑÐ³_Ð¿ÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð±Ð¾ÑÑ".split("_"),isFormat:/\[ ?[ÐÐ²] ?(?:Ð¿ÑÐ¾ÑÐ»ÑÑ|ÑÐ»ÐµÐ´ÑÑÑÑÑ|ÑÑÑ)? ?] ?dddd/},weekdaysShort:"Ð²Ñ_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð²Ñ_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),monthsParse:ue,longMonthsParse:ue,shortMonthsParse:ue,monthsRegex:/^(ÑÐ½Ð²Ð°Ñ[ÑÑ]|ÑÐ½Ð²\.?|ÑÐµÐ²ÑÐ°Ð»[ÑÑ]|ÑÐµÐ²Ñ?\.?|Ð¼Ð°ÑÑÐ°?|Ð¼Ð°Ñ\.?|Ð°Ð¿ÑÐµÐ»[ÑÑ]|Ð°Ð¿Ñ\.?|Ð¼Ð°[Ð¹Ñ]|Ð¸ÑÐ½[ÑÑ]|Ð¸ÑÐ½\.?|Ð¸ÑÐ»[ÑÑ]|Ð¸ÑÐ»\.?|Ð°Ð²Ð³ÑÑÑÐ°?|Ð°Ð²Ð³\.?|ÑÐµÐ½ÑÑÐ±Ñ[ÑÑ]|ÑÐµÐ½Ñ?\.?|Ð¾ÐºÑÑÐ±Ñ[ÑÑ]|Ð¾ÐºÑ\.?|Ð½Ð¾ÑÐ±Ñ[ÑÑ]|Ð½Ð¾ÑÐ±?\.?|Ð´ÐµÐºÐ°Ð±Ñ[ÑÑ]|Ð´ÐµÐº\.?)/i,monthsShortRegex:/^(ÑÐ½Ð²Ð°Ñ[ÑÑ]|ÑÐ½Ð²\.?|ÑÐµÐ²ÑÐ°Ð»[ÑÑ]|ÑÐµÐ²Ñ?\.?|Ð¼Ð°ÑÑÐ°?|Ð¼Ð°Ñ\.?|Ð°Ð¿ÑÐµÐ»[ÑÑ]|Ð°Ð¿Ñ\.?|Ð¼Ð°[Ð¹Ñ]|Ð¸ÑÐ½[ÑÑ]|Ð¸ÑÐ½\.?|Ð¸ÑÐ»[ÑÑ]|Ð¸ÑÐ»\.?|Ð°Ð²Ð³ÑÑÑÐ°?|Ð°Ð²Ð³\.?|ÑÐµÐ½ÑÑÐ±Ñ[ÑÑ]|ÑÐµÐ½Ñ?\.?|Ð¾ÐºÑÑÐ±Ñ[ÑÑ]|Ð¾ÐºÑ\.?|Ð½Ð¾ÑÐ±Ñ[ÑÑ]|Ð½Ð¾ÑÐ±?\.?|Ð´ÐµÐºÐ°Ð±Ñ[ÑÑ]|Ð´ÐµÐº\.?)/i,monthsStrictRegex:/^(ÑÐ½Ð²Ð°Ñ[ÑÑ]|ÑÐµÐ²ÑÐ°Ð»[ÑÑ]|Ð¼Ð°ÑÑÐ°?|Ð°Ð¿ÑÐµÐ»[ÑÑ]|Ð¼Ð°[ÑÐ¹]|Ð¸ÑÐ½[ÑÑ]|Ð¸ÑÐ»[ÑÑ]|Ð°Ð²Ð³ÑÑÑÐ°?|ÑÐµÐ½ÑÑÐ±Ñ[ÑÑ]|Ð¾ÐºÑÑÐ±Ñ[ÑÑ]|Ð½Ð¾ÑÐ±Ñ[ÑÑ]|Ð´ÐµÐºÐ°Ð±Ñ[ÑÑ])/i,monthsShortStrictRegex:/^(ÑÐ½Ð²\.|ÑÐµÐ²Ñ?\.|Ð¼Ð°Ñ[Ñ.]|Ð°Ð¿Ñ\.|Ð¼Ð°[ÑÐ¹]|Ð¸ÑÐ½[ÑÑ.]|Ð¸ÑÐ»[ÑÑ.]|Ð°Ð²Ð³\.|ÑÐµÐ½Ñ?\.|Ð¾ÐºÑ\.|Ð½Ð¾ÑÐ±?\.|Ð´ÐµÐº\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ð³.",LLL:"D MMMM YYYY Ð³., H:mm",LLLL:"dddd, D MMMM YYYY Ð³., H:mm"},calendar:{sameDay:"[Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ, Ð²] LT",nextDay:"[ÐÐ°Ð²ÑÑÐ°, Ð²] LT",lastDay:"[ÐÑÐµÑÐ°, Ð²] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[ÐÐ¾] dddd, [Ð²] LT":"[Ð] dddd, [Ð²] LT";switch(this.day()){case 0:return"[Ð ÑÐ»ÐµÐ´ÑÑÑÐµÐµ] dddd, [Ð²] LT";case 1:case 2:case 4:return"[Ð ÑÐ»ÐµÐ´ÑÑÑÐ¸Ð¹] dddd, [Ð²] LT";case 3:case 5:case 6:return"[Ð ÑÐ»ÐµÐ´ÑÑÑÑÑ] dddd, [Ð²] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[ÐÐ¾] dddd, [Ð²] LT":"[Ð] dddd, [Ð²] LT";switch(this.day()){case 0:return"[Ð Ð¿ÑÐ¾ÑÐ»Ð¾Ðµ] dddd, [Ð²] LT";case 1:case 2:case 4:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÐ¹] dddd, [Ð²] LT";case 3:case 5:case 6:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÑ] dddd, [Ð²] LT"}},sameElse:"L"},relativeTime:{future:"ÑÐµÑÐµÐ· %s",past:"%s Ð½Ð°Ð·Ð°Ð´",s:"Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐµÐºÑÐ½Ð´",ss:fr,m:fr,mm:fr,h:"ÑÐ°Ñ",hh:fr,d:"Ð´ÐµÐ½Ñ",dd:fr,w:"Ð½ÐµÐ´ÐµÐ»Ñ",ww:fr,M:"Ð¼ÐµÑÑÑ",MM:fr,y:"Ð³Ð¾Ð´",yy:fr},meridiemParse:/Ð½Ð¾ÑÐ¸|ÑÑÑÐ°|Ð´Ð½Ñ|Ð²ÐµÑÐµÑÐ°/i,isPM:function(e){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐµÑÐ°)$/.test(e)},meridiem:function(e,t,n){return e<4?"Ð½Ð¾ÑÐ¸":e<12?"ÑÑÑÐ°":e<17?"Ð´Ð½Ñ":"Ð²ÐµÑÐµÑÐ°"},dayOfMonthOrdinalParse:/\d{1,2}-(Ð¹|Ð³Ð¾|Ñ)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-Ð¹";case"D":return e+"-Ð³Ð¾";case"w":case"W":return e+"-Ñ";default:return e}},week:{dow:1,doy:4}});ae=["Ø¬ÙÙØ±Ù","ÙÙØ¨Ø±ÙØ±Ù","ÙØ§Ø±Ú","Ø§Ù¾Ø±ÙÙ","ÙØ¦Ù","Ø¬ÙÙ","Ø¬ÙÙØ§Ø¡Ù","Ø¢Ú¯Ø³Ù½","Ø³ÙÙ¾Ù½ÙØ¨Ø±","Ø¢ÚªÙ½ÙØ¨Ø±","ÙÙÙØ¨Ø±","ÚØ³ÙØ¨Ø±"],ue=["Ø¢ÚØ±","Ø³ÙÙØ±","Ø§Ú±Ø§Ø±Ù","Ø§Ø±Ø¨Ø¹","Ø®ÙÙØ³","Ø¬ÙØ¹","ÚÙÚØ±"];m.defineLocale("sd",{months:ae,monthsShort:ae,weekdays:ue,weekdaysShort:ue,weekdaysMin:ue,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ddddØ D MMMM YYYY HH:mm"},meridiemParse:/ØµØ¨Ø­|Ø´Ø§Ù/,isPM:function(e){return"Ø´Ø§Ù"===e},meridiem:function(e,t,n){return e<12?"ØµØ¨Ø­":"Ø´Ø§Ù"},calendar:{sameDay:"[Ø§Ú] LT",nextDay:"[Ø³ÚØ§Ú»Ù] LT",nextWeek:"dddd [Ø§Ú³ÙÙ ÙÙØªÙ ØªÙ] LT",lastDay:"[ÚªØ§ÙÙÙ] LT",lastWeek:"[Ú¯Ø²Ø±ÙÙ ÙÙØªÙ] dddd [ØªÙ] LT",sameElse:"L"},relativeTime:{future:"%s Ù¾ÙØ¡",past:"%s Ø§Ú³",s:"ÚÙØ¯ Ø³ÙÚªÙÚ",ss:"%d Ø³ÙÚªÙÚ",m:"ÙÚª ÙÙÙ½",mm:"%d ÙÙÙ½",h:"ÙÚª ÚªÙØ§Úª",hh:"%d ÚªÙØ§Úª",d:"ÙÚª ÚÙÙÙÙ",dd:"%d ÚÙÙÙÙ",M:"ÙÚª ÙÙÙÙÙ",MM:"%d ÙÙÙÙØ§",y:"ÙÚª Ø³Ø§Ù",yy:"%d Ø³Ø§Ù"},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:1,doy:4}}),m.defineLocale("se",{months:"oÄÄajagemÃ¡nnu_guovvamÃ¡nnu_njukÄamÃ¡nnu_cuoÅomÃ¡nnu_miessemÃ¡nnu_geassemÃ¡nnu_suoidnemÃ¡nnu_borgemÃ¡nnu_ÄakÄamÃ¡nnu_golggotmÃ¡nnu_skÃ¡bmamÃ¡nnu_juovlamÃ¡nnu".split("_"),monthsShort:"oÄÄj_guov_njuk_cuo_mies_geas_suoi_borg_ÄakÄ_golg_skÃ¡b_juov".split("_"),weekdays:"sotnabeaivi_vuossÃ¡rga_maÅÅebÃ¡rga_gaskavahkku_duorastat_bearjadat_lÃ¡vvardat".split("_"),weekdaysShort:"sotn_vuos_maÅ_gask_duor_bear_lÃ¡v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaÅ¾es",past:"maÅit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mÃ¡nnu",MM:"%d mÃ¡nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("si",{months:"à¶¢à¶±à·à·à¶»à·_à¶´à·à¶¶à¶»à·à·à¶»à·_à¶¸à·à¶»à·à¶­à·_à¶à¶´à·âà¶»à·à¶½à·_à¶¸à·à¶ºà·_à¶¢à·à¶±à·_à¶¢à·à¶½à·_à¶à¶à·à·à·à¶­à·_à·à·à¶´à·à¶­à·à¶¸à·à¶¶à¶»à·_à¶à¶à·à¶­à·à¶¶à¶»à·_à¶±à·à·à·à¶¸à·à¶¶à¶»à·_à¶¯à·à·à·à¶¸à·à¶¶à¶»à·".split("_"),monthsShort:"à¶¢à¶±_à¶´à·à¶¶_à¶¸à·à¶»à·_à¶à¶´à·_à¶¸à·à¶ºà·_à¶¢à·à¶±à·_à¶¢à·à¶½à·_à¶à¶à·_à·à·à¶´à·_à¶à¶à·_à¶±à·à·à·_à¶¯à·à·à·".split("_"),weekdays:"à¶à¶»à·à¶¯à·_à·à¶³à·à¶¯à·_à¶à¶à·à¶»à·à·à·à¶¯à·_à¶¶à¶¯à·à¶¯à·_à¶¶à·âà¶»à·à·à·à¶´à¶­à·à¶±à·à¶¯à·_à·à·à¶à·à¶»à·à¶¯à·_à·à·à¶±à·à·à¶»à·à¶¯à·".split("_"),weekdaysShort:"à¶à¶»à·_à·à¶³à·_à¶à¶_à¶¶à¶¯à·_à¶¶à·âà¶»à·_à·à·à¶à·_à·à·à¶±".split("_"),weekdaysMin:"à¶_à·_à¶_à¶¶_à¶¶à·âà¶»_à·à·_à·à·".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [à·à·à¶±à·] dddd, a h:mm:ss"},calendar:{sameDay:"[à¶à¶¯] LT[à¶§]",nextDay:"[à·à·à¶§] LT[à¶§]",nextWeek:"dddd LT[à¶§]",lastDay:"[à¶à¶ºà·] LT[à¶§]",lastWeek:"[à¶´à·à·à¶à·à¶º] dddd LT[à¶§]",sameElse:"L"},relativeTime:{future:"%sà¶à·à¶±à·",past:"%sà¶à¶§ à¶´à·à¶»",s:"à¶­à¶­à·à¶´à¶» à¶à·à·à·à¶´à¶º",ss:"à¶­à¶­à·à¶´à¶» %d",m:"à¶¸à·à¶±à·à¶­à·à¶­à·à·",mm:"à¶¸à·à¶±à·à¶­à·à¶­à· %d",h:"à¶´à·à¶º",hh:"à¶´à·à¶º %d",d:"à¶¯à·à¶±à¶º",dd:"à¶¯à·à¶± %d",M:"à¶¸à·à·à¶º",MM:"à¶¸à·à· %d",y:"à·à·à¶»",yy:"à·à·à¶» %d"},dayOfMonthOrdinalParse:/\d{1,2} à·à·à¶±à·/,ordinal:function(e){return e+" à·à·à¶±à·"},meridiemParse:/à¶´à·à¶» à·à¶»à·|à¶´à·à· à·à¶»à·|à¶´à·.à·|à¶´.à·./,isPM:function(e){return"à¶´.à·."===e||"à¶´à·à· à·à¶»à·"===e},meridiem:function(e,t,n){return 11<e?n?"à¶´.à·.":"à¶´à·à· à·à¶»à·":n?"à¶´à·.à·.":"à¶´à·à¶» à·à¶»à·"}});ae="januÃ¡r_februÃ¡r_marec_aprÃ­l_mÃ¡j_jÃºn_jÃºl_august_september_oktÃ³ber_november_december".split("_"),ue="jan_feb_mar_apr_mÃ¡j_jÃºn_jÃºl_aug_sep_okt_nov_dec".split("_");function gr(e){return 1<e&&e<5}function _r(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pÃ¡r sekÃºnd":"pÃ¡r sekundami";case"ss":return t||i?r+(gr(e)?"sekundy":"sekÃºnd"):r+"sekundami";case"m":return t?"minÃºta":i?"minÃºtu":"minÃºtou";case"mm":return t||i?r+(gr(e)?"minÃºty":"minÃºt"):r+"minÃºtami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(gr(e)?"hodiny":"hodÃ­n"):r+"hodinami";case"d":return t||i?"deÅ":"dÅom";case"dd":return t||i?r+(gr(e)?"dni":"dnÃ­"):r+"dÅami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?r+(gr(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?r+(gr(e)?"roky":"rokov"):r+"rokmi"}}function yr(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===e?t?"sekundo":"sekundi":2===e?t||i?"sekundi":"sekundah":e<5?t||i?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return r+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return r+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}m.defineLocale("sk",{months:ae,monthsShort:ue,weekdays:"nedeÄ¾a_pondelok_utorok_streda_Å¡tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_Å¡t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_Å¡t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeÄ¾u o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo Å¡tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vÄera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulÃº nedeÄ¾u o] LT";case 1:case 2:return"[minulÃ½] dddd [o] LT";case 3:return"[minulÃº stredu o] LT";case 4:case 5:return"[minulÃ½] dddd [o] LT";case 6:return"[minulÃº sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:_r,ss:_r,m:_r,mm:_r,h:_r,hh:_r,d:_r,dd:_r,M:_r,MM:_r,y:_r,yy:_r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_Äetrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._Äet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_Äe_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[vÄeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejÅ¡njo] [nedeljo] [ob] LT";case 3:return"[prejÅ¡njo] [sredo] [ob] LT";case 6:return"[prejÅ¡njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejÅ¡nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"Äez %s",past:"pred %s",s:yr,ss:yr,m:yr,mm:yr,h:yr,hh:yr,d:yr,dd:yr,M:yr,MM:yr,y:yr,yy:yr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),m.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_NÃ«ntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_NÃ«n_Dhj".split("_"),weekdays:"E Diel_E HÃ«nÃ«_E MartÃ«_E MÃ«rkurÃ«_E Enjte_E Premte_E ShtunÃ«".split("_"),weekdaysShort:"Die_HÃ«n_Mar_MÃ«r_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_MÃ«_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot nÃ«] LT",nextDay:"[NesÃ«r nÃ«] LT",nextWeek:"dddd [nÃ«] LT",lastDay:"[Dje nÃ«] LT",lastWeek:"dddd [e kaluar nÃ«] LT",sameElse:"L"},relativeTime:{future:"nÃ« %s",past:"%s mÃ« parÃ«",s:"disa sekonda",ss:"%d sekonda",m:"njÃ« minutÃ«",mm:"%d minuta",h:"njÃ« orÃ«",hh:"%d orÃ«",d:"njÃ« ditÃ«",dd:"%d ditÃ«",M:"njÃ« muaj",MM:"%d muaj",y:"njÃ« vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var vr={words:{ss:["ÑÐµÐºÑÐ½Ð´Ð°","ÑÐµÐºÑÐ½Ð´Ðµ","ÑÐµÐºÑÐ½Ð´Ð¸"],m:["ÑÐµÐ´Ð°Ð½ Ð¼Ð¸Ð½ÑÑ","ÑÐµÐ´Ð½Ðµ Ð¼Ð¸Ð½ÑÑÐµ"],mm:["Ð¼Ð¸Ð½ÑÑ","Ð¼Ð¸Ð½ÑÑÐµ","Ð¼Ð¸Ð½ÑÑÐ°"],h:["ÑÐµÐ´Ð°Ð½ ÑÐ°Ñ","ÑÐµÐ´Ð½Ð¾Ð³ ÑÐ°ÑÐ°"],hh:["ÑÐ°Ñ","ÑÐ°ÑÐ°","ÑÐ°ÑÐ¸"],dd:["Ð´Ð°Ð½","Ð´Ð°Ð½Ð°","Ð´Ð°Ð½Ð°"],MM:["Ð¼ÐµÑÐµÑ","Ð¼ÐµÑÐµÑÐ°","Ð¼ÐµÑÐµÑÐ¸"],yy:["Ð³Ð¾Ð´Ð¸Ð½Ð°","Ð³Ð¾Ð´Ð¸Ð½Ðµ","Ð³Ð¾Ð´Ð¸Ð½Ð°"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var i=vr.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+vr.correctGrammaticalCase(e,i)}};m.defineLocale("sr-cyrl",{months:"ÑÐ°Ð½ÑÐ°Ñ_ÑÐµÐ±ÑÑÐ°Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ñ_ÑÑÐ½_ÑÑÐ»_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð±Ð°Ñ_Ð¾ÐºÑÐ¾Ð±Ð°Ñ_Ð½Ð¾Ð²ÐµÐ¼Ð±Ð°Ñ_Ð´ÐµÑÐµÐ¼Ð±Ð°Ñ".split("_"),monthsShort:"ÑÐ°Ð½._ÑÐµÐ±._Ð¼Ð°Ñ._Ð°Ð¿Ñ._Ð¼Ð°Ñ_ÑÑÐ½_ÑÑÐ»_Ð°Ð²Ð³._ÑÐµÐ¿._Ð¾ÐºÑ._Ð½Ð¾Ð²._Ð´ÐµÑ.".split("_"),monthsParseExact:!0,weekdays:"Ð½ÐµÐ´ÐµÑÐ°_Ð¿Ð¾Ð½ÐµÐ´ÐµÑÐ°Ðº_ÑÑÐ¾ÑÐ°Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÑÑÐ°Ðº_Ð¿ÐµÑÐ°Ðº_ÑÑÐ±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´._Ð¿Ð¾Ð½._ÑÑÐ¾._ÑÑÐµ._ÑÐµÑ._Ð¿ÐµÑ._ÑÑÐ±.".split("_"),weekdaysMin:"Ð½Ðµ_Ð¿Ð¾_ÑÑ_ÑÑ_ÑÐµ_Ð¿Ðµ_ÑÑ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[Ð´Ð°Ð½Ð°Ñ Ñ] LT",nextDay:"[ÑÑÑÑÐ° Ñ] LT",nextWeek:function(){switch(this.day()){case 0:return"[Ñ] [Ð½ÐµÐ´ÐµÑÑ] [Ñ] LT";case 3:return"[Ñ] [ÑÑÐµÐ´Ñ] [Ñ] LT";case 6:return"[Ñ] [ÑÑÐ±Ð¾ÑÑ] [Ñ] LT";case 1:case 2:case 4:case 5:return"[Ñ] dddd [Ñ] LT"}},lastDay:"[ÑÑÑÐµ Ñ] LT",lastWeek:function(){return["[Ð¿ÑÐ¾ÑÐ»Ðµ] [Ð½ÐµÐ´ÐµÑÐµ] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [Ð¿Ð¾Ð½ÐµÐ´ÐµÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [ÑÑÐ¾ÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ðµ] [ÑÑÐµÐ´Ðµ] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [ÑÐµÑÐ²ÑÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [Ð¿ÐµÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ðµ] [ÑÑÐ±Ð¾ÑÐµ] [Ñ] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"Ð¿ÑÐµ %s",s:"Ð½ÐµÐºÐ¾Ð»Ð¸ÐºÐ¾ ÑÐµÐºÑÐ½Ð´Ð¸",ss:vr.translate,m:vr.translate,mm:vr.translate,h:vr.translate,hh:vr.translate,d:"Ð´Ð°Ð½",dd:vr.translate,M:"Ð¼ÐµÑÐµÑ",MM:vr.translate,y:"Ð³Ð¾Ð´Ð¸Ð½Ñ",yy:vr.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Mr={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var i=Mr.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+Mr.correctGrammaticalCase(e,i)}};m.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄe u] LT",lastWeek:function(){return["[proÅ¡le] [nedelje] [u] LT","[proÅ¡log] [ponedeljka] [u] LT","[proÅ¡log] [utorka] [u] LT","[proÅ¡le] [srede] [u] LT","[proÅ¡log] [Äetvrtka] [u] LT","[proÅ¡log] [petka] [u] LT","[proÅ¡le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:Mr.translate,m:Mr.translate,mm:Mr.translate,h:Mr.translate,hh:Mr.translate,d:"dan",dd:Mr.translate,M:"mesec",MM:Mr.translate,y:"godinu",yy:Mr.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),m.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?11<=e?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),m.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¶ndag_mÃ¥ndag_tisdag_onsdag_torsdag_fredag_lÃ¶rdag".split("_"),weekdaysShort:"sÃ¶n_mÃ¥n_tis_ons_tor_fre_lÃ¶r".split("_"),weekdaysMin:"sÃ¶_mÃ¥_ti_on_to_fr_lÃ¶".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[IgÃ¥r] LT",nextWeek:"[PÃ¥] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fÃ¶r %s sedan",s:"nÃ¥gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mÃ¥nad",MM:"%d mÃ¥nader",y:"ett Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1!=~~(e%100/10)&&(1==t||2==t)?":a":":e")},week:{dow:1,doy:4}}),m.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var br={1:"à¯§",2:"à¯¨",3:"à¯©",4:"à¯ª",5:"à¯«",6:"à¯¬",7:"à¯­",8:"à¯®",9:"à¯¯",0:"à¯¦"},Ar={"à¯§":"1","à¯¨":"2","à¯©":"3","à¯ª":"4","à¯«":"5","à¯¬":"6","à¯­":"7","à¯®":"8","à¯¯":"9","à¯¦":"0"};m.defineLocale("ta",{months:"à®à®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®à¯_à®à®ªà¯à®°à®²à¯_à®®à¯_à®à¯à®©à¯_à®à¯à®²à¯_à®à®à®¸à¯à®à¯_à®à¯à®ªà¯à®à¯à®®à¯à®ªà®°à¯_à®à®à¯à®à¯à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®à®¿à®à®®à¯à®ªà®°à¯".split("_"),monthsShort:"à®à®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®à¯_à®à®ªà¯à®°à®²à¯_à®®à¯_à®à¯à®©à¯_à®à¯à®²à¯_à®à®à®¸à¯à®à¯_à®à¯à®ªà¯à®à¯à®®à¯à®ªà®°à¯_à®à®à¯à®à¯à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®à®¿à®à®®à¯à®ªà®°à¯".split("_"),weekdays:"à®à®¾à®¯à®¿à®±à¯à®±à¯à®à¯à®à®¿à®´à®®à¯_à®¤à®¿à®à¯à®à®à¯à®à®¿à®´à®®à¯_à®à¯à®µà¯à®µà®¾à®¯à¯à®à®¿à®´à®®à¯_à®ªà¯à®¤à®©à¯à®à®¿à®´à®®à¯_à®µà®¿à®¯à®¾à®´à®à¯à®à®¿à®´à®®à¯_à®µà¯à®³à¯à®³à®¿à®à¯à®à®¿à®´à®®à¯_à®à®©à®¿à®à¯à®à®¿à®´à®®à¯".split("_"),weekdaysShort:"à®à®¾à®¯à®¿à®±à¯_à®¤à®¿à®à¯à®à®³à¯_à®à¯à®µà¯à®µà®¾à®¯à¯_à®ªà¯à®¤à®©à¯_à®µà®¿à®¯à®¾à®´à®©à¯_à®µà¯à®³à¯à®³à®¿_à®à®©à®¿".split("_"),weekdaysMin:"à®à®¾_à®¤à®¿_à®à¯_à®ªà¯_à®µà®¿_à®µà¯_à®".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[à®à®©à¯à®±à¯] LT",nextDay:"[à®¨à®¾à®³à¯] LT",nextWeek:"dddd, LT",lastDay:"[à®¨à¯à®±à¯à®±à¯] LT",lastWeek:"[à®à®à®¨à¯à®¤ à®µà®¾à®°à®®à¯] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à®à®²à¯",past:"%s à®®à¯à®©à¯",s:"à®à®°à¯ à®à®¿à®² à®µà®¿à®¨à®¾à®à®¿à®à®³à¯",ss:"%d à®µà®¿à®¨à®¾à®à®¿à®à®³à¯",m:"à®à®°à¯ à®¨à®¿à®®à®¿à®à®®à¯",mm:"%d à®¨à®¿à®®à®¿à®à®à¯à®à®³à¯",h:"à®à®°à¯ à®®à®£à®¿ à®¨à¯à®°à®®à¯",hh:"%d à®®à®£à®¿ à®¨à¯à®°à®®à¯",d:"à®à®°à¯ à®¨à®¾à®³à¯",dd:"%d à®¨à®¾à®à¯à®à®³à¯",M:"à®à®°à¯ à®®à®¾à®¤à®®à¯",MM:"%d à®®à®¾à®¤à®à¯à®à®³à¯",y:"à®à®°à¯ à®µà®°à¯à®à®®à¯",yy:"%d à®à®£à¯à®à¯à®à®³à¯"},dayOfMonthOrdinalParse:/\d{1,2}à®µà®¤à¯/,ordinal:function(e){return e+"à®µà®¤à¯"},preparse:function(e){return e.replace(/[à¯§à¯¨à¯©à¯ªà¯«à¯¬à¯­à¯®à¯¯à¯¦]/g,function(e){return Ar[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return br[e]})},meridiemParse:/à®¯à®¾à®®à®®à¯|à®µà¯à®à®±à¯|à®à®¾à®²à¯|à®¨à®£à¯à®ªà®à®²à¯|à®à®±à¯à®ªà®¾à®à¯|à®®à®¾à®²à¯/,meridiem:function(e,t,n){return e<2?" à®¯à®¾à®®à®®à¯":e<6?" à®µà¯à®à®±à¯":e<10?" à®à®¾à®²à¯":e<14?" à®¨à®£à¯à®ªà®à®²à¯":e<18?" à®à®±à¯à®ªà®¾à®à¯":e<22?" à®®à®¾à®²à¯":" à®¯à®¾à®®à®®à¯"},meridiemHour:function(e,t){return 12===e&&(e=0),"à®¯à®¾à®®à®®à¯"===t?e<2?e:e+12:"à®µà¯à®à®±à¯"===t||"à®à®¾à®²à¯"===t||"à®¨à®£à¯à®ªà®à®²à¯"===t&&10<=e?e:e+12},week:{dow:0,doy:6}}),m.defineLocale("te",{months:"à°à°¨à°µà°°à°¿_à°«à°¿à°¬à±à°°à°µà°°à°¿_à°®à°¾à°°à±à°à°¿_à°à°ªà±à°°à°¿à°²à±_à°®à±_à°à±à°¨à±_à°à±à°²à±_à°à°à°¸à±à°à±_à°¸à±à°ªà±à°à±à°à°¬à°°à±_à°à°à±à°à±à°¬à°°à±_à°¨à°µà°à°¬à°°à±_à°¡à°¿à°¸à±à°à°¬à°°à±".split("_"),monthsShort:"à°à°¨._à°«à°¿à°¬à±à°°._à°®à°¾à°°à±à°à°¿_à°à°ªà±à°°à°¿._à°®à±_à°à±à°¨à±_à°à±à°²à±_à°à°._à°¸à±à°ªà±._à°à°à±à°à±._à°¨à°µ._à°¡à°¿à°¸à±.".split("_"),monthsParseExact:!0,weekdays:"à°à°¦à°¿à°µà°¾à°°à°_à°¸à±à°®à°µà°¾à°°à°_à°®à°à°à°³à°µà°¾à°°à°_à°¬à±à°§à°µà°¾à°°à°_à°à±à°°à±à°µà°¾à°°à°_à°¶à±à°à±à°°à°µà°¾à°°à°_à°¶à°¨à°¿à°µà°¾à°°à°".split("_"),weekdaysShort:"à°à°¦à°¿_à°¸à±à°®_à°®à°à°à°³_à°¬à±à°§_à°à±à°°à±_à°¶à±à°à±à°°_à°¶à°¨à°¿".split("_"),weekdaysMin:"à°_à°¸à±_à°®à°_à°¬à±_à°à±_à°¶à±_à°¶".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[à°¨à±à°¡à±] LT",nextDay:"[à°°à±à°ªà±] LT",nextWeek:"dddd, LT",lastDay:"[à°¨à°¿à°¨à±à°¨] LT",lastWeek:"[à°à°¤] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à°²à±",past:"%s à°à±à°°à°¿à°¤à°",s:"à°à±à°¨à±à°¨à°¿ à°à±à°·à°£à°¾à°²à±",ss:"%d à°¸à±à°à°¨à±à°²à±",m:"à°à° à°¨à°¿à°®à°¿à°·à°",mm:"%d à°¨à°¿à°®à°¿à°·à°¾à°²à±",h:"à°à° à°à°à°",hh:"%d à°à°à°à°²à±",d:"à°à° à°°à±à°à±",dd:"%d à°°à±à°à±à°²à±",M:"à°à° à°¨à±à°²",MM:"%d à°¨à±à°²à°²à±",y:"à°à° à°¸à°à°µà°¤à±à°¸à°°à°",yy:"%d à°¸à°à°µà°¤à±à°¸à°°à°¾à°²à±"},dayOfMonthOrdinalParse:/\d{1,2}à°µ/,ordinal:"%dà°µ",meridiemParse:/à°°à°¾à°¤à±à°°à°¿|à°à°¦à°¯à°|à°®à°§à±à°¯à°¾à°¹à±à°¨à°|à°¸à°¾à°¯à°à°¤à±à°°à°/,meridiemHour:function(e,t){return 12===e&&(e=0),"à°°à°¾à°¤à±à°°à°¿"===t?e<4?e:e+12:"à°à°¦à°¯à°"===t?e:"à°®à°§à±à°¯à°¾à°¹à±à°¨à°"===t?10<=e?e:e+12:"à°¸à°¾à°¯à°à°¤à±à°°à°"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à°°à°¾à°¤à±à°°à°¿":e<10?"à°à°¦à°¯à°":e<17?"à°®à°§à±à°¯à°¾à°¹à±à°¨à°":e<20?"à°¸à°¾à°¯à°à°¤à±à°°à°":"à°°à°¾à°¤à±à°°à°¿"},week:{dow:0,doy:6}}),m.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_JuÃ±u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:1,doy:4}});var wr={0:"-ÑÐ¼",1:"-ÑÐ¼",2:"-ÑÐ¼",3:"-ÑÐ¼",4:"-ÑÐ¼",5:"-ÑÐ¼",6:"-ÑÐ¼",7:"-ÑÐ¼",8:"-ÑÐ¼",9:"-ÑÐ¼",10:"-ÑÐ¼",12:"-ÑÐ¼",13:"-ÑÐ¼",20:"-ÑÐ¼",30:"-ÑÐ¼",40:"-ÑÐ¼",50:"-ÑÐ¼",60:"-ÑÐ¼",70:"-ÑÐ¼",80:"-ÑÐ¼",90:"-ÑÐ¼",100:"-ÑÐ¼"};m.defineLocale("tg",{months:{format:"ÑÐ½Ð²Ð°ÑÐ¸_ÑÐµÐ²ÑÐ°Ð»Ð¸_Ð¼Ð°ÑÑÐ¸_Ð°Ð¿ÑÐµÐ»Ð¸_Ð¼Ð°Ð¹Ð¸_Ð¸ÑÐ½Ð¸_Ð¸ÑÐ»Ð¸_Ð°Ð²Ð³ÑÑÑÐ¸_ÑÐµÐ½ÑÑÐ±ÑÐ¸_Ð¾ÐºÑÑÐ±ÑÐ¸_Ð½Ð¾ÑÐ±ÑÐ¸_Ð´ÐµÐºÐ°Ð±ÑÐ¸".split("_"),standalone:"ÑÐ½Ð²Ð°Ñ_ÑÐµÐ²ÑÐ°Ð»_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±Ñ_Ð¾ÐºÑÑÐ±Ñ_Ð½Ð¾ÑÐ±Ñ_Ð´ÐµÐºÐ°Ð±Ñ".split("_")},monthsShort:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),weekdays:"ÑÐºÑÐ°Ð½Ð±Ðµ_Ð´ÑÑÐ°Ð½Ð±Ðµ_ÑÐµÑÐ°Ð½Ð±Ðµ_ÑÐ¾ÑÑÐ°Ð½Ð±Ðµ_Ð¿Ð°Ð½Ò·ÑÐ°Ð½Ð±Ðµ_Ò·ÑÐ¼ÑÐ°_ÑÐ°Ð½Ð±Ðµ".split("_"),weekdaysShort:"ÑÑÐ±_Ð´ÑÐ±_ÑÑÐ±_ÑÑÐ±_Ð¿ÑÐ±_Ò·ÑÐ¼_ÑÐ½Ð±".split("_"),weekdaysMin:"ÑÑ_Ð´Ñ_ÑÑ_ÑÑ_Ð¿Ñ_Ò·Ð¼_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ÐÐ¼ÑÓ¯Ð· ÑÐ¾Ð°ÑÐ¸] LT",nextDay:"[Ð¤Ð°ÑÐ´Ð¾ ÑÐ¾Ð°ÑÐ¸] LT",lastDay:"[ÐÐ¸ÑÓ¯Ð· ÑÐ¾Ð°ÑÐ¸] LT",nextWeek:"dddd[Ð¸] [Ò³Ð°ÑÑÐ°Ð¸ Ð¾ÑÐ½Ð´Ð° ÑÐ¾Ð°ÑÐ¸] LT",lastWeek:"dddd[Ð¸] [Ò³Ð°ÑÑÐ°Ð¸ Ð³ÑÐ·Ð°ÑÑÐ° ÑÐ¾Ð°ÑÐ¸] LT",sameElse:"L"},relativeTime:{future:"Ð±Ð°ÑÐ´Ð¸ %s",past:"%s Ð¿ÐµÑ",s:"ÑÐºÑÐ°Ð½Ð´ ÑÐ¾Ð½Ð¸Ñ",m:"ÑÐº Ð´Ð°ÒÐ¸ÒÐ°",mm:"%d Ð´Ð°ÒÐ¸ÒÐ°",h:"ÑÐº ÑÐ¾Ð°Ñ",hh:"%d ÑÐ¾Ð°Ñ",d:"ÑÐº ÑÓ¯Ð·",dd:"%d ÑÓ¯Ð·",M:"ÑÐº Ð¼Ð¾Ò³",MM:"%d Ð¼Ð¾Ò³",y:"ÑÐº ÑÐ¾Ð»",yy:"%d ÑÐ¾Ð»"},meridiemParse:/ÑÐ°Ð±|ÑÑÐ±Ò³|ÑÓ¯Ð·|Ð±ÐµÐ³Ð¾Ò³/,meridiemHour:function(e,t){return 12===e&&(e=0),"ÑÐ°Ð±"===t?e<4?e:e+12:"ÑÑÐ±Ò³"===t?e:"ÑÓ¯Ð·"===t?11<=e?e:e+12:"Ð±ÐµÐ³Ð¾Ò³"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ÑÐ°Ð±":e<11?"ÑÑÐ±Ò³":e<16?"ÑÓ¯Ð·":e<19?"Ð±ÐµÐ³Ð¾Ò³":"ÑÐ°Ð±"},dayOfMonthOrdinalParse:/\d{1,2}-(ÑÐ¼|ÑÐ¼)/,ordinal:function(e){return e+(wr[e]||wr[e%10]||wr[100<=e?100:null])},week:{dow:1,doy:7}}),m.defineLocale("th",{months:"à¸¡à¸à¸£à¸²à¸à¸¡_à¸à¸¸à¸¡à¸ à¸²à¸à¸±à¸à¸à¹_à¸¡à¸µà¸à¸²à¸à¸¡_à¹à¸¡à¸©à¸²à¸¢à¸_à¸à¸¤à¸©à¸ à¸²à¸à¸¡_à¸¡à¸´à¸à¸¸à¸à¸²à¸¢à¸_à¸à¸£à¸à¸à¸²à¸à¸¡_à¸ªà¸´à¸à¸«à¸²à¸à¸¡_à¸à¸±à¸à¸¢à¸²à¸¢à¸_à¸à¸¸à¸¥à¸²à¸à¸¡_à¸à¸¤à¸¨à¸à¸´à¸à¸²à¸¢à¸_à¸à¸±à¸à¸§à¸²à¸à¸¡".split("_"),monthsShort:"à¸¡.à¸._à¸.à¸._à¸¡à¸µ.à¸._à¹à¸¡.à¸¢._à¸.à¸._à¸¡à¸´.à¸¢._à¸.à¸._à¸ª.à¸._à¸.à¸¢._à¸.à¸._à¸.à¸¢._à¸.à¸.".split("_"),monthsParseExact:!0,weekdays:"à¸­à¸²à¸à¸´à¸à¸¢à¹_à¸à¸±à¸à¸à¸£à¹_à¸­à¸±à¸à¸à¸²à¸£_à¸à¸¸à¸_à¸à¸¤à¸«à¸±à¸ªà¸à¸à¸µ_à¸¨à¸¸à¸à¸£à¹_à¹à¸ªà¸²à¸£à¹".split("_"),weekdaysShort:"à¸­à¸²à¸à¸´à¸à¸¢à¹_à¸à¸±à¸à¸à¸£à¹_à¸­à¸±à¸à¸à¸²à¸£_à¸à¸¸à¸_à¸à¸¤à¸«à¸±à¸ª_à¸¨à¸¸à¸à¸£à¹_à¹à¸ªà¸²à¸£à¹".split("_"),weekdaysMin:"à¸­à¸²._à¸._à¸­._à¸._à¸à¸¤._à¸¨._à¸ª.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY à¹à¸§à¸¥à¸² H:mm",LLLL:"à¸§à¸±à¸ddddà¸à¸µà¹ D MMMM YYYY à¹à¸§à¸¥à¸² H:mm"},meridiemParse:/à¸à¹à¸­à¸à¹à¸à¸µà¹à¸¢à¸|à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸/,isPM:function(e){return"à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸"===e},meridiem:function(e,t,n){return e<12?"à¸à¹à¸­à¸à¹à¸à¸µà¹à¸¢à¸":"à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸"},calendar:{sameDay:"[à¸§à¸±à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",nextDay:"[à¸à¸£à¸¸à¹à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",nextWeek:"dddd[à¸«à¸à¹à¸² à¹à¸§à¸¥à¸²] LT",lastDay:"[à¹à¸¡à¸·à¹à¸­à¸§à¸²à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",lastWeek:"[à¸§à¸±à¸]dddd[à¸à¸µà¹à¹à¸¥à¹à¸§ à¹à¸§à¸¥à¸²] LT",sameElse:"L"},relativeTime:{future:"à¸­à¸µà¸ %s",past:"%sà¸à¸µà¹à¹à¸¥à¹à¸§",s:"à¹à¸¡à¹à¸à¸µà¹à¸§à¸´à¸à¸²à¸à¸µ",ss:"%d à¸§à¸´à¸à¸²à¸à¸µ",m:"1 à¸à¸²à¸à¸µ",mm:"%d à¸à¸²à¸à¸µ",h:"1 à¸à¸±à¹à¸§à¹à¸¡à¸",hh:"%d à¸à¸±à¹à¸§à¹à¸¡à¸",d:"1 à¸§à¸±à¸",dd:"%d à¸§à¸±à¸",w:"1 à¸ªà¸±à¸à¸à¸²à¸«à¹",ww:"%d à¸ªà¸±à¸à¸à¸²à¸«à¹",M:"1 à¹à¸à¸·à¸­à¸",MM:"%d à¹à¸à¸·à¸­à¸",y:"1 à¸à¸µ",yy:"%d à¸à¸µ"}});var xr={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'Ã¼nji",4:"'Ã¼nji",100:"'Ã¼nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};m.defineLocale("tk",{months:"Ãanwar_Fewral_Mart_Aprel_MaÃ½_IÃ½un_IÃ½ul_Awgust_SentÃ½abr_OktÃ½abr_NoÃ½abr_Dekabr".split("_"),monthsShort:"Ãan_Few_Mar_Apr_MaÃ½_IÃ½n_IÃ½l_Awg_Sen_Okt_NoÃ½_Dek".split("_"),weekdays:"ÃekÅenbe_DuÅenbe_SiÅenbe_ÃarÅenbe_PenÅenbe_Anna_Åenbe".split("_"),weekdaysShort:"Ãek_DuÅ_SiÅ_Ãar_Pen_Ann_Åen".split("_"),weekdaysMin:"Ãk_DÅ_SÅ_Ãr_Pn_An_Ån".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugÃ¼n sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dÃ¼Ã½n] LT",lastWeek:"[geÃ§en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soÅ",past:"%s Ã¶Å",s:"birnÃ¤Ã§e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gÃ¼n",dd:"%d gÃ¼n",M:"bir aÃ½",MM:"%d aÃ½",y:"bir Ã½yl",yy:"%d Ã½yl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var n=e%10;return e+(xr[n]||xr[e%100-n]||xr[100<=e?100:null])}},week:{dow:1,doy:7}}),m.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});var Er="pagh_waâ_chaâ_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function Lr(e,t,n,i){var r=function(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),i=e%10,e="";0<t&&(e+=Er[t]+"vatlh");0<n&&(e+=(""!==e?" ":"")+Er[n]+"maH");0<i&&(e+=(""!==e?" ":"")+Er[i]);return""===e?"pagh":e}(e);switch(n){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}m.defineLocale("tlh",{months:"teraâ jar waâ_teraâ jar chaâ_teraâ jar wej_teraâ jar loS_teraâ jar vagh_teraâ jar jav_teraâ jar Soch_teraâ jar chorgh_teraâ jar Hut_teraâ jar waâmaH_teraâ jar waâmaH waâ_teraâ jar waâmaH chaâ".split("_"),monthsShort:"jar waâ_jar chaâ_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar waâmaH_jar waâmaH waâ_jar waâmaH chaâ".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waâleS] LT",nextWeek:"LLL",lastDay:"[waâHuâ] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Huâ":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:Lr,m:"waâ tup",mm:Lr,h:"waâ rep",hh:Lr,d:"waâ jaj",dd:Lr,M:"waâ jar",MM:Lr,y:"waâ DIS",yy:Lr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Tr={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'Ã¼ncÃ¼",4:"'Ã¼ncÃ¼",100:"'Ã¼ncÃ¼",6:"'ncÄ±",9:"'uncu",10:"'uncu",30:"'uncu",60:"'Ä±ncÄ±",90:"'Ä±ncÄ±"};function Dr(e,t,n,i){e={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mÃ­ut","'iens mÃ­ut"],mm:[e+" mÃ­uts",e+" mÃ­uts"],h:["'n Ã¾ora","'iensa Ã¾ora"],hh:[e+" Ã¾oras",e+" Ã¾oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i||t?e[n][0]:e[n][1]}function Sr(e,t,n){return"m"===n?t?"ÑÐ²Ð¸Ð»Ð¸Ð½Ð°":"ÑÐ²Ð¸Ð»Ð¸Ð½Ñ":"h"===n?t?"Ð³Ð¾Ð´Ð¸Ð½Ð°":"Ð³Ð¾Ð´Ð¸Ð½Ñ":e+" "+(e=+e,n=(n={ss:t?"ÑÐµÐºÑÐ½Ð´Ð°_ÑÐµÐºÑÐ½Ð´Ð¸_ÑÐµÐºÑÐ½Ð´":"ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´Ð¸_ÑÐµÐºÑÐ½Ð´",mm:t?"ÑÐ²Ð¸Ð»Ð¸Ð½Ð°_ÑÐ²Ð¸Ð»Ð¸Ð½Ð¸_ÑÐ²Ð¸Ð»Ð¸Ð½":"ÑÐ²Ð¸Ð»Ð¸Ð½Ñ_ÑÐ²Ð¸Ð»Ð¸Ð½Ð¸_ÑÐ²Ð¸Ð»Ð¸Ð½",hh:t?"Ð³Ð¾Ð´Ð¸Ð½Ð°_Ð³Ð¾Ð´Ð¸Ð½Ð¸_Ð³Ð¾Ð´Ð¸Ð½":"Ð³Ð¾Ð´Ð¸Ð½Ñ_Ð³Ð¾Ð´Ð¸Ð½Ð¸_Ð³Ð¾Ð´Ð¸Ð½",dd:"Ð´ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð½ÑÐ²",MM:"Ð¼ÑÑÑÑÑ_Ð¼ÑÑÑÑÑ_Ð¼ÑÑÑÑÑÐ²",yy:"ÑÑÐº_ÑÐ¾ÐºÐ¸_ÑÐ¾ÐºÑÐ²"}[n]).split("_"),e%10==1&&e%100!=11?n[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?n[1]:n[2])}function Nr(e){return function(){return e+"Ð¾"+(11===this.hours()?"Ð±":"")+"] LT"}}m.defineLocale("tr",{months:"Ocak_Åubat_Mart_Nisan_MayÄ±s_Haziran_Temmuz_AÄustos_EylÃ¼l_Ekim_KasÄ±m_AralÄ±k".split("_"),monthsShort:"Oca_Åub_Mar_Nis_May_Haz_Tem_AÄu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_SalÄ±_ÃarÅamba_PerÅembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Ãar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ãa_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"Ã¶Ã¶":"ÃÃ":n?"Ã¶s":"ÃS"},meridiemParse:/Ã¶Ã¶|ÃÃ|Ã¶s|ÃS/,isPM:function(e){return"Ã¶s"===e||"ÃS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugÃ¼n saat] LT",nextDay:"[yarÄ±n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dÃ¼n] LT",lastWeek:"[geÃ§en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s Ã¶nce",s:"birkaÃ§ saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gÃ¼n",dd:"%d gÃ¼n",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yÄ±l",yy:"%d yÄ±l"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'Ä±ncÄ±";var n=e%10;return e+(Tr[n]||Tr[e%100-n]||Tr[100<=e?100:null])}},week:{dow:1,doy:7}}),m.defineLocale("tzl",{months:"Januar_Fevraglh_MarÃ§_AvrÃ¯u_Mai_GÃ¼n_Julia_Guscht_Setemvar_ListopÃ¤ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_GÃ¼n_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"SÃºladi_LÃºneÃ§i_Maitzi_MÃ¡rcuri_XhÃºadi_ViÃ©nerÃ§i_SÃ¡turi".split("_"),weekdaysShort:"SÃºl_LÃºn_Mai_MÃ¡r_XhÃº_ViÃ©_SÃ¡t".split("_"),weekdaysMin:"SÃº_LÃº_Ma_MÃ¡_Xh_Vi_SÃ¡".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return 11<e?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi Ã ] LT",nextDay:"[demÃ  Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[ieiri Ã ] LT",lastWeek:"[sÃ¼r el] dddd [lasteu Ã ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Dr,ss:Dr,m:Dr,mm:Dr,h:Dr,hh:Dr,d:Dr,dd:Dr,M:Dr,MM:Dr,y:Dr,yy:Dr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),m.defineLocale("tzm-latn",{months:"innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuá¸",mm:"%d minuá¸",h:"saÉa",hh:"%d tassaÉin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),m.defineLocale("tzm",{months:"âµâµâµâ´°âµ¢âµ_â´±âµâ´°âµ¢âµ_âµâ´°âµâµ_âµâ´±âµâµâµ_âµâ´°âµ¢âµ¢âµ_âµ¢âµâµâµ¢âµ_âµ¢âµâµâµ¢âµâµ£_âµâµâµâµ_âµâµâµâ´°âµâ´±âµâµ_â´½âµâµâ´±âµ_âµâµâµ¡â´°âµâ´±âµâµ_â´·âµâµâµâ´±âµâµ".split("_"),monthsShort:"âµâµâµâ´°âµ¢âµ_â´±âµâ´°âµ¢âµ_âµâ´°âµâµ_âµâ´±âµâµâµ_âµâ´°âµ¢âµ¢âµ_âµ¢âµâµâµ¢âµ_âµ¢âµâµâµ¢âµâµ£_âµâµâµâµ_âµâµâµâ´°âµâ´±âµâµ_â´½âµâµâ´±âµ_âµâµâµ¡â´°âµâ´±âµâµ_â´·âµâµâµâ´±âµâµ".split("_"),weekdays:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),weekdaysShort:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),weekdaysMin:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[â´°âµâ´·âµ â´´] LT",nextDay:"[â´°âµâ´½â´° â´´] LT",nextWeek:"dddd [â´´] LT",lastDay:"[â´°âµâ´°âµâµ â´´] LT",lastWeek:"dddd [â´´] LT",sameElse:"L"},relativeTime:{future:"â´·â´°â´·âµ âµ âµ¢â´°âµ %s",past:"âµ¢â´°âµ %s",s:"âµâµâµâ´½",ss:"%d âµâµâµâ´½",m:"âµâµâµâµâ´º",mm:"%d âµâµâµâµâ´º",h:"âµâ´°âµâ´°",hh:"%d âµâ´°âµâµâ´°âµâµâµ",d:"â´°âµâµ",dd:"%d oâµâµâ´°âµ",M:"â´°âµ¢oâµâµ",MM:"%d âµâµ¢âµ¢âµâµâµ",y:"â´°âµâ´³â´°âµ",yy:"%d âµâµâ´³â´°âµâµ"},week:{dow:6,doy:12}}),m.defineLocale("ug-cn",{months:"ÙØ§ÙÛØ§Ø±_ÙÛÛØ±Ø§Ù_ÙØ§Ø±Øª_Ø¦Ø§Ù¾Ø±ÛÙ_ÙØ§Ù_Ø¦ÙÙÛÙ_Ø¦ÙÙÛÙ_Ø¦Ø§ÛØºÛØ³Øª_Ø³ÛÙØªÛØ¨ÙØ±_Ø¦ÛÙØªÛØ¨ÙØ±_ÙÙÙØ§Ø¨ÙØ±_Ø¯ÛÙØ§Ø¨ÙØ±".split("_"),monthsShort:"ÙØ§ÙÛØ§Ø±_ÙÛÛØ±Ø§Ù_ÙØ§Ø±Øª_Ø¦Ø§Ù¾Ø±ÛÙ_ÙØ§Ù_Ø¦ÙÙÛÙ_Ø¦ÙÙÛÙ_Ø¦Ø§ÛØºÛØ³Øª_Ø³ÛÙØªÛØ¨ÙØ±_Ø¦ÛÙØªÛØ¨ÙØ±_ÙÙÙØ§Ø¨ÙØ±_Ø¯ÛÙØ§Ø¨ÙØ±".split("_"),weekdays:"ÙÛÙØ´ÛÙØ¨Û_Ø¯ÛØ´ÛÙØ¨Û_Ø³ÛÙØ´ÛÙØ¨Û_ÚØ§Ø±Ø´ÛÙØ¨Û_Ù¾ÛÙØ´ÛÙØ¨Û_Ø¬ÛÙÛ_Ø´ÛÙØ¨Û".split("_"),weekdaysShort:"ÙÛ_Ø¯Û_Ø³Û_ÚØ§_Ù¾Û_Ø¬Û_Ø´Û".split("_"),weekdaysMin:"ÙÛ_Ø¯Û_Ø³Û_ÚØ§_Ù¾Û_Ø¬Û_Ø´Û".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-ÙÙÙÙM-Ø¦Ø§ÙÙÙÚ­D-ÙÛÙÙ",LLL:"YYYY-ÙÙÙÙM-Ø¦Ø§ÙÙÙÚ­D-ÙÛÙÙØ HH:mm",LLLL:"ddddØ YYYY-ÙÙÙÙM-Ø¦Ø§ÙÙÙÚ­D-ÙÛÙÙØ HH:mm"},meridiemParse:/ÙÛØ±ÙÙ ÙÛÚÛ|Ø³ÛÚ¾ÛØ±|ÚÛØ´ØªÙÙ Ø¨ÛØ±ÛÙ|ÚÛØ´|ÚÛØ´ØªÙÙ ÙÛÙÙÙ|ÙÛÚ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ÙÛØ±ÙÙ ÙÛÚÛ"===t||"Ø³ÛÚ¾ÛØ±"===t||"ÚÛØ´ØªÙÙ Ø¨ÛØ±ÛÙ"===t||"ÚÛØ´ØªÙÙ ÙÛÙÙÙ"!==t&&"ÙÛÚ"!==t&&11<=e?e:e+12},meridiem:function(e,t,n){t=100*e+t;return t<600?"ÙÛØ±ÙÙ ÙÛÚÛ":t<900?"Ø³ÛÚ¾ÛØ±":t<1130?"ÚÛØ´ØªÙÙ Ø¨ÛØ±ÛÙ":t<1230?"ÚÛØ´":t<1800?"ÚÛØ´ØªÙÙ ÙÛÙÙÙ":"ÙÛÚ"},calendar:{sameDay:"[Ø¨ÛÚ¯ÛÙ Ø³Ø§Ø¦ÛØª] LT",nextDay:"[Ø¦ÛØªÛ Ø³Ø§Ø¦ÛØª] LT",nextWeek:"[ÙÛÙÛØ±ÙÙ] dddd [Ø³Ø§Ø¦ÛØª] LT",lastDay:"[ØªÛÙÛÚ¯ÛÙ] LT",lastWeek:"[Ø¦Ø§ÙØ¯ÙÙÙÙ] dddd [Ø³Ø§Ø¦ÛØª] LT",sameElse:"L"},relativeTime:{future:"%s ÙÛÙÙÙ",past:"%s Ø¨ÛØ±ÛÙ",s:"ÙÛÚÚÛ Ø³ÛÙÙÙØª",ss:"%d Ø³ÛÙÙÙØª",m:"Ø¨ÙØ± ÙÙÙÛØª",mm:"%d ÙÙÙÛØª",h:"Ø¨ÙØ± Ø³Ø§Ø¦ÛØª",hh:"%d Ø³Ø§Ø¦ÛØª",d:"Ø¨ÙØ± ÙÛÙ",dd:"%d ÙÛÙ",M:"Ø¨ÙØ± Ø¦Ø§Ù",MM:"%d Ø¦Ø§Ù",y:"Ø¨ÙØ± ÙÙÙ",yy:"%d ÙÙÙ"},dayOfMonthOrdinalParse:/\d{1,2}(-ÙÛÙÙ|-Ø¦Ø§Ù|-Ú¾ÛÙ¾ØªÛ)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-ÙÛÙÙ";case"w":case"W":return e+"-Ú¾ÛÙ¾ØªÛ";default:return e}},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:1,doy:7}}),m.defineLocale("uk",{months:{format:"ÑÑÑÐ½Ñ_Ð»ÑÑÐ¾Ð³Ð¾_Ð±ÐµÑÐµÐ·Ð½Ñ_ÐºÐ²ÑÑÐ½Ñ_ÑÑÐ°Ð²Ð½Ñ_ÑÐµÑÐ²Ð½Ñ_Ð»Ð¸Ð¿Ð½Ñ_ÑÐµÑÐ¿Ð½Ñ_Ð²ÐµÑÐµÑÐ½Ñ_Ð¶Ð¾Ð²ÑÐ½Ñ_Ð»Ð¸ÑÑÐ¾Ð¿Ð°Ð´Ð°_Ð³ÑÑÐ´Ð½Ñ".split("_"),standalone:"ÑÑÑÐµÐ½Ñ_Ð»ÑÑÐ¸Ð¹_Ð±ÐµÑÐµÐ·ÐµÐ½Ñ_ÐºÐ²ÑÑÐµÐ½Ñ_ÑÑÐ°Ð²ÐµÐ½Ñ_ÑÐµÑÐ²ÐµÐ½Ñ_Ð»Ð¸Ð¿ÐµÐ½Ñ_ÑÐµÑÐ¿ÐµÐ½Ñ_Ð²ÐµÑÐµÑÐµÐ½Ñ_Ð¶Ð¾Ð²ÑÐµÐ½Ñ_Ð»Ð¸ÑÑÐ¾Ð¿Ð°Ð´_Ð³ÑÑÐ´ÐµÐ½Ñ".split("_")},monthsShort:"ÑÑÑ_Ð»ÑÑ_Ð±ÐµÑ_ÐºÐ²ÑÑ_ÑÑÐ°Ð²_ÑÐµÑÐ²_Ð»Ð¸Ð¿_ÑÐµÑÐ¿_Ð²ÐµÑ_Ð¶Ð¾Ð²Ñ_Ð»Ð¸ÑÑ_Ð³ÑÑÐ´".split("_"),weekdays:function(e,t){var n={nominative:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»Ð¾Ðº_Ð²ÑÐ²ÑÐ¾ÑÐ¾Ðº_ÑÐµÑÐµÐ´Ð°_ÑÐµÑÐ²ÐµÑ_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÐ°".split("_"),accusative:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»Ð¾Ðº_Ð²ÑÐ²ÑÐ¾ÑÐ¾Ðº_ÑÐµÑÐµÐ´Ñ_ÑÐµÑÐ²ÐµÑ_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÑ".split("_"),genitive:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»ÐºÐ°_Ð²ÑÐ²ÑÐ¾ÑÐºÐ°_ÑÐµÑÐµÐ´Ð¸_ÑÐµÑÐ²ÐµÑÐ³Ð°_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÐ¸".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[ÐÐ²Ð£Ñ]\]) ?dddd/.test(t)?"accusative":/\[?(?:Ð¼Ð¸Ð½ÑÐ»Ð¾Ñ|Ð½Ð°ÑÑÑÐ¿Ð½Ð¾Ñ)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ñ.",LLL:"D MMMM YYYY Ñ., HH:mm",LLLL:"dddd, D MMMM YYYY Ñ., HH:mm"},calendar:{sameDay:Nr("[Ð¡ÑÐ¾Ð³Ð¾Ð´Ð½Ñ "),nextDay:Nr("[ÐÐ°Ð²ÑÑÐ° "),lastDay:Nr("[ÐÑÐ¾ÑÐ° "),nextWeek:Nr("[Ð£] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Nr("[ÐÐ¸Ð½ÑÐ»Ð¾Ñ] dddd [").call(this);case 1:case 2:case 4:return Nr("[ÐÐ¸Ð½ÑÐ»Ð¾Ð³Ð¾] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"%s ÑÐ¾Ð¼Ñ",s:"Ð´ÐµÐºÑÐ»ÑÐºÐ° ÑÐµÐºÑÐ½Ð´",ss:Sr,m:Sr,mm:Sr,h:"Ð³Ð¾Ð´Ð¸Ð½Ñ",hh:Sr,d:"Ð´ÐµÐ½Ñ",dd:Sr,M:"Ð¼ÑÑÑÑÑ",MM:Sr,y:"ÑÑÐº",yy:Sr},meridiemParse:/Ð½Ð¾ÑÑ|ÑÐ°Ð½ÐºÑ|Ð´Ð½Ñ|Ð²ÐµÑÐ¾ÑÐ°/,isPM:function(e){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐ¾ÑÐ°)$/.test(e)},meridiem:function(e,t,n){return e<4?"Ð½Ð¾ÑÑ":e<12?"ÑÐ°Ð½ÐºÑ":e<17?"Ð´Ð½Ñ":"Ð²ÐµÑÐ¾ÑÐ°"},dayOfMonthOrdinalParse:/\d{1,2}-(Ð¹|Ð³Ð¾)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-Ð¹";case"D":return e+"-Ð³Ð¾";default:return e}},week:{dow:1,doy:7}});ae=["Ø¬ÙÙØ±Û","ÙØ±ÙØ±Û","ÙØ§Ø±Ú","Ø§Ù¾Ø±ÛÙ","ÙØ¦Û","Ø¬ÙÙ","Ø¬ÙÙØ§Ø¦Û","Ø§Ú¯Ø³Øª","Ø³ØªÙØ¨Ø±","Ø§Ú©ØªÙØ¨Ø±","ÙÙÙØ¨Ø±","Ø¯Ø³ÙØ¨Ø±"],ue=["Ø§ØªÙØ§Ø±","Ù¾ÛØ±","ÙÙÚ¯Ù","Ø¨Ø¯Ú¾","Ø¬ÙØ¹Ø±Ø§Øª","Ø¬ÙØ¹Û","ÛÙØªÛ"];return m.defineLocale("ur",{months:ae,monthsShort:ae,weekdays:ue,weekdaysShort:ue,weekdaysMin:ue,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ddddØ D MMMM YYYY HH:mm"},meridiemParse:/ØµØ¨Ø­|Ø´Ø§Ù/,isPM:function(e){return"Ø´Ø§Ù"===e},meridiem:function(e,t,n){return e<12?"ØµØ¨Ø­":"Ø´Ø§Ù"},calendar:{sameDay:"[Ø¢Ø¬ Ø¨ÙÙØª] LT",nextDay:"[Ú©Ù Ø¨ÙÙØª] LT",nextWeek:"dddd [Ø¨ÙÙØª] LT",lastDay:"[Ú¯Ø°Ø´ØªÛ Ø±ÙØ² Ø¨ÙÙØª] LT",lastWeek:"[Ú¯Ø°Ø´ØªÛ] dddd [Ø¨ÙÙØª] LT",sameElse:"L"},relativeTime:{future:"%s Ø¨Ø¹Ø¯",past:"%s ÙØ¨Ù",s:"ÚÙØ¯ Ø³ÛÚ©ÙÚ",ss:"%d Ø³ÛÚ©ÙÚ",m:"Ø§ÛÚ© ÙÙÙ¹",mm:"%d ÙÙÙ¹",h:"Ø§ÛÚ© Ú¯Ú¾ÙÙ¹Û",hh:"%d Ú¯Ú¾ÙÙ¹Û",d:"Ø§ÛÚ© Ø¯Ù",dd:"%d Ø¯Ù",M:"Ø§ÛÚ© ÙØ§Û",MM:"%d ÙØ§Û",y:"Ø§ÛÚ© Ø³Ø§Ù",yy:"%d Ø³Ø§Ù"},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:1,doy:4}}),m.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),m.defineLocale("uz",{months:"ÑÐ½Ð²Ð°Ñ_ÑÐµÐ²ÑÐ°Ð»_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±Ñ_Ð¾ÐºÑÑÐ±Ñ_Ð½Ð¾ÑÐ±Ñ_Ð´ÐµÐºÐ°Ð±Ñ".split("_"),monthsShort:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),weekdays:"Ð¯ÐºÑÐ°Ð½Ð±Ð°_ÐÑÑÐ°Ð½Ð±Ð°_Ð¡ÐµÑÐ°Ð½Ð±Ð°_Ð§Ð¾ÑÑÐ°Ð½Ð±Ð°_ÐÐ°Ð¹ÑÐ°Ð½Ð±Ð°_ÐÑÐ¼Ð°_Ð¨Ð°Ð½Ð±Ð°".split("_"),weekdaysShort:"Ð¯ÐºÑ_ÐÑÑ_Ð¡ÐµÑ_Ð§Ð¾Ñ_ÐÐ°Ð¹_ÐÑÐ¼_Ð¨Ð°Ð½".split("_"),weekdaysMin:"Ð¯Ðº_ÐÑ_Ð¡Ðµ_Ð§Ð¾_ÐÐ°_ÐÑ_Ð¨Ð°".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ÐÑÐ³ÑÐ½ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",nextDay:"[Ð­ÑÑÐ°Ð³Ð°] LT [Ð´Ð°]",nextWeek:"dddd [ÐºÑÐ½Ð¸ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",lastDay:"[ÐÐµÑÐ° ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",lastWeek:"[Ð£ÑÐ³Ð°Ð½] dddd [ÐºÑÐ½Ð¸ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",sameElse:"L"},relativeTime:{future:"Ð¯ÐºÐ¸Ð½ %s Ð¸ÑÐ¸Ð´Ð°",past:"ÐÐ¸Ñ Ð½ÐµÑÐ° %s Ð¾Ð»Ð´Ð¸Ð½",s:"ÑÑÑÑÐ°Ñ",ss:"%d ÑÑÑÑÐ°Ñ",m:"Ð±Ð¸Ñ Ð´Ð°ÐºÐ¸ÐºÐ°",mm:"%d Ð´Ð°ÐºÐ¸ÐºÐ°",h:"Ð±Ð¸Ñ ÑÐ¾Ð°Ñ",hh:"%d ÑÐ¾Ð°Ñ",d:"Ð±Ð¸Ñ ÐºÑÐ½",dd:"%d ÐºÑÐ½",M:"Ð±Ð¸Ñ Ð¾Ð¹",MM:"%d Ð¾Ð¹",y:"Ð±Ð¸Ñ Ð¹Ð¸Ð»",yy:"%d Ð¹Ð¸Ð»"},week:{dow:1,doy:7}}),m.defineLocale("vi",{months:"thÃ¡ng 1_thÃ¡ng 2_thÃ¡ng 3_thÃ¡ng 4_thÃ¡ng 5_thÃ¡ng 6_thÃ¡ng 7_thÃ¡ng 8_thÃ¡ng 9_thÃ¡ng 10_thÃ¡ng 11_thÃ¡ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chá»§ nháº­t_thá»© hai_thá»© ba_thá»© tÆ°_thá»© nÄm_thá»© sÃ¡u_thá»© báº£y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nÄm] YYYY",LLL:"D MMMM [nÄm] YYYY HH:mm",LLLL:"dddd, D MMMM [nÄm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[HÃ´m nay lÃºc] LT",nextDay:"[NgÃ y mai lÃºc] LT",nextWeek:"dddd [tuáº§n tá»i lÃºc] LT",lastDay:"[HÃ´m qua lÃºc] LT",lastWeek:"dddd [tuáº§n trÆ°á»c lÃºc] LT",sameElse:"L"},relativeTime:{future:"%s tá»i",past:"%s trÆ°á»c",s:"vÃ i giÃ¢y",ss:"%d giÃ¢y",m:"má»t phÃºt",mm:"%d phÃºt",h:"má»t giá»",hh:"%d giá»",d:"má»t ngÃ y",dd:"%d ngÃ y",w:"má»t tuáº§n",ww:"%d tuáº§n",M:"má»t thÃ¡ng",MM:"%d thÃ¡ng",y:"má»t nÄm",yy:"%d nÄm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),m.defineLocale("x-pseudo",{months:"J~Ã¡Ã±ÃºÃ¡~rÃ½_F~Ã©brÃº~Ã¡rÃ½_~MÃ¡rc~h_Ãp~rÃ­l_~MÃ¡Ã½_~JÃºÃ±Ã©~_JÃºl~Ã½_ÃÃº~gÃºst~_SÃ©p~tÃ©mb~Ã©r_Ã~ctÃ³b~Ã©r_Ã~Ã³vÃ©m~bÃ©r_~DÃ©cÃ©~mbÃ©r".split("_"),monthsShort:"J~Ã¡Ã±_~FÃ©b_~MÃ¡r_~Ãpr_~MÃ¡Ã½_~JÃºÃ±_~JÃºl_~ÃÃºg_~SÃ©p_~Ãct_~ÃÃ³v_~DÃ©c".split("_"),monthsParseExact:!0,weekdays:"S~ÃºÃ±dÃ¡~Ã½_MÃ³~Ã±dÃ¡Ã½~_TÃºÃ©~sdÃ¡Ã½~_WÃ©d~Ã±Ã©sd~Ã¡Ã½_T~hÃºrs~dÃ¡Ã½_~FrÃ­d~Ã¡Ã½_S~Ã¡tÃºr~dÃ¡Ã½".split("_"),weekdaysShort:"S~ÃºÃ±_~MÃ³Ã±_~TÃºÃ©_~WÃ©d_~ThÃº_~FrÃ­_~SÃ¡t".split("_"),weekdaysMin:"S~Ãº_MÃ³~_TÃº_~WÃ©_T~h_Fr~_SÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~Ã³dÃ¡~Ã½ Ã¡t] LT",nextDay:"[T~Ã³mÃ³~rrÃ³~w Ã¡t] LT",nextWeek:"dddd [Ã¡t] LT",lastDay:"[Ã~Ã©st~Ã©rdÃ¡~Ã½ Ã¡t] LT",lastWeek:"[L~Ã¡st] dddd [Ã¡t] LT",sameElse:"L"},relativeTime:{future:"Ã­~Ã± %s",past:"%s Ã¡~gÃ³",s:"Ã¡ ~fÃ©w ~sÃ©cÃ³~Ã±ds",ss:"%d s~Ã©cÃ³Ã±~ds",m:"Ã¡ ~mÃ­Ã±~ÃºtÃ©",mm:"%d m~Ã­Ã±Ãº~tÃ©s",h:"Ã¡~Ã± hÃ³~Ãºr",hh:"%d h~Ã³Ãºrs",d:"Ã¡ ~dÃ¡Ã½",dd:"%d d~Ã¡Ã½s",M:"Ã¡ ~mÃ³Ã±~th",MM:"%d m~Ã³Ã±t~hs",y:"Ã¡ ~Ã½Ã©Ã¡r",yy:"%d Ã½~Ã©Ã¡rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")},week:{dow:1,doy:4}}),m.defineLocale("yo",{months:"Sáº¹Ìráº¹Ì_EÌreÌleÌ_áº¸ráº¹ÌnaÌ_IÌgbeÌ_EÌbibi_OÌkuÌdu_Agáº¹mo_OÌguÌn_Owewe_á»ÌwaÌraÌ_BeÌluÌ_á»Ìpáº¹ÌÌ".split("_"),monthsShort:"Sáº¹Ìr_EÌrl_áº¸rn_IÌgb_EÌbi_OÌkuÌ_Agáº¹_OÌguÌ_Owe_á»ÌwaÌ_BeÌl_á»Ìpáº¹ÌÌ".split("_"),weekdays:"AÌiÌkuÌ_AjeÌ_IÌsáº¹Ìgun_á»já»ÌruÌ_á»já»Ìbá»_áº¸tiÌ_AÌbaÌmáº¹Ìta".split("_"),weekdaysShort:"AÌiÌk_AjeÌ_IÌsáº¹Ì_á»jr_á»jb_áº¸tiÌ_AÌbaÌ".split("_"),weekdaysMin:"AÌiÌ_Aj_IÌs_á»r_á»b_áº¸t_AÌb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[OÌniÌ ni] LT",nextDay:"[á»Ìla ni] LT",nextWeek:"dddd [á»sáº¹Ì toÌn'bá»] [ni] LT",lastDay:"[AÌna ni] LT",lastWeek:"dddd [á»sáº¹Ì toÌlá»Ì] [ni] LT",sameElse:"L"},relativeTime:{future:"niÌ %s",past:"%s ká»jaÌ",s:"iÌsáº¹juÌ aayaÌ die",ss:"aayaÌ %d",m:"iÌsáº¹juÌ kan",mm:"iÌsáº¹juÌ %d",h:"waÌkati kan",hh:"waÌkati %d",d:"á»já»Ì kan",dd:"á»já»Ì %d",M:"osuÌ kan",MM:"osuÌ %d",y:"á»duÌn kan",yy:"á»duÌn %d"},dayOfMonthOrdinalParse:/á»já»Ì\s\d{1,2}/,ordinal:"á»já»Ì %d",week:{dow:1,doy:4}}),m.defineLocale("zh-cn",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"å¨æ¥_å¨ä¸_å¨äº_å¨ä¸_å¨å_å¨äº_å¨å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥Ahç¹mmå",LLLL:"YYYYå¹´MæDæ¥ddddAhç¹mmå",l:"YYYY/M/D",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥dddd HH:mm"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(e,t){return 12===e&&(e=0),"åæ¨"===t||"æ©ä¸"===t||"ä¸å"===t||"ä¸å"!==t&&"æä¸"!==t&&11<=e?e:e+12},meridiem:function(e,t,n){t=100*e+t;return t<600?"åæ¨":t<900?"æ©ä¸":t<1130?"ä¸å":t<1230?"ä¸­å":t<1800?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©]LT",nextDay:"[æå¤©]LT",nextWeek:function(e){return e.week()!==this.week()?"[ä¸]dddLT":"[æ¬]dddLT"},lastDay:"[æ¨å¤©]LT",lastWeek:function(e){return this.week()!==e.week()?"[ä¸]dddLT":"[æ¬]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(æ¥|æ|å¨)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";case"M":return e+"æ";case"w":case"W":return e+"å¨";default:return e}},relativeTime:{future:"%så",past:"%så",s:"å ç§",ss:"%d ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ¶",hh:"%d å°æ¶",d:"1 å¤©",dd:"%d å¤©",w:"1 å¨",ww:"%d å¨",M:"1 ä¸ªæ",MM:"%d ä¸ªæ",y:"1 å¹´",yy:"%d å¹´"},week:{dow:1,doy:4}}),m.defineLocale("zh-hk",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"é±æ¥_é±ä¸_é±äº_é±ä¸_é±å_é±äº_é±å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥ HH:mm",LLLL:"YYYYå¹´MæDæ¥dddd HH:mm",l:"YYYY/M/D",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥dddd HH:mm"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(e,t){return 12===e&&(e=0),"åæ¨"===t||"æ©ä¸"===t||"ä¸å"===t?e:"ä¸­å"===t?11<=e?e:e+12:"ä¸å"===t||"æä¸"===t?e+12:void 0},meridiem:function(e,t,n){t=100*e+t;return t<600?"åæ¨":t<900?"æ©ä¸":t<1200?"ä¸å":1200===t?"ä¸­å":t<1800?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©]LT",nextDay:"[æå¤©]LT",nextWeek:"[ä¸]ddddLT",lastDay:"[æ¨å¤©]LT",lastWeek:"[ä¸]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(æ¥|æ|é±)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";case"M":return e+"æ";case"w":case"W":return e+"é±";default:return e}},relativeTime:{future:"%så¾",past:"%så",s:"å¹¾ç§",ss:"%d ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ",hh:"%d å°æ",d:"1 å¤©",dd:"%d å¤©",M:"1 åæ",MM:"%d åæ",y:"1 å¹´",yy:"%d å¹´"}}),m.defineLocale("zh-mo",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"é±æ¥_é±ä¸_é±äº_é±ä¸_é±å_é±äº_é±å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥ HH:mm",LLLL:"YYYYå¹´MæDæ¥dddd HH:mm",l:"D/M/YYYY",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥dddd HH:mm"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(e,t){return 12===e&&(e=0),"åæ¨"===t||"æ©ä¸"===t||"ä¸å"===t?e:"ä¸­å"===t?11<=e?e:e+12:"ä¸å"===t||"æä¸"===t?e+12:void 0},meridiem:function(e,t,n){t=100*e+t;return t<600?"åæ¨":t<900?"æ©ä¸":t<1130?"ä¸å":t<1230?"ä¸­å":t<1800?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©] LT",nextDay:"[æå¤©] LT",nextWeek:"[ä¸]dddd LT",lastDay:"[æ¨å¤©] LT",lastWeek:"[ä¸]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(æ¥|æ|é±)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";case"M":return e+"æ";case"w":case"W":return e+"é±";default:return e}},relativeTime:{future:"%så§",past:"%så",s:"å¹¾ç§",ss:"%d ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ",hh:"%d å°æ",d:"1 å¤©",dd:"%d å¤©",M:"1 åæ",MM:"%d åæ",y:"1 å¹´",yy:"%d å¹´"}}),m.defineLocale("zh-tw",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"é±æ¥_é±ä¸_é±äº_é±ä¸_é±å_é±äº_é±å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥ HH:mm",LLLL:"YYYYå¹´MæDæ¥dddd HH:mm",l:"YYYY/M/D",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥dddd HH:mm"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(e,t){return 12===e&&(e=0),"åæ¨"===t||"æ©ä¸"===t||"ä¸å"===t?e:"ä¸­å"===t?11<=e?e:e+12:"ä¸å"===t||"æä¸"===t?e+12:void 0},meridiem:function(e,t,n){t=100*e+t;return t<600?"åæ¨":t<900?"æ©ä¸":t<1130?"ä¸å":t<1230?"ä¸­å":t<1800?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©] LT",nextDay:"[æå¤©] LT",nextWeek:"[ä¸]dddd LT",lastDay:"[æ¨å¤©] LT",lastWeek:"[ä¸]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(æ¥|æ|é±)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";case"M":return e+"æ";case"w":case"W":return e+"é±";default:return e}},relativeTime:{future:"%så¾",past:"%så",s:"å¹¾ç§",ss:"%d ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ",hh:"%d å°æ",d:"1 å¤©",dd:"%d å¤©",M:"1 åæ",MM:"%d åæ",y:"1 å¹´",yy:"%d å¹´"}}),m.locale("en"),m}),function(){"use strict";function e(){this.init()}function t(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")}e.prototype={init:function(){var e=this||y;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||y;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&0<=e&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,y.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),r=0;r<i.length;r++){var a=t._howls[n]._soundById(i[r]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||y;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,y.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),r=0;r<i.length;r++){var a=t._howls[n]._soundById(i[r]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||y,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||y,t=e._howls.length-1;0<=t;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||y)._codecs[e.replace(/^x-/,"")]},_setup:function(){var t=this||y;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(e){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||y,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),i=i&&parseInt(i[0].split("/")[1],10)<33;return t._codecs={mp3:!(i||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var s=this||y;if(!s._audioUnlocked&&s.ctx){s._audioUnlocked=!1,s.autoUnlock=!1,s._mobileUnloaded||44100===s.ctx.sampleRate||(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var u=function(e){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var t=new Audio;t._unlocked=!0,s._releaseHtml5Audio(t)}catch(e){s.noAudio=!0;break}for(var n=0;n<s._howls.length;n++)if(!s._howls[n]._webAudio)for(var i=s._howls[n]._getSoundIds(),r=0;r<i.length;r++){var a=s._howls[n]._soundById(i[r]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}s._autoResume();var o=s.ctx.createBufferSource();o.buffer=s._scratchBuffer,o.connect(s.ctx.destination),void 0===o.start?o.noteOn(0):o.start(0),"function"==typeof s.ctx.resume&&s.ctx.resume(),o.onended=function(){o.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0);for(var e=0;e<s._howls.length;e++)s._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),s}},_obtainHtml5Audio:function(){var e=this||y;if(e._html5AudioPool.length)return e._html5AudioPool.pop();e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||y;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&y.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){var e;t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())},t.ctx.suspend().then(e,e))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&y.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var y=new e;t.prototype={init:function(e){var t=this;return y.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=y.usingWebAudio&&!t._html5,void 0!==y.ctx&&y.ctx&&y.autoUnlock&&y._unlockAudio(),y._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(y.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n,i,r=0;r<e._src.length;r++){if(e._format&&e._format[r])n=e._format[r];else{if("string"!=typeof(i=e._src[r])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=(n=(n=/^data:audio\/([^;,]+);/i.exec(i))||/\.([^.]+)$/.exec(i.split("?",1)[0]))&&n[1].toLowerCase()}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&y.codecs(n)){t=e._src[r];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&s(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,n){var i=this,e=null;if("number"==typeof t)e=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if(void 0===t&&(t="__default",!i._playLock)){for(var r=0,a=0;a<i._sounds.length;a++)i._sounds[a]._paused&&!i._sounds[a]._ended&&(r++,e=i._sounds[a]._id);1===r?t=null:e=null}}var o=e?i._soundById(e):i._inactiveSound();if(!o)return null;if(e&&!t&&(t=o._sprite||"__default"),"loaded"!==i._state){o._sprite=t,o._ended=!1;var s=o._id;return i._queue.push({event:"play",action:function(){i.play(s)}}),s}if(e&&!o._paused)return n||i._loadQueue("play"),o._id;i._webAudio&&y._autoResume();var u=Math.max(0,0<o._seek?o._seek:i._sprite[t][0]/1e3),l=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-u),c=1e3*l/Math.abs(o._rate),d=i._sprite[t][0]/1e3,h=(i._sprite[t][0]+i._sprite[t][1])/1e3;o._sprite=t,o._ended=!1;function p(){o._paused=!1,o._seek=u,o._start=d,o._stop=h,o._loop=!(!o._loop&&!i._sprite[t][2])}if(!(h<=u)){var m,f,g,_=o._node;return i._webAudio?(f=function(){i._playLock=!1,p(),i._refreshBuffer(o);var e=o._muted||i._muted?0:o._volume;_.gain.setValueAtTime(e,y.ctx.currentTime),o._playStart=y.ctx.currentTime,void 0===_.bufferSource.start?o._loop?_.bufferSource.noteGrainOn(0,u,86400):_.bufferSource.noteGrainOn(0,u,l):o._loop?_.bufferSource.start(0,u,86400):_.bufferSource.start(0,u,l),c!=1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),c)),n||setTimeout(function(){i._emit("play",o._id),i._loadQueue()},0)},"running"===y.state&&"interrupted"!==y.ctx.state?f():(i._playLock=!0,i.once("resume",f),i._clearTimer(o._id))):(m=function(){_.currentTime=u,_.muted=o._muted||i._muted||y._muted||_.muted,_.volume=o._volume*y.volume(),_.playbackRate=o._rate;try{var e=_.play();if(e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)?(i._playLock=!0,p(),e.then(function(){i._playLock=!1,_._unlocked=!0,n||(i._emit("play",o._id),i._loadQueue())}).catch(function(){i._playLock=!1,i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0})):n||(i._playLock=!1,p(),i._emit("play",o._id),i._loadQueue()),_.playbackRate=o._rate,_.paused)return void i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),c):(i._endTimers[o._id]=function(){i._ended(o),_.removeEventListener("ended",i._endTimers[o._id],!1)},_.addEventListener("ended",i._endTimers[o._id],!1))}catch(e){i._emit("playerror",o._id,e)}},"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=i._src,_.load()),f=window&&window.ejecta||!_.readyState&&y._navigator.isCocoonJS,3<=_.readyState||f?m():(i._playLock=!0,g=function(){m(),_.removeEventListener(y._canPlayEvent,g,!1)},_.addEventListener(y._canPlayEvent,g,!1),i._clearTimer(o._id))),o._id}i._ended(o)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var r=t._soundById(n[i]);if(r&&!r._paused&&(r._seek=t.seek(n[i]),r._rateSeek=0,r._paused=!0,t._stopFade(n[i]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),r=0;r<i.length;r++){n._clearTimer(i[r]);var a=n._soundById(i[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(i[r]),a._node&&(n._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var i=n._getSoundIds(t),r=0;r<i.length;r++){var a=n._soundById(i[r]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,y.ctx.currentTime):a._node&&(a._node.muted=!!y._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,i=this,r=arguments;if(0===r.length)return i._volume;if(1===r.length||2===r.length&&void 0===r[1]?0<=i._getSoundIds().indexOf(r[0])?t=parseInt(r[0],10):e=parseFloat(r[0]):2<=r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10)),!(void 0!==e&&0<=e&&e<=1))return(n=t?i._soundById(t):i._sounds[0])?n._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,r)}}),i;void 0===t&&(i._volume=e),t=i._getSoundIds(t);for(var a=0;a<t.length;a++)(n=i._soundById(t[a]))&&(n._volume=e,r[2]||i._stopFade(t[a]),i._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,y.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*y.volume()),i._emit("volume",n._id));return i},fade:function(e,t,n,i){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(e,t,n,i)}}),r;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),r.volume(e,i);for(var a=r._getSoundIds(i),o=0;o<a.length;o++){var s,u,l=r._soundById(a[o]);l&&(i||r._stopFade(a[o]),r._webAudio&&!l._muted&&(u=(s=y.ctx.currentTime)+n/1e3,l._volume=e,l._node.gain.setValueAtTime(e,s),l._node.gain.linearRampToValueAtTime(t,u)),r._startFadeInterval(l,e,t,n,a[o],void 0===i))}return r},_startFadeInterval:function(t,n,i,r,e,a){var o=this,s=n,u=i-n,l=Math.abs(u/.01),l=Math.max(4,0<l?r/l:r),c=Date.now();t._fadeTo=i,t._interval=setInterval(function(){var e=(Date.now()-c)/r;c=Date.now(),s+=u*e,s=Math.round(100*s)/100,s=u<0?Math.max(i,s):Math.min(i,s),o._webAudio?t._volume=s:o.volume(s,t._id,!0),a&&(o._volume=s),(i<n&&s<=i||n<i&&i<=s)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(i,t._id),o._emit("fade",t._id))},l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(y.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,i=arguments;if(0===i.length)return this._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=this._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],this._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var r=this._getSoundIds(t),a=0;a<r.length;a++)(n=this._soundById(r[a]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e)&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop));return this},rate:function(){var e,t,n=this,i=arguments;if(0===i.length?t=n._sounds[0]._id:1===i.length?0<=n._getSoundIds().indexOf(i[0])?t=parseInt(i[0],10):e=parseFloat(i[0]):2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),"number"!=typeof e)return((a=n._soundById(t))||n)._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,i)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(var r,a,o=0;o<t.length;o++)(a=n._soundById(t[o]))&&(n.playing(t[o])&&(a._rateSeek=n.seek(t[o]),a._playStart=n._webAudio?y.ctx.currentTime:a._playStart),a._rate=e,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(e,y.ctx.currentTime):a._node&&(a._node.playbackRate=e),r=n.seek(t[o]),r=1e3*((n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-r)/Math.abs(a._rate),!n._endTimers[t[o]]&&a._paused||(n._clearTimer(t[o]),n._endTimers[t[o]]=setTimeout(n._ended.bind(n,a),r)),n._emit("rate",a._id));return n},seek:function(){var e,t,n=this,i=arguments;if(0===i.length?t=n._sounds[0]._id:1===i.length?0<=n._getSoundIds().indexOf(i[0])?t=parseInt(i[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(i[0])):2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),void 0===t)return n;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var r=n._soundById(t);if(r){if(!("number"==typeof e&&0<=e)){if(n._webAudio){var a=n.playing(t)?y.ctx.currentTime-r._playStart:0,o=r._rateSeek?r._rateSeek-r._seek:0;return r._seek+(o+a*Math.abs(r._rate))}return r._node.currentTime}var s=n.playing(t);s&&n.pause(t,!0),r._seek=e,r._ended=!1,n._clearTimer(t),n._webAudio||!r._node||isNaN(r._node.duration)||(r._node.currentTime=e);var u,l=function(){n._emit("seek",t),s&&n.play(t,!0)};s&&!n._webAudio?(u=function(){n._playLock?setTimeout(u,0):l()},setTimeout(u,0)):l()}return n},playing:function(e){if("number"==typeof e){e=this._soundById(e);return!!e&&!e._paused}for(var t=0;t<this._sounds.length;t++)if(!this._sounds[t]._paused)return!0;return!1},duration:function(e){var t=this._duration,e=this._soundById(e);return e&&(t=this._sprite[e._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(y._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),y._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var i=y._howls.indexOf(e);0<=i&&y._howls.splice(i,1);for(var r=!0,n=0;n<y._howls.length;n++)if(y._howls[n]._src===e._src||0<=e._src.indexOf(y._howls[n]._src)){r=!1;break}return o&&r&&delete o[e._src],y.noAudio=!1,e._state="unloaded",e._sounds=[],e=null},on:function(e,t,n,i){e=this["_on"+e];return"function"==typeof t&&e.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),this},off:function(e,t,n){var i=this["_on"+e],r=0;if("number"==typeof t&&(n=t,t=null),t||n)for(r=0;r<i.length;r++){var a=n===i[r].id;if(t===i[r].fn&&a||!t&&a){i.splice(r,1);break}}else if(e)this["_on"+e]=[];else for(var o=Object.keys(this),r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(this[o[r]])&&(this[o[r]]=[]);return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var i=this["_on"+e],r=i.length-1;0<=r;r--)i[r].id&&i[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,i[r].fn),0),i[r].once&&this.off(e,i[r].fn,i[r].id));return this._loadQueue(e),this},_loadQueue:function(e){var t;return 0<this._queue.length&&((t=this._queue[0]).event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()),this},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[n][2]);return t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i&&(t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=y.ctx.currentTime,n=1e3*(e._stop-e._start)/Math.abs(e._rate),t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),n)),t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),y._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){var t;return this._endTimers[e]&&("function"!=typeof this._endTimers[e]?clearTimeout(this._endTimers[e]):(t=this._soundById(e))&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1),delete this._endTimers[e]),this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this,t=e._pool,n=0,i=0;if(!(e._sounds.length<t)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&n++;for(i=e._sounds.length-1;0<=i;i--){if(n<=t)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),n--)}}},_getSoundIds:function(e){if(void 0!==e)return[e];for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t},_refreshBuffer:function(e){return e._node.bufferSource=y.ctx.createBufferSource(),e._node.bufferSource.buffer=o[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,y.ctx.currentTime),this},_cleanBuffer:function(e){var t=y._navigator&&0<=y._navigator.vendor.indexOf("Apple");if(y._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=y._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(y._navigator&&y._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++y._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=y._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===y.ctx.createGain?y.ctx.createGainNode():y.ctx.createGain(),e._node.gain.setValueAtTime(n,y.ctx.currentTime),e._node.paused=!0,e._node.connect(y.masterGain)):y.noAudio||(e._node=y._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(y._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*y.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++y._counter,e},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(y._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var o={},s=function(t){var e=t._src;if(o[e])return t._duration=o[e].duration,void c(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);l(i.buffer,t)}else{var a=new XMLHttpRequest;a.open(t._xhr.method,e,!0),a.withCredentials=t._xhr.withCredentials,a.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach(function(e){a.setRequestHeader(e,t._xhr.headers[e])}),a.onload=function(){var e=(a.status+"")[0];"0"===e||"2"===e||"3"===e?l(a.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete o[e],t.load())},u(a)}},u=function(t){try{t.send()}catch(e){t.onerror()}},l=function(e,t){function n(){t._emit("loaderror",null,"Decoding audio data failed.")}function i(e){e&&0<t._sounds.length?(o[t._src]=e,c(t,e)):n()}"undefined"!=typeof Promise&&1===y.ctx.decodeAudioData.length?y.ctx.decodeAudioData(e).then(i).catch(n):y.ctx.decodeAudioData(e,i,n)},c=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(y.usingWebAudio){try{"undefined"!=typeof AudioContext?y.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?y.ctx=new webkitAudioContext:y.usingWebAudio=!1}catch(e){y.usingWebAudio=!1}y.ctx||(y.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(y._navigator&&y._navigator.platform),t=y._navigator&&y._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=t?parseInt(t[1],10):null;e&&t&&t<9&&(t=/safari/.test(y._navigator&&y._navigator.userAgent.toLowerCase()),y._navigator&&!t&&(y.usingWebAudio=!1)),y.usingWebAudio&&(y.masterGain=void 0===y.ctx.createGain?y.ctx.createGainNode():y.ctx.createGain(),y.masterGain.gain.setValueAtTime(y._muted?0:y._volume,y.ctx.currentTime),y.masterGain.connect(y.ctx.destination)),y._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:y,Howl:t}}),"undefined"!=typeof exports&&(exports.Howler=y,exports.Howl=t),"undefined"!=typeof global?(global.HowlerGlobal=e,global.Howler=y,global.Howl=t,global.Sound=a):"undefined"!=typeof window&&(window.HowlerGlobal=e,window.Howler=y,window.Howl=t,window.Sound=a)}(),function(){"use strict";var t,n,i;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;0<=t;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){var i=this;return i.ctx&&i.ctx.listener?(t="number"!=typeof t?i._pos[1]:t,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof e?i._pos:(i._pos=[e,t,n],void 0!==i.ctx.listener.positionX?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(e,t,n,i,r,a){var o=this;if(!o.ctx||!o.ctx.listener)return o;var s=o._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,i="number"!=typeof i?s[3]:i,r="number"!=typeof r?s[4]:r,a="number"!=typeof a?s[5]:a,"number"!=typeof e?s:(o._orientation=[e,t,n,i,r,a],void 0!==o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,n,i,r,a),o)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(e,t){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,t)}}),n;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var r=n._getSoundIds(t),a=0;a<r.length;a++){var o=n._soundById(r[a]);if(o){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||l(o,i),"spatial"==i?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(e,0,0):o._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",o._id)}}return n},Howl.prototype.pos=function(e,t,n,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(e,t,n,i)}}),r;if(t="number"!=typeof t?0:t,n="number"!=typeof n?-.5:n,void 0===i){if("number"!=typeof e)return r._pos;r._pos=[e,t,n]}for(var a=r._getSoundIds(i),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._pos;s._pos=[e,t,n],s._node&&(s._panner&&!s._panner.pan||l(s,"spatial"),void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setPosition(e,t,n)),r._emit("pos",s._id)}}return r},Howl.prototype.orientation=function(e,t,n,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(e,t,n,i)}}),r;if(t="number"!=typeof t?r._orientation[1]:t,n="number"!=typeof n?r._orientation[2]:n,void 0===i){if("number"!=typeof e)return r._orientation;r._orientation=[e,t,n]}for(var a=r._getSoundIds(i),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._orientation;s._orientation=[e,t,n],s._node&&(s._panner||(s._pos||(s._pos=r._pos||[0,0,-.5]),l(s,"spatial")),void 0!==s._panner.orientationX?(s._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setOrientation(e,t,n)),r._emit("orientation",s._id)}}return r},Howl.prototype.pannerAttr=function(){var e,t,n=this,i=arguments;if(!n._webAudio)return n;if(0===i.length)return n._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return((o=n._soundById(parseInt(i[0],10)))||n)._pannerAttr;e=i[0],void 0===t&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:n._panningModel})}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var r,a,o,s=n._getSoundIds(t),u=0;u<s.length;u++)(o=n._soundById(s[u]))&&(r=o._pannerAttr,r={coneInnerAngle:(void 0!==e.coneInnerAngle?e:r).coneInnerAngle,coneOuterAngle:(void 0!==e.coneOuterAngle?e:r).coneOuterAngle,coneOuterGain:(void 0!==e.coneOuterGain?e:r).coneOuterGain,distanceModel:(void 0!==e.distanceModel?e:r).distanceModel,maxDistance:(void 0!==e.maxDistance?e:r).maxDistance,refDistance:(void 0!==e.refDistance?e:r).refDistance,rolloffFactor:(void 0!==e.rolloffFactor?e:r).rolloffFactor,panningModel:(void 0!==e.panningModel?e:r).panningModel},(a=o._panner)?(a.coneInnerAngle=r.coneInnerAngle,a.coneOuterAngle=r.coneOuterAngle,a.coneOuterGain=r.coneOuterGain,a.distanceModel=r.distanceModel,a.maxDistance=r.maxDistance,a.refDistance=r.refDistance,a.rolloffFactor=r.rolloffFactor,a.panningModel=r.panningModel):(o._pos||(o._pos=n._pos||[0,0,-.5]),l(o,"spatial")));return n},Sound.prototype.init=(n=Sound.prototype.init,function(){var e=this,t=e._parent;e._orientation=t._orientation,e._stereo=t._stereo,e._pos=t._pos,e._pannerAttr=t._pannerAttr,n.call(this),e._stereo?t.stereo(e._stereo):e._pos&&t.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}),Sound.prototype.reset=(i=Sound.prototype.reset,function(){var e=this,t=e._parent;return e._orientation=t._orientation,e._stereo=t._stereo,e._pos=t._pos,e._pannerAttr=t._pannerAttr,e._stereo?t.stereo(e._stereo):e._pos?t.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,t._refreshBuffer(e)),i.call(this)});var l=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.L={})}(this,function(e){"use strict";var t=Object.freeze;function u(e){for(var t,n,i=1,r=arguments.length;i<r;i++)for(t in n=arguments[i])e[t]=n[t];return e}Object.freeze=function(e){return e};var a=Object.create||function(e){return n.prototype=e,new n};function n(){}function h(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var i=0;function s(e){return e._leaflet_id=e._leaflet_id||++i,e._leaflet_id}function r(e,t,n){var i,r,a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(a,t),i=!0)};return o}function o(e,t,n){var i=t[1],r=t[0],t=i-r;return e===i&&n?e:((e-r)%t+t)%t+r}function l(){return!1}function c(e,t){t=Math.pow(10,void 0===t?6:t);return Math.round(e*t)/t}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function p(e){return d(e).split(/\s+/)}function m(e,t){for(var n in e.hasOwnProperty("options")||(e.options=e.options?a(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var i,r=[];for(i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var g=/\{ *([\w_-]+) *\}/g;function _(e,n){return e.replace(g,function(e,t){t=n[t];if(void 0===t)throw new Error("No value provided for variable "+e);return"function"==typeof t&&(t=t(n)),t})}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var A=0;function w(e){var t=+new Date,n=Math.max(0,16-(t-A));return A=t+n,window.setTimeout(e,n)}var x=window.requestAnimationFrame||b("RequestAnimationFrame")||w,E=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function T(e,t,n){if(!n||x!==w)return x.call(window,h(e,t));e.call(t)}function D(e){e&&E.call(window,e)}var S=(Object.freeze||Object)({freeze:t,extend:u,create:a,bind:h,lastId:i,stamp:s,throttle:r,wrapNum:o,falseFn:l,formatNum:c,trim:d,splitWords:p,setOptions:m,getParamString:f,template:_,isArray:y,indexOf:v,emptyImageUrl:M,requestFn:x,cancelFn:E,requestAnimFrame:T,cancelAnimFrame:D});function N(){}N.extend=function(e){function t(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var n,i=t.__super__=this.prototype,r=a(i);for(n in(r.constructor=t).prototype=r,this)this.hasOwnProperty(n)&&"prototype"!==n&&"__super__"!==n&&(t[n]=this[n]);return e.statics&&(u(t,e.statics),delete e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),u.apply(null,[r].concat(e.includes)),delete e.includes),r.options&&(e.options=u(a(r.options),e.options)),u(r,e),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;e<t;e++)r._initHooks[e].call(this)}},t},N.include=function(e){return u(this.prototype,e),this},N.mergeOptions=function(e){return u(this.prototype.options,e),this},N.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var C={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,a=(e=p(e)).length;r<a;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else for(var r=0,a=(e=p(e)).length;r<a;r++)this._off(e[r],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),n===this&&(n=void 0);for(var e={fn:t,ctx:n},r=i,a=0,o=r.length;a<o;a++)if(r[a].fn===t&&r[a].ctx===n)return;r.push(e)},_off:function(e,t,n){var i,r,a;if(this._events&&(i=this._events[e]))if(t){if(n===this&&(n=void 0),i)for(r=0,a=i.length;r<a;r++){var o=i[r];if(o.ctx===n&&o.fn===t)return o.fn=l,this._firingCount&&(this._events[e]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,a=i.length;r<a;r++)i[r].fn=l;delete this._events[e]}},fire:function(e,t,n){if(!this.listens(e,n))return this;var i=u({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var r=this._events[e];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,o=r.length;a<o;a++){var s=r[a];s.fn.call(s.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var i in e)this.once(i,e[i],t);return this}var r=h(function(){this.off(e,t,n).off(e,r,n)},this);return this.on(e,t,n).on(e,r,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,u({layer:e.target,propagatedFrom:e.target},e),!0)}};C.addEventListener=C.on,C.removeEventListener=C.clearAllEventListeners=C.off,C.addOneTimeEventListener=C.once,C.fireEvent=C.fire,C.hasEventListeners=C.listens;var k=N.extend(C);function I(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var j=Math.trunc||function(e){return 0<e?Math.floor(e):Math.ceil(e)};function O(e,t,n){return e instanceof I?e:y(e)?new I(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new I(e.x,e.y):new I(e,t,n)}function z(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function R(e,t){return!e||e instanceof z?e:new z(e,t)}function P(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function Y(e,t){return e instanceof P?e:new P(e,t)}function B(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function U(e,t,n){return e instanceof B?e:y(e)&&"object"!=typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(e){return this.clone()._add(O(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(O(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new I(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new I(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=j(this.x),this.y=j(this.y),this},distanceTo:function(e){var t=(e=O(e)).x-this.x,e=e.y-this.y;return Math.sqrt(t*t+e*e)},equals:function(e){return(e=O(e)).x===this.x&&e.y===this.y},contains:function(e){return e=O(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},z.prototype={extend:function(e){return e=O(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new I(this.min.x,this.max.y)},getTopRight:function(){return new I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e=("number"==typeof e[0]||e instanceof I?O:R)(e))instanceof z?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=R(e);var t=this.min,n=this.max,i=e.min,r=e.max,e=r.x>=t.x&&i.x<=n.x,n=r.y>=t.y&&i.y<=n.y;return e&&n},overlaps:function(e){e=R(e);var t=this.min,n=this.max,i=e.min,r=e.max,e=r.x>t.x&&i.x<n.x,n=r.y>t.y&&i.y<n.y;return e&&n},isValid:function(){return!(!this.min||!this.max)}},P.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof B)n=t=e;else{if(!(e instanceof P))return e?this.extend(U(e)||Y(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,e=Math.abs(t.lng-n.lng)*e;return new P(new B(t.lat-i,t.lng-e),new B(n.lat+i,n.lng+e))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e=("number"==typeof e[0]||e instanceof B||"lat"in e?U:Y)(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof P?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=Y(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),e=r.lat>=t.lat&&i.lat<=n.lat,n=r.lng>=t.lng&&i.lng<=n.lng;return e&&n},overlaps:function(e){e=Y(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),e=r.lat>t.lat&&i.lat<n.lat,n=r.lng>t.lng&&i.lng<n.lng;return e&&n},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=Y(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}};var H={latLngToPoint:function(e,t){e=this.projection.project(e),t=this.scale(t);return this.transformation._transform(e,t)},pointToLatLng:function(e,t){t=this.scale(t),t=this.transformation.untransform(e,t);return this.projection.unproject(t)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,e=this.scale(e);return new z(this.transformation.transform(t.min,e),this.transformation.transform(t.max,e))},infinite:!(B.prototype={equals:function(e,t){return!!e&&(e=U(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return F.distance(this,U(e))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,e=t/Math.cos(Math.PI/180*this.lat);return Y([this.lat-t,this.lng-e],[this.lat+t,this.lng+e])},clone:function(){return new B(this.lat,this.lng,this.alt)}}),wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,t=t.lng-n.lng;if(0==i&&0==t)return e;n=e.getSouthWest(),e=e.getNorthEast();return new P(new B(n.lat-i,n.lng-t),new B(e.lat-i,e.lng-t))}},F=u({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),n=Math.sin((t.lng-e.lng)*n/2),n=a*a+Math.cos(i)*Math.cos(r)*n*n,n=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n));return this.R*n}}),G={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,n=Math.max(Math.min(n,e.lat),-n),n=Math.sin(n*t);return new I(this.R*e.lng*t,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:new z([-(ye=6378137*Math.PI),-ye],[ye,ye])};function V(e,t,n,i){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function W(e,t,n,i){return new V(e,t,n,i)}V.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new I((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Q=u({},F,{code:"EPSG:3857",projection:G,transformation:W(ve=.5/(Math.PI*G.R),.5,-ve,.5)}),q=u({},Q,{code:"EPSG:900913"});function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){for(var n,i,r,a,o="",s=0,u=e.length;s<u;s++){for(n=0,i=(r=e[s]).length;n<i;n++)o+=(n?"L":"M")+(a=r[n]).x+" "+a.y;o+=t?Ee?"z":"x":""}return o||"M0 0"}var J=document.documentElement.style,K="ActiveXObject"in window,$=K&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),te=Te("webkit"),ne=Te("android"),ie=Te("android 2")||Te("android 3"),re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=ne&&Te("Google")&&re<537&&!("AudioNode"in window),oe=!!window.opera,se=Te("chrome"),ue=Te("gecko")&&!te&&!oe&&!K,le=!se&&Te("safari"),ce=Te("phantom"),de="OTransition"in J,he=0===navigator.platform.indexOf("Win"),pe=K&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,fe="MozPerspective"in J,ge=!window.L_DISABLE_3D&&(pe||me||fe)&&!de&&!ce,_e="undefined"!=typeof orientation||Te("mobile"),ye=_e&&te,ve=_e&&me,re=!window.PointerEvent&&window.MSPointerEvent,Me=!(!window.PointerEvent&&!re),be=!window.L_NO_TOUCH&&(Me||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ae=_e&&oe,J=_e&&ue,we=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),xe=!!document.createElement("canvas").getContext,Ee=!(!document.createElementNS||!Z("svg").createSVGRect),Le=!Ee&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';e=e.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(e){return!1}}();function Te(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e)}var te=(Object.freeze||Object)({ie:K,ielt9:$,edge:ee,webkit:te,android:ne,android23:ie,androidStock:ae,opera:oe,chrome:se,gecko:ue,safari:le,phantom:ce,opera12:de,win:he,ie3d:pe,webkit3d:me,gecko3d:fe,any3d:ge,mobile:_e,mobileWebkit:ye,mobileWebkit3d:ve,msPointer:re,pointer:Me,touch:be,mobileOpera:Ae,mobileGecko:J,retina:we,canvas:xe,svg:Ee,vml:Le}),De=re?"MSPointerDown":"pointerdown",Se=re?"MSPointerMove":"pointermove",Ne=re?"MSPointerUp":"pointerup",Ce=re?"MSPointerCancel":"pointercancel",ke=["INPUT","SELECT","OPTION"],Ie={},je=!1,Oe=0;function ze(e,t,n,i){function r(e){Be(e,a)}var a,o,s,u,l,c;function d(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Be(e,o)}return"touchstart"===t?(s=e,u=n,l=i,c=h(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(ke.indexOf(e.target.tagName)<0))return;kt(e)}Be(e,u)}),s["_leaflet_touchstart"+l]=c,s.addEventListener(De,c,!1),je||(document.documentElement.addEventListener(De,Re,!0),document.documentElement.addEventListener(Se,Pe,!0),document.documentElement.addEventListener(Ne,Ye,!0),document.documentElement.addEventListener(Ce,Ye,!0),je=!0)):"touchmove"===t?(o=n,(c=e)["_leaflet_touchmove"+i]=d,c.addEventListener(Se,d,!1)):"touchend"===t&&(a=n,(e=e)["_leaflet_touchend"+i]=r,e.addEventListener(Ne,r,!1),e.addEventListener(Ce,r,!1)),this}function Re(e){Ie[e.pointerId]=e,Oe++}function Pe(e){Ie[e.pointerId]&&(Ie[e.pointerId]=e)}function Ye(e){delete Ie[e.pointerId],Oe--}function Be(e,t){for(var n in e.touches=[],Ie)e.touches.push(Ie[n]);e.changedTouches=[e],t(e)}var Ue=re?"MSPointerDown":Me?"pointerdown":"touchstart",He=re?"MSPointerUp":Me?"pointerup":"touchend",Fe="_leaflet_";function Ge(e,r,t){var a,o,s=!1;function n(e){var t,n;if(Me){if(!ee||"mouse"===e.pointerType)return;n=Oe}else n=e.touches.length;1<n||(n=(t=Date.now())-(a||t),o=e.touches?e.touches[0]:e,s=0<n&&n<=250,a=t)}function i(e){if(s&&!o.cancelBubble){if(Me){if(!ee||"mouse"===e.pointerType)return;var t,n,i={};for(n in o)t=o[n],i[n]=t&&t.bind?t.bind(o):t;o=i}o.type="dblclick",r(o),a=null}}return e[Fe+Ue+t]=n,e[Fe+He+t]=i,e[Fe+"dblclick"+t]=r,e.addEventListener(Ue,n,!1),e.addEventListener(He,i,!1),e.addEventListener("dblclick",r,!1),this}function Ve(e,t){var n=e[Fe+Ue+t],i=e[Fe+He+t],t=e[Fe+"dblclick"+t];return e.removeEventListener(Ue,n,!1),e.removeEventListener(He,i,!1),ee||e.removeEventListener("dblclick",t,!1),this}var We,Qe,qe,Ze,Xe,Je,Ke=mt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$e=mt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),et="webkitTransition"===$e||"OTransition"===$e?$e+"End":"transitionend";function tt(e){return"string"==typeof e?document.getElementById(e):e}function nt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];return n&&"auto"!==n||!document.defaultView||(n=(e=document.defaultView.getComputedStyle(e,null))?e[t]:null),"auto"===n?null:n}function it(e,t,n){e=document.createElement(e);return e.className=t||"",n&&n.appendChild(e),e}function rt(e){var t=e.parentNode;t&&t.removeChild(e)}function at(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ot(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function st(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ut(e,t){if(void 0!==e.classList)return e.classList.contains(t);e=ht(e);return 0<e.length&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e)}function lt(e,t){var n;if(void 0!==e.classList)for(var i=p(t),r=0,a=i.length;r<a;r++)e.classList.add(i[r]);else ut(e,t)||dt(e,((n=ht(e))?n+" ":"")+t)}function ct(e,t){void 0!==e.classList?e.classList.remove(t):dt(e,d((" "+ht(e)+" ").replace(" "+t+" "," ")))}function dt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ht(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function pt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}(e,t)}function mt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function ft(e,t,n){t=t||new I(0,0);e.style[Ke]=(pe?"translate("+t.x+"px,"+t.y+"px)":"translate3d("+t.x+"px,"+t.y+"px,0)")+(n?" scale("+n+")":"")}function gt(e,t){e._leaflet_pos=t,ge?ft(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function _t(e){return e._leaflet_pos||new I(0,0)}function yt(){xt(window,"dragstart",kt)}function vt(){Lt(window,"dragstart",kt)}function Mt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(bt(),Je=(Xe=e).style.outline,e.style.outline="none",xt(window,"keydown",bt))}function bt(){Xe&&(Xe.style.outline=Je,Je=Xe=void 0,Lt(window,"keydown",bt))}function At(e){for(;e=e.parentNode,!(e.offsetWidth&&e.offsetHeight||e===document.body););return e}function wt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}Ze="onselectstart"in document?(qe=function(){xt(window,"selectstart",kt)},function(){Lt(window,"selectstart",kt)}):(Qe=mt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),qe=function(){var e;Qe&&(e=document.documentElement.style,We=e[Qe],e[Qe]="none")},function(){Qe&&(document.documentElement.style[Qe]=We,We=void 0)});oe=(Object.freeze||Object)({TRANSFORM:Ke,TRANSITION:$e,TRANSITION_END:et,get:tt,getStyle:nt,create:it,remove:rt,empty:at,toFront:ot,toBack:st,hasClass:ut,addClass:lt,removeClass:ct,setClass:dt,getClass:ht,setOpacity:pt,testProp:mt,setTransform:ft,setPosition:gt,getPosition:_t,disableTextSelection:qe,enableTextSelection:Ze,disableImageDrag:yt,enableImageDrag:vt,preventOutline:Mt,restoreOutline:bt,getSizedParentNode:At,getScale:wt});function xt(e,t,n,i){if("object"==typeof t)for(var r in t)Tt(e,r,t[r],n);else for(var a=0,o=(t=p(t)).length;a<o;a++)Tt(e,t[a],n,i);return this}var Et="_leaflet_events";function Lt(e,t,n,i){if("object"==typeof t)for(var r in t)Dt(e,r,t[r],n);else if(t)for(var a=0,o=(t=p(t)).length;a<o;a++)Dt(e,t[a],n,i);else{for(var s in e[Et])Dt(e,s,e[Et][s]);delete e[Et]}return this}function Tt(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):"");if(t[Et]&&t[Et][r])return this;var a=function(e){return n.call(i||t,e||window.event)},o=a;Me&&0===e.indexOf("touch")?ze(t,e,a,r):!be||"dblclick"!==e||Me&&se?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,Ut(t,e)&&o(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&ne&&(a=function(e){!function(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,i=Rt&&n-Rt;if(i&&100<i&&i<500||e.target._simulatedClick&&!e._simulated)return It(e);Rt=n,t(e)}(e,o)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):Ge(t,a,r),t[Et]=t[Et]||{},t[Et][r]=a}function Dt(e,t,n,i){var r,a=t+s(n)+(i?"_"+s(i):""),o=e[Et]&&e[Et][a];if(!o)return this;Me&&0===t.indexOf("touch")?(i=(r=e)["_leaflet_"+(n=t)+(i=a)],"touchstart"===n?r.removeEventListener(De,i,!1):"touchmove"===n?r.removeEventListener(Se,i,!1):"touchend"===n&&(r.removeEventListener(Ne,i,!1),r.removeEventListener(Ce,i,!1))):!be||"dblclick"!==t||Me&&se?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",o,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,o,!1):"detachEvent"in e&&e.detachEvent("on"+t,o):Ve(e,a),e[Et][a]=null}function St(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Bt(e),this}function Nt(e){return Tt(e,"mousewheel",St),this}function Ct(e){return xt(e,"mousedown touchstart dblclick",St),Tt(e,"click",Yt),this}function kt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function It(e){return kt(e),St(e),this}function jt(e,t){if(!t)return new I(e.clientX,e.clientY);var n=wt(t),i=n.boundingClientRect;return new I((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Ot=he&&se?2*window.devicePixelRatio:ue?window.devicePixelRatio:1;function zt(e){return ee?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Ot:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Rt,Pt={};function Yt(e){Pt[e.type]=!0}function Bt(e){var t=Pt[e.type];return Pt[e.type]=!1,t}function Ut(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var ce=(Object.freeze||Object)({on:xt,off:Lt,stopPropagation:St,disableScrollPropagation:Nt,disableClickPropagation:Ct,preventDefault:kt,stop:It,getMousePosition:jt,getWheelDelta:zt,fakeStop:Yt,skipped:Bt,isExternalTarget:Ut,addListener:xt,removeListener:Lt}),Ht=k.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=_t(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){e=this._startPos.add(this._offset.multiplyBy(e));t&&e._round(),gt(this._el,e),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ft=k.extend({options:{crs:Q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=m(this,t),this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(U(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=$e&&ge&&!Ae&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xt(this._proxy,et,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){if((t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(U(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(void 0!==n.animate&&(n.zoom=u({animate:n.animate},n.zoom),n.pan=u({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(e,t),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(ge?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(ge?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),i=(e instanceof I?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),i=this.containerPointToLatLng(r.add(i));return this.setView(i,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():Y(e);var n=O(t.paddingTopLeft||t.padding||[0,0]),i=O(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};i=i.subtract(n).divideBy(2),n=this.project(e.getSouthWest(),r),e=this.project(e.getNorthEast(),r);return{center:this.unproject(n.add(e).divideBy(2).add(i),r),zoom:r}},fitBounds:function(e,t){if(!(e=Y(e)).isValid())throw new Error("Bounds are not valid.");e=this._getBoundsCenterZoom(e,t);return this.setView(e.center,e.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){return t=t||{},(e=O(e).round()).x||e.y?(!0===t.animate||this.getSize().contains(e)?(this._panAnim||(this._panAnim=new Ht,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate?(lt(this._mapPane,"leaflet-pan-anim"),n=this._getMapPanePos().subtract(e).round(),this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)):(this._rawPanBy(e),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this):this.fire("moveend");var n},flyTo:function(i,r,e){if(!1===(e=e||{}).animate||!ge)return this.setView(i,r,e);this._stop();var a=this.project(this.getCenter()),o=this.project(i),t=this.getSize(),s=this._zoom;i=U(i),r=void 0===r?s:r;var u=Math.max(t.x,t.y),n=u*this.getZoomScale(s,r),l=o.distanceTo(a)||1,c=1.42,d=c*c;function h(e){e=(n*n-u*u+(e?-1:1)*d*d*l*l)/(2*(e?n:u)*d*l),e=Math.sqrt(e*e+1)-e;return e<1e-9?-18:Math.log(e)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}var f=h(0);function g(e){return u*(m(f)*(p(e=f+c*e)/m(e))-p(f))/d}var _=Date.now(),y=(h(1)-f)/c,v=e.duration?1e3*e.duration:1e3*y*.8;return this._moveStart(!0,e.noMoveStart),function e(){var t=(Date.now()-_)/v,n=(n=t,(1-Math.pow(1-n,1.5))*y);t<=1?(this._flyToFrame=T(e,this),this._move(this.unproject(a.add(o.subtract(a).multiplyBy(g(n)/l)),s),this.getScaleZoom(u/(u*(m(f)/m(f+c*n))),s),{flyTo:!0})):this._move(i,r)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){e=this._getBoundsCenterZoom(e,t);return this.flyTo(e.center,e.zoom,t)},setMaxBounds:function(e){return(e=Y(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),e=this._limitCenter(n,this._zoom,Y(e));return n.equals(e)||this.panTo(e,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=u({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=t.divideBy(2).round(),r=n.divideBy(2).round(),r=i.subtract(r);return r.x||r.y?(e.animate&&e.pan?this.panBy(r):(e.pan&&this._rawPanBy(r),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=u({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=h(this._handleGeolocationResponse,this),n=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,e=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+e+"."})},_handleGeolocationResponse:function(e){var t,n=new B(e.coords.latitude,e.coords.longitude),i=n.toBounds(2*e.coords.accuracy),r=this._locateOptions;r.setView&&(t=this.getBoundsZoom(i),this.setView(n,r.maxZoom?Math.min(t,r.maxZoom):t));var a,o={latlng:n,bounds:i,timestamp:e.timestamp};for(a in e.coords)"number"==typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)},addHandler:function(e,t){if(!t)return this;t=this[e]=new t(this);return this._handlers.push(t),this.options[e]&&t.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}for(var e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)rt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){t=it("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=t),t},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new P(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=Y(e),n=O(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),e=this.getSize().subtract(n),n=R(this.project(s,i),this.project(o,i)).getSize(),s=ge?this.options.zoomSnap:1,o=e.x/n.x,n=e.y/n.y,n=t?Math.max(o,n):Math.min(o,n),i=this.getScaleZoom(n,i);return s&&(i=Math.round(i/(s/100))*(s/100),i=t?Math.ceil(i/s)*s:Math.floor(i/s)*s),Math.max(r,Math.min(a,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){t=this._getTopLeftPoint(e,t);return new z(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;t=n.zoom(e*n.scale(t));return isNaN(t)?1/0:t},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(U(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(O(e),t)},layerPointToLatLng:function(e){e=O(e).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(e){return this.project(U(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(Y(e))},distance:function(e,t){return this.options.crs.distance(U(e),U(t))},containerPointToLayerPoint:function(e){return O(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return O(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){e=this.containerPointToLayerPoint(O(e));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return jt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){e=this._container=tt(e);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");xt(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ge,lt(e,"leaflet-container"+(be?" leaflet-touch":"")+(we?" leaflet-retina":"")+($?" leaflet-oldie":"")+(le?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=nt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(lt(e.markerPane,"leaflet-zoom-hide"),lt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){gt(this._mapPane,new I(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,!1)._move(e,t)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){gt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={};var t=e?Lt:xt;t((this._targets[s(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),ge&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,o=!1;a;){if((n=this._targets[s(a)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(r&&!Ut(a,e))break;if(i.push(n),r)break}if(a===this._container)break;a=a.parentNode}return i.length||o||r||!Ut(a,e)||(i=[this]),i},_handleDOMEvent:function(e){var t;this._loaded&&!Bt(e)&&("mousedown"!==(t=e.type)&&"keypress"!==t||Mt(e.target||e.srcElement),this._fireDOMEvent(e,t))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if("click"===e.type&&((r=u({},e)).type="preclick",this._fireDOMEvent(r,r.type,n)),!e._stopped&&(n=(n||[]).concat(this._findEventTargets(e,t))).length){var i=n[0];"contextmenu"===t&&i.listens(t,!0)&&kt(e);var r,a={originalEvent:e};"keypress"!==e.type&&(r=i.getLatLng&&(!i._radius||i._radius<=10),a.containerPoint=r?this.latLngToContainerPoint(i.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=r?i.getLatLng():this.layerPointToLatLng(a.layerPoint));for(var o=0;o<n.length;o++)if(n[o].fire(t,a,!0),a.originalEvent._stopped||!1===n[o].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return _t(this._mapPane)||new I(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){n=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,n){n=this._getNewPixelOrigin(n,t);return R([this.project(e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),r=new z(i.subtract(r),i.add(r)),n=this._getBoundsOffset(r,n,t);return n.round().equals([0,0])?e:this.unproject(i.add(n),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),n=new z(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,n){t=R(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),n=t.min.subtract(e.min),e=t.max.subtract(e.max);return new I(this._rebound(n.x,-e.x),this._rebound(n.y,-e.y))},_rebound:function(e,t){return 0<e+t?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=ge?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){e=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(e))&&(this.panBy(e,t),!0)},_createAnimProxy:function(){var e=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=Ke,n=this._proxy.style[t];ft(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();ft(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rt(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&0<=e.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(i))&&(T(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,lt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T(function(){this._moveEnd(!0)},this))}});var Gt=N.extend({options:{position:"topright"},initialize:function(e){m(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),e=e._controlCorners[n];return lt(t,"leaflet-control"),-1!==n.indexOf("bottom")?e.insertBefore(t,e.firstChild):e.appendChild(t),this},remove:function(){return this._map&&(rt(this._container),this.onRemove&&this.onRemove(this._map),this._map=null),this},_refocusOnMap:function(e){this._map&&e&&0<e.screenX&&0<e.screenY&&this._map.getContainer().focus()}}),de=function(e){return new Gt(e)};Ft.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var i=this._controlCorners={},r="leaflet-",a=this._controlContainer=it("div",r+"control-container",this._container);function e(e,t){var n=r+e+" "+r+t;i[e+t]=it("div",n,a)}e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)rt(this._controlCorners[e]);rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vt=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in m(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),(this._map=e).on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Gt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);e=this._getLayer(s(e));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){lt(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(lt(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):ct(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=it("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Ct(t),Nt(t);var i=this._form=it("form",e+"-list");n&&(this._map.on("click",this.collapse,this),ne||xt(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=it("a",e+"-toggle",t);r.href="#",r.title="Layers",be?(xt(r,"click",It),xt(r,"click",this.expand,this)):xt(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=it("div",e+"-base",i),this._separator=it("div",e+"-separator",i),this._overlaysList=it("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(h(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;at(this._baseLayersList),at(this._overlaysList),this._layerControlInputs=[];for(var e,t,n,i=0,r=0;r<this._layers.length;r++)n=this._layers[r],this._addItem(n),t=t||n.overlay,e=e||!n.overlay,i+=n.overlay?0:1;return this.options.hideSingleBase&&(e=e&&1<i,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),e=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;e&&this._map.fire(e,t)},_createRadioElement:function(e,t){e='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",t=document.createElement("div");return t.innerHTML=e,t.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(t),t.layerId=s(e.layer),xt(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;i=document.createElement("div");return n.appendChild(i),i.appendChild(t),i.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var a=n.length-1;0<=a;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])&&this._map.removeLayer(r[a]);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])||this._map.addLayer(i[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;0<=r;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Wt=Gt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=it("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){i=it("a",n,i);return i.innerHTML=e,i.href="#",i.title=t,i.setAttribute("role","button"),i.setAttribute("aria-label",t),Ct(i),xt(i,"click",It),xt(i,"click",r,this),xt(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ct(this._zoomInButton,t),ct(this._zoomOutButton,t),!this._disabled&&e._zoom!==e.getMinZoom()||lt(this._zoomOutButton,t),!this._disabled&&e._zoom!==e.getMaxZoom()||lt(this._zoomInButton,t)}});Ft.mergeOptions({zoomControl:!0}),Ft.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wt,this.addControl(this.zoomControl))});var Qt=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=it("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=it("div",t,n)),e.imperial&&(this._iScale=it("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,t=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(t)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n=3.2808399*e;5280<n?(t=n/5280,e=this._getRoundNum(t),this._updateScale(this._iScale,e+" mi",e/t)):(t=this._getRoundNum(n),this._updateScale(this._iScale,t+" ft",t/n))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),e=e/t;return t*(e=10<=e?10:5<=e?5:3<=e?3:2<=e?2:1)}}),qt=Gt.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){m(this,e),this._attributions={}},onAdd:function(e){for(var t in(e.attributionControl=this)._container=it("div","leaflet-control-attribution"),Ct(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e&&(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update()),this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e,t=[];for(e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ft.mergeOptions({attributionControl:!0}),Ft.addInitHook(function(){this.options.attributionControl&&(new qt).addTo(this)});Gt.Layers=Vt,Gt.Zoom=Wt,Gt.Scale=Qt,Gt.Attribution=qt,de.layers=function(e,t,n){return new Vt(e,t,n)},de.zoom=function(e){return new Wt(e)},de.scale=function(e){return new Qt(e)},de.attribution=function(e){return new qt(e)};me=N.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});me.addTo=function(e,t){return e.addHandler(t,this),this};var Zt,fe={Events:C},Xt=be?"touchstart mousedown":"mousedown",Jt={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Kt={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},$t=k.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){m(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(xt(this._dragStartTarget,Xt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($t._dragging===this&&this.finishDrag(),Lt(this._dragStartTarget,Xt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){var t,n;!e._simulated&&this._enabled&&(this._moved=!1,ut(this._element,"leaflet-zoom-anim")||$t._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(($t._dragging=this)._preventOutline&&Mt(this._element),yt(),qe(),this._moving||(this.fire("down"),t=e.touches?e.touches[0]:e,n=At(this._element),this._startPoint=new I(t.clientX,t.clientY),this._parentScale=wt(n),xt(document,Kt[e.type],this._onMove,this),xt(document,Jt[e.type],this._onUp,this))))},_onMove:function(e){var t;!e._simulated&&this._enabled&&(e.touches&&1<e.touches.length?this._moved=!0:((t=new I((t=e.touches&&1===e.touches.length?e.touches[0]:e).clientX,t.clientY)._subtract(this._startPoint)).x||t.y)&&(Math.abs(t.x)+Math.abs(t.y)<this.options.clickTolerance||(t.x/=this._parentScale.x,t.y/=this._parentScale.y,kt(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=_t(this._element).subtract(t),lt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),lt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(t),this._moving=!0,D(this._animRequest),this._lastEvent=e,this._animRequest=T(this._updatePosition,this,!0))))},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),gt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in ct(document.body,"leaflet-dragging"),this._lastTarget&&(ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Kt)Lt(document,Kt[e],this._onMove,this),Lt(document,Jt[e],this._onUp,this);vt(),Ze(),this._moved&&this._moving&&(D(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,$t._dragging=!1}});function en(e,t){if(!t||!e.length)return e.slice();t*=t;return e=function(e,t){var n=e.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function e(t,n,i,r,a){var o,s,u,l=0;for(s=r+1;s<=a-1;s++)u=on(t[s],t[r],t[a],!0),l<u&&(o=s,l=u);i<l&&(n[o]=1,e(t,n,i,r,o),e(t,n,i,o,a))}(e,i,t,0,n-1);var r,a=[];for(r=0;r<n;r++)i[r]&&a.push(e[r]);return a}(e=function(e,t){for(var n=[e[0]],i=1,r=0,a=e.length;i<a;i++)(function(e,t){var n=t.x-e.x,e=t.y-e.y;return n*n+e*e})(e[i],e[r])>t&&(n.push(e[i]),r=i);r<a-1&&n.push(e[a-1]);return n}(e,t),t)}function tn(e,t,n){return Math.sqrt(on(e,t,n,!0))}function nn(e,t,n,i,r){var a,o,s,u=i?Zt:an(e,n),l=an(t,n);for(Zt=l;;){if(!(u|l))return[e,t];if(u&l)return!1;s=an(o=rn(e,t,a=u||l,n,r),n),a===u?(e=o,u=s):(t=o,l=s)}}function rn(e,t,n,i,r){var a,o,s=t.x-e.x,u=t.y-e.y,t=i.min,i=i.max;return 8&n?(a=e.x+s*(i.y-e.y)/u,o=i.y):4&n?(a=e.x+s*(t.y-e.y)/u,o=t.y):2&n?(a=i.x,o=e.y+u*(i.x-e.x)/s):1&n&&(a=t.x,o=e.y+u*(t.x-e.x)/s),new I(a,o,r)}function an(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function on(e,t,n,i){var r=t.x,a=t.y,o=n.x-r,s=n.y-a,t=o*o+s*s;return 0<t&&(1<(t=((e.x-r)*o+(e.y-a)*s)/t)?(r=n.x,a=n.y):0<t&&(r+=o*t,a+=s*t)),o=e.x-r,s=e.y-a,i?o*o+s*s:new I(r,a)}function sn(e){return!y(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function un(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(e)}ye=(Object.freeze||Object)({simplify:en,pointToSegmentDistance:tn,closestPointOnSegment:function(e,t,n){return on(e,t,n)},clipSegment:nn,_getEdgeIntersection:rn,_getBitCode:an,_sqClosestPointOnSegment:on,isFlat:sn,_flat:un});function ln(e,t,n){for(var i,r,a,o,s,u,l,c=[1,4,2,8],d=0,h=e.length;d<h;d++)e[d]._code=an(e[d],t);for(a=0;a<4;a++){for(u=c[a],i=[],d=0,r=(h=e.length)-1;d<h;r=d++)o=e[d],s=e[r],o._code&u?s._code&u||((l=rn(s,o,u,t,n))._code=an(l,t),i.push(l)):(s._code&u&&((l=rn(s,o,u,t,n))._code=an(l,t),i.push(l)),i.push(o));e=i}return e}var ve=(Object.freeze||Object)({clipPolygon:ln}),J={project:function(e){return new I(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new z([-180,-90],[180,90])},re={R:6378137,R_MINOR:6356752.314245179,bounds:new z([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,a=Math.sqrt(1-r*r),r=a*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-r)/(1+r),a/2),i=-n*Math.log(Math.max(a,1e-10));return new I(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,a=Math.sqrt(1-r*r),o=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(o),u=0,l=.1;u<15&&1e-7<Math.abs(l);u++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=l=Math.PI/2-2*Math.atan(o*t)-s;return new B(s*n,e.x*n/i)}},he=(Object.freeze||Object)({LonLat:J,Mercator:re,SphericalMercator:G}),C=u({},F,{code:"EPSG:3395",projection:re,transformation:W(ue=.5/(Math.PI*re.R),.5,-ue,.5)}),cn=u({},F,{code:"EPSG:4326",projection:J,transformation:W(1/180,1,-1/180,.5)}),G=u({},H,{projection:J,transformation:W(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,e=t.lat-e.lat;return Math.sqrt(n*n+e*e)},infinite:!0});H.Earth=F,H.EPSG3395=C,H.EPSG3857=Q,H.EPSG900913=q,H.EPSG4326=cn,H.Simple=G;var dn=k.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t,n=e.target;n.hasLayer(this)&&(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents&&(t=this.getEvents(),n.on(t,this),this.once("remove",function(){n.off(t,this)},this)),this.onAdd(n),this.getAttribution&&n.attributionControl&&n.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),n.fire("layeradd",{layer:this}))}});Ft.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]||((this._layers[t]=e)._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=s(e);return this._layers[t]&&(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null),this},hasLayer:function(e){return!!e&&s(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?y(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){e=s(e);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var e,t=1/0,n=-1/0,i=this._getZoomSpan();for(e in this._zoomBoundLayers)var r=this._zoomBoundLayers[e].options,t=void 0===r.minZoom?t:Math.min(t,r.minZoom),n=void 0===r.maxZoom?n:Math.max(n,r.maxZoom);this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hn=dn.extend({initialize:function(e,t){var n,i;if(m(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){e=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:s}),pn=hn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),hn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),hn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e,t=new P;for(e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),mn=N.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){m(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}t=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(t,e),t},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var r=O(i),i=O("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),i&&(e.style.marginLeft=-i.x+"px",e.style.marginTop=-i.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return we&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var fn=mn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return fn.imagePath||(fn.imagePath=this._detectIconPath()),(this.options.imagePath||fn.imagePath)+mn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=it("div","leaflet-default-icon-path",document.body),t=nt(e,"background-image")||nt(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),gn=me.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new $t(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),lt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,a=_t(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),r=R(o.min._subtract(s).add(r),o.max._subtract(s).subtract(r));r.contains(a)||(i=O((Math.max(r.max.x,a.x)-r.max.x)/(o.max.x-r.max.x)-(Math.min(r.min.x,a.x)-r.min.x)/(o.min.x-r.min.x),(Math.max(r.max.y,a.y)-r.max.y)/(o.max.y-r.max.y)-(Math.min(r.min.y,a.y)-r.min.y)/(o.min.y-r.min.y)).multiplyBy(i),n.panBy(i,{animate:!1}),this._draggable._newPos._add(i),this._draggable._startPos._add(i),gt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=_t(t._icon),r=t._map.layerPointToLatLng(i);n&&gt(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),_n=dn.extend({options:{icon:new fn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){m(this,t),this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var e;return this._icon&&this._map&&(e=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(e)),this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),lt(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=e.icon.createShadow(this._shadow),n=!1;r!==this._shadow&&(this._removeShadow(),n=!0),r&&(lt(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&n&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rt(this._shadow),this._shadow=null},_setPos:function(e){gt(this._icon,e),this._shadow&&gt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(e)},_initInteraction:function(){var e;this.options.interactive&&(lt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gn&&(e=this.options.draggable,this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gn(this),e&&this.dragging.enable()))},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;pt(this._icon,e),this._shadow&&pt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var yn=dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return m(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),vn=yn.extend({options:{fill:!0,radius:10},initialize:function(e,t){m(this,t),this._latlng=U(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=U(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return yn.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),n=[e+n,t+n];this._pxBounds=new z(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Mn=vn.extend({initialize:function(e,t,n){if("number"==typeof t&&(t=u({},n,{radius:t})),m(this,t),this._latlng=U(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new P(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:yn.prototype.setStyle,_project:function(){var e,t,n,i,r,a=this._latlng.lng,o=this._latlng.lat,s=this._map,u=s.options.crs;u.distance===F.distance?(r=Math.PI/180,e=this._mRadius/F.R/r,t=s.project([o+e,a]),i=s.project([o-e,a]),n=t.add(i).divideBy(2),i=s.unproject(n).lat,r=Math.acos((Math.cos(e*r)-Math.sin(o*r)*Math.sin(i*r))/(Math.cos(o*r)*Math.cos(i*r)))/r,!isNaN(r)&&0!==r||(r=e/Math.cos(Math.PI/180*o)),this._point=n.subtract(s.getPixelOrigin()),this._radius=isNaN(r)?0:n.x-s.project([i,a-r]).x,this._radiusY=n.y-t.y):(u=u.unproject(u.project(this._latlng).subtract([this._mRadius,0])),this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(u).x),this._updateBounds()}});var bn=yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){m(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,a=on,o=0,s=this._parts.length;o<s;o++)for(var u=this._parts[o],l=1,c=u.length;l<c;l++){var d=a(e,t=u[l-1],n=u[l],!0);d<i&&(i=d,r=a(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,a,o=this._rings[0],s=o.length;if(!s)return null;for(t=e=0;e<s-1;e++)t+=o[e].distanceTo(o[e+1])/2;if(0===t)return this._map.layerPointToLatLng(o[0]);for(n=e=0;e<s-1;e++)if(i=o[e],r=o[e+1],t<(n+=a=i.distanceTo(r)))return a=(n-t)/a,this._map.layerPointToLatLng([r.x-a*(r.x-i.x),r.y-a*(r.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=U(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new P,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=sn(e),i=0,r=e.length;i<r;i++)n?(t[i]=U(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),t=new I(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(t),e.max._add(t),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var i,r,a=e[0]instanceof B,o=e.length;if(a){for(r=[],i=0;i<o;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<o;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var t,n,i,r,a=this._parts,o=0,s=0,u=this._rings.length;o<u;o++)for(t=0,n=(r=this._rings[o]).length;t<n-1;t++)(i=nn(r[t],r[t+1],e,t,!0))&&(a[s]=a[s]||[],a[s].push(i[0]),i[1]===r[t+1]&&t!==n-2||(a[s].push(i[1]),s++))},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=en(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,a,o,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(i=0,r=(o=(s=this._parts[n]).length)-1;i<o;r=i++)if((t||0!==i)&&tn(e,s[r],s[i])<=u)return!0;return!1}});bn._flat=un;var An=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,a,o,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(e=a=o=s=0,t=c-1;e<c;t=e++)n=l[e],i=l[t],r=n.y*i.x-i.y*n.x,o+=(n.x+i.x)*r,s+=(n.y+i.y)*r,a+=3*r;return u=0===a?l[0]:[o/a,s/a],this._map.layerPointToLatLng(u)},_convertLatLngs:function(e){var t=bn.prototype._convertLatLngs.call(this,e),e=t.length;return 2<=e&&t[0]instanceof B&&t[0].equals(t[e-1])&&t.pop(),t},_setLatLngs:function(e){bn.prototype._setLatLngs.call(this,e),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(sn(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,t=new I(t,t),e=new z(e.min.subtract(t),e.max.add(t));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var n,i=0,r=this._rings.length;i<r;i++)(n=ln(this._rings[i],e,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,a,o,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,s=this._parts.length;r<s;r++)for(a=0,o=(u=(t=this._parts[r]).length)-1;a<u;o=a++)n=t[a],i=t[o],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||bn.prototype._containsPoint.call(this,e,!0)}});var wn=pn.extend({initialize:function(e,t){m(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=y(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=xn(e,a);return o?(o.feature=Nn(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return e.options=u({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}});function xn(e,t){var n,i,r,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,u=[],l=t&&t.pointToLayer,c=t&&t.coordsToLatLng||En;if(!s&&!o)return null;switch(o.type){case"Point":return n=c(s),l?l(e,n):new _n(n);case"MultiPoint":for(r=0,a=s.length;r<a;r++)n=c(s[r]),u.push(l?l(e,n):new _n(n));return new pn(u);case"LineString":case"MultiLineString":return i=Ln(s,"LineString"===o.type?0:1,c),new bn(i,t);case"Polygon":case"MultiPolygon":return i=Ln(s,"Polygon"===o.type?1:2,c),new An(i,t);case"GeometryCollection":for(r=0,a=o.geometries.length;r<a;r++){var d=xn({geometry:o.geometries[r],type:"Feature",properties:e.properties},t);d&&u.push(d)}return new pn(u);default:throw new Error("Invalid GeoJSON object.")}}function En(e){return new B(e[1],e[0],e[2])}function Ln(e,t,n){for(var i,r=[],a=0,o=e.length;a<o;a++)i=t?Ln(e[a],t-1,n):(n||En)(e[a]),r.push(i);return r}function Tn(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function Dn(e,t,n,i){for(var r=[],a=0,o=e.length;a<o;a++)r.push(t?Dn(e[a],t-1,n,i):Tn(e[a],i));return!t&&n&&r.push(r[0]),r}function Sn(e,t){return e.feature?u({},e.feature,{geometry:t}):Nn(t)}function Nn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}re={toGeoJSON:function(e){return Sn(this,{type:"Point",coordinates:Tn(this.getLatLng(),e)})}};function Cn(e,t){return new wn(e,t)}_n.include(re),Mn.include(re),vn.include(re),bn.include({toGeoJSON:function(e){var t=!sn(this._latlngs);return Sn(this,{type:(t?"Multi":"")+"LineString",coordinates:Dn(this._latlngs,t?1:0,!1,e)})}}),An.include({toGeoJSON:function(e){var t=!sn(this._latlngs),n=t&&!sn(this._latlngs[0]),e=Dn(this._latlngs,n?2:t?1:0,!0,e);return t||(e=[e]),Sn(this,{type:(n?"Multi":"")+"Polygon",coordinates:e})}}),hn.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(e){n.push(e.toGeoJSON(t).geometry.coordinates)}),Sn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){e.toGeoJSON&&(e=e.toGeoJSON(t),n?i.push(e.geometry):"FeatureCollection"===(e=Nn(e)).type?i.push.apply(i,e.features):i.push(e))}),n?Sn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var ue=Cn,kn=dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=Y(t),m(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(lt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&ot(this._image),this},bringToBack:function(){return this._map&&st(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=Y(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:it("img");lt(t,"leaflet-image-layer"),this._zoomAnimated&&lt(t,"leaflet-zoom-animated"),this.options.className&&lt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=h(this.fire,this,"load"),t.onerror=h(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),e=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;ft(this._image,e,t)},_reset:function(){var e=this._image,t=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();gt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),In=kn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:it("video");if(lt(t,"leaflet-image-layer"),this._zoomAnimated&&lt(t,"leaflet-zoom-animated"),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=h(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=0<n.length?i:[t.src]}else{y(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var o=it("source");o.src=this._url[a],t.appendChild(o)}}}});var jn=dn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){m(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&pt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(h(rt,void 0,this._container),200)):rt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=U(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ot(this._container),this},bringToBack:function(){return this._map&&st(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){var e,t,n;this._map&&(e=this._map.latLngToLayerPoint(this._latlng),n=O(this.options.offset),t=this._getAnchor(),this._zoomAnimated?gt(this._container,e.add(t)):n=n.add(e).add(t),t=this._containerBottom=-n.y,n=this._containerLeft=-Math.round(this._containerWidth/2)+n.x,this._container.style.bottom=t+"px",this._container.style.left=n+"px")},_getAnchor:function(){return[0,0]}}),On=jn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){jn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof yn||this._source.on("preclick",St))},onRemove:function(e){jn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof yn||this._source.off("preclick",St))},getEvents:function(){var e=jn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=it("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=it("div",e+"-content-wrapper",t);this._contentNode=it("div",e+"-content",n),Ct(n),Nt(this._contentNode),xt(n,"contextmenu",St),this._tipContainer=it("div",e+"-tip-container",t),this._tip=it("div",e+"-tip",this._tipContainer),this.options.closeButton&&((t=this._closeButton=it("a",e+"-close-button",t)).href="#close",t.innerHTML="&#215;",xt(t,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth,n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,n="leaflet-popup-scrolled";r&&r<i?(t.height=r+"px",lt(e,n)):ct(e,n),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),e=this._getAnchor();gt(this._container,t.add(e))},_adjustPan:function(){var e,t,n,i,r,a,o,s,u;!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress||(e=this._map,o=parseInt(nt(this._container,"marginBottom"),10)||0,t=this._container.offsetHeight+o,n=this._containerWidth,(s=new I(this._containerLeft,-t-this._containerBottom))._add(_t(this._container)),i=e.layerPointToContainerPoint(s),u=O(this.options.autoPanPadding),r=O(this.options.autoPanPaddingTopLeft||u),a=O(this.options.autoPanPaddingBottomRight||u),o=e.getSize(),u=s=0,i.x+n+a.x>o.x&&(s=i.x+n-o.x+a.x),i.x-s-r.x<0&&(s=i.x-r.x),i.y+t+a.y>o.y&&(u=i.y+t-o.y+a.y),i.y-u-r.y<0&&(u=i.y-r.y),(s||u)&&e.fire("autopanstart").panBy([s,u]))},_onCloseButtonClick:function(e){this._close(),It(e)},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ft.mergeOptions({closePopupOnClick:!0}),Ft.include({openPopup:function(e,t,n){return e instanceof On||(e=new On(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),dn.include({bindPopup:function(e,t){return e instanceof On?(m(e,t),(this._popup=e)._source=this):(this._popup&&!t||(this._popup=new On(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof dn||(t=e,e=this),e instanceof pn)for(var n in this._layers){e=this._layers[n];break}return t=t||(e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(It(e),t instanceof yn?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var zn=jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){jn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){jn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=jn.prototype.getEvents.call(this);return be&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,i=t.latLngToContainerPoint(t.getCenter()),r=t.layerPointToContainerPoint(e),a=this.options.direction,o=n.offsetWidth,s=n.offsetHeight,u=O(this.options.offset),t=this._getAnchor();e="top"===a?e.add(O(-o/2+u.x,-s+u.y+t.y,!0)):"bottom"===a?e.subtract(O(o/2-u.x,-u.y,!0)):"center"===a?e.subtract(O(o/2+u.x,s/2-t.y+u.y,!0)):"right"===a||"auto"===a&&r.x<i.x?(a="right",e.add(O(u.x+t.x,t.y-s/2+u.y,!0))):(a="left",e.subtract(O(o+t.x-u.x,s/2-t.y-u.y,!0))),ct(n,"leaflet-tooltip-right"),ct(n,"leaflet-tooltip-left"),ct(n,"leaflet-tooltip-top"),ct(n,"leaflet-tooltip-bottom"),lt(n,"leaflet-tooltip-"+a),gt(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&pt(this._container,e)},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(e)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ft.include({openTooltip:function(e,t,n){return e instanceof zn||(e=new zn(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),dn.include({bindTooltip:function(e,t){return e instanceof zn?(m(e,t),(this._tooltip=e)._source=this):(this._tooltip&&!t||(this._tooltip=new zn(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){var t,n;!e&&this._tooltipHandlersAdded||(t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),be&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e)},openTooltip:function(e,t){if(e instanceof dn||(t=e,e=this),e instanceof pn)for(var n in this._layers){e=this._layers[n];break}return t=t||(e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(lt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ct(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(e=this._map.mouseEventToContainerPoint(e.originalEvent),e=this._map.containerPointToLayerPoint(e),t=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(t)}});var Rn=mn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),e=this.options;return t.innerHTML=!1!==e.html?e.html:"",e.bgPos&&(e=O(e.bgPos),t.style.backgroundPosition=-e.x+"px "+-e.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});mn.Default=fn;var Pn=dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_e,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){m(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),rt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ot(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof I?e:new I(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,a=n.length;r<a;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$){pt(this._container,this.options.opacity);var e,t=+new Date,n=!1,i=!1;for(e in this._tiles){var r,a=this._tiles[e];a.current&&a.loaded&&(r=Math.min(1,(t-a.loaded)/200),pt(a.el,r),r<1?n=!0:(a.active?i=!0:this._onOpaqueTile(a),a.active=!0))}i&&!this._noPrune&&this._pruneTiles(),n&&(D(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(rt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),l(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(n=this._tiles[e]).retain=n.current;for(e in this._tiles)(n=this._tiles[e]).current&&!n.active&&(t=n.coords,this._retainParent(t.x,t.y,t.z,t.z-5)||this._retainChildren(t.x,t.y,t.z,t.z+2));for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)rt(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),e=Math.floor(t/2),t=n-1,n=new I(+r,+e);n.z=+t;n=this._tileCoordsToKey(n),n=this._tiles[n];return n&&n.active?n.retain=!0:(n&&n.loaded&&(n.retain=!0),i<t&&this._retainParent(r,e,t,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var a=2*t;a<2*t+2;a++){var o=new I(r,a);o.z=n+1;o=this._tileCoordsToKey(o),o=this._tiles[o];o&&o.active?o.retain=!0:(o&&o.loaded&&(o.retain=!0),n+1<i&&this._retainChildren(r,a,n+1,i))}},_resetView:function(e){e=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var a=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!a||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),n=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();ge?ft(e.el,n,i):gt(e.el,n)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),n=t.getZoomScale(n,this._tileZoom),e=t.project(e,this._tileZoom).floor(),n=t.getSize().divideBy(2*n);return new z(e.subtract(n),e.add(n))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i,t=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(t),a=r.getCenter(),o=[],t=this.options.keepBuffer,s=new z(r.getBottomLeft().subtract([t,-t]),r.getTopRight().add([t,-t]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(i in this._tiles){var u=this._tiles[i].coords;u.z===this._tileZoom&&s.contains(new I(u.x,u.y))||(this._tiles[i].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(e,n);else{for(var l=r.min.y;l<=r.max.y;l++)for(var c=r.min.x;c<=r.max.x;c++){var d,h=new I(c,l);h.z=this._tileZoom,this._isValidTile(h)&&((d=this._tiles[this._tileCoordsToKey(h)])?d.current=!0:o.push(h))}if(o.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));for(var p=document.createDocumentFragment(),c=0;c<o.length;c++)this._addTile(o[c],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;e=this._tileCoordsToBounds(e);return Y(this.options.bounds).overlaps(e)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),n=i.add(n);return[t.unproject(i,e.z),t.unproject(n,e.z)]},_tileCoordsToBounds:function(e){e=this._tileCoordsToNwSe(e),e=new P(e[0],e[1]);return this.options.noWrap||(e=this._map.wrapLatLngBounds(e)),e},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),e=new I(+t[0],+t[1]);return e.z=+t[2],e},_removeTile:function(e){var t=this._tiles[e];t&&(rt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){lt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,$&&this.options.opacity<1&&pt(e,this.options.opacity),ne&&!ie&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),r=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(r),this.createTile.length<2&&T(h(this._tileReady,this,e,null,r)),gt(r,n),this._tiles[i]={el:r,coords:e,current:!0},t.appendChild(r),this.fire("tileloadstart",{tile:r,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(pt(n.el,0),D(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(lt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new I(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new z(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var Yn=Pn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=m(this,t)).detectRetina&&we&&0<t.maxZoom&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ne||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return xt(n,"load",h(this._tileOnLoad,this,t,n)),xt(n,"error",h(this._tileOnError,this,t,n)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:we?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(e=this._globalTileRange.max.y-e.y,this.options.tms&&(t.y=e),t["-y"]=e),_(this._url,u(t,this.options))},_tileOnLoad:function(e,t){$?setTimeout(h(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){e=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,t.complete||(t.src=M,rt(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return ae||t.el.setAttribute("src",M),Pn.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==M))return Pn.prototype._tileReady.call(this,e,t,n)}});function Bn(e,t){return new Yn(e,t)}var Un=Yn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n,i=u({},this.defaultWmsParams);for(n in t)n in this.options||(i[n]=t[n]);var r=(t=m(this,t)).detectRetina&&we?2:1,e=this.getTileSize();i.width=e.x*r,i.height=e.y*r,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[t]=this._crs.code,Yn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,n=R(n.project(t[0]),n.project(t[1])),t=n.min,n=n.max,n=(1.3<=this._wmsVersion&&this._crs===cn?[t.y,t.x,n.y,n.x]:[t.x,t.y,n.x,n.y]).join(","),e=Yn.prototype.getTileUrl.call(this,e);return e+f(this.wmsParams,e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+n},setParams:function(e,t){return u(this.wmsParams,e),t||this.redraw(),this}});Yn.WMS=Un,Bn.wms=function(e,t){return new Un(e,t)};var Hn=dn.extend({options:{padding:.1,tolerance:0},initialize:function(e){m(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&lt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=_t(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,t),a=this._map.project(e,t).subtract(a),a=r.multiplyBy(-n).add(i).add(r).subtract(a);ge?ft(this._container,a,n):gt(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new z(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fn=Hn.extend({getEvents:function(){var e=Hn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");xt(e,"mousemove",r(this._onMouseMove,32,this),this),xt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xt(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,rt(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){var e,t,n,i;this._map._animatingZoom&&this._bounds||(this._drawnLayers={},Hn.prototype._update.call(this),e=this._bounds,t=this._container,n=e.getSize(),i=we?2:1,gt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",we&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update"))},_reset:function(){Hn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e);e=(this._layers[s(e)]=e)._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,t=t.prev;n?n.prev=t:this._drawLast=t,t?t.next=n:this._drawFirst=n,delete this._drawnLayers[e._leaflet_id],delete e._order,delete this._layers[s(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){for(var t=e.options.dashArray.split(/[, ]+/),n=[],i=0;i<t.length;i++)n.push(Number(t[i]));e.options._dashArray=n}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){var t;e._pxBounds&&(t=(e.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e,t=this._redrawBounds;t?(e=t.getSize(),this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)):this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t,n=this._redrawBounds;this._ctx.save(),n&&(t=n.getSize(),this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,t.x,t.y),this._ctx.clip()),this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,a,o=e._parts,s=o.length,u=this._ctx;if(s){for(this._drawnLayers[e._leaflet_id]=e,u.beginPath(),n=0;n<s;n++){for(i=0,r=o[n].length;i<r;i++)a=o[n][i],u[i?"lineTo":"moveTo"](a.x,a.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){var t,n,i,r;this._drawing&&!e._empty()&&(t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i,this._drawnLayers[e._leaflet_id]=e,1!=r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!=r&&n.restore(),this._fillStroke(n,e))},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&!this._map._draggableMoved(t)&&(n=t);n&&(Yt(e),this._fireEvent([n],e))},_onMouseMove:function(e){var t;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(t=this._map.mouseEventToLayerPoint(e),this._handleMouseHover(e,t))},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ct(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(lt(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order,n=t.next,i=t.prev;n&&((n.prev=i)?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,(this._drawLast.next=t).next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,n=t.next,i=t.prev;i&&((i.next=n)?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}});function Gn(e){return xe?new Fn(e):null}var Vn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),J={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Vn("shape");lt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Vn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;rt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t=t||(e._stroke=Vn("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=y(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n=n||(e._fill=Vn("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){ot(e._container)},_bringToBack:function(e){st(e._container)}},Wn=Le?Vn:Z,Qn=Hn.extend({getEvents:function(){var e=Hn.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Wn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rt(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var e,t,n;this._map._animatingZoom&&this._bounds||(Hn.prototype._update.call(this),t=(e=this._bounds).getSize(),n=this._container,this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),gt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update"))},_initPath:function(e){var t=e._path=Wn("path");e.options.className&&lt(t,e.options.className),e.options.interactive&&lt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){rt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,e=e.options;t&&(e.stroke?(t.setAttribute("stroke",e.color),t.setAttribute("stroke-opacity",e.opacity),t.setAttribute("stroke-width",e.weight),t.setAttribute("stroke-linecap",e.lineCap),t.setAttribute("stroke-linejoin",e.lineJoin),e.dashArray?t.setAttribute("stroke-dasharray",e.dashArray):t.removeAttribute("stroke-dasharray"),e.dashOffset?t.setAttribute("stroke-dashoffset",e.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),e.fill?(t.setAttribute("fill",e.fillColor||e.color),t.setAttribute("fill-opacity",e.fillOpacity),t.setAttribute("fill-rule",e.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",n=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,n)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){ot(e._path)},_bringToBack:function(e){st(e._path)}});function qn(e){return Ee||Le?new Qn(e):null}Le&&Qn.include(J),Ft.include({getRenderer:function(e){e=(e=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Gn(e)||qn(e)}});var Zn=An.extend({initialize:function(e,t){An.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=Y(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});Qn.create=Wn,Qn.pointsToPath=X,wn.geometryToLayer=xn,wn.coordsToLatLng=En,wn.coordsToLatLngs=Ln,wn.latLngToCoords=Tn,wn.latLngsToCoords=Dn,wn.getFeature=Sn,wn.asFeature=Nn,Ft.mergeOptions({boxZoom:!0});C=me.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),qe(),yt(),this._startPoint=this._map.mouseEventToContainerPoint(e),xt(document,{contextmenu:It,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),lt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new z(this._point,this._startPoint),e=t.getSize();gt(this._box,t.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish:function(){this._moved&&(rt(this._box),ct(this._container,"leaflet-crosshair")),Ze(),vt(),Lt(document,{contextmenu:It,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){1!==e.which&&1!==e.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0),e=new P(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})))},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Ft.addInitHook("addHandler","boxZoom",C),Ft.mergeOptions({doubleClickZoom:!0});Q=me.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});Ft.addInitHook("addHandler","doubleClickZoom",Q),Ft.mergeOptions({dragging:!0,inertia:!ie,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});q=me.extend({addHooks:function(){var e;this._draggable||(e=this._map,this._draggable=new $t(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))),lt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ct(this._map._container,"leaflet-grab"),ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e,t=this._map;t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(e=Y(this._map.options.maxBounds),this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){var t,n;this._map.options.inertia&&(t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(n),this._times.push(t),this._prunePositions(t)),this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;1<this._positions.length&&50<e-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){var e,t;this._viscosity&&this._offsetLimit&&(e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit,e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e))},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,t=(i+t+n)%e-t-n,t=Math.abs(r+n)<Math.abs(t+n)?r:t;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=t},_onDragEnd:function(e){var t,n,i,r,a=this._map,o=a.options,s=!o.inertia||this._times.length<2;a.fire("dragend",e),s?a.fire("moveend"):(this._prunePositions(+new Date),n=this._lastPos.subtract(this._positions[0]),e=(this._lastTime-this._times[0])/1e3,t=o.easeLinearity,n=(s=n.multiplyBy(t/e)).distanceTo([0,0]),e=Math.min(o.inertiaMaxSpeed,n),n=s.multiplyBy(e/n),i=e/(o.inertiaDeceleration*t),(r=n.multiplyBy(-i/2).round()).x||r.y?(r=a._limitOffset(r,a.options.maxBounds),T(function(){a.panBy(r,{duration:i,easeLinearity:t,noMoveStart:!0,animate:!0})})):a.fire("moveend"))}});Ft.addInitHook("addHandler","dragging",q),Ft.mergeOptions({keyboard:!0,keyboardPanDelta:80});G=me.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),xt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var e,t,n;this._focused||(e=document.body,n=document.documentElement,t=e.scrollTop||n.scrollTop,n=e.scrollLeft||n.scrollLeft,this._map._container.focus(),window.scrollTo(n,t))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){for(var t=this._panKeys={},n=this.keyCodes,i=0,r=n.left.length;i<r;i++)t[n.left[i]]=[-1*e,0];for(i=0,r=n.right.length;i<r;i++)t[n.right[i]]=[e,0];for(i=0,r=n.down.length;i<r;i++)t[n.down[i]]=[0,e];for(i=0,r=n.up.length;i<r;i++)t[n.up[i]]=[0,-1*e]},_setZoomDelta:function(e){for(var t=this._zoomKeys={},n=this.keyCodes,i=0,r=n.zoomIn.length;i<r;i++)t[n.zoomIn[i]]=e;for(i=0,r=n.zoomOut.length;i<r;i++)t[n.zoomOut[i]]=-e},_addHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=O(t).multiplyBy(3)),i.panBy(t),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}It(e)}}});Ft.addInitHook("addHandler","keyboard",G),Ft.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});re=me.extend({addHooks:function(){xt(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=zt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);n=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),n),It(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,i=n?Math.ceil(i/n)*n:i,i=e._limitZoom(t+(0<this._delta?i:-i))-t;this._delta=0,this._startTime=null,i&&("center"===e.options.scrollWheelZoom?e.setZoom(t+i):e.setZoomAround(this._lastMousePos,t+i))}});Ft.addInitHook("addHandler","scrollWheelZoom",re),Ft.mergeOptions({tap:!0,tapTolerance:15});_e=me.extend({addHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(kt(e),this._fireClick=!0,1<e.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],e=t.target;this._startPos=this._newPos=new I(t.clientX,t.clientY),e.tagName&&"a"===e.tagName.toLowerCase()&&lt(e,"leaflet-active"),this._holdTimeout=setTimeout(h(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),xt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){var t;clearTimeout(this._holdTimeout),Lt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches&&((e=(t=e.changedTouches[0]).target)&&e.tagName&&"a"===e.tagName.toLowerCase()&&ct(e,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){e=e.touches[0];this._newPos=new I(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});be&&!Me&&Ft.addInitHook("addHandler","tap",_e),Ft.mergeOptions({touchZoom:be&&!ie,bounceAtZoomLimits:!0});J=me.extend({addHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t,n,i=this._map;!e.touches||2!==e.touches.length||i._animatingZoom||this._zooming||(t=i.mouseEventToContainerPoint(e.touches[0]),n=i.mouseEventToContainerPoint(e.touches[1]),this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(t.add(n)._divideBy(2))),this._startDist=t.distanceTo(n),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend",this._onTouchEnd,this),kt(e))},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(r,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&r<1||this._zoom>t.getMaxZoom()&&1<r)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1==r)return}else{i=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1==r&&0===i.x&&0===i.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(i),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),D(this._animRequest);t=h(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(t,this,!0),kt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,D(this._animRequest),Lt(document,"touchmove",this._onTouchMove),Lt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ft.addInitHook("addHandler","touchZoom",J),Ft.BoxZoom=C,Ft.DoubleClickZoom=Q,Ft.Drag=q,Ft.Keyboard=G,Ft.ScrollWheelZoom=re,Ft.Tap=_e,Ft.TouchZoom=J,Object.freeze=t,e.version="1.3.4",e.Control=Gt,e.control=de,e.Browser=te,e.Evented=k,e.Mixin=fe,e.Util=S,e.Class=N,e.Handler=me,e.extend=u,e.bind=h,e.stamp=s,e.setOptions=m,e.DomEvent=ce,e.DomUtil=oe,e.PosAnimation=Ht,e.Draggable=$t,e.LineUtil=ye,e.PolyUtil=ve,e.Point=I,e.point=O,e.Bounds=z,e.bounds=R,e.Transformation=V,e.transformation=W,e.Projection=he,e.LatLng=B,e.latLng=U,e.LatLngBounds=P,e.latLngBounds=Y,e.CRS=H,e.GeoJSON=wn,e.geoJSON=Cn,e.geoJson=ue,e.Layer=dn,e.LayerGroup=hn,e.layerGroup=function(e,t){return new hn(e,t)},e.FeatureGroup=pn,e.featureGroup=function(e){return new pn(e)},e.ImageOverlay=kn,e.imageOverlay=function(e,t,n){return new kn(e,t,n)},e.VideoOverlay=In,e.videoOverlay=function(e,t,n){return new In(e,t,n)},e.DivOverlay=jn,e.Popup=On,e.popup=function(e,t){return new On(e,t)},e.Tooltip=zn,e.tooltip=function(e,t){return new zn(e,t)},e.Icon=mn,e.icon=function(e){return new mn(e)},e.DivIcon=Rn,e.divIcon=function(e){return new Rn(e)},e.Marker=_n,e.marker=function(e,t){return new _n(e,t)},e.TileLayer=Yn,e.tileLayer=Bn,e.GridLayer=Pn,e.gridLayer=function(e){return new Pn(e)},e.SVG=Qn,e.svg=qn,e.Renderer=Hn,e.Canvas=Fn,e.canvas=Gn,e.Path=yn,e.CircleMarker=vn,e.circleMarker=function(e,t){return new vn(e,t)},e.Circle=Mn,e.circle=function(e,t,n){return new Mn(e,t,n)},e.Polyline=bn,e.polyline=function(e,t){return new bn(e,t)},e.Polygon=An,e.polygon=function(e,t){return new An(e,t)},e.Rectangle=Zn,e.rectangle=function(e,t){return new Zn(e,t)},e.Map=Ft,e.map=function(e,t){return new Ft(e,t)};var Xn=window.L;e.noConflict=function(){return window.L=Xn,this},window.L=e}),function(e){"function"==typeof define&&define.amd?define(["leaflet"],e):"object"==typeof modules&&module.exports?module.exports=e(require("leaflet")):e(L)}(function(o){"use strict";return o.TileLayer.Provider=o.TileLayer.extend({initialize:function(e,t){var n=o.TileLayer.Provider.providers,i=e.split("."),r=i[0],e=i[1];if(!n[r])throw"No such provider ("+r+")";i={url:n[r].url,options:n[r].options};if(e&&"variants"in n[r]){if(!(e in n[r].variants))throw"No such variant of "+r+" ("+e+")";r=n[r].variants[e],e="string"==typeof r?{variant:r}:r.options,i={url:r.url||i.url,options:o.Util.extend({},i.options,e)}}var a=function(e){return-1===e.indexOf("{attribution.")?e:e.replace(/\{attribution.(\w*)\}/g,function(e,t){return a(n[t].options.attribution)})};i.options.attribution=a(i.options.attribution);t=o.Util.extend({},i.options,t);o.TileLayer.prototype.initialize.call(this,i.url,t)}}),o.TileLayer.Provider.providers={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},variants:{Mapnik:{},DE:{url:"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},CH:{url:"https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",options:{maxZoom:18,bounds:[[45,5],[48,11]]}},France:{url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'}},BZH:{url:"https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://www.openstreetmap.bzh/" target="_blank">Breton OpenStreetMap Team</a>',bounds:[[46.2,-5.5],[50,.7]]}}}},OpenSeaMap:{url:"https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Stadia:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",options:{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'},variants:{AlidadeSmooth:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png"},AlidadeSmoothDark:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png"},OSMBright:{url:"https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png"},Outdoors:{url:"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png"}}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle",apikey:"<insert your api key here>",maxZoom:22},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport"}},TransportDark:{options:{variant:"transport-dark"}},SpinalMap:{options:{variant:"spinal-map"}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer",MobileAtlas:"mobile-atlas",Neighbourhood:"neighbourhood"}},CyclOSM:{url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:20,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Jawg:{url:"https://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}",options:{attribution:'<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> {attribution.OpenStreetMap}',minZoom:0,maxZoom:22,subdomains:"abcd",variant:"jawg-terrain",accessToken:"<insert your access token here>"},variants:{Streets:"jawg-streets",Terrain:"jawg-terrain",Sunny:"jawg-sunny",Dark:"jawg-dark",Light:"jawg-light",Matrix:"jawg-matrix"}},MapBox:{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}",options:{attribution:'&copy; <a href="https://www.mapbox.com/about/maps/" target="_blank">Mapbox</a> {attribution.OpenStreetMap} <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:"<insert your access token here>"}},MapTiler:{url:"https://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}",options:{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',variant:"streets",ext:"png",key:"<insert your MapTiler Cloud API key here>",tileSize:512,zoomOffset:-1,minZoom:0,maxZoom:21},variants:{Streets:"streets",Basic:"basic",Bright:"bright",Pastel:"pastel",Positron:"positron",Hybrid:{options:{variant:"hybrid",ext:"jpg"}},Toner:"toner",Topo:"topo",Voyager:"voyager"}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}},TopOSMRelief:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},TomTom:{url:"https://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}",options:{variant:"basic",maxZoom:22,attribution:'<a href="https://tomtom.com" target="_blank">&copy;  1992 - '+(new Date).getFullYear()+" TomTom.</a> ",subdomains:"abcd",style:"main",ext:"png",apikey:"<insert your API key here>"},variants:{Basic:"basic",Hybrid:"hybrid",Labels:"labels"}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"<insert your api key here>",opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:"Map &copy; 1987-"+(new Date).getFullYear()+' <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalDayTraffic:{options:{variant:"normal.traffic.day",base:"traffic",type:"traffictile"}},normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",normalNightTransit:"normal.night.transit",normalNightTransitMobile:"normal.night.transit.mobile",reducedDay:"reduced.day",reducedNight:"reduced.night",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},hybridDayTransit:{options:{base:"aerial",variant:"hybrid.day.transit"}},hybridDayGrey:{options:{base:"aerial",variant:"hybrid.grey.day"}},hybridDayTraffic:{options:{variant:"hybrid.traffic.day",base:"traffic",type:"traffictile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},HEREv3:{url:"https://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}",options:{attribution:"Map &copy; 1987-"+(new Date).getFullYear()+' <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",apiKey:"<insert your apiKey here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",normalNightTransit:"normal.night.transit",normalNightTransitMobile:"normal.night.transit.mobile",reducedDay:"reduced.day",reducedNight:"reduced.night",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},hybridDayTransit:{options:{base:"aerial",variant:"hybrid.day.transit"}},hybridDayGrey:{options:{base:"aerial",variant:"hybrid.grey.day"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"https://{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"abcd",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels",Voyager:"rastertiles/voyager",VoyagerNoLabels:"rastertiles/voyager_nolabels",VoyagerOnlyLabels:"rastertiles/voyager_only_labels",VoyagerLabelsUnder:"rastertiles/voyager_labels_under"}},HikeBike:{url:"https://tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],type:"normal",format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:{options:{maxZoom:20,variant:"geolandbasemap"}},grau:"bmapgrau",overlay:"bmapoverlay",terrain:{options:{variant:"bmapgelaende",type:"grau",format:"jpeg"}},surface:{options:{variant:"bmapoberflaeche",type:"grau",format:"jpeg"}},highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{maxZoom:20,variant:"bmaporthofoto30cm",format:"jpeg"}}}},nlmaps:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png",options:{minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],attribution:'Kaartgegevens &copy; <a href="kadaster.nl">Kadaster</a>'},variants:{standaard:"brtachtergrondkaart",pastel:"brtachtergrondkaartpastel",grijs:"brtachtergrondkaartgrijs",luchtfoto:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/2018_ortho25/EPSG:3857/{z}/{x}/{y}.png"}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:"0123"}},JusticeMap:{url:"http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png",options:{attribution:'<a href="http://www.justicemap.org/terms.php">Justice Map</a>',size:"county",bounds:[[14,-180],[72,-56]]},variants:{income:"income",americanIndian:"indian",asian:"asian",black:"black",hispanic:"hispanic",multi:"multi",nonWhite:"nonwhite",white:"white",plurality:"plural"}},Wikimedia:{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png",options:{attribution:'<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>',minZoom:1,maxZoom:19}},GeoportailFrance:{url:"https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}",options:{attribution:'<a target="_blank" href="https://www.geoportail.gouv.fr/">Geoportail France</a>',bounds:[[-75,-180],[81,180]],minZoom:2,maxZoom:18,apikey:"choisirgeoportail",format:"image/jpeg",style:"normal",variant:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD"},variants:{parcels:{options:{variant:"CADASTRALPARCELS.PARCELS",maxZoom:20,style:"bdparcellaire",format:"image/png"}},ignMaps:"GEOGRAPHICALGRIDSYSTEMS.MAPS",maps:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD",orthos:{options:{maxZoom:19,variant:"ORTHOIMAGERY.ORTHOPHOTOS"}}}},OneMapSG:{url:"https://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.png",options:{variant:"Default",minZoom:11,maxZoom:18,bounds:[[1.56073,104.11475],[1.16,103.502]],attribution:'<img src="https://docs.onemap.sg/maps/images/oneMap64-01.png" style="height:20px;width:20px;"/> New OneMap | Map data &copy; contributors, <a href="http://SLA.gov.sg">Singapore Land Authority</a>'},variants:{Default:"Default",Night:"Night",Original:"Original",Grey:"Grey",LandLot:"LandLot"}},USGS:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",options:{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'},variants:{USTopo:{},USImagery:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}"},USImageryTopo:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}"}}},WaymarkedTrails:{url:"https://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://waymarkedtrails.org">waymarkedtrails.org</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},variants:{hiking:"hiking",cycling:"cycling",mtb:"mtb",slopes:"slopes",riding:"riding",skating:"skating"}}},o.tileLayer.provider=function(e,t){return new o.TileLayer.Provider(e,t)},o}),function(W,Q,q){"use strict";var r,t,a,o,u,Z={};function s(e,t,n){var i,r=e.runtimeStyle&&e.runtimeStyle[t],a=e.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(i=a.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":n||0,n=a.pixelLeft+"px",a.left=i,r&&(e.runtimeStyle.left=r)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function l(e){return parseInt(e,10)}function c(e,t,n,i,r,a){var o,s,u,t=Z.Util.getCSS(t,e,r);return 1===t.length&&(r=t[0],(t=[])[0]=r,t[1]=r),-1!==t[0].toString().indexOf("%")?(o=parseFloat(t[0])/100,s=n.width*o,"backgroundSize"!==e&&(s-=(a||i).width*o)):"backgroundSize"===e?"auto"===t[0]?s=i.width:/contain|cover/.test(t[0])?(s=(u=Z.Util.resizeBounds(i.width,i.height,n.width,n.height,t[0])).width,u=u.height):s=parseInt(t[0],10):s=parseInt(t[0],10),"auto"===t[1]?u=s/i.width*i.height:-1!==t[1].toString().indexOf("%")?(o=parseFloat(t[1])/100,u=n.height*o,"backgroundSize"!==e&&(u-=(a||i).height*o)):u=parseInt(t[1],10),[s,u]}Z.Util={},Z.Util.log=function(e){Z.logging&&W.console&&W.console.log&&W.console.log(e)},Z.Util.trimText=(t=String.prototype.trim,function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}),Z.Util.asFloat=function(e){return parseFloat(e)},a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,o=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,Z.Util.parseTextShadows=function(e){if(!e||"none"===e)return[];for(var t=e.match(a),n=[],i=0;t&&i<t.length;i++){var r=t[i].match(o);n.push({color:r[0],offsetX:r[1]?r[1].replace("px",""):0,offsetY:r[2]?r[2].replace("px",""):0,blur:r[3]?r[3].replace("px",""):0})}return n},Z.Util.parseBackgroundImage=function(e){function t(){n&&('"'===i.substr(0,1)&&(i=i.substr(1,i.length-2)),i&&l.push(i),"-"===n.substr(0,1)&&0<(a=n.indexOf("-",1)+1)&&(r=n.substr(0,a),n=n.substr(a)),c.push({prefix:r,method:n.toLowerCase(),value:o,args:l})),l=[],n=r=i=o=""}var n,i,r,a,o,s,u,l,c=[],d=0,h=0;t();for(var p=0,m=e.length;p<m;p++)if(s=e[p],!(0===d&&-1<" \r\n\t".indexOf(s))){switch(s){case'"':u?u===s&&(u=null):u=s;break;case"(":if(u)break;if(0===d){d=1,o+=s;continue}h++;break;case")":if(u)break;if(1===d){if(0===h){d=0,o+=s,t();continue}h--}break;case",":if(u)break;if(0===d){t();continue}if(1!==d||0!==h||n.match(/^url$/i))break;l.push(i),i="",o+=s;continue}o+=s,0===d?n+=s:i+=s}return t(),c},Z.Util.Bounds=function(e){var t,n={};return e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n.top=t.top,n.bottom=t.bottom||t.top+t.height,n.left=t.left,n.width=e.offsetWidth,n.height=e.offsetHeight),n},Z.Util.OffsetBounds=function(e){var t=e.offsetParent?Z.Util.OffsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},Z.Util.getCSS=function(e,t,n){void 0!==e&&(r=Q.defaultView.getComputedStyle(e,null));var i=r[t];if(/^background(Size|Position)$/.test(t))return function(e,t,n,i){if(e=(e=(e||"").split(","))[i||0]||e[0]||"auto",e=Z.Util.trimText(e).split(" "),"backgroundSize"!==n||e[0]&&!e[0].match(/cover|contain|auto/)){if(e[0]=-1===e[0].indexOf("%")?s(t,n+"X",e[0]):e[0],e[1]===q){if("backgroundSize"===n)return e[1]="auto",e;e[1]=e[0]}e[1]=-1===e[1].indexOf("%")?s(t,n+"Y",e[1]):e[1]}else;return e}(i,e,t,n);if(/border(Top|Bottom)(Left|Right)Radius/.test(t)){t=i.split(" ");return t.length<=1&&(t[1]=t[0]),t.map(l)}return i},Z.Util.resizeBounds=function(e,t,n,i,r){var a,o,t=e/t;return r&&"auto"!==r?n/i<t^"contain"===r?a=(o=i)*t:o=(a=n)/t:(a=n,o=i),{width:a,height:o}},Z.Util.BackgroundPosition=function(e,t,n,i,r){r=c("backgroundPosition",e,t,n,i,r);return{left:r[0],top:r[1]}},Z.Util.BackgroundSize=function(e,t,n,i){i=c("backgroundSize",e,t,n,i);return{width:i[0],height:i[1]}},Z.Util.Extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},Z.Util.Children=function(e){var t,n,i;try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:(n=e.childNodes,i=[],null!==n&&function(e,t){var n=e.length,i=0;if("number"==typeof t.length)for(var r=t.length;i<r;i++)e[n++]=t[i];else for(;t[i]!==q;)e[n++]=t[i++];e.length=n}(i,n),i)}catch(e){Z.Util.log("html2canvas.Util.Children failed with exception: "+e.message),t=[]}return t},Z.Util.isTransparent=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},Z.Util.Font=(u={},function(e,t,n){if(u[e+"-"+t]!==q)return u[e+"-"+t];var i,r=n.createElement("div"),a=n.createElement("img"),o=n.createElement("span"),s="Hidden Text";return r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin=0,r.style.padding=0,n.body.appendChild(r),a.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",a.width=1,a.height=1,a.style.margin=0,a.style.padding=0,a.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin=0,o.style.padding=0,o.appendChild(n.createTextNode(s)),r.appendChild(o),r.appendChild(a),i=a.offsetTop-o.offsetTop+1,r.removeChild(o),r.appendChild(n.createTextNode(s)),r.style.lineHeight="normal",a.style.verticalAlign="super",a={baseline:i,lineWidth:1,middle:a.offsetTop-r.offsetTop+1},u[e+"-"+t]=a,n.body.removeChild(r),a}),function(){var n=Z.Util,e={};Z.Generate=e;var f=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];function c(e){return function(t){try{e.addColorStop(t.stop,t.color)}catch(e){n.log(["failed to add color stop: ",e,"; tried to add: ",t])}}}e.parseGradient=function(e,t){for(var n,i,r,a,o,s,u,l,c,d,h,p=f.length,m=0;m<p&&!(i=e.match(f[m]));m+=1);if(i)switch(i[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},a=i[2].match(/\w+/g))for(o=a.length,m=0;m<o;m+=1)switch(a[m]){case"top":n.y0=0,n.y1=t.height;break;case"right":n.x0=t.width,n.x1=0;break;case"bottom":n.y0=t.height,n.y1=0;break;case"left":n.x0=0,n.x1=t.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=t.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=t.height/2),a=i[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(o=a.length,s=1/Math.max(o-1,1),m=0;m<o;m+=1)(u=a[m].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(r=parseFloat(u[2]),"%"===u[3]?r/=100:r/=t.width):r=m*s,n.colorStops.push({color:u[1],stop:r});break;case"-webkit-gradient":if(n={type:"radial"===i[2]?"circle":i[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},(a=i[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=a[1]*t.width/100,n.y0=a[2]*t.height/100,n.x1=a[3]*t.width/100,n.y1=a[4]*t.height/100),a=i[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(o=a.length,m=0;m<o;m+=1)u=a[m].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),r=parseFloat(u[2]),"from"===u[1]&&(r=0),"to"===u[1]&&(r=1),n.colorStops.push({color:u[3],stop:r});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},(a=i[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=a[1]*t.width/100,n.y0=a[2]*t.height/100,n.x1=t.width-n.x0,n.y1=t.height-n.y0),a=i[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(o=a.length,s=1/Math.max(o-1,1),m=0;m<o;m+=1)(u=a[m].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/))[2]?(r=parseFloat(u[2]),u[3]&&(r/=100)):r=m*s,n.colorStops.push({color:u[1],stop:r});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:t.width,y1:t.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},(a=i[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.cx=a[1]*t.width/100,n.cy=a[2]*t.height/100),a=i[3].match(/\w+/),u=i[4].match(/[a-z\-]*/),a&&u)switch(u[0]){case"farthest-corner":case"cover":case"":l=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),c=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),d=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(l,c,d,h);break;case"closest-corner":l=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),c=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),d=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(l,c,d,h);break;case"farthest-side":"circle"===a[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=a[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===a[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=a[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(a=i[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(o=a.length,s=1/Math.max(o-1,1),m=0;m<o;m+=1)(u=a[m].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(r=parseFloat(u[2]),"%"===u[3]?r/=100:r/=t.width):r=m*s,n.colorStops.push({color:u[1],stop:r})}return n},e.Gradient=function(e,t){if(0!==t.width&&0!==t.height){var n,i,r=Q.createElement("canvas"),a=r.getContext("2d");if(r.width=t.width,r.height=t.height,n=Z.Generate.parseGradient(e,t))switch(n.type){case"linear":i=a.createLinearGradient(n.x0,n.y0,n.x1,n.y1),n.colorStops.forEach(c(i)),a.fillStyle=i,a.fillRect(0,0,t.width,t.height);break;case"circle":i=a.createRadialGradient(n.cx,n.cy,0,n.cx,n.cy,n.rx),n.colorStops.forEach(c(i)),a.fillStyle=i,a.fillRect(0,0,t.width,t.height);break;case"ellipse":var o=Q.createElement("canvas"),s=o.getContext("2d"),u=Math.max(n.rx,n.ry),l=2*u;o.width=o.height=l,i=s.createRadialGradient(n.rx,n.ry,0,n.rx,n.ry,u),n.colorStops.forEach(c(i)),s.fillStyle=i,s.fillRect(0,0,l,l),a.fillStyle=n.colorStops[n.colorStops.length-1].color,a.fillRect(0,0,r.width,r.height),a.drawImage(o,n.cx-n.rx,n.cy-n.ry,2*n.rx,2*n.ry)}return r}},e.ListAlpha=function(e){for(var t,n="";t=e%26,n=String.fromCharCode(64+t)+n,e/=26,26<26*e;);return n},e.ListRoman=function(e){var t,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],r="",a=n.length;if(e<=0||4e3<=e)return e;for(t=0;t<a;t+=1)for(;i[t]<=e;)e-=i[t],r+=n[t];return r}}(),Z.Parse=function(t,h){W.scroll(0,0);var e=h.elements===q?Q.body:h.elements[0],p=e.ownerDocument,m=Z.Util,u=m.Support(h,p),f=new RegExp("("+h.ignoreElements+")"),r=p.body,j=m.getCSS,g="___html2canvas___pseudoelement",n=p.createElement("style");function _(e,t){t=parseInt(j(e,t),10);return isNaN(t)?0:t}function y(e,t,n,i,r,a){"transparent"!==a&&(e.setVariable("fillStyle",a),e.fillRect(t,n,i,r),0)}function c(e,t,n){if(0<e.length)return t+n.toUpperCase()}function d(e,t,n,i){null!==e&&0<m.trimText(e).length&&(i.fillText(e,t,n),0)}function v(e,t,n,i){var r=j(t,"fontWeight"),a=j(t,"fontFamily"),o=j(t,"fontSize"),s=m.parseTextShadows(j(t,"textShadow"));switch(parseInt(r,10)){case 401:r="bold";break;case 400:r="normal"}if(e.setVariable("fillStyle",i),e.setVariable("font",[j(t,"fontStyle"),j(t,"fontVariant"),r,o,a].join(" ")),e.setVariable("textAlign","left"),s.length&&(e.setVariable("shadowColor",s[0].color),e.setVariable("shadowOffsetX",s[0].offsetX),e.setVariable("shadowOffsetY",s[0].offsetY),e.setVariable("shadowBlur",s[0].blur)),"none"!==n)return m.Font(a,o,p)}function M(e,t,n,i,r){var a,o,s;return u.rangeBounds&&!r?("none"===n&&0===m.trimText(t).length||(a=t,o=e.node,n=e.textOffset,(s=p.createRange()).setStart(o,n),s.setEnd(o,n+a.length),s=s.getBoundingClientRect()),e.textOffset+=t.length):e.node&&"string"==typeof e.node.nodeValue&&(t=i?e.node.splitText(t.length):null,s=function(e,t){var n=e.parentNode,i=p.createElement("wrapper"),r=e.cloneNode(!0);i.appendChild(e.cloneNode(!0)),n.replaceChild(i,e);t=t?m.OffsetBounds(i):m.Bounds(i);return n.replaceChild(r,i),t}(e.node,r),e.node=t),s}function a(e,t,n){var i,r,a=n.ctx,o=j(e,"color"),s=j(e,"textDecoration"),u=j(e,"textAlign"),l={node:t,textOffset:0};0<m.trimText(t.nodeValue).length&&(t.nodeValue=function(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,c);case"uppercase":return e.toUpperCase();default:return e}}(t.nodeValue,j(e,"textTransform")),u=u.replace(["-webkit-auto"],["auto"]),r=!h.letterRendering&&/^(left|right|justify|auto)$/.test(u)&&/^(normal|none|0px)$/.test(j(e,"letterSpacing"))?t.nodeValue.split(/(\b| )/):t.nodeValue.split(""),i=v(a,e,s,o),h.chinese&&r.forEach(function(e,t){/.*[\u4E00-\u9FA5].*$/.test(e)&&((e=e.split("")).unshift(t,1),r.splice.apply(r,e))}),r.forEach(function(e,t){t=M(l,e,s,t<r.length-1,n.transform.matrix);t&&(d(e,t.left,t.bottom,a),function(e,t,n,i){switch(s){case"underline":y(e,t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,i);break;case"overline":y(e,t.left,Math.round(t.top),t.width,1,i);break;case"line-through":y(e,t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,i)}}(a,t,i,o))}))}function l(e,t){var n,i=function(e){var t=-1,n=1,i=e.parentNode.childNodes;if(e.parentNode){for(;i[++t]!==e;)1===i[t].nodeType&&n++;return n}return-1}(e);switch(t){case"decimal":n=i;break;case"decimal-leading-zero":n=1===i.toString().length?i="0"+i.toString():i.toString();break;case"upper-roman":n=Z.Generate.ListRoman(i);break;case"lower-roman":n=Z.Generate.ListRoman(i).toLowerCase();break;case"lower-alpha":n=Z.Generate.ListAlpha(i).toLowerCase();break;case"upper-alpha":n=Z.Generate.ListAlpha(i)}return n+". "}function b(e,t,n){var i,r,a,o=t.ctx,s=j(e,"listStyleType");/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(s)&&(i=l(e,s),r=e,a=i,(t=p.createElement("boundelement")).style.display="inline",s=r.style.listStyleType,r.style.listStyleType="none",t.appendChild(p.createTextNode(a)),r.insertBefore(t,r.firstChild),a=m.Bounds(t),r.removeChild(t),r.style.listStyleType=s,a=a,v(o,e,"none",j(e,"color")),"inside"===j(e,"listStylePosition")&&(o.setVariable("textAlign","left"),d(i,n.left,a.bottom,o)))}function A(e){e=t[e];return!(!e||!0!==e.succeeded)&&e.img}function w(e,t){var n=Math.max(e.left,t.left),i=Math.max(e.top,t.top);return{left:n,top:i,width:Math.min(e.left+e.width,t.left+t.width)-n,height:Math.min(e.top+e.height,t.top+t.height)-i}}function x(e,t,n,i,r){var a=_(t,"paddingLeft"),o=_(t,"paddingTop"),s=_(t,"paddingRight"),t=_(t,"paddingBottom");S(e,n,0,0,n.width,n.height,i.left+a+r[3].width,i.top+o+r[0].width,i.width-(r[1].width+r[3].width+a+s),i.height-(r[0].width+r[2].width+o+t))}n.innerHTML="."+g+'-before:before { content: "" !important; display: none !important; }.'+g+'-after:after { content: "" !important; display: none !important; }',r.appendChild(n),t=t||{};var o,O=(o=(Math.sqrt(2)-1)/3*4,function(e,t,n,i){var r=n*o,a=i*o,n=e+n,i=t+i;return{topLeft:E({x:e,y:i},{x:e,y:i-a},{x:n-r,y:t},{x:n,y:t}),topRight:E({x:e,y:t},{x:e+r,y:t},{x:n,y:i-a},{x:n,y:i}),bottomRight:E({x:n,y:t},{x:n,y:t+a},{x:e+r,y:i},{x:e,y:i}),bottomLeft:E({x:n,y:i},{x:n-r,y:i},{x:e,y:t+a},{x:e,y:t})}});function E(a,o,s,u){function l(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}return{start:a,startControl:o,endControl:s,end:u,subdivide:function(e){var t=l(a,o,e),n=l(o,s,e),i=l(s,u,e),r=l(t,n,e),n=l(n,i,e),e=l(r,n,e);return[E(a,t,r,e),E(e,n,i,u)]},curveTo:function(e){e.push(["bezierCurve",o.x,o.y,s.x,s.y,u.x,u.y])},curveToReversed:function(e){e.push(["bezierCurve",s.x,s.y,o.x,o.y,a.x,a.y])}}}function z(e,t,n,i,r,a,o){0<t[0]||0<t[1]?(e.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(e),i[1].curveTo(e)):e.push(["line",a,o]),(0<n[0]||0<n[1])&&e.push(["line",r[0].start.x,r[0].start.y])}function R(e,t,n,i,r,a,o){var s=[];return 0<t[0]||0<t[1]?(s.push(["line",i[1].start.x,i[1].start.y]),i[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),0<n[0]||0<n[1]?(s.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(s),s.push(["line",o[0].end.x,o[0].end.y]),o[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),0<t[0]||0<t[1]?(s.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function L(e,t,n){for(var i,r,a,o,s,u,l,c,d,h,p,m,f,g,_,y,v,M,b,A,w,x,E,L=t.left,T=t.top,D=t.width,S=t.height,N=(E=e,["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return j(E,"border"+e+"Radius")})),C=(l=N,c=n,d=(u=t).left,h=u.top,p=u.width,m=u.height,f=l[0][0],g=l[0][1],_=l[1][0],y=l[1][1],v=l[2][0],M=l[2][1],b=l[3][0],A=l[3][1],w=p-_,x=m-M,u=p-v,l=m-A,{topLeftOuter:O(d,h,f,g).topLeft.subdivide(.5),topLeftInner:O(d+c[3].width,h+c[0].width,Math.max(0,f-c[3].width),Math.max(0,g-c[0].width)).topLeft.subdivide(.5),topRightOuter:O(d+w,h,_,y).topRight.subdivide(.5),topRightInner:O(d+Math.min(w,p+c[3].width),h+c[0].width,w>p+c[3].width?0:_-c[3].width,y-c[0].width).topRight.subdivide(.5),bottomRightOuter:O(d+u,h+x,v,M).bottomRight.subdivide(.5),bottomRightInner:O(d+Math.min(u,p+c[3].width),h+Math.min(x,m+c[0].width),Math.max(0,v-c[1].width),Math.max(0,M-c[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:O(d,h+l,b,A).bottomLeft.subdivide(.5),bottomLeftInner:O(d+c[3].width,h+l,Math.max(0,b-c[3].width),Math.max(0,A-c[2].width)).bottomLeft.subdivide(.5)}),k={clip:function(e,t,n,i,r){var a=[];switch(j(e,"backgroundClip")){case"content-box":case"padding-box":z(a,i[0],i[1],t.topLeftInner,t.topRightInner,r.left+n[3].width,r.top+n[0].width),z(a,i[1],i[2],t.topRightInner,t.bottomRightInner,r.left+r.width-n[1].width,r.top+n[0].width),z(a,i[2],i[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-n[1].width,r.top+r.height-n[2].width),z(a,i[3],i[0],t.bottomLeftInner,t.topLeftInner,r.left+n[3].width,r.top+r.height-n[2].width);break;default:z(a,i[0],i[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),z(a,i[1],i[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),z(a,i[2],i[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),z(a,i[3],i[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return a}(e,C,n,N,t),borders:[]},I=0;I<4;I++)if(0<n[I].width){switch(i=L,r=T,a=D,o=S-n[2].width,I){case 0:o=n[0].width,s=R({c1:[i,r],c2:[i+a,r],c3:[i+a-n[1].width,r+o],c4:[i+n[3].width,r+o]},N[0],N[1],C.topLeftOuter,C.topLeftInner,C.topRightOuter,C.topRightInner);break;case 1:s=R({c1:[(i=L+D-n[1].width)+(a=n[1].width),r],c2:[i+a,r+o+n[2].width],c3:[i,r+o],c4:[i,r+n[0].width]},N[1],N[2],C.topRightOuter,C.topRightInner,C.bottomRightOuter,C.bottomRightInner);break;case 2:s=R({c1:[i+a,(r=r+S-n[2].width)+(o=n[2].width)],c2:[i,r+o],c3:[i+n[3].width,r],c4:[i+a-n[3].width,r]},N[2],N[3],C.bottomRightOuter,C.bottomRightInner,C.bottomLeftOuter,C.bottomLeftInner);break;case 3:a=n[3].width,s=R({c1:[i,r+o+n[2].width],c2:[i,r],c3:[i+a,r+n[0].width],c4:[i+a,r+o]},N[3],N[0],C.bottomLeftOuter,C.bottomLeftInner,C.topLeftOuter,C.topLeftInner)}k.borders.push({args:s,color:n[I].color})}return k}function T(e,t){var n=e.drawShape();return t.forEach(function(e,t){n[0===t?"moveTo":e[0]+"To"].apply(null,e.slice(1))}),n}function D(t,e,n){var i=p.createElement("valuewrap");["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"].forEach(function(e){try{i.style[e]=j(t,e)}catch(e){m.log("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}}),i.style.borderColor="black",i.style.borderStyle="solid",i.style.display="block",i.style.position="absolute",!/^(submit|reset|button|text|password)$/.test(t.type)&&"SELECT"!==t.nodeName||(i.style.lineHeight=j(t,"height")),i.style.top=e.top+"px",i.style.left=e.left+"px",e=(e="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value)||t.placeholder,e=p.createTextNode(e),i.appendChild(e),r.appendChild(i),a(t,e,n),r.removeChild(i)}function S(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1)),0}function N(e,t){var n=W.getComputedStyle(e,t);if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){e=n.content+"",t=e.substr(0,1);t===e.substr(e.length-1)&&t.match(/'|"/)&&(e=e.substr(1,e.length-2));var t="url"===e.substr(0,3),i=Q.createElement(t?"img":"span");return i.className=g+"-before "+g+"-after",Object.keys(n).filter(s).forEach(function(t){try{i.style[t]=n[t]}catch(e){m.log(["Tried to assign readonly property ",t,"Error:",e])}}),t?i.src=m.parseBackgroundImage(e)[0].args[0]:i.innerHTML=e,i}}function s(e){return isNaN(W.parseInt(e,10))}function C(e,t,n,i){var r=Math.round(i.left+n.left),n=Math.round(i.top+n.top);e.createPattern(t),e.translate(r,n),e.fill(),e.translate(-r,-n)}function k(e,t,n,i,r,a,o,s){var u=[];u.push(["line",Math.round(r),Math.round(a)]),u.push(["line",Math.round(r+o),Math.round(a)]),u.push(["line",Math.round(r+o),Math.round(s+a)]),u.push(["line",Math.round(r),Math.round(s+a)]),T(e,u),e.save(),e.clip(),C(e,t,n,i),e.restore()}function I(e,t,n,i,r){var a=m.BackgroundSize(e,t,i,r),o=m.BackgroundPosition(e,t,i,r,a),e=j(e,"backgroundRepeat").split(",").map(m.trimText);switch(i=function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=p.createElement("canvas");return n.width=t.width,n.height=t.height,S(n.getContext("2d"),e,0,0,e.width,e.height,0,0,t.width,t.height),n}(i,a),e=e[r]||e[0]){case"repeat-x":k(n,i,o,t,t.left,t.top+o.top,99999,i.height);break;case"repeat-y":k(n,i,o,t,t.left+o.left,t.top,i.width,99999);break;case"no-repeat":k(n,i,o,t,t.left+o.left,t.top+o.top,i.width,i.height);break;default:C(n,i,o,{top:t.top,left:t.left,width:i.width,height:i.height})}}function P(e){return e.replace("px","")}var i,Y,B,U=/(matrix)\((.+)\)/;function H(e,t,n,i){var r,a,o,s,u,l,c=(u=t?n.width:Math.max(Math.max(p.body.scrollWidth,p.documentElement.scrollWidth),Math.max(p.body.offsetWidth,p.documentElement.offsetWidth),Math.max(p.body.clientWidth,p.documentElement.clientWidth)),s=t?n.height:Math.max(Math.max(p.body.scrollHeight,p.documentElement.scrollHeight),Math.max(p.body.offsetHeight,p.documentElement.offsetHeight),Math.max(p.body.clientHeight,p.documentElement.clientHeight)),{storage:a=[],width:u,height:s,clip:function(){a.push({type:"function",name:"clip",arguments:arguments})},translate:function(){a.push({type:"function",name:"translate",arguments:arguments})},fill:function(){a.push({type:"function",name:"fill",arguments:arguments})},save:function(){a.push({type:"function",name:"save",arguments:arguments})},restore:function(){a.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){a.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){a.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[];return a.push({type:"function",name:"drawShape",arguments:e}),{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){a.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){a.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){return a.push({type:"variable",name:e,arguments:t}),t}}),d={ctx:c,opacity:(l=t,c.setVariable("globalAlpha",j(e,"opacity")*(l?l.opacity:1))),cssPosition:j(e,"position"),borders:(r=e,["Top","Right","Bottom","Left"].map(function(e){return{width:_(r,"border"+e+"Width"),color:j(r,"border"+e+"Color")}})),transform:i,clip:t&&t.clip?m.Extend({},t.clip):null};return o=e,u=t,c="static"!==(s=d).cssPosition,l=c?j(o,"zIndex"):"auto",i=j(o,"opacity"),t="none"!==j(o,"cssFloat"),s.zIndex=o={zindex:l,children:[]},o.isPositioned=c,o.isFloated=t,o.opacity=i,o.ownStacking="auto"!==l||i<1,u&&u.zIndex.children.push(s),!0===h.useOverflow&&!0===/(hidden|scroll|auto)/.test(j(e,"overflow"))&&!1===/(BODY)/i.test(e.nodeName)&&(d.clip=d.clip?w(d.clip,n):n),d}function F(e,t,n,i){var r,a,o,s,s=(s=j(o=e,"transform")||j(o,"-webkit-transform")||j(o,"-moz-transform")||j(o,"-ms-transform")||j(o,"-o-transform"),o=(o=j(o,"transform-origin")||j(o,"-webkit-transform-origin")||j(o,"-moz-transform-origin")||j(o,"-ms-transform-origin")||j(o,"-o-transform-origin")||"0px 0px").split(" ").map(P).map(m.asFloat),!s||"none"===s||(s=s.match(U))&&"matrix"===s[1]&&(a=s[2].split(",").map(m.trimText).map(m.asFloat)),{origin:o,matrix:a}),u=(o=e,o=(a=s).matrix?m.OffsetBounds(o):m.Bounds(o),a.origin[0]+=o.left,a.origin[1]+=o.top,o),l=H(e,t,u,s),c=l.borders,d=l.ctx,h=(a=c,o=u,t=l.clip,a={left:o.left+a[3].width,top:o.top+a[0].width,width:o.width-(a[1].width+a[3].width),height:o.height-(a[0].width+a[2].width)},t&&(a=w(a,t)),a),s=L(e,u,c),o=f.test(e.nodeName)?"#efefef":j(e,"backgroundColor");switch(T(d,s.clip),d.save(),d.clip(),0<h.height&&0<h.width&&!i?(t=o,y(d,(a=u).left,a.top,a.width,a.height,t),function(e,t,n){for(var i,r=j(e,"backgroundImage"),a=m.parseBackgroundImage(r),o=a.length;o--;)(r=a[o]).args&&0!==r.args.length&&((i=A("url"===r.method?r.args[0]:r.value))?I(e,t,n,i,o):m.log("html2canvas: Error loading background:",r))}(e,h,d)):i&&(l.backgroundColor=o),d.restore(),s.borders.forEach(function(e){var t,n;t=d,n=e.args,"transparent"!==(e=e.color)&&(t.setVariable("fillStyle",e),T(t,n),t.fill(),0)}),n||(i=l,s=N(o=e,":before"),n=N(o,":after"),(s||n)&&(s&&(o.className+=" "+g+"-before",o.parentNode.insertBefore(s,o),G(s,i,!0),o.parentNode.removeChild(s),o.className=o.className.replace(g+"-before","").trim()),n&&(o.className+=" "+g+"-after",o.appendChild(n),G(n,i,!0),o.removeChild(n),o.className=o.className.replace(g+"-after","").trim()))),e.nodeName){case"IMG":(r=A(e.getAttribute("src")))?x(d,e,r,u,c):m.log("html2canvas: Error loading <img>:"+e.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&0<(e.value||e.placeholder||"").length&&D(e,u,l);break;case"TEXTAREA":0<(e.value||e.placeholder||"").length&&D(e,u,l);break;case"SELECT":0<(e.options||e.placeholder||"").length&&D(e,u,l);break;case"LI":b(e,l,h);break;case"CANVAS":x(d,e,e,u,c)}return l}function G(e,t,n){var i;"none"===j(i=e,"display")||"hidden"===j(i,"visibility")||i.hasAttribute("data-html2canvas-ignore")||(t=F(e,t,n,!1)||t,f.test(e.nodeName)||V(e,t,n))}function V(t,n,i){m.Children(t).forEach(function(e){e.nodeType===e.ELEMENT_NODE?G(e,n,i):e.nodeType===e.TEXT_NODE&&a(t,e,n)})}return i=j(Q.documentElement,"backgroundColor"),Y=m.isTransparent(i)&&e===Q.body,B=F(e,null,!1,Y),V(e,B),Y&&(i=B.backgroundColor),r.removeChild(n),{backgroundColor:i,stack:B}},Z.Preload=function(o){var r,a,e,t,s={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},u=Z.Util,l=0,n=o.elements[0]||Q.body,c=n.ownerDocument,i=n.getElementsByTagName("img"),d=i.length,h=c.createElement("a"),p=(new Image).crossOrigin!==q;function m(){u.log("html2canvas: start: images: "+s.numLoaded+" / "+s.numTotal+" (failed: "+s.numFailed+")"),!s.firstRun&&s.numLoaded>=s.numTotal&&(u.log("Finished loading images: # "+s.numTotal+" (failed: "+s.numFailed+")"),"function"==typeof o.complete&&o.complete(s))}function f(e,t,n){var i,r,a=o.proxy;h.href=e,e=h.href,i="html2canvas_"+l++,n.callbackname=i,-1<a.indexOf("?")?a+="&":a+="?",a+="url="+encodeURIComponent(e)+"&callback="+i,r=c.createElement("script"),W[i]=function(e){"error:"===e.substring(0,6)?(n.succeeded=!1,s.numLoaded++,s.numFailed++,m()):(v(t,n),t.src=e),W[i]=q;try{delete W[i]}catch(e){}r.parentNode.removeChild(r),r=null,delete n.script,delete n.callbackname},r.setAttribute("type","text/javascript"),r.setAttribute("src",a),n.script=r,W.document.body.appendChild(r)}function g(e,t){var n=W.getComputedStyle(e,t),t=n.content;"url"===t.substr(0,3)&&a.loadImage(Z.Util.parseBackgroundImage(t)[0].args[0]),y(n.backgroundImage,e)}function _(e){return e&&e.method&&e.args&&0<e.args.length}function y(e,n){var i;Z.Util.parseBackgroundImage(e).filter(_).forEach(function(e){var t;"url"===e.method?a.loadImage(e.args[0]):e.method.match(/\-?gradient$/)&&(i===q&&(i=Z.Util.Bounds(n)),t=e.value,e=i,(e=Z.Generate.Gradient(t,e))!==q&&(s[t]={img:e,succeeded:!0},s.numTotal++,s.numLoaded++,m()))})}function v(t,n){t.onload=function(){n.timer!==q&&W.clearTimeout(n.timer),s.numLoaded++,n.succeeded=!0,t.onerror=t.onload=null,m()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(W.clearTimeout(n.timer),o.proxy)){var e=t.src;return t=new Image,(n.img=t).src=e,void f(t.src,t,n)}s.numLoaded++,s.numFailed++,n.succeeded=!1,t.onerror=t.onload=null,m()}}for(h.href=W.location.href,r=h.protocol+h.host,a={loadImage:function(e){var t,n,i;e&&s[e]===q&&(t=new Image,e.match(/data:image\/.*;base64,/i)?(t.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),n=s[e]={img:t},s.numTotal++,v(t,n)):(i=e,h.href=i,h.href=h.href,h.protocol+h.host===r||!0===o.allowTaint?(n=s[e]={img:t},s.numTotal++,v(t,n),t.src=e):p&&!o.allowTaint&&o.useCORS?(t.crossOrigin="anonymous",n=s[e]={img:t},s.numTotal++,v(t,n),t.src=e):o.proxy&&(n=s[e]={img:t},s.numTotal++,f(e,t,n))))},cleanupDOM:function(e){var t,n;if(!s.cleanupDone){for(n in e&&"string"==typeof e?u.log("html2canvas: Cleanup because: "+e):u.log("html2canvas: Cleanup after timeout: "+o.timeout+" ms."),s)if(s.hasOwnProperty(n)&&"object"==typeof(t=s[n])&&t.callbackname&&t.succeeded===q){W[t.callbackname]=q;try{delete W[t.callbackname]}catch(e){}t.script&&t.script.parentNode&&(t.script.setAttribute("src","about:blank"),t.script.parentNode.removeChild(t.script)),s.numLoaded++,s.numFailed++,u.log("html2canvas: Cleaned up failed img: '"+n+"' Steps: "+s.numLoaded+" / "+s.numTotal)}W.stop!==q?W.stop():Q.execCommand!==q&&Q.execCommand("Stop",!1),Q.close!==q&&Q.close(),s.cleanupDone=!0,e&&"string"==typeof e||m()}},renderingDone:function(){t&&W.clearTimeout(t)}},0<o.timeout&&(t=W.setTimeout(a.cleanupDOM,o.timeout)),u.log("html2canvas: Preload starts: finding background-images"),s.firstRun=!0,function e(t){var n,i=!1;try{u.Children(t).forEach(e)}catch(e){}try{i=t.nodeType}catch(e){i=!1,u.log("html2canvas: failed to access some element's nodeType - Exception: "+e.message)}if(1===i||i===q){g(n=t,":before"),g(n,":after");try{y(u.getCSS(t,"backgroundImage"),t)}catch(e){u.log("html2canvas: failed to get background-image - Exception: "+e.message)}y(t)}}(n),u.log("html2canvas: Preload: Finding images"),e=0;e<d;e+=1)a.loadImage(i[e].getAttribute("src"));return s.firstRun=!1,u.log("html2canvas: Preload: Done."),s.numTotal===s.numLoaded&&m(),a},Z.Renderer=function(e,n){return function(e){var t;if("string"==typeof n.renderer&&Z.Renderer[e]!==q)t=Z.Renderer[e](n);else{if("function"!=typeof e)throw new Error("Unknown renderer");t=e(n)}if("function"!=typeof t)throw new Error("Invalid renderer defined");return t}(n.renderer)(e,n,Q,(t=e.stack,s=[],function t(e,n,i){var r="auto"===n.zIndex.zindex?0:Number(n.zIndex.zindex),a=e,o=n.zIndex.isPositioned,s=n.zIndex.isFloated,u={node:n},l=i;n.zIndex.ownStacking?(a=u.context={"!":[{node:n,children:[]}]},l=q):(o||s)&&(l=u.children=[]),0===r&&i?i.push(u):(e[r]||(e[r]=[]),e[r].push(u)),n.zIndex.children.forEach(function(e){t(a,e,l)})}(i={},t),function a(o){Object.keys(o).sort().forEach(function(e){var t=[],n=[],i=[],r=[];o[e].forEach(function(e){(e.node.zIndex.isPositioned||e.node.zIndex.opacity<1?i:e.node.zIndex.isFloated?n:t).push(e)}),function t(e){e.forEach(function(e){r.push(e),e.children&&t(e.children)})}(t.concat(n,i)),r.forEach(function(e){e.context?a(e.context):s.push(e.node)})})}(i),s),Z);var t,i,s},Z.Util.Support=function(e,i){return{rangeBounds:(r=!1,i.createRange&&(t=i.createRange()).getBoundingClientRect&&((n=i.createElement("boundtest")).style.height="123px",n.style.display="block",i.body.appendChild(n),t.selectNode(n),123===t.getBoundingClientRect().height&&(r=!0),i.body.removeChild(n)),r),svgRendering:e.svgRendering&&function(){var e=new Image,t=i.createElement("canvas"),n=t.getContext!==q&&t.getContext("2d");if(!1===n)return!1;t.width=t.height=10,e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{n.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return Z.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}()};var t,n,r},W.html2canvas=function(e,t){var n,i={logging:!1,elements:e=e.length?e:[e],background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"},i=Z.Util.Extend(t,i);return Z.logging=i.logging,i.complete=function(e){"function"==typeof i.onpreloaded&&!1===i.onpreloaded(e)||(n=Z.Parse(e,i),"function"==typeof i.onparsed&&!1===i.onparsed(n)||(n=Z.Renderer(n,i),"function"==typeof i.onrendered&&i.onrendered(n)))},W.setTimeout(function(){Z.Preload(i)},0),{render:function(e,t){return Z.Renderer(e,Z.Util.Extend(t,i))},parse:function(e,t){return Z.Parse(e,Z.Util.Extend(t,i))},preload:function(e){return Z.Preload(Z.Util.Extend(e,i))},log:Z.Util.log}},W.html2canvas.log=Z.Util.log,W.html2canvas.Renderer={Canvas:q},Z.Renderer.Canvas=function(r){r=r||{};var a=Q,o=[],s=Q.createElement("canvas"),u=s.getContext("2d"),l=Z.Util,c=r.canvas||a.createElement("canvas");function d(e,t){switch(t.type){case"variable":e[t.name]=t.arguments;break;case"function":switch(t.name){case"createPattern":if(0<t.arguments[0].width&&0<t.arguments[0].height)try{e.fillStyle=e.createPattern(t.arguments[0],"repeat")}catch(e){l.log("html2canvas: Renderer: Error creating pattern",e.message)}break;case"drawShape":n=e,i=t.arguments,n.beginPath(),i.forEach(function(e){n[e.name].apply(n,e.arguments)}),n.closePath();break;case"drawImage":0<t.arguments[8]&&0<t.arguments[7]&&(!r.taintTest||r.taintTest&&function(e){if(-1===o.indexOf(e.arguments[0].src)){u.drawImage(e.arguments[0],0,0);try{u.getImageData(0,0,1,1)}catch(e){return s=a.createElement("canvas"),void(u=s.getContext("2d"))}o.push(e.arguments[0].src)}return 1}(t))&&e.drawImage.apply(e,t.arguments);break;default:e[t.name].apply(e,t.arguments)}}var n,i}return function(e,t,n,i,r){var a,o=c.getContext("2d"),s=e.stack;return c.width=c.style.width=t.width||s.ctx.width,c.height=c.style.height=t.height||s.ctx.height,a=o.fillStyle,o.fillStyle=l.isTransparent(s.backgroundColor)&&t.background!==q?t.background:e.backgroundColor,o.fillRect(0,0,c.width,c.height),o.fillStyle=a,i.forEach(function(e){o.textBaseline="bottom",o.save(),e.transform.matrix&&(o.translate(e.transform.origin[0],e.transform.origin[1]),o.transform.apply(o,e.transform.matrix),o.translate(-e.transform.origin[0],-e.transform.origin[1])),e.clip&&(o.beginPath(),o.rect(e.clip.left,e.clip.top,e.clip.width,e.clip.height),o.clip()),e.ctx.storage&&e.ctx.storage.forEach(function(e){d(o,e)}),o.restore()}),l.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===t.elements.length&&"object"==typeof t.elements[0]&&"BODY"!==t.elements[0].nodeName?(t=r.Util.Bounds(t.elements[0]),(n=n.createElement("canvas")).width=Math.ceil(t.width),n.height=Math.ceil(t.height),(o=n.getContext("2d")).drawImage(c,t.left,t.top,t.width,t.height,0,0,t.width,t.height),c=null,n):c}}}(window,document),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).leafletImage=e()}(function(){return function i(r,a,o){function s(n,e){if(!a[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=a[n]={exports:{}};r[n][0].call(t.exports,function(e){var t=r[n][1][e];return s(t||e)},t,t.exports,i,r,a,o)}return a[n].exports}for(var u="function"==typeof require&&require,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,t,n){var b=e("d3-queue").queue,l=+new Date;t.exports=function(g,n){var _=!!L.mapbox,y=g.getSize(),t=new b(1),i=document.createElement("canvas");i.width=y.x,i.height=y.y;var r=i.getContext("2d"),v=document.createElement("canvas");v.width=1,v.height=1;var e=v.getContext("2d");function a(a,n){var i=L.TileLayer.Canvas&&a instanceof L.TileLayer.Canvas,r=document.createElement("canvas");r.width=y.x,r.height=y.y;var t=r.getContext("2d"),o=g.getPixelBounds(),e=g.getZoom(),s=a.options.tileSize;if(e>a.options.maxZoom||e<a.options.minZoom||_&&a instanceof L.mapbox.tileLayer&&!a.options.tiles)return n();for(var u,l=L.bounds(o.min.divideBy(s)._floor(),o.max.divideBy(s)._floor()),c=[],d=new b(1),h=l.min.y;h<=l.max.y;h++)for(u=l.min.x;u<=l.max.x;u++)c.push(new L.Point(u,h));function p(e,t,n,i){i(null,{img:e,pos:t,size:n})}function m(e,t,n,i){var r=new Image;r.crossOrigin="",r.onload=function(){i(null,{img:this,pos:t,size:n})},r.onerror=function(e){""!=a.options.errorTileUrl&&void 0===e.target.errorCheck?(e.target.errorCheck=!0,e.target.src=a.options.errorTileUrl):i(null,{img:v,pos:t,size:n})},r.src=e}function f(e){t.drawImage(e.img,Math.floor(e.pos.x),Math.floor(e.pos.y),e.size,e.size)}c.forEach(function(e){var t=e.clone();a._adjustTilePoint&&a._adjustTilePoint(e);var n=t.scaleBy(new L.Point(s,s)).subtract(o.min);0<=e.y&&(i?(t=a._tiles[e.x+":"+e.y],d.defer(p,t,n,s)):(e=M(a.getTileUrl(e)),d.defer(m,e,n,s)))}),d.awaitAll(function(e,t){t.forEach(f),n(null,{canvas:r})})}function o(t,e){var n=g.getPixelBounds(),i=g.getPixelOrigin(),r=document.createElement("canvas");r.width=y.x,r.height=y.y;var a=r.getContext("2d"),o=L.DomUtil.getPosition(t).subtract(n.min).add(i);try{a.drawImage(t,o.x,o.y,r.width-2*o.x,r.height-2*o.y),e(null,{canvas:r})}catch(e){console.error("Element could not be drawn on canvas",t)}}function s(e,t){var n=document.createElement("canvas"),i=n.getContext("2d"),r=g.getPixelBounds(),a=new L.Point(r.min.x,r.min.y),o=g.project(e.getLatLng()),s=/^data\:/.test(e._icon.src),u=s?e._icon.src:M(e._icon.src),r=new Image,e=e.options.icon.options,l=e.iconSize,a=o.subtract(a),e=L.point(e.iconAnchor||l&&l.divideBy(2,!0));l instanceof L.Point&&(l=[l.x,l.y]);var c=Math.round(a.x-l[0]+e.x),d=Math.round(a.y-e.y);n.width=y.x,n.height=y.y,r.crossOrigin="",r.onload=function(){i.drawImage(this,c,d,l[0],l[1]),t(null,{canvas:n})},r.src=u,s&&r.onload()}function u(e,t){var n=document.createElement("canvas");n.width=y.x,n.height=y.y;var i=n.getContext("2d"),r=new Image;r.crossOrigin="",r.src=M(e._currentImage._image.src),r.onload=function(){i.drawImage(r,0,0),t(null,{canvas:n})}}function M(e){return e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)||-1!==e.indexOf("mapbox.com/styles/v1")?e:e+(e.match(/\?/)?"&":"?")+"cache="+l}e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),g.eachLayer(function(e){e instanceof L.TileLayer?t.defer(a,e):e._heat&&t.defer(o,e._canvas)}),g.eachLayer(function(e){if(!L.esri)return;e instanceof L.esri.DynamicMapLayer&&t.defer(u,e)}),g._pathRoot?t.defer(o,g._pathRoot):!g._panes||(e=g._panes.overlayPane.getElementsByTagName("canvas").item(0))&&t.defer(o,e),g.eachLayer(function(e){e instanceof L.Marker&&e.options.icon instanceof L.Icon&&t.defer(s,e)}),t.awaitAll(function(e,t){if(e)throw e;t.forEach(function(e){e&&e.canvas&&r.drawImage(e.canvas,0,0)}),n(null,i)})}},{"d3-queue":2}],2:[function(e,t,n){var i;i=this,function(e){"use strict";var n=[].slice,a={};function t(e){if(!(1<=e))throw new Error;this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function o(t){if(!t._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],i=n.length-1,r=n[i];n[i]=function(n,i){return function(e,t){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=e?s(n,e):(n._data[i]=t,(n._waiting?o:u)(n))))}}(e,t),--e._waiting,++e._active,n=r.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||a)}}(t)}catch(e){t._tasks[t._ended+t._active-1]&&s(t,e)}}function s(e,t){var n,i=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;0<=--i;)if((n=e._tasks[i])&&(e._tasks[i]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,u(e)}function u(e){!e._active&&e._call&&e._call(e._error,e._data)}function i(e){return new t(arguments.length?+e:1/0)}t.prototype=i.prototype={constructor:t,defer:function(e){if("function"!=typeof e||this._call)throw new Error;if(null!=this._error)return this;var t=n.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),o(this),this},abort:function(){return null==this._error&&s(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(e,t){n.apply(null,[e].concat(t))},u(this),this},awaitAll:function(e){if("function"!=typeof e||this._call)throw new Error;return this._call=e,u(this),this}},e.version="2.0.3",e.queue=i}("object"==typeof n&&void 0!==t?n:i.d3_queue=i.d3_queue||{})},{}]},{},[1])(1)}),function(){var I={version:"3.5.17"},r=[].slice,h=function(e){return r.call(e)},j=this.document;function s(e){return e&&(e.ownerDocument||e.document||e).documentElement}function O(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(j)try{h(j.documentElement.childNodes)[0].nodeType}catch(e){h=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),j)try{j.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var t=this.Element.prototype,n=t.setAttribute,i=t.setAttributeNS,a=this.CSSStyleDeclaration.prototype,o=a.setProperty;t.setAttribute=function(e,t){n.call(this,e,t+"")},t.setAttributeNS=function(e,t,n){i.call(this,e,t,n+"")},a.setProperty=function(e,t,n){o.call(this,e,t+"",n)}}function u(e,t){return e<t?-1:t<e?1:t<=e?0:NaN}function l(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function e(a){return{left:function(e,t,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var r=n+i>>>1;a(e[r],t)<0?n=1+r:i=r}return n},right:function(e,t,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var r=n+i>>>1;0<a(e[r],t)?i=r:n=1+r}return n}}}I.ascending=u,I.descending=function(e,t){return t<e?-1:e<t?1:e<=t?0:NaN},I.min=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&i<n&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i<=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&i<n&&(n=i)}return n},I.max=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&n<i&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i<=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&n<i&&(n=i)}return n},I.extent=function(e,t){var n,i,r,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=e[a])&&i<=i){n=r=i;break}for(;++a<o;)null!=(i=e[a])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++a<o;)if(null!=(i=t.call(e,e[a],a))&&i<=i){n=r=i;break}for(;++a<o;)null!=(i=t.call(e,e[a],a))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},I.sum=function(e,t){var n,i=0,r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)c(n=+e[a])&&(i+=n);else for(;++a<r;)c(n=+t.call(e,e[a],a))&&(i+=n);return i},I.mean=function(e,t){var n,i=0,r=e.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)c(n=l(e[a]))?i+=n:--o;else for(;++a<r;)c(n=l(t.call(e,e[a],a)))?i+=n:--o;if(o)return i/o},I.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),t=+e[i-1],n=n-i;return n?t+n*(e[i]-t):t},I.median=function(e,t){var n,i=[],r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)c(n=l(e[a]))&&i.push(n);else for(;++a<r;)c(n=l(t.call(e,e[a],a)))&&i.push(n);if(i.length)return I.quantile(i.sort(u),.5)},I.variance=function(e,t){var n,i,r=e.length,a=0,o=0,s=-1,u=0;if(1===arguments.length)for(;++s<r;)c(n=l(e[s]))&&(o+=(i=n-a)*(n-(a+=i/++u)));else for(;++s<r;)c(n=l(t.call(e,e[s],s)))&&(o+=(i=n-a)*(n-(a+=i/++u)));if(1<u)return o/(u-1)},I.deviation=function(){var e=I.variance.apply(this,arguments);return e&&Math.sqrt(e)};var d=e(u);function p(e){return e.length}I.bisectLeft=d.left,I.bisect=I.bisectRight=d.right,I.bisector=function(n){return e(1===n.length?function(e,t){return u(n(e),t)}:n)},I.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var i,r,a=n-t;a;)r=Math.random()*a--|0,i=e[a+t],e[a+t]=e[r+t],e[r+t]=i;return e},I.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},I.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},I.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=I.min(e,p),i=new Array(n);++t<n;)for(var r,a=-1,o=i[t]=new Array(r);++a<r;)o[a]=e[a][t];return i},I.zip=function(){return I.transpose(arguments)},I.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},I.values=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},I.entries=function(e){var t,n=[];for(t in e)n.push({key:t,value:e[t]});return n},I.merge=function(e){for(var t,n,i,r=e.length,a=-1,o=0;++a<r;)o+=e[a].length;for(n=new Array(o);0<=--r;)for(t=(i=e[r]).length;0<=--t;)n[--o]=i[t];return n};var C=Math.abs;function m(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function y(){this._=Object.create(null)}I.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],a=function(e){var t=1;for(;e*t%1;)t*=10;return t}(C(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(i=e+n*++o)>t;)r.push(i/a);else for(;(i=e+n*++o)<t;)r.push(i/a);return r},I.map=function(e,t){var n=new y;if(e instanceof y)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,a=e.length;if(1===arguments.length)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t.call(e,i=e[r],r),i)}else for(var o in e)n.set(o,e[o]);return n};var f="__proto__",g="\0";function _(e){return(e+="")===f||e[0]===g?g+e:e}function v(e){return(e+="")[0]===g?e.slice(1):e}function M(e){return _(e)in this._}function b(e){return(e=_(e))in this._&&delete this._[e]}function A(){var e,t=[];for(e in this._)t.push(v(e));return t}function w(){var e,t=0;for(e in this._)++t;return t}function x(){for(var e in this._)return!1;return!0}function E(){this._=Object.create(null)}function N(e){return e}function L(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=T.length;n<i;++n){var r=T[n]+t;if(r in e)return r}}m(y,{has:M,get:function(e){return this._[_(e)]},set:function(e,t){return this._[_(e)]=t},remove:b,keys:A,values:function(){var e,t=[];for(e in this._)t.push(this._[e]);return t},entries:function(){var e,t=[];for(e in this._)t.push({key:v(e),value:this._[e]});return t},size:w,empty:x,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}}),I.nest=function(){var d,h,p={},m=[],t=[];function f(n,e,i){if(i>=m.length)return h?h.call(p,e):d?e.sort(d):e;for(var t,r,a,o,s=-1,u=e.length,l=m[i++],c=new y;++s<u;)(o=c.get(t=l(r=e[s])))?o.push(r):c.set(t,[r]);return a=n?(r=n(),function(e,t){r.set(e,f(n,t,i))}):(r={},function(e,t){r[e]=f(n,t,i)}),c.forEach(a),r}return p.map=function(e,t){return f(t,e,0)},p.entries=function(e){return function n(e,i){if(i>=m.length)return e;var r=[],a=t[i++];return e.forEach(function(e,t){r.push({key:e,values:n(t,i)})}),a?r.sort(function(e,t){return a(e.key,t.key)}):r}(f(I.map,e,0),0)},p.key=function(e){return m.push(e),p},p.sortKeys=function(e){return t[m.length-1]=e,p},p.sortValues=function(e){return d=e,p},p.rollup=function(e){return h=e,p},p},I.set=function(e){var t=new E;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},m(E,{has:M,add:function(e){return this._[_(e+="")]=!0,e},remove:b,values:A,size:w,empty:x,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),I.behavior={},I.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=function(t,n,i){return function(){var e=i.apply(n,arguments);return e===n?t:e}}(e,t,t[n]);return e};var T=["webkit","ms","moz","Moz","o","O"];function D(){}function S(){}function k(r){var a=[],i=new y;function e(){for(var e,t=a,n=-1,i=t.length;++n<i;)(e=t[n].on)&&e.apply(this,arguments);return r}return e.on=function(e,t){var n=i.get(e);return arguments.length<2?n&&n.on:(n&&(n.on=null,a=a.slice(0,n=a.indexOf(n)).concat(a.slice(n+1)),i.remove(e)),t&&a.push(i.set(e,{on:t})),r)},e}function z(){I.event.preventDefault()}function R(){for(var e,t=I.event;e=t.sourceEvent;)t=e;return t}function P(r){for(var a=new S,e=0,t=arguments.length;++e<t;)a[arguments[e]]=k(a);return a.of=function(n,i){return function(e){try{var t=e.sourceEvent=I.event;e.target=r,I.event=e,a[e.type].apply(n,i)}finally{I.event=t}}},a}I.dispatch=function(){for(var e=new S,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=k(e);return e},S.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(0<=n&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},I.event=null,I.requote=function(e){return e.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,B={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function U(e){return B(e,V),e}var H=function(e,t){return t.querySelector(e)},F=function(e,t){return t.querySelectorAll(e)},G=function(e,t){var n=e.matches||e[L(e,"matchesSelector")];return(G=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(H=function(e,t){return Sizzle(e,t)[0]||null},G=(F=Sizzle).matchesSelector),I.selection=function(){return I.select(j.documentElement)};var V=I.selection.prototype=[];function W(e){return"function"==typeof e?e:function(){return H(e,this)}}function Q(e){return"function"==typeof e?e:function(){return F(e,this)}}V.select=function(e){var t,n,i,r,a=[];e=W(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(i=this[o]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(t.push(n=e.call(r,r.__data__,u,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return U(a)},V.selectAll=function(e){var t,n,i=[];e=Q(e);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,u=o.length;++s<u;)(n=o[s])&&(i.push(t=h(e.call(n,n.__data__,s,r))),t.parentNode=n);return U(i)};var q="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(t,n){return t=I.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function J(e){return e.trim().replace(/\s+/g," ")}function K(e){return new RegExp("(?:^|\\s+)"+I.requote(e)+"(?:\\s+|$)","g")}function $(e){return(e+"").trim().split(/^|\s+/)}function ee(n,i){var r=(n=$(n).map(te)).length;return"function"==typeof i?function(){for(var e=-1,t=i.apply(this,arguments);++e<r;)n[e](this,t)}:function(){for(var e=-1;++e<r;)n[e](this,i)}}function te(i){var r=K(i);return function(e,t){if(n=e.classList)return t?n.add(i):n.remove(i);var n=e.getAttribute("class")||"";t?(r.lastIndex=0,r.test(n)||e.setAttribute("class",J(n+" "+i))):e.setAttribute("class",J(n.replace(r," ")))}}function ne(t,n,i){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,i)}:function(){this.style.setProperty(t,n,i)}}function ie(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function re(n){return"function"==typeof n?n:(n=I.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var e=this.ownerDocument,t=this.namespaceURI;return t===q&&e.documentElement.namespaceURI===q?e.createElement(n):e.createElementNS(t,n)}}function ae(){var e=this.parentNode;e&&e.removeChild(this)}function oe(e){return{__data__:e}}function se(e){return function(){return G(this,e)}}function ue(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,a=e[n],o=0,s=a.length;o<s;o++)(r=a[o])&&t(r,o,n);return e}function le(e){return B(e,ce),e}I.ns={prefix:Z,qualify:function(e){var t=e.indexOf(":"),n=e;return 0<=t&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Z.hasOwnProperty(n)?{space:Z[n],local:e}:e}},V.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=I.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(X(t,e[t]));return this}return this.each(X(e,t))},V.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=$(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!K(e[r]).test(t))return!1;return!0}for(t in e)this.each(ee(t,e[t]));return this}return this.each(ee(e,t))},V.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(ne(n,e[n],t));return this}if(i<2){i=this.node();return O(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(ne(e,t,n))},V.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ie(t,e[t]));return this}return this.each(ie(e,t))},V.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},V.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},V.append=function(e){return e=re(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},V.insert=function(e,t){return e=re(e),t=W(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},V.remove=function(){return this.each(ae)},V.data=function(e,m){var t,n,i=-1,r=this.length;if(!arguments.length){for(e=new Array(r=(t=this[0]).length);++i<r;)(n=t[i])&&(e[i]=n.__data__);return e}function a(e,t){var n,i,r=e.length,a=t.length,o=Math.min(r,a),s=new Array(a),u=new Array(a),l=new Array(r);if(m){for(var c,d=new y,h=new Array(r),p=-1;++p<r;)(n=e[p])&&(d.has(c=m.call(n,n.__data__,p))?l[p]=n:d.set(c,n),h[p]=c);for(p=-1;++p<a;)(n=d.get(c=m.call(t,i=t[p],p)))?!0!==n&&((s[p]=n).__data__=i):u[p]=oe(i),d.set(c,!0);for(p=-1;++p<r;)p in h&&!0!==d.get(h[p])&&(l[p]=e[p])}else{for(p=-1;++p<o;)n=e[p],i=t[p],n?(n.__data__=i,s[p]=n):u[p]=oe(i);for(;p<a;++p)u[p]=oe(t[p]);for(;p<r;++p)l[p]=e[p]}u.update=s,u.parentNode=s.parentNode=l.parentNode=e.parentNode,f.push(u),g.push(s),_.push(l)}var f=le([]),g=U([]),_=U([]);if("function"==typeof e)for(;++i<r;)a(t=this[i],e.call(t,t.parentNode.__data__,i));else for(;++i<r;)a(t=this[i],e);return g.enter=function(){return f},g.exit=function(){return _},g},V.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},V.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=se(e));for(var a=0,o=this.length;a<o;a++){r.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&e.call(i,i.__data__,s,a)&&t.push(i)}return U(r)},V.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,a=i[r];0<=--r;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},V.sort=function(e){e=function(n){arguments.length||(n=u);return function(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},V.each=function(i){return ue(this,function(e,t,n){i.call(e,e.__data__,t,n)})},V.call=function(e){var t=h(arguments);return e.apply(t[0]=this,t),this},V.empty=function(){return!this.node()},V.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},V.size=function(){var e=0;return ue(this,function(){++e}),e};var ce=[];function de(r,t,n){var i="__on"+r,e=r.indexOf("."),a=pe;0<e&&(r=r.slice(0,e));var o=he.get(r);function s(){var e=this[i];e&&(this.removeEventListener(r,e,e.$),delete this[i])}return o&&(r=o,a=me),e?t?function(){var e=a(t,h(arguments));s.call(this),this.addEventListener(r,this[i]=e,e.$=n),e._=t}:s:t?D:function(){var e,t,n,i=new RegExp("^__on([^.]+)"+I.requote(r)+"$");for(t in this)(e=t.match(i))&&(n=this[t],this.removeEventListener(e[1],n,n.$),delete this[t])}}I.selection.enter=le,(I.selection.enter.prototype=ce).append=V.append,ce.empty=V.empty,ce.node=V.node,ce.call=V.call,ce.size=V.size,ce.select=function(e){for(var t,n,i,r,a,o=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,o.push(t=[]),t.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(a=r[l])?(t.push(i[l]=n=e.call(r.parentNode,a.__data__,l,s)),n.__data__=a.__data__):t.push(null)}return U(o)},ce.insert=function(e,t){var o,s,u;return arguments.length<2&&(o=this,t=function(e,t,n){var i,r=o[n].update,a=r.length;for(n!=u&&(u=n,s=0),s<=t&&(s=t+1);!(i=r[s])&&++s<a;);return i}),V.insert.call(this,e,t)},I.select=function(e){var t;return"string"==typeof e?(t=[H(e,j)]).parentNode=j.documentElement:(t=[e]).parentNode=s(e),U([t])},I.selectAll=function(e){var t;return"string"==typeof e?(t=h(F(e,j))).parentNode=j.documentElement:(t=h(e)).parentNode=null,U([t])},V.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(de(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(de(e,t,n))};var he=I.map({mouseenter:"mouseover",mouseleave:"mouseout"});function pe(n,i){return function(e){var t=I.event;I.event=e,i[0]=this.__data__;try{n.apply(this,i)}finally{I.event=t}}}function me(e,t){var n=pe(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}j&&he.forEach(function(e){"on"+e in j&&he.remove(e)});var fe,ge=0;function _e(e){var n,i,r=".dragsuppress-"+ ++ge,a="click"+r,o=I.select(O(e)).on("touchmove"+r,z).on("dragstart"+r,z).on("selectstart"+r,z);return null==fe&&(fe=!("onselectstart"in e)&&L(e.style,"userSelect")),fe&&(n=s(e).style,i=n[fe],n[fe]="none"),function(e){var t;o.on(r,null),fe&&(n[fe]=i),e&&(t=function(){o.on(a,null)},o.on(a,function(){z(),t()},!0),setTimeout(t,0))}}I.mouse=function(e){return ve(e,R())};var ye=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ve(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i,r=n.createSVGPoint();return ye<0&&(((i=O(e)).scrollX||i.scrollY)&&(i=(n=I.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM(),ye=!(i.f||i.e),n.remove())),ye?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Me(){return I.event.changedTouches[0].identifier}I.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=R().changedTouches),t)for(var i,r=0,a=t.length;r<a;++r)if((i=t[r]).identifier===n)return ve(e,i)},I.behavior.drag=function(){var f=P(n,"drag","dragstart","dragend"),g=null,e=i(D,I.mouse,O,"mousemove","mouseup"),t=i(Me,I.touch,N,"touchmove","touchend");function n(){this.on("mousedown.drag",e).on("touchstart.drag",t)}function i(c,d,h,p,m){return function(){var i,e=I.event.target.correspondingElement||I.event.target,r=this.parentNode,a=f.of(this,arguments),o=0,s=c(),t=".drag"+(null==s?"":"-"+s),n=I.select(h(e)).on(p+t,function(){var e,t,n=d(r,s);if(!n)return;e=n[0]-l[0],t=n[1]-l[1],o|=e|t,a({type:"drag",x:(l=n)[0]+i[0],y:n[1]+i[1],dx:e,dy:t})}).on(m+t,function(){if(!d(r,s))return;n.on(p+t,null).on(m+t,null),u(o),a({type:"dragend"})}),u=_e(e),l=d(r,s);i=g?[(i=g.apply(this,arguments)).x-l[0],i.y-l[1]]:[0,0],a({type:"dragstart"})}}return n.origin=function(e){return arguments.length?(g=e,n):g},I.rebind(n,f,"on")},I.touches=function(n,e){return arguments.length<2&&(e=R().touches),e?h(e).map(function(e){var t=ve(n,e);return t.identifier=e.identifier,t}):[]};var be=1e-6,Ae=be*be,we=Math.PI,xe=2*we,Ee=xe-be,Le=we/2,Te=we/180,De=180/we;function Se(e){return 0<e?1:e<0?-1:0}function Ne(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ce(e){return 1<e?0:e<-1?we:Math.acos(e)}function ke(e){return 1<e?Le:e<-1?-Le:Math.asin(e)}function Ie(e){return((e=Math.exp(e))+1/e)/2}function je(e){return(e=Math.sin(e/2))*e}var Oe=Math.SQRT2;I.interpolateZoom=function(e,t){var i,r,a,n,o=e[0],s=e[1],u=e[2],l=t[0],e=t[1],t=t[2],c=l-o,d=e-s,l=c*c+d*d;return(n=l<Ae?(a=Math.log(t/u)/Oe,function(e){return[o+e*c,s+e*d,u*Math.exp(Oe*e*a)]}):(i=Math.sqrt(l),e=(t*t-u*u+4*l)/(2*u*2*i),n=(t*t-u*u-4*l)/(2*t*2*i),r=Math.log(Math.sqrt(e*e+1)-e),a=(Math.log(Math.sqrt(n*n+1)-n)-r)/Oe,function(e){var t=e*a,n=Ie(r),e=u/(2*i)*(n*(e=Oe*t+r,((e=Math.exp(2*e))-1)/(e+1))-(e=r,((e=Math.exp(e))-1/e)/2));return[o+e*c,s+e*d,u*n/Ie(Oe*t+r)]})).duration=1e3*a,n},I.behavior.zoom=function(){var t,s,n,i,y,r,a,o,u,v={x:0,y:0,k:1},l=[960,500],c=Pe,d=250,h=0,M="mousedown.zoom",p="mousemove.zoom",m="mouseup.zoom",b="touchstart.zoom",A=P(f,"zoomstart","zoom","zoomend");function f(e){e.on(M,N).on(Re+".zoom",_).on("dblclick.zoom",k).on(b,C)}function w(e){return[(e[0]-v.x)/v.k,(e[1]-v.y)/v.k]}function x(e){v.k=Math.max(c[0],Math.min(c[1],e))}function E(e,t){var n;t=[(n=t)[0]*v.k+v.x,n[1]*v.k+v.y],v.x+=e[0]-t[0],v.y+=e[1]-t[1]}function L(e,t,n,i){e.__chart__={x:v.x,y:v.y,k:v.k},x(Math.pow(2,i)),E(s=t,n),e=I.select(e),0<d&&(e=e.transition().duration(d)),e.call(f.event)}function g(){a&&a.domain(r.range().map(function(e){return(e-v.x)/v.k}).map(r.invert)),u&&u.domain(o.range().map(function(e){return(e-v.y)/v.k}).map(o.invert))}function T(e){h++||e({type:"zoomstart"})}function D(e){g(),e({type:"zoom",scale:v.k,translate:[v.x,v.y]})}function S(e){--h||(e({type:"zoomend"}),s=null)}function N(){var e=this,t=A.of(e,arguments),n=0,i=I.select(O(e)).on(p,function(){n=1,E(I.mouse(e),r),D(t)}).on(m,function(){i.on(p,null).on(m,null),a(n),S(t)}),r=w(I.mouse(e)),a=_e(e);Es.call(e),T(t)}function C(){var u,l=this,c=A.of(l,arguments),d={},h=0,r=".zoom-"+I.event.changedTouches[0].identifier,o="touchmove"+r,s="touchend"+r,p=[],a=I.select(l),m=_e(l);function f(){var e=I.touches(l);return u=v.k,e.forEach(function(e){e.identifier in d&&(d[e.identifier]=w(e))}),e}function e(){var e=I.event.target;I.select(e).on(o,g).on(s,_),p.push(e);for(var t=I.event.changedTouches,n=0,i=t.length;n<i;++n)d[t[n].identifier]=null;var r,a=f(),e=Date.now();1===a.length?(e-y<500&&(r=a[0],L(l,r,d[r.identifier],Math.floor(Math.log(v.k)/Math.LN2)+1),z()),y=e):1<a.length&&(r=a[0],e=a[1],a=r[0]-e[0],e=r[1]-e[1],h=a*a+e*e)}function g(){var e,t,n=I.touches(l);Es.call(l);for(var i,r,a,o=0,s=n.length;o<s;++o,t=null)if(e=n[o],t=d[e.identifier]){if(a)break;r=e,a=t}t&&(i=(i=e[0]-r[0])*i+(i=e[1]-r[1])*i,i=h&&Math.sqrt(i/h),r=[(r[0]+e[0])/2,(r[1]+e[1])/2],a=[(a[0]+t[0])/2,(a[1]+t[1])/2],x(i*u)),y=null,E(r,a),D(c)}function _(){if(I.event.touches.length){for(var e,t=I.event.changedTouches,n=0,i=t.length;n<i;++n)delete d[t[n].identifier];for(e in d)return void f()}I.selectAll(p).on(r,null),a.on(M,N).on(b,C),m(),S(c)}e(),T(c),a.on(M,null).on(b,e)}function _(){var e=A.of(this,arguments);i?clearTimeout(i):(Es.call(this),t=w(s=n||I.mouse(this)),T(e)),i=setTimeout(function(){i=null,S(e)},50),z(),x(Math.pow(2,.002*ze())*v.k),E(s,t),D(e)}function k(){var e=I.mouse(this),t=Math.log(v.k)/Math.LN2;L(this,e,w(e),I.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return Re=Re||("onwheel"in j?(ze=function(){return-I.event.deltaY*(I.event.deltaMode?120:1)},"wheel"):"onmousewheel"in j?(ze=function(){return I.event.wheelDelta},"mousewheel"):(ze=function(){return-I.event.detail},"MozMousePixelScroll")),f.event=function(e){e.each(function(){var o=A.of(this,arguments),t=v;Ds?I.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1},T(o)}).tween("zoom:zoom",function(){var n=l[0],e=l[1],i=s?s[0]:n/2,r=s?s[1]:e/2,a=I.interpolateZoom([(i-v.x)/v.k,(r-v.y)/v.k,n/v.k],[(i-t.x)/t.k,(r-t.y)/t.k,n/t.k]);return function(e){var t=a(e),e=n/t[2];this.__chart__=v={x:i-t[0]*e,y:r-t[1]*e,k:e},D(o)}}).each("interrupt.zoom",function(){S(o)}).each("end.zoom",function(){S(o)}):(this.__chart__=v,T(o),D(o),S(o))})},f.translate=function(e){return arguments.length?(v={x:+e[0],y:+e[1],k:v.k},g(),f):[v.x,v.y]},f.scale=function(e){return arguments.length?(v={x:v.x,y:v.y,k:null},x(+e),g(),f):v.k},f.scaleExtent=function(e){return arguments.length?(c=null==e?Pe:[+e[0],+e[1]],f):c},f.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],f):n},f.size=function(e){return arguments.length?(l=e&&[+e[0],+e[1]],f):l},f.duration=function(e){return arguments.length?(d=+e,f):d},f.x=function(e){return arguments.length?(r=(a=e).copy(),v={x:0,y:0,k:1},f):a},f.y=function(e){return arguments.length?(o=(u=e).copy(),v={x:0,y:0,k:1},f):u},I.rebind(f,A,"on")};var ze,Re,Pe=[0,1/0];function Ye(){}function Be(e,t,n){return this instanceof Be?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Be?new Be(e.h,e.s,e.l):rt(""+e,at,Be):new Be(e,t,n)}function Ue(e,t,n){var i,r;function a(e){return Math.round(255*(360<(e=e)?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:1<t?1:t,i=2*(n=n<0?0:1<n?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new et(a(e+120),a(e),a(e-120))}function He(e,t,n){return this instanceof He?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof He?new He(e.h,e.c,e.l):Xe((e instanceof Ge?e:e=ot((e=I.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new He(e,t,n)}function Fe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Ge(n,Math.cos(e*=Te)*t,Math.sin(e)*t)}function Ge(e,t,n){return this instanceof Ge?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Ge?new Ge(e.l,e.a,e.b):e instanceof He?Fe(e.h,e.c,e.l):ot((e=et(e)).r,e.g,e.b):new Ge(e,t,n)}(I.color=Ye).prototype.toString=function(){return this.rgb()+""},(t=(I.hsl=Be).prototype=new Ye).brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Be(this.h,this.s,this.l/e)},t.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Be(this.h,this.s,e*this.l)},t.rgb=function(){return Ue(this.h,this.s,this.l)},(a=(I.hcl=He).prototype=new Ye).brighter=function(e){return new He(this.h,this.c,Math.min(100,this.l+Ve*(arguments.length?e:1)))},a.darker=function(e){return new He(this.h,this.c,Math.max(0,this.l-Ve*(arguments.length?e:1)))},a.rgb=function(){return Fe(this.h,this.c,this.l).rgb()},I.lab=Ge;var Ve=18,We=.95047,Qe=1,qe=1.08883;function Ze(e,t,n){e=(e+16)/116,t=e+t/500,n=e-n/200;return new et($e(3.2404542*(t=Je(t)*We)-1.5371385*(e=Je(e)*Qe)-.4985314*(n=Je(n)*qe)),$e(-.969266*t+1.8760108*e+.041556*n),$e(.0556434*t-.2040259*e+1.0572252*n))}function Xe(e,t,n){return 0<e?new He(Math.atan2(n,t)*De,Math.sqrt(t*t+n*n),e):new He(NaN,NaN,e)}function Je(e){return.206893034<e?e*e*e:(e-4/29)/7.787037}function Ke(e){return.008856<e?Math.pow(e,1/3):7.787037*e+4/29}function $e(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function et(e,t,n){return this instanceof et?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof et?new et(e.r,e.g,e.b):rt(""+e,et,Ue):new et(e,t,n)}function tt(e){return new et(e>>16,e>>8&255,255&e)}function nt(e){return tt(e)+""}function it(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function rt(e,t,n){var i,r=0,a=0,o=0,s=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase());if(s)switch(i=s[2].split(","),s[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(ut(i[0]),ut(i[1]),ut(i[2]))}return(s=lt.get(e))?t(s.r,s.g,s.b):(null==e||"#"!==e.charAt(0)||isNaN(s=parseInt(e.slice(1),16))||(4===e.length?(r=(3840&s)>>4,r|=r>>4,a=240&s,a|=a>>4,o=15&s,o|=o<<4):7===e.length&&(r=(16711680&s)>>16,a=(65280&s)>>8,o=255&s)),t(r,a,o))}function at(e,t,n){var i,r,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,u=(o+a)/2;return s?(r=u<.5?s/(o+a):s/(2-o-a),i=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=0<u&&u<1?0:i),new Be(i,r,u)}function ot(e,t,n){var i=Ke((.4124564*(e=st(e))+.3575761*(t=st(t))+.1804375*(n=st(n)))/We),r=Ke((.2126729*e+.7151522*t+.072175*n)/Qe);return Ge(116*r-16,500*(i-r),200*(r-Ke((.0193339*e+.119192*t+.9503041*n)/qe)))}function st(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ut(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}(d=Ge.prototype=new Ye).brighter=function(e){return new Ge(Math.min(100,this.l+Ve*(arguments.length?e:1)),this.a,this.b)},d.darker=function(e){return new Ge(Math.max(0,this.l-Ve*(arguments.length?e:1)),this.a,this.b)},d.rgb=function(){return Ze(this.l,this.a,this.b)},(t=(I.rgb=et).prototype=new Ye).brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b;return t||n||i?(t&&t<30&&(t=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new et(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new et(30,30,30)},t.darker=function(e){return new et((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},t.hsl=function(){return at(this.r,this.g,this.b)},t.toString=function(){return"#"+it(this.r)+it(this.g)+it(this.b)};var lt=I.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ct(e){return"function"==typeof e?e:function(){return e}}function dt(i){return function(e,t,n){return 2===arguments.length&&"function"==typeof t&&(n=t,t=null),ht(e,t,i,n)}}function ht(r,a,o,e){var n,s={},u=I.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,d=null;function t(){var e,t,n,i=c.status;if(!i&&((n=(t=c).responseType)&&"text"!==n?t.response:t.responseText)||200<=i&&i<300||304===i){try{e=o.call(s,c)}catch(e){return void u.error.call(s,e)}u.load.call(s,e)}else u.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(r)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=t:c.onreadystatechange=function(){3<c.readyState&&t()},c.onprogress=function(e){var t=I.event;I.event=e;try{u.progress.call(s,c)}finally{I.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(a=null==e?null:e+"",s):a},s.responseType=function(e){return arguments.length?(d=e,s):d},s.response=function(e){return o=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(h(arguments)))}}),s.send=function(e,t,n){if(2===arguments.length&&"function"==typeof t&&(n=t,t=null),c.open(e,r,!0),null==a||"accept"in l||(l.accept=a+",*/*"),c.setRequestHeader)for(var i in l)c.setRequestHeader(i,l[i]);return null!=a&&c.overrideMimeType&&c.overrideMimeType(a),null!=d&&(c.responseType=d),null!=n&&s.on("error",n).on("load",function(e){n(null,e)}),u.beforesend.call(s,c),c.send(null==t?null:t),s},s.abort=function(){return c.abort(),s},I.rebind(s,u,"on"),null==e?s:s.get(1===(n=e).length?function(e,t){n(null==e?t:null)}:n)}lt.forEach(function(e,t){lt.set(e,tt(t))}),I.functor=ct,I.xhr=dt(N),I.dsv=function(r,a){var t=new RegExp('["'+r+"\n]"),h=r.charCodeAt(0);function o(e,t,n){arguments.length<3&&(n=t,t=null);var i=ht(e,a,null==t?s:u(t),n);return i.row=function(e){return arguments.length?i.response(null==(t=e)?s:u(e)):t},i}function s(e){return o.parse(e.responseText)}function u(t){return function(e){return o.parse(e.responseText,t)}}function n(e){return e.map(l).join(r)}function l(e){return t.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return o.parse=function(e,i){var r;return o.parseRows(e,function(e,t){if(r)return r(e,t-1);var n=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=i?function(e,t){return i(n(e),t)}:n})},o.parseRows=function(r,e){var t,a,o={},s={},n=[],u=r.length,l=0,i=0;function c(){if(u<=l)return s;if(a)return a=!1,o;var e=l;if(34===r.charCodeAt(e)){for(var t=e;t++<u;)if(34===r.charCodeAt(t)){if(34!==r.charCodeAt(t+1))break;++t}return l=t+2,13===(n=r.charCodeAt(t+1))?(a=!0,10===r.charCodeAt(t+2)&&++l):10===n&&(a=!0),r.slice(e+1,t).replace(/""/g,'"')}for(;l<u;){var n,i=1;if(10===(n=r.charCodeAt(l++)))a=!0;else if(13===n)a=!0,10===r.charCodeAt(l)&&(++l,++i);else if(n!==h)continue;return r.slice(e,l-i)}return r.slice(e)}for(;(t=c())!==s;){for(var d=[];t!==o&&t!==s;)d.push(t),t=c();e&&null==(d=e(d,i++))||n.push(d)}return n},o.format=function(e){if(Array.isArray(e[0]))return o.formatRows(e);var n=new E,i=[];return e.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(l).join(r)].concat(e.map(function(t){return i.map(function(e){return l(t[e])}).join(r)})).join("\n")},o.formatRows=function(e){return e.map(n).join("\n")},o},I.csv=I.dsv(",","text/csv"),I.tsv=I.dsv("\t","text/tab-separated-values");var pt,mt,ft,gt,_t=this[L(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function yt(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());i={c:e,t:n+t,n:null};return mt?mt.n=i:pt=i,mt=i,ft||(gt=clearTimeout(gt),ft=1,_t(vt)),i}function vt(){var e=Mt(),e=bt()-e;24<e?(isFinite(e)&&(clearTimeout(gt),gt=setTimeout(vt,e)),ft=0):(ft=1,_t(vt))}function Mt(){for(var e=Date.now(),t=pt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function bt(){for(var e,t=pt,n=1/0;t;)t=t.c?(t.t<n&&(n=t.t),(e=t).n):e?e.n=t.n:pt=t.n;return mt=e,n}function At(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}I.timer=function(){yt.apply(this,arguments)},I.timer.flush=function(){Mt(),bt()},I.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var wt=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*C(8-t));return{scale:8<t?function(e){return e/n}:function(e){return e*n},symbol:e}});I.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=I.round(e,At(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),wt[8+n/3]};var xt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Et=I.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=I.round(e,At(e,t))).toFixed(Math.max(0,Math.min(20,At(e*(1+1e-15),t))))}});function Lt(e){return e+""}var Tt=I.time={},Dt=Date;function St(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}St.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Nt.setUTCDate.apply(this._,arguments)},setDay:function(){Nt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Nt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Nt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Nt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Nt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Nt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Nt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Nt.setTime.apply(this._,arguments)}};var Nt=Date.prototype;function Ct(i,a,o){function e(e){var t=i(e),n=r(t,1);return e-t<n-e?t:n}function s(e){return a(e=i(new Dt(e-1)),1),e}function r(e,t){return a(e=new Dt(+e),t),e}function u(e,t,n){var i=s(e),r=[];if(1<n)for(;i<t;)o(i)%n||r.push(new Date(+i)),a(i,1);else for(;i<t;)r.push(new Date(+i)),a(i,1);return r}(i.floor=i).round=e,i.ceil=s,i.offset=r,i.range=u;var t=i.utc=kt(i);return(t.floor=t).round=kt(e),t.ceil=kt(s),t.offset=kt(r),t.range=function(e,t,n){try{var i=new(Dt=St);return i._=e,u(i,t,n)}finally{Dt=Date}},i}function kt(i){return function(e,t){try{var n=new(Dt=St);return n._=e,i(n,t)._}finally{Dt=Date}}}function It(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths;function l(s){var u=s.length;function e(e){for(var t,n,i,r=[],a=-1,o=0;++a<u;)37===s.charCodeAt(a)&&(r.push(s.slice(o,a)),null!=(n=jt[t=s.charAt(++a)])&&(t=s.charAt(++a)),(i=M[t])&&(t=i(e,null==n?"e"===t?" ":"0":n)),r.push(t),o=a+1);return r.push(s.slice(o,a)),r.join("")}return e.parse=function(e){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(t,s,e,0)!=e.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);var n=null!=t.Z&&Dt!==St,e=new(n?St:Dt);return"j"in t?e.setFullYear(t.y,0,t.j):"W"in t||"U"in t?("w"in t||(t.w="W"in t?1:0),e.setFullYear(t.y,0,1),e.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(e.getDay()+5)%7:t.w+7*t.U-(e.getDay()+6)%7)):e.setFullYear(t.y,t.m,t.d),e.setHours(t.H+(t.Z/100|0),t.M+t.Z%100,t.S,t.L),n?e._:e},e.toString=function(){return s},e}function c(e,t,n,i){for(var r,a,o=0,s=t.length,u=n.length;o<s;){if(u<=i)return-1;if(37===(r=t.charCodeAt(o++))){if(a=t.charAt(o++),!(a=b[a in jt?t.charAt(o++):a])||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}l.multi=(l.utc=function(e){var n=l(e);function t(e){try{var t=new(Dt=St);return t._=e,n(t)}finally{Dt=Date}}return t.parse=function(e){try{Dt=St;var t=n.parse(e);return t&&t._}finally{Dt=Date}},t.toString=n.toString,t}).multi=tn;var d=I.map(),h=Pt(a),p=Yt(a),m=Pt(o),f=Yt(o),g=Pt(s),_=Yt(s),y=Pt(u),v=Yt(u);r.forEach(function(e,t){d.set(e.toLowerCase(),t)});var M={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:l(t),d:function(e,t){return Rt(e.getDate(),t,2)},e:function(e,t){return Rt(e.getDate(),t,2)},H:function(e,t){return Rt(e.getHours(),t,2)},I:function(e,t){return Rt(e.getHours()%12||12,t,2)},j:function(e,t){return Rt(1+Tt.dayOfYear(e),t,3)},L:function(e,t){return Rt(e.getMilliseconds(),t,3)},m:function(e,t){return Rt(e.getMonth()+1,t,2)},M:function(e,t){return Rt(e.getMinutes(),t,2)},p:function(e){return r[+(12<=e.getHours())]},S:function(e,t){return Rt(e.getSeconds(),t,2)},U:function(e,t){return Rt(Tt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Rt(Tt.mondayOfYear(e),t,2)},x:l(n),X:l(i),y:function(e,t){return Rt(e.getFullYear()%100,t,2)},Y:function(e,t){return Rt(e.getFullYear()%1e4,t,4)},Z:$t,"%":function(){return"%"}},b={a:function(e,t,n){m.lastIndex=0;t=m.exec(t.slice(n));return t?(e.w=f.get(t[0].toLowerCase()),n+t[0].length):-1},A:function(e,t,n){h.lastIndex=0;t=h.exec(t.slice(n));return t?(e.w=p.get(t[0].toLowerCase()),n+t[0].length):-1},b:function(e,t,n){y.lastIndex=0;t=y.exec(t.slice(n));return t?(e.m=v.get(t[0].toLowerCase()),n+t[0].length):-1},B:function(e,t,n){g.lastIndex=0;t=g.exec(t.slice(n));return t?(e.m=_.get(t[0].toLowerCase()),n+t[0].length):-1},c:function(e,t,n){return c(e,M.c.toString(),t,n)},d:Qt,e:Qt,H:Zt,I:Zt,j:qt,L:Kt,m:Wt,M:Xt,p:function(e,t,n){t=d.get(t.slice(n,n+=2).toLowerCase());return null==t?-1:(e.p=t,n)},S:Jt,U:Ut,w:Bt,W:Ht,x:function(e,t,n){return c(e,M.x.toString(),t,n)},X:function(e,t,n){return c(e,M.X.toString(),t,n)},y:Gt,Y:Ft,Z:Vt,"%":en};return l}Tt.year=Ct(function(e){return(e=Tt.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Tt.years=Tt.year.range,Tt.years.utc=Tt.year.utc.range,Tt.day=Ct(function(e){var t=new Dt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Tt.days=Tt.day.range,Tt.days.utc=Tt.day.utc.range,Tt.dayOfYear=function(e){var t=Tt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,n){n=7-n;var t=Tt[e]=Ct(function(e){return(e=Tt.day(e)).setDate(e.getDate()-(e.getDay()+n)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var t=Tt.year(e).getDay();return Math.floor((Tt.dayOfYear(e)+(t+n)%7)/7)-(t!==n)});Tt[e+"s"]=t.range,Tt[e+"s"].utc=t.utc.range,Tt[e+"OfYear"]=function(e){var t=Tt.year(e).getDay();return Math.floor((Tt.dayOfYear(e)+(t+n)%7)/7)}}),Tt.week=Tt.sunday,Tt.weeks=Tt.sunday.range,Tt.weeks.utc=Tt.sunday.utc.range,Tt.weekOfYear=Tt.sundayOfYear;var jt={"-":"",_:" ",0:"0"},Ot=/^\s*\d+/,zt=/^%/;function Rt(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",e=r.length;return i+(e<n?new Array(n-e+1).join(t)+r:r)}function Pt(e){return new RegExp("^(?:"+e.map(I.requote).join("|")+")","i")}function Yt(e){for(var t=new y,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Bt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+1));return t?(e.w=+t[0],n+t[0].length):-1}function Ut(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n));return t?(e.U=+t[0],n+t[0].length):-1}function Ht(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n));return t?(e.W=+t[0],n+t[0].length):-1}function Ft(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+4));return t?(e.y=+t[0],n+t[0].length):-1}function Gt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+2));return t?(e.y=(e=+t[0])+(68<e?1900:2e3),n+t[0].length):-1}function Vt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Wt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+2));return t?(e.m=t[0]-1,n+t[0].length):-1}function Qt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+2));return t?(e.d=+t[0],n+t[0].length):-1}function qt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+3));return t?(e.j=+t[0],n+t[0].length):-1}function Zt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+2));return t?(e.H=+t[0],n+t[0].length):-1}function Xt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+2));return t?(e.M=+t[0],n+t[0].length):-1}function Jt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+2));return t?(e.S=+t[0],n+t[0].length):-1}function Kt(e,t,n){Ot.lastIndex=0;t=Ot.exec(t.slice(n,n+3));return t?(e.L=+t[0],n+t[0].length):-1}function $t(e){var t=e.getTimezoneOffset(),n=0<t?"-":"+",e=C(t)/60|0,t=C(t)%60;return n+Rt(e,"0",2)+Rt(t,"0",2)}function en(e,t,n){zt.lastIndex=0;t=zt.exec(t.slice(n,n+1));return t?n+t[0].length:-1}function tn(i){for(var e=i.length,t=-1;++t<e;)i[t][0]=this(i[t][0]);return function(e){for(var t=0,n=i[t];!n[1](e);)n=i[++t];return n[0](e)}}function nn(){}I.locale=function(e){return{numberFormat:(b=(t=e).decimal,s=t.thousands,u=t.grouping,n=t.currency,A=u&&s?function(e,t){for(var n=e.length,i=[],r=0,a=u[0],o=0;0<n&&0<a&&(t<o+a+1&&(a=Math.max(1,t-o)),i.push(e.substring(n-=a,n+a)),!((o+=a+1)>t));)a=u[r=(r+1)%u.length];return i.reverse().join(s)}:N,function(e){var e=xt.exec(e),s=e[1]||" ",u=e[2]||">",l=e[3]||"-",t=e[4]||"",c=e[5],d=+e[6],h=e[7],p=e[8],m=e[9],f=1,g="",_="",y=!1,v=!0,p=p&&+p.substring(1);switch((c||"0"===s&&"="===u)&&(c=s="0",u="="),m){case"n":h=!0,m="g";break;case"%":f=100,_="%",m="f";break;case"p":f=100,_="%",m="r";break;case"b":case"o":case"x":case"X":"#"===t&&(g="0"+m.toLowerCase());case"c":v=!1;case"d":y=!0,p=0;break;case"s":f=-1,m="r"}"$"===t&&(g=n[0],_=n[1]),"r"!=m||p||(m="g"),null!=p&&("g"==m?p=Math.max(1,Math.min(21,p)):"e"!=m&&"f"!=m||(p=Math.max(0,Math.min(20,p)))),m=Et.get(m)||Lt;var M=c&&h;return function(e){var t=_;if(y&&e%1)return"";var n=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;f<0?(e=(r=I.formatPrefix(e,p)).scale(e),t=r.symbol+_):e*=f;var i,r,a=(e=m(e,p)).lastIndexOf(".");r=a<0?(o=v?e.lastIndexOf("e"):-1)<0?(i=e,""):(i=e.substring(0,o),e.substring(o)):(i=e.substring(0,a),b+e.substring(a+1)),!c&&h&&(i=A(i,1/0));var o=g.length+i.length+r.length+(M?0:n.length),a=o<d?new Array(o=d-o+1).join(s):"";return M&&(i=A(a+i,a.length?d-r.length:1/0)),n+=g,e=i+r,("<"===u?n+e+a:">"===u?a+n+e:"^"===u?a.substring(0,o>>=1)+n+e+a.substring(o):n+(M?e:a+e))+t}}),timeFormat:It(e)};var t,b,s,u,n,A},a=I.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),I.format=a.numberFormat,I.geo={},nn.prototype={s:0,t:0,add:function(e){an(e,this.t,rn),an(rn.s,this.s,this),this.s?this.t+=rn.t:this.s=rn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var rn=new nn;function an(e,t,n){var i=n.s=e+t,r=i-e,i=i-r;n.t=e-i+(t-r)}function on(e,t){e&&un.hasOwnProperty(e.type)&&un[e.type](e,t)}I.geo.stream=function(e,t){e&&sn.hasOwnProperty(e.type)?sn[e.type](e,t):on(e,t)};var sn={Feature:function(e,t){on(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)on(n[i].geometry,t)}},un={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){ln(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)ln(n[i],t,0)},Polygon:function(e,t){cn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)cn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)on(n[i],t)}};function ln(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function cn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)ln(e[n],t,1);t.polygonEnd()}I.geo.area=function(e){return dn=0,I.geo.stream(e,zn),dn};var dn,hn,pn,mn,fn,gn,_n,yn,vn,Mn,bn,An,wn,xn,En,Ln,Tn,Dn,Sn,Nn,Cn,kn,In,jn,On=new nn,zn={sphere:function(){dn+=4*we},point:D,lineStart:D,lineEnd:D,polygonStart:function(){On.reset(),zn.lineStart=Rn},polygonEnd:function(){var e=2*On;dn+=e<0?4*we+e:e,zn.lineStart=zn.lineEnd=zn.point=D}};function Rn(){var n,i,s,u,l;function r(e,t){t=t*Te/2+we/4;var n=(e*=Te)-s,i=0<=n?1:-1,r=i*n,a=Math.cos(t),o=Math.sin(t),n=l*o,t=u*a+n*Math.cos(r),r=n*i*Math.sin(r);On.add(Math.atan2(r,t)),s=e,u=a,l=o}zn.point=function(e,t){zn.point=r,s=(n=e)*Te,u=Math.cos(t=(i=t)*Te/2+we/4),l=Math.sin(t)},zn.lineEnd=function(){r(n,i)}}function Pn(e){var t=e[0],n=e[1],e=Math.cos(n);return[e*Math.cos(t),e*Math.sin(t),Math.sin(n)]}function Yn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Bn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Un(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Hn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Fn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Gn(e){return[Math.atan2(e[1],e[0]),ke(e[2])]}function Vn(e,t){return C(e[0]-t[0])<be&&C(e[1]-t[1])<be}function Wn(e,t){bn.push(An=[hn=e,mn=e]),t<pn&&(pn=t),fn<t&&(fn=t)}function Qn(e,t){var n,i,r,a,o,s=Pn([e*Te,t*Te]);vn?(r=Bn(vn,s),Fn(n=Bn([r[1],-r[0],0],r)),n=Gn(n),i=0<(a=e-gn)?1:-1,r=n[0]*De*i,(a=180<C(a))^(i*gn<r&&r<i*e)?(o=n[1]*De,fn<o&&(fn=o)):a^(i*gn<(r=(r+360)%360-180)&&r<i*e)?(o=-n[1]*De)<pn&&(pn=o):(t<pn&&(pn=t),fn<t&&(fn=t)),a?e<gn?$n(hn,e)>$n(hn,mn)&&(mn=e):$n(e,mn)>$n(hn,mn)&&(hn=e):hn<=mn?(e<hn&&(hn=e),mn<e&&(mn=e)):gn<e?$n(hn,e)>$n(hn,mn)&&(mn=e):$n(e,mn)>$n(hn,mn)&&(hn=e)):Wn(e,t),vn=s,gn=e}function qn(){wn.point=Qn}function Zn(){An[0]=hn,An[1]=mn,wn.point=Wn,vn=null}function Xn(e,t){var n;vn?Mn+=180<C(n=e-gn)?n+(0<n?360:-360):n:(_n=e,yn=t),zn.point(e,t),Qn(e,t)}function Jn(){zn.lineStart()}function Kn(){Xn(_n,yn),zn.lineEnd(),C(Mn)>be&&(hn=-(mn=180)),An[0]=hn,An[1]=mn,vn=null}function $n(e,t){return(t-=e)<0?t+360:t}function ei(e,t){return e[0]-t[0]}function ti(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}I.geo.bounds=(wn={point:Wn,lineStart:qn,lineEnd:Zn,polygonStart:function(){wn.point=Xn,wn.lineStart=Jn,wn.lineEnd=Kn,Mn=0,zn.polygonStart()},polygonEnd:function(){zn.polygonEnd(),wn.point=Wn,wn.lineStart=qn,wn.lineEnd=Zn,On<0?(hn=-(mn=180),pn=-(fn=90)):be<Mn?fn=90:Mn<-be&&(pn=-90),An[0]=hn,An[1]=mn}},function(e){if(fn=mn=-(hn=pn=1/0),bn=[],I.geo.stream(e,wn),r=bn.length){bn.sort(ei);for(var t=1,n=[s=bn[0]];t<r;++t)ti((a=bn[t])[0],s)||ti(a[1],s)?($n(s[0],a[1])>$n(s[0],s[1])&&(s[1]=a[1]),$n(a[0],s[1])>$n(s[0],s[1])&&(s[0]=a[0])):n.push(s=a);for(var i,r,a,o=-1/0,t=0,s=n[r=n.length-1];t<=r;s=a,++t)a=n[t],(i=$n(s[1],a[0]))>o&&(o=i,hn=a[0],mn=s[1])}return bn=An=null,hn===1/0||pn===1/0?[[NaN,NaN],[NaN,NaN]]:[[hn,pn],[mn,fn]]}),I.geo.centroid=function(e){xn=En=Ln=Tn=Dn=Sn=Nn=Cn=kn=In=jn=0,I.geo.stream(e,ni);var t=kn,n=In,i=jn,e=t*t+n*n+i*i;return e<Ae&&(t=Sn,n=Nn,i=Cn,En<be&&(t=Ln,n=Tn,i=Dn),(e=t*t+n*n+i*i)<Ae)?[NaN,NaN]:[Math.atan2(n,t)*De,ke(i/Math.sqrt(e))*De]};var ni={sphere:D,point:ii,lineStart:ai,lineEnd:oi,polygonStart:function(){ni.lineStart=si},polygonEnd:function(){ni.lineStart=ai}};function ii(e,t){e*=Te;var n=Math.cos(t*=Te);ri(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function ri(e,t,n){Ln+=(e-Ln)/++xn,Tn+=(t-Tn)/xn,Dn+=(n-Dn)/xn}function ai(){var r,a,o;function i(e,t){e*=Te;var n=Math.cos(t*=Te),i=n*Math.cos(e),n=n*Math.sin(e),e=Math.sin(t),t=Math.atan2(Math.sqrt((t=a*e-o*n)*t+(t=o*i-r*e)*t+(t=r*n-a*i)*t),r*i+a*n+o*e);En+=t,Sn+=t*(r+(r=i)),Nn+=t*(a+(a=n)),Cn+=t*(o+(o=e)),ri(r,a,o)}ni.point=function(e,t){e*=Te;var n=Math.cos(t*=Te);r=n*Math.cos(e),a=n*Math.sin(e),o=Math.sin(t),ni.point=i,ri(r,a,o)}}function oi(){ni.point=ii}function si(){var i,r,l,c,d;function a(e,t){e*=Te;var n=Math.cos(t*=Te),i=n*Math.cos(e),r=n*Math.sin(e),a=Math.sin(t),o=c*a-d*r,s=d*i-l*a,u=l*r-c*i,n=Math.sqrt(o*o+s*s+u*u),e=l*i+c*r+d*a,t=n&&-Ce(e)/n,e=Math.atan2(n,e);kn+=t*o,In+=t*s,jn+=t*u,En+=e,Sn+=e*(l+(l=i)),Nn+=e*(c+(c=r)),Cn+=e*(d+(d=a)),ri(l,c,d)}ni.point=function(e,t){i=e,r=t,ni.point=a,e*=Te;var n=Math.cos(t*=Te);l=n*Math.cos(e),c=n*Math.sin(e),d=Math.sin(t),ri(l,c,d)},ni.lineEnd=function(){a(i,r),ni.lineEnd=oi,ni.point=ii}}function ui(n,i){function e(e,t){return e=n(e,t),i(e[0],e[1])}return n.invert&&i.invert&&(e.invert=function(e,t){return(e=i.invert(e,t))&&n.invert(e[0],e[1])}),e}function li(){return!0}function ci(e,t,n,i,s){var u=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(Vn(n,i)){s.lineStart();for(var r=0;r<t;++r)s.point((n=e[r])[0],n[1]);s.lineEnd()}else{var a=new hi(n,e,null,!0),o=new hi(n,null,a,!1);a.o=o,u.push(a),l.push(o),a=new hi(i,e,null,!1),o=new hi(i,null,a,!0),a.o=o,u.push(a),l.push(o)}}}),l.sort(t),di(u),di(l),u.length){for(var r=0,a=n,o=l.length;r<o;++r)l[r].e=a=!a;for(var c,d,h=u[0];;){for(var p=h,m=!0;p.v;)if((p=p.n)===h)return;c=p.z,s.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(r=0,o=c.length;r<o;++r)s.point((d=c[r])[0],d[1]);else i(p.x,p.n.x,1,s);p=p.n}else{if(m)for(r=(c=p.p.z).length-1;0<=r;--r)s.point((d=c[r])[0],d[1]);else i(p.x,p.p.x,-1,s);p=p.p}}while(c=(p=p.o).z,m=!m,!p.v);s.lineEnd()}}}function di(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function hi(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function pi(y,v,M,b){return function(i,o){var s,n=v(o),t=i.invert(b[0],b[1]),r={point:a,lineStart:u,lineEnd:l,polygonStart:function(){r.point=f,r.lineStart=g,r.lineEnd=_,s=[],c=[]},polygonEnd:function(){r.point=a,r.lineStart=u,r.lineEnd=l,s=I.merge(s);var e=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;On.reset();for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.length;if(c)for(var d=l[0],h=d[0],p=d[1]/2+we/4,m=Math.sin(p),f=Math.cos(p),g=1;;){g===c&&(g=0);var _=(e=l[g])[0],y=e[1]/2+we/4,v=Math.sin(y),M=Math.cos(y),b=_-h,A=0<=b?1:-1,w=A*b,x=we<w,y=m*v;if(On.add(Math.atan2(y*A*Math.sin(w),f*M+y*Math.cos(w))),a+=x?b+A*xe:b,x^n<=h^n<=_&&(Fn(w=Bn(Pn(d),Pn(e))),Fn(A=Bn(r,w)),((A=(x^0<=b?-1:1)*ke(A[2]))<i||i===A&&(w[0]||w[1]))&&(o+=x^0<=b?1:-1)),!g++)break;h=_,m=v,f=M,d=e}}return(a<-be||a<be&&On<-be)^1&o}(t,c);s.length?(m||(o.polygonStart(),m=!0),ci(s,gi,e,M,o)):e&&(m||(o.polygonStart(),m=!0),o.lineStart(),M(null,null,1,o),o.lineEnd()),m&&(o.polygonEnd(),m=!1),s=c=null},sphere:function(){o.polygonStart(),o.lineStart(),M(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function a(e,t){var n=i(e,t);y(e=n[0],t=n[1])&&o.point(e,t)}function e(e,t){t=i(e,t);n.point(t[0],t[1])}function u(){r.point=e,n.lineStart()}function l(){r.point=a,n.lineEnd()}var c,d,h=fi(),p=v(h),m=!1;function f(e,t){d.push([e,t]);t=i(e,t);p.point(t[0],t[1])}function g(){p.lineStart(),d=[]}function _(){f(d[0][0],d[0][1]),p.lineEnd();var e,t=p.clean(),n=h.buffer(),i=n.length;if(d.pop(),c.push(d),d=null,i)if(1&t){var r,a=-1;if(0<(i=(e=n[0]).length-1)){for(m||(o.polygonStart(),m=!0),o.lineStart();++a<i;)o.point((r=e[a])[0],r[1]);o.lineEnd()}}else 1<i&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(mi))}return r}}function mi(e){return 1<e.length}function fi(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(e,t){n.push([e,t])},lineEnd:D,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))}}}function gi(e,t){return((e=e.x)[0]<0?e[1]-Le-be:Le-e[1])-((t=t.x)[0]<0?t[1]-Le-be:Le-t[1])}var _i=pi(li,function(l){var c,d=NaN,h=NaN,p=NaN;return{lineStart:function(){l.lineStart(),c=1},point:function(e,t){var n,i,r,a,o,s=0<e?we:-we,u=C(e-d);C(u-we)<be?(l.point(d,h=0<(h+t)/2?Le:-Le),l.point(p,h),l.lineEnd(),l.lineStart(),l.point(s,h),l.point(e,h),c=0):p!==s&&we<=u&&(C(d-p)<be&&(d-=p*be),C(e-s)<be&&(e-=s*be),n=d,i=h,r=e,a=t,o=Math.sin(n-r),h=C(o)>be?Math.atan((Math.sin(i)*(u=Math.cos(a))*Math.sin(r)-Math.sin(a)*(r=Math.cos(i))*Math.sin(n))/(r*u*o)):(i+a)/2,l.point(p,h),l.lineEnd(),l.lineStart(),l.point(s,h),c=0),l.point(d=e,h=t),p=s},lineEnd:function(){l.lineEnd(),d=h=NaN},clean:function(){return 2-c}}},function(e,t,n,i){var r;null==e?(r=n*Le,i.point(-we,r),i.point(0,r),i.point(we,r),i.point(we,0),i.point(we,-r),i.point(0,-r),i.point(-we,-r),i.point(-we,0),i.point(-we,r)):C(e[0]-t[0])>be?(e=e[0]<t[0]?we:-we,r=n*e/2,i.point(-e,r),i.point(0,r),i.point(e,r)):i.point(t[0],t[1])},[-we,-we/2]);function yi(r){var p=Math.cos(r),h=0<p,m=C(p)>be;return pi(f,function(o){var s,u,l,c,d;return{lineStart:function(){c=l=!1,d=1},point:function(e,t){var n,i,r=[e,t],a=f(e,t),t=h?a?0:_(e,t):a?_(e+(e<0?we:-we),t):0;!s&&(c=l=a)&&o.lineStart(),a!==l&&(n=g(s,r),(Vn(s,n)||Vn(r,n))&&(r[0]+=be,r[1]+=be,a=f(r[0],r[1]))),a!==l?(d=0,a?(o.lineStart(),n=g(r,s),o.point(n[0],n[1])):(n=g(s,r),o.point(n[0],n[1]),o.lineEnd()),s=n):m&&s&&h^a&&(t&u||!(i=g(r,s,!0))||(d=0,h?(o.lineStart(),o.point(i[0][0],i[0][1]),o.point(i[1][0],i[1][1]),o.lineEnd()):(o.point(i[1][0],i[1][1]),o.lineEnd(),o.lineStart(),o.point(i[0][0],i[0][1])))),!a||s&&Vn(s,r)||o.point(r[0],r[1]),s=r,l=a,u=t},lineEnd:function(){l&&o.lineEnd(),s=null},clean:function(){return d|(c&&l)<<1}}},er(r,6*Te),h?[0,-r]:[-we,r-we]);function f(e,t){return Math.cos(e)*Math.cos(t)>p}function g(e,t,n){var i=[1,0,0],r=Bn(Pn(e),Pn(t)),a=Yn(r,r),o=r[0],s=a-o*o;if(!s)return!n&&e;var u=p*a/s,l=-p*o/s,c=Bn(i,r),d=Hn(i,u);Un(d,Hn(r,l));a=c,o=Yn(d,a),s=Yn(a,a),i=o*o-s*(Yn(d,d)-1);if(!(i<0)){u=Math.sqrt(i),r=Hn(a,(-o-u)/s);if(Un(r,d),r=Gn(r),!n)return r;var h,l=e[0],c=t[0],i=e[1],n=t[1];c<l&&(h=l,l=c,c=h);e=c-l,t=C(e-we)<be;if(!t&&n<i&&(h=i,i=n,n=h),t||e<be?t?0<i+n^r[1]<(C(r[0]-l)<be?i:n):i<=r[1]&&r[1]<=n:we<e^(l<=r[0]&&r[0]<=c)){s=Hn(a,(-o+u)/s);return Un(s,d),[r,Gn(s)]}}}function _(e,t){var n=h?r:we-r,i=0;return e<-n?i|=1:n<e&&(i|=2),t<-n?i|=4:n<t&&(i|=8),i}}function vi(u,l,c,d){return function(e){var t=e.a,n=e.b,i=t.x,r=t.y,a=0,o=1,s=n.x-i,t=n.y-r,n=u-i;if(s||!(0<n)){if(n/=s,s<0){if(n<a)return;n<o&&(o=n)}else if(0<s){if(o<n)return;a<n&&(a=n)}if(n=c-i,s||!(n<0)){if(n/=s,s<0){if(o<n)return;a<n&&(a=n)}else if(0<s){if(n<a)return;n<o&&(o=n)}if(n=l-r,t||!(0<n)){if(n/=t,t<0){if(n<a)return;n<o&&(o=n)}else if(0<t){if(o<n)return;a<n&&(a=n)}if(n=d-r,t||!(n<0)){if(n/=t,t<0){if(o<n)return;a<n&&(a=n)}else if(0<t){if(n<a)return;n<o&&(o=n)}return 0<a&&(e.a={x:i+a*s,y:r+a*t}),o<1&&(e.b={x:i+o*s,y:r+o*t}),e}}}}}}var Mi=1e9;function bi(M,b,A,w){return function(r){var i,c,a,o,s,u,l,d,h,p,m,f=r,e=fi(),g=vi(M,b,A,w),t={point:n,lineStart:function(){t.point=v,c&&c.push(a=[]);p=!0,h=!1,l=d=NaN},lineEnd:function(){i&&(v(o,s),u&&h&&e.rejoin(),i.push(e.buffer()));t.point=n,h&&r.lineEnd()},polygonStart:function(){r=e,i=[],c=[],m=!0},polygonEnd:function(){r=f,i=I.merge(i);var e=function(e){for(var t=0,n=c.length,i=e[1],r=0;r<n;++r)for(var a,o=1,s=c[r],u=s.length,l=s[0];o<u;++o)a=s[o],l[1]<=i?a[1]>i&&0<Ne(l,a,e)&&++t:a[1]<=i&&Ne(l,a,e)<0&&--t,l=a;return 0!==t}([M,w]),t=m&&e,n=i.length;(t||n)&&(r.polygonStart(),t&&(r.lineStart(),_(null,null,1,r),r.lineEnd()),n&&ci(i,E,e,_,r),r.polygonEnd()),i=c=a=null}};function _(e,t,n,i){var r=0,a=0;if(null==e||(r=x(e,n))!==(a=x(t,n))||L(e,t)<0^0<n)for(;i.point(0===r||3===r?M:A,1<r?w:b),(r=(r+n+4)%4)!==a;);else i.point(t[0],t[1])}function y(e,t){return M<=e&&e<=A&&b<=t&&t<=w}function n(e,t){y(e,t)&&r.point(e,t)}function v(e,t){var n,i=y(e=Math.max(-Mi,Math.min(Mi,e)),t=Math.max(-Mi,Math.min(Mi,t)));c&&a.push([e,t]),p?(o=e,s=t,p=!1,(u=i)&&(r.lineStart(),r.point(e,t))):i&&h?r.point(e,t):g(n={a:{x:l,y:d},b:{x:e,y:t}})?(h||(r.lineStart(),r.point(n.a.x,n.a.y)),r.point(n.b.x,n.b.y),i||r.lineEnd(),m=!1):i&&(r.lineStart(),r.point(e,t),m=!1),l=e,d=t,h=i}return t};function x(e,t){return C(e[0]-M)<be?0<t?0:3:C(e[0]-A)<be?0<t?2:1:C(e[1]-b)<be?0<t?1:0:0<t?3:2}function E(e,t){return L(e.x,t.x)}function L(e,t){var n=x(e,1),i=x(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function Ai(e){var t=0,n=we/3,i=Wi(e),e=i(t,n);return e.parallels=function(e){return arguments.length?i(t=e[0]*we/180,n=e[1]*we/180):[t/we*180,n/we*180]},e}function wi(e,t){var e=Math.sin(e),n=(e+Math.sin(t))/2,i=1+e*(2*n-e),r=Math.sqrt(i)/n;function a(e,t){t=Math.sqrt(i-2*n*Math.sin(t))/n;return[t*Math.sin(e*=n),r-t*Math.cos(e)]}return a.invert=function(e,t){t=r-t;return[Math.atan2(e,t)/n,ke((i-(e*e+t*t)*n*n)/(2*n))]},a}I.geo.clipExtent=function(){var t,n,i,r,a,o,s={stream:function(e){return a&&(a.valid=!1),(a=o(e)).valid=!0,a},extent:function(e){return arguments.length?(o=bi(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),a&&(a.valid=!1,a=null),s):[[t,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(I.geo.conicEqualArea=function(){return Ai(wi)}).raw=wi,I.geo.albers=function(){return I.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},I.geo.albersUsa=function(){var n,r,a,o,s=I.geo.albers(),u=I.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=I.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){n=[e,t]}};function d(e){var t=e[0],e=e[1];return n=null,r(t,e),n||(a(t,e),n)||o(t,e),n}return d.invert=function(e){var t=s.scale(),n=s.translate(),i=(e[0]-n[0])/t,t=(e[1]-n[1])/t;return(.12<=t&&t<.234&&-.425<=i&&i<-.214?u:.166<=t&&t<.234&&-.214<=i&&i<-.115?l:s).invert(e)},d.stream=function(e){var n=s.stream(e),i=u.stream(e),r=l.stream(e);return{point:function(e,t){n.point(e,t),i.point(e,t),r.point(e,t)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},d.precision=function(e){return arguments.length?(s.precision(e),u.precision(e),l.precision(e),d):s.precision()},d.scale=function(e){return arguments.length?(s.scale(e),u.scale(.35*e),l.scale(e),d.translate(s.translate())):s.scale()},d.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),n=+e[0],i=+e[1];return r=s.translate(e).clipExtent([[n-.455*t,i-.238*t],[n+.455*t,i+.238*t]]).stream(c).point,a=u.translate([n-.307*t,i+.201*t]).clipExtent([[n-.425*t+be,i+.12*t+be],[n-.214*t-be,i+.234*t-be]]).stream(c).point,o=l.translate([n-.205*t,i+.212*t]).clipExtent([[n-.214*t+be,i+.166*t+be],[n-.115*t-be,i+.234*t-be]]).stream(c).point,d},d.scale(1070)};var xi,Ei,Li,Ti,Di,Si,Ni={point:D,lineStart:D,lineEnd:D,polygonStart:function(){Ei=0,Ni.lineStart=Ci},polygonEnd:function(){Ni.lineStart=Ni.lineEnd=Ni.point=D,xi+=C(Ei/2)}};function Ci(){var n,i,r,a;function o(e,t){Ei+=a*e-r*t,r=e,a=t}Ni.point=function(e,t){Ni.point=o,n=r=e,i=a=t},Ni.lineEnd=function(){o(n,i)}}var ki={point:function(e,t){e<Li&&(Li=e);Di<e&&(Di=e);t<Ti&&(Ti=t);Si<t&&(Si=t)},lineStart:D,lineEnd:D,polygonStart:D,polygonEnd:D};function Ii(){var n=ji(4.5),i=[],r={point:e,lineStart:function(){r.point=t},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=e},pointRadius:function(e){return n=ji(e),r},result:function(){if(i.length){var e=i.join("");return i=[],e}}};function e(e,t){i.push("M",e,",",t,n)}function t(e,t){i.push("M",e,",",t),r.point=a}function a(e,t){i.push("L",e,",",t)}function o(){r.point=e}function s(){i.push("Z")}return r}function ji(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var Oi,zi={point:Ri,lineStart:Pi,lineEnd:Yi,polygonStart:function(){zi.lineStart=Bi},polygonEnd:function(){zi.point=Ri,zi.lineStart=Pi,zi.lineEnd=Yi}};function Ri(e,t){Ln+=e,Tn+=t,++Dn}function Pi(){var r,a;function n(e,t){var n=e-r,i=t-a,i=Math.sqrt(n*n+i*i);Sn+=i*(r+e)/2,Nn+=i*(a+t)/2,Cn+=i,Ri(r=e,a=t)}zi.point=function(e,t){zi.point=n,Ri(r=e,a=t)}}function Yi(){zi.point=Ri}function Bi(){var n,i,r,a;function o(e,t){var n=e-r,i=t-a,i=Math.sqrt(n*n+i*i);Sn+=i*(r+e)/2,Nn+=i*(a+t)/2,Cn+=i,kn+=(i=a*e-r*t)*(r+e),In+=i*(a+t),jn+=3*i,Ri(r=e,a=t)}zi.point=function(e,t){zi.point=o,Ri(n=r=e,i=a=t)},zi.lineEnd=function(){o(n,i)}}function Ui(n){var i=4.5,r={point:e,lineStart:function(){r.point=t},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=e},pointRadius:function(e){return i=e,r},result:D};function e(e,t){n.moveTo(e+i,t),n.arc(e,t,i,0,xe)}function t(e,t){n.moveTo(e,t),r.point=a}function a(e,t){n.lineTo(e,t)}function o(){r.point=e}function s(){n.closePath()}return r}function Hi(T){var D=.5,S=Math.cos(30*Te),b=16;function t(e){return(b?function(i){var n,r,a,o,s,u,l,c,d,h,p,m,f={point:e,lineStart:t,lineEnd:_,polygonStart:function(){i.polygonStart(),f.lineStart=y},polygonEnd:function(){i.polygonEnd(),f.lineStart=t}};function e(e,t){e=T(e,t),i.point(e[0],e[1])}function t(){c=NaN,f.point=g,i.lineStart()}function g(e,t){var n=Pn([e,t]),t=T(e,t);N(c,d,l,h,p,m,c=t[0],d=t[1],l=e,h=n[0],p=n[1],m=n[2],b,i),i.point(c,d)}function _(){f.point=e,i.lineEnd()}function y(){t(),f.point=v,f.lineEnd=M}function v(e,t){g(n=e,t),r=c,a=d,o=h,s=p,u=m,f.point=g}function M(){N(c,d,l,h,p,m,r,a,n,o,s,u,b,i),f.lineEnd=_,_()}return f}:function(n){return Gi(n,function(e,t){e=T(e,t),n.point(e[0],e[1])})})(e)}function N(e,t,n,i,r,a,o,s,u,l,c,d,h,p){var m,f,g,_,y,v,M,b,A,w,x=o-e,E=s-t,L=x*x+E*E;4*D<L&&h--&&(m=i+l,f=r+c,g=a+d,_=Math.sqrt(m*m+f*f+g*g),A=Math.asin(g/=_),y=C(C(g)-1)<be||C(n-u)<be?(n+u)/2:Math.atan2(f,m),v=(w=T(y,A))[0],M=w[1],(D<(w=E*(b=v-e)-x*(A=M-t))*w/L||.3<C((x*b+E*A)/L-.5)||i*l+r*c+a*d<S)&&(N(e,t,n,i,r,a,v,M,y,m/=_,f/=_,g,h,p),p.point(v,M),N(v,M,y,m,f,g,o,s,u,l,c,d,h,p)))}return t.precision=function(e){return arguments.length?(b=0<(D=e*e)&&16,t):Math.sqrt(D)},t}function Fi(e){this.stream=e}function Gi(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Vi(e){return Wi(function(){return e})()}function Wi(e){var n,t,i,r,a,o,s=Hi(function(e,t){return[(e=n(e,t))[0]*u+r,a-e[1]*u]}),u=150,l=480,c=250,d=0,h=0,p=0,m=0,f=0,g=_i,_=N,y=null,v=null;function M(e){return[(e=i(e[0]*Te,e[1]*Te))[0]*u+r,a-e[1]*u]}function b(e){return(e=i.invert((e[0]-r)/u,(a-e[1])/u))&&[e[0]*De,e[1]*De]}function A(){i=ui(t=Xi(p,m,f),n);var e=n(d,h);return r=l-e[0]*u,a=c+e[1]*u,w()}function w(){return o&&(o.valid=!1,o=null),M}return M.stream=function(e){return o&&(o.valid=!1),(o=Qi(g(t,s(_(e))))).valid=!0,o},M.clipAngle=function(e){return arguments.length?(g=null==e?(y=e,_i):yi((y=+e)*Te),w()):y},M.clipExtent=function(e){return arguments.length?(_=(v=e)?bi(e[0][0],e[0][1],e[1][0],e[1][1]):N,w()):v},M.scale=function(e){return arguments.length?(u=+e,A()):u},M.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],A()):[l,c]},M.center=function(e){return arguments.length?(d=e[0]%360*Te,h=e[1]%360*Te,A()):[d*De,h*De]},M.rotate=function(e){return arguments.length?(p=e[0]%360*Te,m=e[1]%360*Te,f=2<e.length?e[2]%360*Te:0,A()):[p*De,m*De,f*De]},I.rebind(M,s,"precision"),function(){return n=e.apply(this,arguments),M.invert=n.invert&&b,A()}}function Qi(n){return Gi(n,function(e,t){n.point(e*Te,t*Te)})}function qi(e,t){return[e,t]}function Zi(e,t){return[we<e?e-xe:e<-we?e+xe:e,t]}function Xi(e,t,n){return e?t||n?ui(Ki(e),$i(t,n)):Ki(e):t||n?$i(t,n):Zi}function Ji(n){return function(e,t){return[we<(e+=n)?e-xe:e<-we?e+xe:e,t]}}function Ki(e){var t=Ji(e);return t.invert=Ji(-e),t}function $i(e,t){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(t),s=Math.sin(t);function n(e,t){var n=Math.cos(t),i=Math.cos(e)*n,e=Math.sin(e)*n,n=Math.sin(t),t=n*r+i*a;return[Math.atan2(e*o-t*s,i*r-n*a),ke(t*o+e*s)]}return n.invert=function(e,t){var n=Math.cos(t),i=Math.cos(e)*n,e=Math.sin(e)*n,n=Math.sin(t),t=n*o-e*s;return[Math.atan2(e*o+n*s,i*r+t*a),ke(t*r-i*a)]},n}function er(s,u){var l=Math.cos(s),c=Math.sin(s);return function(e,t,n,i){var r=n*u;null!=e?(e=tr(l,e),t=tr(l,t),(0<n?e<t:t<e)&&(e+=n*xe)):(e=s+n*xe,t=s-.5*r);for(var a,o=e;0<n?t<o:o<t;o-=r)i.point((a=Gn([l,-c*Math.cos(o),-c*Math.sin(o)]))[0],a[1])}}function tr(e,t){t=Pn(t);t[0]-=e,Fn(t);e=Ce(-t[1]);return((-t[2]<0?-e:e)+2*Math.PI-be)%(2*Math.PI)}function nr(e,t,n){var i=I.range(e,t-be,n).concat(t);return function(t){return i.map(function(e){return[t,e]})}}function ir(e,t,n){var i=I.range(e,t-be,n).concat(t);return function(t){return i.map(function(e){return[e,t]})}}function rr(e){return e.source}function ar(e){return e.target}I.geo.path=function(){var i,t,r,n,a,o=4.5;function s(e){return e&&("function"==typeof o&&n.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=r(n)),I.geo.stream(e,a)),n.result()}function u(){return a=null,s}return s.area=function(e){return xi=0,I.geo.stream(e,r(Ni)),xi},s.centroid=function(e){return Ln=Tn=Dn=Sn=Nn=Cn=kn=In=jn=0,I.geo.stream(e,r(zi)),jn?[kn/jn,In/jn]:Cn?[Sn/Cn,Nn/Cn]:Dn?[Ln/Dn,Tn/Dn]:[NaN,NaN]},s.bounds=function(e){return Di=Si=-(Li=Ti=1/0),I.geo.stream(e,r(ki)),[[Li,Ti],[Di,Si]]},s.projection=function(e){return arguments.length?(r=(i=e)?e.stream||(n=e,t=Hi(function(e,t){return n([e*De,t*De])}),function(e){return Qi(t(e))}):N,u()):i;var n,t},s.context=function(e){return arguments.length?(n=null==(t=e)?new Ii:new Ui(e),"function"!=typeof o&&n.pointRadius(o),u()):t},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(n.pointRadius(+e),+e),s):o},s.projection(I.geo.albersUsa()).context(null)},I.geo.transform=function(i){return{stream:function(e){var t,n=new Fi(e);for(t in i)n[t]=i[t];return n}}},Fi.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},I.geo.projection=Vi,I.geo.projectionMutator=Wi,(I.geo.equirectangular=function(){return Vi(qi)}).raw=qi.invert=qi,I.geo.rotation=function(t){function e(e){return(e=t(e[0]*Te,e[1]*Te))[0]*=De,e[1]*=De,e}return t=Xi(t[0]%360*Te,t[1]*Te,2<t.length?t[2]*Te:0),e.invert=function(e){return(e=t.invert(e[0]*Te,e[1]*Te))[0]*=De,e[1]*=De,e},e},Zi.invert=qi,I.geo.circle=function(){var t,r,a=[0,0],n=6;function i(){var e="function"==typeof a?a.apply(this,arguments):a,n=Xi(-e[0]*Te,-e[1]*Te,0).invert,i=[];return r(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=De,e[1]*=De}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(a=e,i):a},i.angle=function(e){return arguments.length?(r=er((t=+e)*Te,n*Te),i):t},i.precision=function(e){return arguments.length?(r=er(t*Te,(n=+e)*Te),i):n},i.angle(90)},I.geo.distance=function(e,t){var n=(t[0]-e[0])*Te,i=e[1]*Te,r=t[1]*Te,a=Math.sin(n),e=Math.cos(n),t=Math.sin(i),n=Math.cos(i),i=Math.sin(r),r=Math.cos(r);return Math.atan2(Math.sqrt((a=r*a)*a+(a=n*i-t*r*e)*a),t*i+n*r*e)},I.geo.graticule=function(){var t,n,i,r,a,o,s,u,l,c,d,h,p=10,m=p,f=90,g=360,_=2.5;function y(){return{type:"MultiLineString",coordinates:e()}}function e(){return I.range(Math.ceil(r/f)*f,i,f).map(d).concat(I.range(Math.ceil(u/g)*g,s,g).map(h)).concat(I.range(Math.ceil(n/p)*p,t,p).filter(function(e){return C(e%f)>be}).map(l)).concat(I.range(Math.ceil(o/m)*m,a,m).filter(function(e){return C(e%g)>be}).map(c))}return y.lines=function(){return e().map(function(e){return{type:"LineString",coordinates:e}})},y.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(s).slice(1),d(i).reverse().slice(1),h(u).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.majorExtent(e).minorExtent(e):y.minorExtent()},y.majorExtent=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],u=+e[0][1],s=+e[1][1],i<r&&(e=r,r=i,i=e),s<u&&(e=u,u=s,s=e),y.precision(_)):[[r,u],[i,s]]},y.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],a=+e[1][1],t<n&&(e=n,n=t,t=e),a<o&&(e=o,o=a,a=e),y.precision(_)):[[n,o],[t,a]]},y.step=function(e){return arguments.length?y.majorStep(e).minorStep(e):y.minorStep()},y.majorStep=function(e){return arguments.length?(f=+e[0],g=+e[1],y):[f,g]},y.minorStep=function(e){return arguments.length?(p=+e[0],m=+e[1],y):[p,m]},y.precision=function(e){return arguments.length?(_=+e,l=nr(o,a,90),c=ir(n,t,_),d=nr(u,s,90),h=ir(r,i,_),y):_},y.majorExtent([[-180,-90+be],[180,90-be]]).minorExtent([[-180,-80-be],[180,80+be]])},I.geo.greatArc=function(){var t,n,i=rr,r=ar;function a(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}return a.distance=function(){return I.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},a.source=function(e){return arguments.length?(t="function"==typeof(i=e)?null:e,a):i},a.target=function(e){return arguments.length?(n="function"==typeof(r=e)?null:e,a):r},a.precision=function(){return arguments.length?a:0},a},I.geo.interpolate=function(e,t){return n=e[0]*Te,i=e[1]*Te,r=t[0]*Te,a=t[1]*Te,e=Math.cos(i),o=Math.sin(i),t=Math.cos(a),s=Math.sin(a),u=e*Math.cos(n),l=e*Math.sin(n),c=t*Math.cos(r),d=t*Math.sin(r),h=2*Math.asin(Math.sqrt(je(a-i)+e*t*je(r-n))),p=1/Math.sin(h),(r=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,i=n*u+t*c,e=n*l+t*d,t=n*o+t*s;return[Math.atan2(e,i)*De,Math.atan2(t,Math.sqrt(i*i+e*e))*De]}:function(){return[n*De,i*De]}).distance=h,r;var n,i,r,a,o,s,u,l,c,d,h,p},I.geo.length=function(e){return Oi=0,I.geo.stream(e,or),Oi};var or={sphere:D,point:D,lineStart:function(){var a,o,s;function n(e,t){var n=Math.sin(t*=Te),i=Math.cos(t),r=C((e*=Te)-a),t=Math.cos(r);Oi+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=s*n-o*i*t)*r),o*n+s*i*t),a=e,o=n,s=i}or.point=function(e,t){a=e*Te,o=Math.sin(t*=Te),s=Math.cos(t),or.point=n},or.lineEnd=function(){or.point=or.lineEnd=D}},lineEnd:D,polygonStart:D,polygonEnd:D};function sr(r,a){function e(e,t){var n=Math.cos(e),i=Math.cos(t),n=r(n*i);return[n*i*Math.sin(e),n*Math.sin(t)]}return e.invert=function(e,t){var n=Math.sqrt(e*e+t*t),i=a(n),r=Math.sin(i),i=Math.cos(i);return[Math.atan2(e*r,n*i),Math.asin(n&&t*r/n)]},e}var ur=sr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(I.geo.azimuthalEqualArea=function(){return Vi(ur)}).raw=ur;var lr=sr(function(e){e=Math.acos(e);return e&&e/Math.sin(e)},N);function cr(e,t){function n(e){return Math.tan(we/4+e/2)}var i=Math.cos(e),r=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(n(t)/n(e)),a=i*Math.pow(n(e),r)/r;return r?(o.invert=function(e,t){var n=a-t,t=Se(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(a/t,1/r))-Le]},o):pr;function o(e,t){0<a?t<-Le+be&&(t=-Le+be):Le-be<t&&(t=Le-be);t=a/Math.pow(n(t),r);return[t*Math.sin(r*e),a-t*Math.cos(r*e)]}}function dr(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;return C(i)<be?qi:(a.invert=function(e,t){t=r-t;return[Math.atan2(e,t)/i,r-Se(i)*Math.sqrt(e*e+t*t)]},a);function a(e,t){t=r-t;return[t*Math.sin(i*e),r-t*Math.cos(i*e)]}}(I.geo.azimuthalEquidistant=function(){return Vi(lr)}).raw=lr,(I.geo.conicConformal=function(){return Ai(cr)}).raw=cr,(I.geo.conicEquidistant=function(){return Ai(dr)}).raw=dr;var hr=sr(function(e){return 1/e},Math.atan);function pr(e,t){return[e,Math.log(Math.tan(we/4+t/2))]}function mr(e){var r,a=Vi(e),o=a.scale,s=a.translate,u=a.clipExtent;return a.scale=function(){var e=o.apply(a,arguments);return e===a?r?a.clipExtent(null):a:e},a.translate=function(){var e=s.apply(a,arguments);return e===a?r?a.clipExtent(null):a:e},a.clipExtent=function(e){var t,n,i=u.apply(a,arguments);return i===a?(r=null==e)&&(t=we*o(),n=s(),u([[n[0]-t,n[1]-t],[n[0]+t,n[1]+t]])):r&&(i=null),i},a.clipExtent(null)}(I.geo.gnomonic=function(){return Vi(hr)}).raw=hr,pr.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Le]},(I.geo.mercator=function(){return mr(pr)}).raw=pr;var fr=sr(function(){return 1},Math.asin);(I.geo.orthographic=function(){return Vi(fr)}).raw=fr;var gr=sr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function _r(e,t){return[Math.log(Math.tan(we/4+t/2)),-e]}function yr(e){return e[0]}function vr(e){return e[1]}function Mr(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;1<i&&Ne(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function br(e,t){return e[0]-t[0]||e[1]-t[1]}(I.geo.stereographic=function(){return Vi(gr)}).raw=gr,_r.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Le]},(I.geo.transverseMercator=function(){var e=mr(_r),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],2<e.length?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=_r,I.geom={},I.geom.hull=function(e){var h=yr,p=vr;return arguments.length?t(e):(t.x=function(e){return arguments.length?(h=e,t):h},t.y=function(e){return arguments.length?(p=e,t):p},t);function t(e){if(e.length<3)return[];for(var t=ct(h),n=ct(p),i=e.length,r=[],a=[],o=0;o<i;o++)r.push([+t.call(this,e[o],o),+n.call(this,e[o],o),o]);for(r.sort(br),o=0;o<i;o++)a.push([r[o][0],-r[o][1]]);var s=Mr(r),u=Mr(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],d=[];for(o=s.length-1;0<=o;--o)d.push(e[r[s[o]][2]]);for(o=+l;o<u.length-c;++o)d.push(e[r[u[o]][2]]);return d}},I.geom.polygon=function(e){return B(e,Ar),e};var Ar=I.geom.polygon.prototype=[];function wr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function xr(e,t,n,i){var r=e[0],a=n[0],o=t[0]-r,s=i[0]-a,e=e[1],n=n[1],t=t[1]-e,i=i[1]-n,s=(s*(e-n)-i*(r-a))/(i*o-s*t);return[r+s*o,e+s*t]}function Er(e){var t=e[0],e=e[e.length-1];return!(t[0]-e[0]||t[1]-e[1])}Ar.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},Ar.centroid=function(e){var t,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},Ar.clip=function(e){for(var t,n,i,r,a,o,s=Er(e),u=-1,l=this.length-Er(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,r=this[u],a=t[(i=t.length-s)-1],n=-1;++n<i;)wr(o=t[n],c,r)?(wr(a,c,r)||e.push(xr(a,o,c,r)),e.push(o)):wr(a,c,r)&&e.push(xr(a,o,c,r)),a=o;s&&e.push(e[0]),c=r}return e};var Lr,Tr,Dr,Sr,Nr,Cr=[],kr=[];function Ir(){Xr(this),this.edge=this.site=this.circle=null}function jr(e){var t=Cr.pop()||new Ir;return t.site=e,t}function Or(e){Fr(e),Dr.remove(e),Cr.push(e),Xr(e)}function zr(e){for(var t,n,i,r,a=e.x,o=e.y,s=Dr._;s;)if(i=Rr(s,o)-a,be<i)s=s.L;else{if(r=a-function(e,t){var n=e.N;if(n)return Rr(n,t);e=e.site;return e.y===t?e.x:1/0}(s,o),!(be<r)){-be<i?(t=s.P,n=s):-be<r?n=(t=s).N:t=n=s;break}if(!s.R){t=s;break}s=s.R}var u,l,c,d,h,p,m,f,g,_,y=jr(e);if(Dr.insert(t,y),t||n){if(t===n)return Fr(t),n=jr(t.site),Dr.insert(y,n),y.edge=n.edge=Wr(t.site,y.site),Hr(t),void Hr(n);n?(Fr(t),Fr(n),l=(u=t.site).x,_=u.y,c=e.x-l,m=e.y-_,h=(d=n.site).x-l,_={x:((p=d.y-_)*(f=c*c+m*m)-m*(g=h*h+p*p))/(m=2*(c*p-m*h))+l,y:(c*g-h*f)/m+_},Qr(n.edge,u,d,_),y.edge=Wr(u,e,null,_),n.edge=Wr(e,d,null,_),Hr(t),Hr(n)):y.edge=Wr(t.site,y.site)}}function Rr(e,t){var n=e.site,i=n.x,r=n.y,a=r-t;if(!a)return i;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,u=n.y,e=u-t;if(!e)return s;o=s-i,n=1/a-1/e,t=o/e;return n?(-t+Math.sqrt(t*t-2*n*(o*o/(-2*e)-u+e/2+r-a/2)))/n+i:(i+s)/2}function Pr(e){this.site=e,this.edges=[]}function Yr(e){for(var t,n,i,r,a,o,s,u,l,c=e[0][0],d=e[1][0],h=e[0][1],p=e[1][1],m=Tr,f=m.length;f--;)if((r=m[f])&&r.prepare())for(s=(o=r.edges).length,a=0;a<s;)n=(l=o[a].end()).x,i=l.y,t=(u=o[++a%s].start()).x,u=u.y,(C(n-t)>be||C(i-u)>be)&&(o.splice(a,0,new qr(function(e,t,n){e=new Vr(e,null);return e.a=t,e.b=n,Lr.push(e),e}(r.site,l,C(n-c)<be&&be<p-i?{x:c,y:C(t-c)<be?u:p}:C(i-p)<be&&be<d-n?{x:C(u-p)<be?t:d,y:p}:C(n-d)<be&&be<i-h?{x:d,y:C(t-d)<be?u:h}:C(i-h)<be&&be<n-c?{x:C(u-h)<be?t:c,y:h}:null),r.site,null)),++s)}function Br(e,t){return t.angle-e.angle}function Ur(){Xr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Hr(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,a=n.site;if(i!==a){var o=r.x,s=r.y,u=i.x-o,l=i.y-s,c=a.x-o,n=2*(u*(t=a.y-s)-l*c);if(!(-Ae<=n)){var i=u*u+l*l,a=c*c+t*t,l=(t*i-l*a)/n,n=(u*a-c*i)/n,t=n+s,d=kr.pop()||new Ur;d.arc=e,d.site=r,d.x=l+o,d.y=t+Math.sqrt(l*l+n*n),d.cy=t,e.circle=d;for(var h=null,p=Nr._;p;)if(d.y<p.y||d.y===p.y&&d.x<=p.x){if(!p.L){h=p.P;break}p=p.L}else{if(!p.R){h=p;break}p=p.R}Nr.insert(h,d),h||(Sr=d)}}}}function Fr(e){var t=e.circle;t&&(t.P||(Sr=t.N),Nr.remove(t),kr.push(t),Xr(t),e.circle=null)}function Gr(e){for(var t,n=Lr,i=vi(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(function(e,t){var n=e.b;if(n)return!0;var i=e.a,r=t[0][0],a=t[1][0],o=t[0][1],s=t[1][1],u=e.l,l=e.r,c=u.x,d=u.y,h=l.x,t=l.y,u=(c+h)/2,l=(d+t)/2;if(t===d){if(u<r||a<=u)return;if(h<c){if(i){if(i.y>=s)return}else i={x:u,y:o};n={x:u,y:s}}else{if(i){if(i.y<o)return}else i={x:u,y:s};n={x:u,y:o}}}else if(u=l-(l=(c-h)/(t-d))*u,l<-1||1<l)if(h<c){if(i){if(i.y>=s)return}else i={x:(o-u)/l,y:o};n={x:(s-u)/l,y:s}}else{if(i){if(i.y<o)return}else i={x:(s-u)/l,y:s};n={x:(o-u)/l,y:o}}else if(d<t){if(i){if(i.x>=a)return}else i={x:r,y:l*r+u};n={x:a,y:l*a+u}}else{if(i){if(i.x<r)return}else i={x:a,y:l*a+u};n={x:r,y:l*r+u}}return e.a=i,e.b=n,!0})(t=n[r],e)&&i(t)&&!(C(t.a.x-t.b.x)<be&&C(t.a.y-t.b.y)<be)||(t.a=t.b=null,n.splice(r,1))}function Vr(e,t){this.l=e,this.r=t,this.a=this.b=null}function Wr(e,t,n,i){var r=new Vr(e,t);return Lr.push(r),n&&Qr(r,e,t,n),i&&Qr(r,t,e,i),Tr[e.i].edges.push(new qr(r,e,t)),Tr[t.i].edges.push(new qr(r,t,e)),r}function Qr(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function qr(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Zr(){this._=null}function Xr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Jr(e,t){var n=t,i=t.R,t=n.U;t?t.L===n?t.L=i:t.R=i:e._=i,i.U=t,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Kr(e,t){var n=t,i=t.L,t=n.U;t?t.L===n?t.L=i:t.R=i:e._=i,i.U=t,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function $r(e){for(;e.L;)e=e.L;return e}function ea(e,t){var n,i,r,a=e.sort(ta).pop();for(Lr=[],Tr=new Array(e.length),Dr=new Zr,Nr=new Zr;;)if(r=Sr,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(Tr[a.i]=new Pr(a),zr(a),n=a.x,i=a.y),a=e.pop();else{if(!r)break;!function(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},a=e.P,o=e.N,s=[e];Or(e);for(var u=a;u.circle&&C(n-u.circle.x)<be&&C(i-u.circle.cy)<be;)a=u.P,s.unshift(u),Or(u),u=a;s.unshift(u),Fr(u);for(var l=o;l.circle&&C(n-l.circle.x)<be&&C(i-l.circle.cy)<be;)o=l.N,s.push(l),Or(l),l=o;s.push(l),Fr(l);for(var c=s.length,d=1;d<c;++d)l=s[d],u=s[d-1],Qr(l.edge,u.site,l.site,r);u=s[0],(l=s[c-1]).edge=Wr(u.site,l.site,null,r),Hr(u),Hr(l)}(r.arc)}t&&(Gr(t),Yr(t));t={cells:Tr,edges:Lr};return Dr=Nr=Lr=Tr=null,t}function ta(e,t){return t.y-e.y||t.x-e.x}Pr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Br),t.length},qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Zr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else n=this._?(e=$r(this._),t.P=null,(t.N=e).P=e.L=t,e):(t.P=t.N=null,this._=t,null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Jr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Kr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Kr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Jr(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i=e.U,r=e.L,a=e.R,o=r?a?$r(a):r:a;if(i?i.L===e?i.L=o:i.R=o:this._=o,r&&a?(n=o.C,o.C=e.C,((o.L=r).U=o)!==a?(i=o.U,o.U=e.U,e=o.R,i.L=e,(o.R=a).U=o):(o.U=i,e=(i=o).R)):(n=e.C,e=o),e&&(e.U=i),!n)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Jr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Kr(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Jr(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Kr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Jr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Kr(this,i),e=this._;break}}while(t.C=!0,i=(e=i).U,!e.C);e&&(e.C=!1)}}},I.geom.voronoi=function(e){var t=yr,n=vr,i=t,r=n,l=na;return e?a(e):(a.links=function(t){return ea(c(t)).edges.filter(function(e){return e.l&&e.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(h){var p=[];return ea(c(h)).cells.forEach(function(e,t){for(var n,i,r,a,o=e.site,s=e.edges.sort(Br),u=-1,l=s.length,c=s[l-1].edge,d=c.l===o?c.r:c.l;++u<l;)n=d,d=(c=s[u].edge).l===o?c.r:c.l,t<n.i&&t<d.i&&(r=n,a=d,((i=o).x-a.x)*(r.y-i.y)-(i.x-r.x)*(a.y-i.y)<0)&&p.push([h[t],h[n.i],h[d.i]])}),p},a.x=function(e){return arguments.length?(i=ct(t=e),a):t},a.y=function(e){return arguments.length?(r=ct(n=e),a):n},a.clipExtent=function(e){return arguments.length?(l=null==e?na:e,a):l===na?null:l},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):l===na?null:l&&l[1]},a);function a(i){var r=new Array(i.length),a=l[0][0],o=l[0][1],s=l[1][0],u=l[1][1];return ea(c(i),l).cells.forEach(function(e,t){var n=e.edges,e=e.site;(r[t]=n.length?n.map(function(e){e=e.start();return[e.x,e.y]}):e.x>=a&&e.x<=s&&e.y>=o&&e.y<=u?[[a,u],[s,u],[s,o],[a,o]]:[]).point=i[t]}),r}function c(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/be)*be,y:Math.round(r(e,t)/be)*be,i:t}})}};var na=[[-1e6,-1e6],[1e6,1e6]];function ia(e){return e.x}function ra(e){return e.y}function aa(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function oa(e,t){e=I.rgb(e),t=I.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,o=t.g-i,s=t.b-r;return function(e){return"#"+it(Math.round(n+a*e))+it(Math.round(i+o*e))+it(Math.round(r+s*e))}}function sa(e,t){var n,i={},r={};for(n in e)n in t?i[n]=ha(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function ua(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function la(e,i){var t,n,r,a=ca.lastIndex=da.lastIndex=0,o=-1,s=[],u=[];for(e+="",i+="";(t=ca.exec(e))&&(n=da.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(t=t[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:ua(t,n)})),a=da.lastIndex;return a<i.length&&(r=i.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?(i=u[0].x,function(e){return i(e)+""}):function(){return i}:(i=u.length,function(e){for(var t,n=0;n<i;++n)s[(t=u[n]).i]=t.x(e);return s.join("")})}I.geom.delaunay=function(e){return I.geom.voronoi().triangles(e)},I.geom.quadtree=function(e,y,v,M,A){var w,x=yr,E=vr;return(w=arguments.length)?(x=ia,E=ra,3===w&&(A=v,M=y,v=y=0),t(e)):(t.x=function(e){return arguments.length?(x=e,t):x},t.y=function(e){return arguments.length?(E=e,t):E},t.extent=function(e){return arguments.length?(null==e?y=v=M=A=null:(y=+e[0][0],v=+e[0][1],M=+e[1][0],A=+e[1][1]),t):null==y?null:[[y,v],[M,A]]},t.size=function(e){return arguments.length?(null==e?y=v=M=A=null:(y=v=0,M=+e[0],A=+e[1]),t):null==y?null:[M-y,A-v]},t);function t(e){var t,n,i,r,a,o,s,u,l,c=ct(x),d=ct(E);if(null!=y)o=y,s=v,u=M,l=A;else if(u=l=-(o=s=1/0),n=[],i=[],a=e.length,w)for(r=0;r<a;++r)(t=e[r]).x<o&&(o=t.x),t.y<s&&(s=t.y),t.x>u&&(u=t.x),t.y>l&&(l=t.y),n.push(t.x),i.push(t.y);else for(r=0;r<a;++r){var h=+c(t=e[r],r),p=+d(t,r);h<o&&(o=h),p<s&&(s=p),u<h&&(u=h),l<p&&(l=p),n.push(h),i.push(p)}var m=u-o,f=l-s;function g(e,t,n,i,r,a,o,s){var u,l,c;isNaN(n)||isNaN(i)||(e.leaf?(u=e.x,l=e.y,null!=u?(C(u-n)+C(l-i)<.01||(c=e.point,e.x=e.y=e.point=null,_(e,c,u,l,r,a,o,s)),_(e,t,n,i,r,a,o,s)):(e.x=n,e.y=i,e.point=t)):_(e,t,n,i,r,a,o,s))}function _(e,t,n,i,r,a,o,s){var u=.5*(r+o),l=.5*(a+s),c=u<=n,d=l<=i,h=d<<1|c;e.leaf=!1,c?r=u:o=u,d?a=l:s=l,g(e=e.nodes[h]||(e.nodes[h]=aa()),t,n,i,r,a,o,s)}f<m?l=s+m:u=o+f;var b=aa();if(b.add=function(e){g(b,e,+c(e,++r),+d(e,r),o,s,u,l)},b.visit=function(e){!function e(t,n,i,r,a,o){{var s,u;t(n,i,r,a,o)||(s=.5*(i+a),u=.5*(r+o),(n=n.nodes)[0]&&e(t,n[0],i,r,s,u),n[1]&&e(t,n[1],s,r,a,u),n[2]&&e(t,n[2],i,u,s,o),n[3]&&e(t,n[3],s,u,a,o))}}(e,b,o,s,u,l)},b.find=function(e){return t=b,p=e[0],m=e[1],M=1/0,function e(t,n,i,r,a){if(!(_<n||y<i||r<f||a<g)){var o,s;!(o=t.point)||(s=(s=p-t.x)*s+(s=m-t.y)*s)<M&&(s=Math.sqrt(M=s),f=p-s,g=m-s,_=p+s,y=m+s,v=o);for(var u=t.nodes,l=.5*(n+r),c=.5*(i+a),d=(c<=m)<<1|l<=p,h=d+4;d<h;++d)if(t=u[3&d])switch(3&d){case 0:e(t,n,i,l,c);break;case 1:e(t,l,i,r,c);break;case 2:e(t,n,c,l,a);break;case 3:e(t,l,c,r,a)}}}(t,f=o,g=s,_=u,y=l),v;var t,p,m,f,g,_,y,v,M},r=-1,null==y){for(;++r<a;)g(b,e[r],n[r],i[r],o,s,u,l);--r}else e.forEach(b.add);return n=i=e=t=null,b}},I.interpolateRgb=oa,I.interpolateObject=sa,I.interpolateNumber=ua,I.interpolateString=la;var ca=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,da=new RegExp(ca.source,"g");function ha(e,t){for(var n,i=I.interpolators.length;0<=--i&&!(n=I.interpolators[i](e,t)););return n}function pa(e,t){for(var n=[],i=[],r=e.length,a=t.length,o=Math.min(e.length,t.length),s=0;s<o;++s)n.push(ha(e[s],t[s]));for(;s<r;++s)i[s]=e[s];for(;s<a;++s)i[s]=t[s];return function(e){for(s=0;s<o;++s)i[s]=n[s](e);return i}}function ma(){return N}I.interpolate=ha,I.interpolators=[function(e,t){var n=typeof t;return("string"==n?lt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?oa:la:t instanceof Ye?oa:Array.isArray(t)?pa:"object"==n&&isNaN(t)?sa:ua)(e,t)}],I.interpolateArray=pa;var fa=I.map({linear:ma,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return va},cubic:function(){return Ma},sin:function(){return Aa},exp:function(){return wa},circle:function(){return xa},elastic:function(t,n){var i;arguments.length<2&&(n=.45);i=arguments.length?n/xe*Math.asin(1/t):(t=1,n/4);return function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-i)*xe/n)}},back:function(t){t=t||1.70158;return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Ea}}),ga=I.map({in:N,out:_a,"in-out":ya,"out-in":function(e){return ya(_a(e))}});function _a(t){return function(e){return 1-t(1-e)}}function ya(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function va(e){return e*e}function Ma(e){return e*e*e}function ba(e){if(e<=0)return 0;if(1<=e)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Aa(e){return 1-Math.cos(e*Le)}function wa(e){return Math.pow(2,10*(e-1))}function xa(e){return 1-Math.sqrt(1-e*e)}function Ea(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function La(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function Ta(e){var t,n,i,r=[e.a,e.b],a=[e.c,e.d],o=Sa(r),s=Da(r,a),t=Sa(((t=a)[0]+=(i=-s)*(n=r)[0],t[1]+=i*n[1],t))||0;r[0]*a[1]<a[0]*r[1]&&(r[0]*=-1,r[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*De,this.translate=[e.e,e.f],this.scale=[o,t],this.skew=t?Math.atan2(s,t)*De:0}function Da(e,t){return e[0]*t[0]+e[1]*t[1]}function Sa(e){var t=Math.sqrt(Da(e,e));return t&&(e[0]/=t,e[1]/=t),t}I.ease=function(e){var t,n=e.indexOf("-"),i=0<=n?e.slice(0,n):e,n=0<=n?e.slice(n+1):"in",i=fa.get(i)||ma,n=ga.get(n)||N;return t=n(i.apply(null,r.call(arguments,1))),function(e){return e<=0?0:1<=e?1:t(e)}},I.interpolateHcl=function(e,t){e=I.hcl(e),t=I.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,o=t.c-i,s=t.l-r;isNaN(o)&&(o=0,i=isNaN(i)?t.c:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):180<a?a-=360:a<-180&&(a+=360);return function(e){return Fe(n+a*e,i+o*e,r+s*e)+""}},I.interpolateHsl=function(e,t){e=I.hsl(e),t=I.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,o=t.s-i,s=t.l-r;isNaN(o)&&(o=0,i=isNaN(i)?t.s:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):180<a?a-=360:a<-180&&(a+=360);return function(e){return Ue(n+a*e,i+o*e,r+s*e)+""}},I.interpolateLab=function(e,t){e=I.lab(e),t=I.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,o=t.a-i,s=t.b-r;return function(e){return Ze(n+a*e,i+o*e,r+s*e)+""}},I.interpolateRound=La,I.transform=function(e){var n=j.createElementNS(I.ns.prefix.svg,"g");return(I.transform=function(e){var t;return null!=e&&(n.setAttribute("transform",e),t=n.transform.baseVal.consolidate()),new Ta(t?t.matrix:Na)})(e)},Ta.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Na={a:1,b:0,c:0,d:1,e:0,f:0};function Ca(e){return e.length?e.pop()+",":""}function ka(e,t){var n,i,r,a,o,s=[],u=[];return e=I.transform(e),t=I.transform(t),i=e.translate,r=t.translate,o=s,a=u,i[0]!==r[0]||i[1]!==r[1]?(n=o.push("translate(",null,",",null,")"),a.push({i:n-4,x:ua(i[0],r[0])},{i:n-2,x:ua(i[1],r[1])})):(r[0]||r[1])&&o.push("translate("+r+")"),a=e.rotate,n=t.rotate,i=s,o=u,a!==n?(180<a-n?n+=360:180<n-a&&(a+=360),o.push({i:i.push(Ca(i)+"rotate(",null,")")-2,x:ua(a,n)})):n&&i.push(Ca(i)+"rotate("+n+")"),r=e.skew,o=t.skew,a=s,i=u,r!==o?i.push({i:a.push(Ca(a)+"skewX(",null,")")-2,x:ua(r,o)}):o&&a.push(Ca(a)+"skewX("+o+")"),n=e.scale,i=t.scale,r=s,a=u,n[0]!==i[0]||n[1]!==i[1]?(o=r.push(Ca(r)+"scale(",null,",",null,")"),a.push({i:o-4,x:ua(n[0],i[0])},{i:o-2,x:ua(n[1],i[1])})):1===i[0]&&1===i[1]||r.push(Ca(r)+"scale("+i+")"),e=t=null,function(e){for(var t,n=-1,i=u.length;++n<i;)s[(t=u[n]).i]=t.x(e);return s.join("")}}function Ia(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function ja(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function Oa(e){for(var t=[],n=e.parent;null!=n;)t.push(e),n=(e=n).parent;return t.push(e),t}function za(e){e.fixed|=2}function Ra(e){e.fixed&=-7}function Pa(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ya(e){e.fixed&=-5}I.interpolateTransform=ka,I.layout={},I.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(function(e){var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=Oa(e),i=Oa(t),r=n.pop(),a=i.pop(),o=null;for(;r===a;)o=r,r=n.pop(),a=i.pop();return o}(t,n),r=[t];for(;t!==i;)t=t.parent,r.push(t);var a=r.length;for(;n!==i;)r.splice(a,0,n),n=n.parent;return r}(e[n]));return t}},I.layout.chord=function(){var g,_,y,v,M,b,A,t={},w=0;function e(){var e,t,n,i,r,a={},o=[],s=I.range(v),u=[];for(g=[],_=[],e=0,i=-1;++i<v;){for(t=0,r=-1;++r<v;)t+=y[i][r];o.push(t),u.push(I.range(v)),e+=t}for(M&&s.sort(function(e,t){return M(o[e],o[t])}),b&&u.forEach(function(e,n){e.sort(function(e,t){return b(y[n][e],y[n][t])})}),e=(xe-w*v)/e,t=0,i=-1;++i<v;){for(n=t,r=-1;++r<v;){var l=s[i],c=u[l][r],d=y[l][c],h=t,p=t+=d*e;a[l+"-"+c]={index:l,subindex:c,startAngle:h,endAngle:p,value:d}}_[l]={index:l,startAngle:n,endAngle:t,value:o[l]},t+=w}for(i=-1;++i<v;)for(r=i-1;++r<v;){var m=a[i+"-"+r],f=a[r+"-"+i];(m.value||f.value)&&g.push(m.value<f.value?{source:f,target:m}:{source:m,target:f})}A&&x()}function x(){g.sort(function(e,t){return A((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return t.matrix=function(e){return arguments.length?(v=(y=e)&&y.length,g=_=null,t):y},t.padding=function(e){return arguments.length?(w=e,g=_=null,t):w},t.sortGroups=function(e){return arguments.length?(M=e,g=_=null,t):M},t.sortSubgroups=function(e){return arguments.length?(b=e,g=null,t):b},t.sortChords=function(e){return arguments.length?(A=e,g&&x(),t):A},t.chords=function(){return g||e(),g},t.groups=function(){return _||e(),_},t},I.layout.force=function(){var d,e,h,p,m,f,r={},g=I.dispatch("start","tick","end"),_=[1,1],y=.9,a=Ba,o=Ua,v=-30,M=Ha,b=.1,A=.64,w=[],x=[];function t(e){e.px=I.event.x,e.py=I.event.y,r.resume()}return r.tick=function(){if((h*=.99)<.005)return d=null,g.end({type:"end",alpha:h=0}),!0;for(var e,t,n,i,r,a,o,s,u=w.length,l=x.length,c=0;c<l;++c)n=(t=x[c]).source,(r=(o=(i=t.target).x-n.x)*o+(s=i.y-n.y)*s)&&(o*=r=h*m[c]*((r=Math.sqrt(r))-p[c])/r,s*=r,i.x-=o*(a=n.weight+i.weight?n.weight/(n.weight+i.weight):.5),i.y-=s*a,n.x+=o*(a=1-a),n.y+=s*a);if((a=h*b)&&(o=_[0]/2,s=_[1]/2,c=-1,a))for(;++c<u;)(t=w[c]).x+=(o-t.x)*a,t.y+=(s-t.y)*a;if(v)for(!function e(t,n,i){var r=0,a=0;t.charge=0;if(!t.leaf)for(var o,s=t.nodes,u=s.length,l=-1;++l<u;)null!=(o=s[l])&&(e(o,n,i),t.charge+=o.charge,r+=o.charge*o.cx,a+=o.charge*o.cy);{var c;t.point&&(t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5),c=n*i[t.point.index],t.charge+=t.pointCharge=c,r+=c*t.point.x,a+=c*t.point.y)}t.cx=r/t.charge;t.cy=a/t.charge}(e=I.geom.quadtree(w),h,f),c=-1;++c<u;)(t=w[c]).fixed||e.visit(function(s){return function(e,t,n,i){if(e.point!==s){var r,a=e.cx-s.x,o=e.cy-s.y,i=i-t,t=a*a+o*o;if(i*i/A<t)return t<M&&(r=e.charge/t,s.px-=a*r,s.py-=o*r),!0;e.point&&t&&t<M&&(r=e.pointCharge/t,s.px-=a*r,s.py-=o*r)}return!e.charge}}(t));for(c=-1;++c<u;)(t=w[c]).fixed?(t.x=t.px,t.y=t.py):(t.x-=(t.px-(t.px=t.x))*y,t.y-=(t.py-(t.py=t.y))*y);g.tick({type:"tick",alpha:h})},r.nodes=function(e){return arguments.length?(w=e,r):w},r.links=function(e){return arguments.length?(x=e,r):x},r.size=function(e){return arguments.length?(_=e,r):_},r.linkDistance=function(e){return arguments.length?(a="function"==typeof e?e:+e,r):a},r.distance=r.linkDistance,r.linkStrength=function(e){return arguments.length?(o="function"==typeof e?e:+e,r):o},r.friction=function(e){return arguments.length?(y=+e,r):y},r.charge=function(e){return arguments.length?(v="function"==typeof e?e:+e,r):v},r.chargeDistance=function(e){return arguments.length?(M=e*e,r):Math.sqrt(M)},r.gravity=function(e){return arguments.length?(b=+e,r):b},r.theta=function(e){return arguments.length?(A=e*e,r):Math.sqrt(A)},r.alpha=function(e){return arguments.length?(e=+e,h?0<e?h=e:(d.c=null,d.t=NaN,d=null,g.end({type:"end",alpha:h=0})):0<e&&(g.start({type:"start",alpha:h=e}),d=yt(r.tick)),r):h},r.start=function(){for(var s,e,u=w.length,l=x.length,t=_[0],n=_[1],c=0;c<u;++c)(e=w[c]).index=c,e.weight=0;for(c=0;c<l;++c)"number"==typeof(e=x[c]).source&&(e.source=w[e.source]),"number"==typeof e.target&&(e.target=w[e.target]),++e.source.weight,++e.target.weight;for(c=0;c<u;++c)e=w[c],isNaN(e.x)&&(e.x=i("x",t)),isNaN(e.y)&&(e.y=i("y",n)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof a)for(c=0;c<l;++c)p[c]=+a.call(this,x[c],c);else for(c=0;c<l;++c)p[c]=a;if(m=[],"function"==typeof o)for(c=0;c<l;++c)m[c]=+o.call(this,x[c],c);else for(c=0;c<l;++c)m[c]=o;if(f=[],"function"==typeof v)for(c=0;c<u;++c)f[c]=+v.call(this,w[c],c);else for(c=0;c<u;++c)f[c]=v;function i(e,t){if(!s){for(s=new Array(u),a=0;a<u;++a)s[a]=[];for(a=0;a<l;++a){var n=x[a];s[n.source.index].push(n.target),s[n.target.index].push(n.source)}}for(var i,r=s[c],a=-1,o=r.length;++a<o;)if(!isNaN(i=r[a][e]))return i;return Math.random()*t}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(e=e||I.behavior.drag().origin(N).on("dragstart.force",za).on("drag.force",t).on("dragend.force",Ra),!arguments.length)return e;this.on("mouseover.force",Pa).on("mouseout.force",Ya).call(e)},I.rebind(r,g,"on")};var Ba=20,Ua=1,Ha=1/0;function Fa(e,t){return I.rebind(e,t,"sort","children","value"),(e.nodes=e).links=Za,e}function Ga(e,t){for(var n,i,r=[e];null!=(e=r.pop());)if(t(e),(i=e.children)&&(n=i.length))for(;0<=--n;)r.push(i[n])}function Va(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(a=e.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(e=i.pop());)t(e)}function Wa(e){return e.children}function Qa(e){return e.value}function qa(e,t){return t.value-e.value}function Za(e){return I.merge(e.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}I.layout.hierarchy=function(){var s=qa,u=Wa,l=Qa;function c(e){var t,n,i,r,a=[e],o=[];for(e.depth=0;null!=(t=a.pop());)if(o.push(t),(i=u.call(c,t,t.depth))&&(n=i.length)){for(;0<=--n;)a.push(r=i[n]),r.parent=t,r.depth=t.depth+1;l&&(t.value=0),t.children=i}else l&&(t.value=+l.call(c,t,t.depth)||0),delete t.children;return Va(e,function(e){var t,n;s&&(t=e.children)&&t.sort(s),l&&(n=e.parent)&&(n.value+=e.value)}),o}return c.sort=function(e){return arguments.length?(s=e,c):s},c.children=function(e){return arguments.length?(u=e,c):u},c.value=function(e){return arguments.length?(l=e,c):l},c.revalue=function(e){return l&&(Ga(e,function(e){e.children&&(e.value=0)}),Va(e,function(e){var t;e.children||(e.value=+l.call(c,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},c},I.layout.partition=function(){var n=I.layout.hierarchy(),i=[1,1];function t(e,t){t=n.call(this,e,t);return function e(t,n,i,r){var a=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,a&&(o=a.length)){var o,s,u=-1;for(i=t.value?i/t.value:0;++u<o;)e(s=a[u],n,s=s.value*i,r),n+=s}}(t[0],0,i[0],i[1]/function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}(t[0])),t}return t.size=function(e){return arguments.length?(i=e,t):i},Fa(t,n)},I.layout.pie=function(){var d=Number,h=Xa,p=0,m=xe,f=0;function g(n){var t,e=n.length,i=n.map(function(e,t){return+d.call(g,e,t)}),r=+("function"==typeof p?p.apply(this,arguments):p),a=("function"==typeof m?m.apply(this,arguments):m)-r,o=Math.min(Math.abs(a)/e,+("function"==typeof f?f.apply(this,arguments):f)),s=o*(a<0?-1:1),u=I.sum(i),l=u?(a-e*s)/u:0,e=I.range(e),c=[];return null!=h&&e.sort(h===Xa?function(e,t){return i[t]-i[e]}:function(e,t){return h(n[e],n[t])}),e.forEach(function(e){c[e]={data:n[e],value:t=i[e],startAngle:r,endAngle:r+=t*l+s,padAngle:o}}),c}return g.value=function(e){return arguments.length?(d=e,g):d},g.sort=function(e){return arguments.length?(h=e,g):h},g.startAngle=function(e){return arguments.length?(p=e,g):p},g.endAngle=function(e){return arguments.length?(m=e,g):m},g.padAngle=function(e){return arguments.length?(f=e,g):f},g};var Xa={};function Ja(e){return e.x}function Ka(e){return e.y}function $a(e,t,n){e.y0=t,e.y=n}I.layout.stack=function(){var d=N,h=no,p=io,m=$a,f=Ja,g=Ka;function _(e,t){if(!(n=e.length))return e;for(var n,i,r,a=(s=e.map(function(e,t){return d.call(_,e,t)})).map(function(e){return e.map(function(e,t){return[f.call(_,e,t),g.call(_,e,t)]})}),o=h.call(_,a,t),s=I.permute(s,o),a=I.permute(a,o),u=p.call(_,a,t),l=s[0].length,c=0;c<l;++c)for(m.call(_,s[0][c],r=u[c],a[0][c][1]),i=1;i<n;++i)m.call(_,s[i][c],r+=a[i-1][c][1],a[i][c][1]);return e}return _.values=function(e){return arguments.length?(d=e,_):d},_.order=function(e){return arguments.length?(h="function"==typeof e?e:eo.get(e)||no,_):h},_.offset=function(e){return arguments.length?(p="function"==typeof e?e:to.get(e)||io,_):p},_.x=function(e){return arguments.length?(f=e,_):f},_.y=function(e){return arguments.length?(g=e,_):g},_.out=function(e){return arguments.length?(m=e,_):m},_};var eo=I.map({"inside-out":function(e){for(var t,n=e.length,i=e.map(ro),r=e.map(ao),a=I.range(n).sort(function(e,t){return i[e]-i[t]}),o=0,s=0,u=[],l=[],c=0;c<n;++c)t=a[c],o<s?(o+=r[t],u.push(t)):(s+=r[t],l.push(t));return l.reverse().concat(u)},reverse:function(e){return I.range(e.length).reverse()},default:no}),to=I.map({silhouette:function(e){for(var t,n,i=e.length,r=e[0].length,a=[],o=0,s=[],u=0;u<r;++u){for(n=t=0;t<i;t++)n+=e[t][u][1];o<n&&(o=n),a.push(n)}for(u=0;u<r;++u)s[u]=(o-a[u])/2;return s},wiggle:function(e){var t,n,i,r,a,o,s,u,l,c=e.length,d=e[0],h=d.length,p=[];for(p[0]=u=l=0,n=1;n<h;++n){for(r=t=0;t<c;++t)r+=e[t][n][1];for(a=t=0,s=d[n][0]-d[n-1][0];t<c;++t){for(i=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)o+=(e[i][n][1]-e[i][n-1][1])/s;a+=o*e[t][n][1]}p[n]=u-=r?a/r*s:0,u<l&&(l=u)}for(n=0;n<h;++n)p[n]-=l;return p},expand:function(e){for(var t,n,i=e.length,r=e[0].length,a=1/i,o=[],s=0;s<r;++s){for(n=t=0;t<i;t++)n+=e[t][s][1];if(n)for(t=0;t<i;t++)e[t][s][1]/=n;else for(t=0;t<i;t++)e[t][s][1]=a}for(s=0;s<r;++s)o[s]=0;return o},zero:io});function no(e){return I.range(e.length)}function io(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function ro(e){for(var t,n=1,i=0,r=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function ao(e){return e.reduce(oo,0)}function oo(e,t){return e+t[1]}function so(e,t){return uo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function uo(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,a=[];++n<=t;)a[n]=r*n+i;return a}function lo(e){return[I.min(e),I.max(e)]}function co(e,t){return e.value-t.value}function ho(e,t){var n=e._pack_next;(e._pack_next=t)._pack_prev=e,(t._pack_next=n)._pack_prev=t}function po(e,t){(e._pack_next=t)._pack_prev=e}function mo(e,t){var n=t.x-e.x,i=t.y-e.y,t=e.r+t.r;return n*n+i*i<.999*t*t}function fo(e){if((t=e.children)&&(o=t.length)){var t,n,i,r,a,o,s=1/0,u=-1/0,l=1/0,c=-1/0;if(t.forEach(go),n=t[0],n.x=-n.r,n.y=0,v(n),1<o&&((i=t[1]).x=i.r,i.y=0,v(i),2<o))for(yo(n,i,r=t[2]),v(r),ho(n,r),ho(n._pack_prev=r,i),i=n._pack_next,y=3;y<o;y++){yo(n,i,r=t[y]);for(var d=0,h=1,p=1,m=i._pack_next;m!==i;m=m._pack_next,h++)if(mo(m,r)){d=1;break}if(1==d)for(a=n._pack_prev;a!==m._pack_prev&&!mo(a,r);a=a._pack_prev,p++);d?(h<p||h==p&&i.r<n.r?po(n,i=m):po(n=a,i),y--):(ho(n,r),v(i=r))}for(var f=(s+u)/2,g=(l+c)/2,_=0,y=0;y<o;y++)(r=t[y]).x-=f,r.y-=g,_=Math.max(_,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=_,t.forEach(_o)}function v(e){s=Math.min(e.x-e.r,s),u=Math.max(e.x+e.r,u),l=Math.min(e.y-e.r,l),c=Math.max(e.y+e.r,c)}}function go(e){e._pack_next=e._pack_prev=e}function _o(e){delete e._pack_next,delete e._pack_prev}function yo(e,t,n){var i,r,a=e.r+n.r,o=t.x-e.x,s=t.y-e.y;a&&(o||s)?(i=t.r+n.r,t=.5+((a*=a)-(i*=i))/(2*(r=o*o+s*s)),r=Math.sqrt(Math.max(0,2*i*(a+r)-(a-=r)*a-i*i))/(2*r),n.x=e.x+t*o+r*s,n.y=e.y+t*s-r*o):(n.x=e.x+a,n.y=e.y)}function vo(e,t){return e.parent==t.parent?1:2}function Mo(e){var t=e.children;return t.length?t[0]:e.t}function bo(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ao(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function wo(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],t=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),t<0&&(i+=t/2,t=0),{x:n,y:i,dx:r,dy:t}}function xo(e){var t=e[0],e=e[e.length-1];return t<e?[t,e]:[e,t]}function Eo(e){return e.rangeExtent?e.rangeExtent():xo(e.range())}function Lo(e,t,n,i){var r=n(e[0],e[1]),a=i(t[0],t[1]);return function(e){return a(r(e))}}function To(e,t){var n,i=0,r=e.length-1,a=e[i],o=e[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),e[i]=t.floor(a),e[r]=t.ceil(o),e}function Do(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:So}I.layout.histogram=function(){var d=!0,h=Number,p=lo,m=so;function n(e,t){for(var n,i,r=[],a=e.map(h,this),o=p.call(this,a,t),s=m.call(this,o,a,t),t=-1,u=a.length,l=s.length-1,c=d?1:1/u;++t<l;)(n=r[t]=[]).dx=s[t+1]-(n.x=s[t]),n.y=0;if(0<l)for(t=-1;++t<u;)(i=a[t])>=o[0]&&i<=o[1]&&((n=r[I.bisect(s,i,1,l)-1]).y+=c,n.push(e[t]));return r}return n.value=function(e){return arguments.length?(h=e,n):h},n.range=function(e){return arguments.length?(p=ct(e),n):p},n.bins=function(t){return arguments.length?(m="number"==typeof t?function(e){return uo(e,t)}:ct(t),n):m},n.frequency=function(e){return arguments.length?(d=!!e,n):d},n},I.layout.pack=function(){var o,s=I.layout.hierarchy().sort(co),u=0,l=[1,1];function t(e,t){var n,i=s.call(this,e,t),r=i[0],e=l[0],t=l[1],a=null==o?Math.sqrt:"function"==typeof o?o:function(){return o};return r.x=r.y=0,Va(r,function(e){e.r=+a(e.value)}),Va(r,fo),u&&(n=u*(o?1:Math.max(2*r.r/e,2*r.r/t))/2,Va(r,function(e){e.r+=n}),Va(r,fo),Va(r,function(e){e.r-=n})),function e(t,n,i,r){var a=t.children;t.x=n+=r*t.x;t.y=i+=r*t.y;t.r*=r;if(a)for(var o=-1,s=a.length;++o<s;)e(a[o],n,i,r)}(r,e/2,t/2,o?1:1/Math.max(2*r.r/e,2*r.r/t)),i}return t.size=function(e){return arguments.length?(l=e,t):l},t.radius=function(e){return arguments.length?(o=null==e||"function"==typeof e?e:+e,t):o},t.padding=function(e){return arguments.length?(u=+e,t):u},Fa(t,s)},I.layout.tree=function(){var l=I.layout.hierarchy().sort(null).value(null),h=vo,c=[1,1],d=null;function t(e,t){var n,i,r,a,o,s,u=l.call(this,e,t),e=u[0],t=function(e){var t,e={A:null,children:[e]},n=[e];for(;null!=(t=n.pop());)for(var i,r=t.children,a=0,o=r.length;a<o;++a)n.push((r[a]=i={_:r[a],parent:t,children:(i=r[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return e.children[0]}(e);return Va(t,p),t.parent.m=-t.z,Ga(t,m),d?Ga(e,f):(Ga(r=i=n=e,function(e){e.x<n.x&&(n=e),e.x>i.x&&(i=e),e.depth>r.depth&&(r=e)}),a=h(n,i)/2-n.x,o=c[0]/(i.x+h(i,n)/2+a),s=c[1]/(r.depth||1),Ga(e,function(e){e.x=(e.x+a)*o,e.y=e.depth*s})),u}function p(a){var e=a.children,t=a.parent.children,n=a.i?t[a.i-1]:null;e.length?(function(){for(var e,t=0,n=0,i=a.children,r=i.length;0<=--r;)(e=i[r]).z+=t,e.m+=t,t+=e.s+(n+=e.c)}(),e=(e[0].z+e[e.length-1].z)/2,n?(a.z=n.z+h(a._,n._),a.m=a.z-e):a.z=e):n&&(a.z=n.z+h(a._,n._)),a.parent.A=function(e,t,n){if(t){for(var i,r=e,a=e,o=t,s=r.parent.children[0],u=r.m,l=a.m,c=o.m,d=s.m;o=bo(o),r=Mo(r),o&&r;)s=Mo(s),(a=bo(a)).a=e,0<(i=o.z+c-r.z-u+h(o._,r._))&&(function(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}(function(e,t,n){return e.a.parent===t.parent?e.a:n}(o,e,n),e,i),u+=i,l+=i),c+=o.m,u+=r.m,d+=s.m,l+=a.m;o&&!bo(a)&&(a.t=o,a.m+=c-l),r&&!Mo(s)&&(s.t=r,s.m+=u-d,n=e)}return n}(a,n,a.parent.A||t[0])}function m(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function f(e){e.x*=c[0],e.y=e.depth*c[1]}return t.separation=function(e){return arguments.length?(h=e,t):h},t.size=function(e){return arguments.length?(d=null==(c=e)?f:null,t):d?null:c},t.nodeSize=function(e){return arguments.length?(d=null==(c=e)?null:f,t):d?c:null},Fa(t,l)},I.layout.cluster=function(){var u=I.layout.hierarchy().sort(null).value(null),l=vo,c=[1,1],d=!1;function t(e,t){var i,n=u.call(this,e,t),r=n[0],a=0;Va(r,function(e){var t,n=e.children;n&&n.length?(e.x=(t=n).reduce(function(e,t){return e+t.x},0)/t.length,e.y=(n=n,1+I.max(n,function(e){return e.y}))):(e.x=i?a+=l(e,i):0,e.y=0,i=e)});var e=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(r),t=function e(t){var n,i=t.children;return i&&(n=i.length)?e(i[n-1]):t}(r),o=e.x-l(e,t)/2,s=t.x+l(t,e)/2;return Va(r,d?function(e){e.x=(e.x-r.x)*c[0],e.y=(r.y-e.y)*c[1]}:function(e){e.x=(e.x-o)/(s-o)*c[0],e.y=(1-(r.y?e.y/r.y:1))*c[1]}),n}return t.separation=function(e){return arguments.length?(l=e,t):l},t.size=function(e){return arguments.length?(d=null==(c=e),t):d?null:c},t.nodeSize=function(e){return arguments.length?(d=null!=(c=e),t):d?c:null},Fa(t,u)},I.layout.treemap=function(){var n,i=I.layout.hierarchy(),c=Math.round,r=[1,1],a=null,l=Ao,o=!1,d="squarify",h=.5*(1+Math.sqrt(5));function p(e,t){for(var n,i,r=-1,a=e.length;++r<a;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function m(e){var t=e.children;if(t&&t.length){var n,i,r=l(e),a=[],o=t.slice(),s=1/0,u="slice"===d?r.dx:"dice"===d?r.dy:"slice-dice"===d?1&e.depth?r.dy:r.dx:Math.min(r.dx,r.dy);for(p(o,r.dx*r.dy/e.value),a.area=0;0<(i=o.length);)a.push(i=o[i-1]),a.area+=i.area,s="squarify"!==d||(n=function(e,t){var n,i=e.area,r=0,a=1/0,o=-1,s=e.length;for(;++o<s;)(n=e[o].area)&&(n<a&&(a=n),r<n&&(r=n));return t*=t,(i*=i)?Math.max(t*r*h/i,i/(t*a*h)):1/0}(a,u))<=s?(o.pop(),n):(a.area-=a.pop().area,f(a,u,r,!1),u=Math.min(r.dx,r.dy),1/(a.length=a.area=0));a.length&&(f(a,u,r,!0),a.length=a.area=0),t.forEach(m)}}function s(e){var t=e.children;if(t&&t.length){var n,i=l(e),r=t.slice(),a=[];for(p(r,i.dx*i.dy/e.value),a.area=0;n=r.pop();)a.push(n),a.area+=n.area,null!=n.z&&(f(a,n.z?i.dx:i.dy,i,!r.length),a.length=a.area=0);t.forEach(s)}}function f(e,t,n,i){var r,a=-1,o=e.length,s=n.x,u=n.y,l=t?c(e.area/t):0;if(t==n.dx){for((i||l>n.dy)&&(l=n.dy);++a<o;)(r=e[a]).x=s,r.y=u,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?c(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++a<o;)(r=e[a]).x=s,r.y=u,r.dx=l,u+=r.dy=Math.min(n.y+n.dy-u,l?c(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function u(e){var t=n||i(e),e=t[0];return e.x=e.y=0,e.value?(e.dx=r[0],e.dy=r[1]):e.dx=e.dy=0,n&&i.revalue(e),p([e],e.dx*e.dy/e.value),(n?s:m)(e),o&&(n=t),t}return u.size=function(e){return arguments.length?(r=e,u):r},u.padding=function(n){return arguments.length?(l=null==(a=n)?Ao:"function"==(t=typeof n)?function(e){var t=n.call(u,e,e.depth);return null==t?Ao(e):wo(e,"number"==typeof t?[t,t,t,t]:t)}:("number"==t&&(n=[n,n,n,n]),e),u):a;function e(e){return wo(e,n)}var t},u.round=function(e){return arguments.length?(c=e?Math.round:Number,u):c!=Number},u.sticky=function(e){return arguments.length?(o=e,n=null,u):o},u.ratio=function(e){return arguments.length?(h=e,u):h},u.mode=function(e){return arguments.length?(d=e+"",u):d},Fa(u,i)},I.random={normal:function(i,r){var e=arguments.length;return e<2&&(r=1),e<1&&(i=0),function(){for(var e,t,n;n=(e=2*Math.random()-1)*e+(t=2*Math.random()-1)*t,!n||1<n;);return i+r*e*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var e=I.random.normal.apply(I,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=I.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(n){return function(){for(var e=0,t=0;t<n;t++)e+=Math.random();return e}}},I.scale={};var So={floor:N,ceil:N};function No(n,e,t,i){var r=[],a=[],o=0,s=Math.min(n.length,e.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(t(n[o-1],n[o])),a.push(i(e[o-1],e[o]));return function(e){var t=I.bisect(n,e,1,s)-1;return a[t](r[t](e))}}function Co(e,t){return I.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ko(e,t){return To(e,Do(Io(e,t)[2])),To(e,Do(Io(e,t)[2])),e}function Io(e,t){null==t&&(t=10);var n=xo(e),i=n[1]-n[0],e=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),i=t/i*e;return i<=.15?e*=10:i<=.35?e*=5:i<=.75&&(e*=2),n[0]=Math.ceil(n[0]/e)*e,n[1]=Math.floor(n[1]/e)*e+.5*e,n[2]=e,n}function jo(e,t){return I.range.apply(I,Io(e,t))}function Oo(e,t,n){var i,r=Io(e,t);if(n){var a=xt.exec(n);if(a.shift(),"s"===a[8]){var o=I.formatPrefix(Math.max(C(r[0]),C(r[1])));return a[7]||(a[7]="."+Ro(o.scale(r[2]))),a[8]="f",n=I.format(a.join("")),function(e){return n(o.scale(e))+o.symbol}}a[7]||(a[7]="."+(i=a[8],t=Ro((e=r)[2]),i in zo?Math.abs(t-Ro(Math.max(C(e[0]),C(e[1]))))+ +("e"!==i):t-2*("%"===i))),n=a.join("")}else n=",."+Ro(r[2])+"f";return I.format(n)}I.scale.linear=function(){return function e(n,i,r,a){var o,s;function t(){var e=2<Math.min(n.length,i.length)?No:Lo,t=a?ja:Ia;return o=e(n,i,t,r),s=e(i,n,t,ha),u}function u(e){return o(e)}u.invert=function(e){return s(e)};u.domain=function(e){return arguments.length?(n=e.map(Number),t()):n};u.range=function(e){return arguments.length?(i=e,t()):i};u.rangeRound=function(e){return u.range(e).interpolate(La)};u.clamp=function(e){return arguments.length?(a=e,t()):a};u.interpolate=function(e){return arguments.length?(r=e,t()):r};u.ticks=function(e){return jo(n,e)};u.tickFormat=function(e,t){return Oo(n,e,t)};u.nice=function(e){return ko(n,e),t()};u.copy=function(){return e(n,i,r,a)};return t()}([0,1],[0,1],ha,!1)};var zo={s:1,g:1,p:1,r:1,e:1};function Ro(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}I.scale.log=function(){return function e(t,u,l,c){function d(e){return(l?Math.log(e<0?0:e):-Math.log(0<e?0:-e))/Math.log(u)}function h(e){return l?Math.pow(u,e):-Math.pow(u,-e)}function r(e){return t(d(e))}r.invert=function(e){return h(t.invert(e))};r.domain=function(e){return arguments.length?(l=0<=e[0],t.domain((c=e.map(Number)).map(d)),r):c};r.base=function(e){return arguments.length?(u=+e,t.domain(c.map(d)),r):u};r.nice=function(){var e=To(c.map(d),l?Math:Yo);return t.domain(e),c=e.map(h),r};r.ticks=function(){var e=xo(c),t=[],n=e[0],i=e[1],r=Math.floor(d(n)),a=Math.ceil(d(i)),o=u%1?2:u;if(isFinite(a-r)){if(l){for(;r<a;r++)for(var s=1;s<o;s++)t.push(h(r)*s);t.push(h(r))}else for(t.push(h(r));r++<a;)for(var s=o-1;0<s;s--)t.push(h(r)*s);for(r=0;t[r]<n;r++);for(a=t.length;t[a-1]>i;a--);t=t.slice(r,a)}return t};r.tickFormat=function(e,n){if(!arguments.length)return Po;arguments.length<2?n=Po:"function"!=typeof n&&(n=I.format(n));var i=Math.max(1,u*e/r.ticks().length);return function(e){var t=e/h(Math.round(d(e)));return t*u<u-.5&&(t*=u),t<=i?n(e):""}};r.copy=function(){return e(t.copy(),u,l,c)};return Co(r,t)}(I.scale.linear().domain([0,1]),10,!0,[1,10])};var Po=I.format(".0e"),Yo={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Bo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}I.scale.pow=function(){return function e(t,n,i){var r=Bo(n),a=Bo(1/n);function o(e){return t(r(e))}o.invert=function(e){return a(t.invert(e))};o.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),o):i};o.ticks=function(e){return jo(i,e)};o.tickFormat=function(e,t){return Oo(i,e,t)};o.nice=function(e){return o.domain(ko(i,e))};o.exponent=function(e){return arguments.length?(r=Bo(n=e),a=Bo(1/n),t.domain(i.map(r)),o):n};o.copy=function(){return e(t.copy(),n,i)};return Co(o,t)}(I.scale.linear(),1,[0,1])},I.scale.sqrt=function(){return I.scale.pow().exponent(.5)},I.scale.ordinal=function(){return function e(s,u){var r,l,c;function d(e){return l[((r.get(e)||("range"===u.t?r.set(e,s.push(e)):NaN))-1)%l.length]}function h(t,n){return I.range(s.length).map(function(e){return t+n*e})}d.domain=function(e){if(!arguments.length)return s;s=[],r=new y;for(var t,n=-1,i=e.length;++n<i;)r.has(t=e[n])||r.set(t,s.push(t));return d[u.t].apply(d,u.a)};d.range=function(e){return arguments.length?(l=e,c=0,u={t:"range",a:arguments},d):l};d.rangePoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],i=e[1],i=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+t);return l=h(n+i*t/2,i),c=0,u={t:"rangePoints",a:arguments},d};d.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],i=e[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+t)|0;return l=h(n+Math.round(r*t/2+(i-n-(s.length-1+t)*r)/2),r),c=0,u={t:"rangeRoundPoints",a:arguments},d};d.rangeBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var i=e[1]<e[0],r=e[+i],a=e[1-i],a=(a-r)/(s.length-t+2*n);return l=h(r+a*n,a),i&&l.reverse(),c=a*(1-t),u={t:"rangeBands",a:arguments},d};d.rangeRoundBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var i=e[1]<e[0],r=e[+i],a=e[1-i],o=Math.floor((a-r)/(s.length-t+2*n));return l=h(r+Math.round((a-r-(s.length-t)*o)/2),o),i&&l.reverse(),c=Math.round(o*(1-t)),u={t:"rangeRoundBands",a:arguments},d};d.rangeBand=function(){return c};d.rangeExtent=function(){return xo(u.a[0])};d.copy=function(){return e(s,u)};return d.domain(s)}([],{t:"range",a:[[]]})},I.scale.category10=function(){return I.scale.ordinal().range(Uo)},I.scale.category20=function(){return I.scale.ordinal().range(Ho)},I.scale.category20b=function(){return I.scale.ordinal().range(Fo)},I.scale.category20c=function(){return I.scale.ordinal().range(Go)};var Uo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(nt),Ho=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(nt),Fo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(nt),Go=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(nt);function Vo(){return 0}I.scale.quantile=function(){return function e(n,i){var r;function t(){var e=0,t=i.length;for(r=[];++e<t;)r[e-1]=I.quantile(n,e/t);return a}function a(e){if(!isNaN(e=+e))return i[I.bisect(r,e)]}a.domain=function(e){return arguments.length?(n=e.map(l).filter(c).sort(u),t()):n};a.range=function(e){return arguments.length?(i=e,t()):i};a.quantiles=function(){return r};a.invertExtent=function(e){return(e=i.indexOf(e))<0?[NaN,NaN]:[0<e?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]};a.copy=function(){return e(n,i)};return t()}([],[])},I.scale.quantize=function(){return function e(t,n,i){var r,a;function o(e){return i[Math.max(0,Math.min(a,Math.floor(r*(e-t))))]}function s(){return r=i.length/(n-t),a=i.length-1,o}o.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]};o.range=function(e){return arguments.length?(i=e,s()):i};o.invertExtent=function(e){return[e=(e=i.indexOf(e))<0?NaN:e/r+t,e+1/r]};o.copy=function(){return e(t,n,i)};return s()}(0,1,[0,1])},I.scale.threshold=function(){return function e(t,n){function i(e){if(e<=e)return n[I.bisect(t,e)]}i.domain=function(e){return arguments.length?(t=e,i):t};i.range=function(e){return arguments.length?(n=e,i):n};i.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]};i.copy=function(){return e(t,n)};return i}([.5],[0,1])},I.scale.identity=function(){return function e(n){function t(e){return+e}t.invert=t;t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n};t.ticks=function(e){return jo(n,e)};t.tickFormat=function(e,t){return Oo(n,e,t)};t.copy=function(){return e(n)};return t}([0,1])},I.svg={},I.svg.arc=function(){var L=Qo,T=qo,D=Vo,S=Wo,N=Zo,C=Xo,k=Jo;function t(){var e=Math.max(0,+L.apply(this,arguments)),t=Math.max(0,+T.apply(this,arguments)),n=N.apply(this,arguments)-Le,i=C.apply(this,arguments)-Le,r=Math.abs(i-n),a=i<n?0:1;if(t<e&&(o=t,t=e,e=o),Ee<=r)return I(t,a)+(e?I(e,1-a):"")+"Z";var o,s,u,l,c,d,h,p,m,f,g,_,y,v,M,b,A,w=0,x=0,E=[];return(u=(+k.apply(this,arguments)||0)/2)&&(s=S===Wo?Math.sqrt(e*e+t*t):+S.apply(this,arguments),a||(x*=-1),t&&(x=ke(s/t*Math.sin(u))),e&&(w=ke(s/e*Math.sin(u)))),t?(h=t*Math.cos(n+x),p=t*Math.sin(n+x),m=t*Math.cos(i-x),l=t*Math.sin(i-x),d=Math.abs(i-n-2*x)<=we?0:1,x&&Ko(h,p,m,l)===a^d&&(b=(n+i)/2,h=t*Math.cos(b),p=t*Math.sin(b),m=l=null)):h=p=0,e?(g=e*Math.cos(i-w),_=e*Math.sin(i-w),y=e*Math.cos(n+w),c=e*Math.sin(n+w),f=Math.abs(n-i+2*w)<=we?0:1,w&&Ko(g,_,y,c)===1-a^f&&(v=(n+i)/2,g=e*Math.cos(v),_=e*Math.sin(v),y=c=null)):g=_=0,be<r&&.001<(o=Math.min(Math.abs(t-e)/2,+D.apply(this,arguments)))?(x=e<t^a?0:1,w=b=o,r<we&&(i=h-(n=null==y?[g,_]:null==m?[h,p]:xr([h,p],[y,c],[m,l],[g,_]))[0],v=p-n[1],r=m-n[0],M=l-n[1],M=1/Math.sin(Math.acos((i*r+v*M)/(Math.sqrt(i*i+v*v)*Math.sqrt(r*r+M*M)))/2),n=Math.sqrt(n[0]*n[0]+n[1]*n[1]),w=Math.min(o,(e-n)/(M-1)),b=Math.min(o,(t-n)/(1+M))),null!=m?(M=$o(null==y?[g,_]:[y,c],[h,p],t,b,a),A=$o([m,l],[g,_],t,b,a),o===b?E.push("M",M[0],"A",b,",",b," 0 0,",x," ",M[1],"A",t,",",t," 0 ",1-a^Ko(M[1][0],M[1][1],A[1][0],A[1][1]),",",a," ",A[1],"A",b,",",b," 0 0,",x," ",A[0]):E.push("M",M[0],"A",b,",",b," 0 1,",x," ",A[0])):E.push("M",h,",",p),null!=y?(b=$o([h,p],[y,c],e,-w,a),A=$o([g,_],null==m?[h,p]:[m,l],e,-w,a),o===w?E.push("L",A[0],"A",w,",",w," 0 0,",x," ",A[1],"A",e,",",e," 0 ",a^Ko(A[1][0],A[1][1],b[1][0],b[1][1]),",",1-a," ",b[1],"A",w,",",w," 0 0,",x," ",b[0]):E.push("L",A[0],"A",w,",",w," 0 0,",x," ",b[0])):E.push("L",g,",",_)):(E.push("M",h,",",p),null!=m&&E.push("A",t,",",t," 0 ",d,",",a," ",m,",",l),E.push("L",g,",",_),null!=y&&E.push("A",e,",",e," 0 ",f,",",1-a," ",y,",",c)),E.push("Z"),E.join("")}function I(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return t.innerRadius=function(e){return arguments.length?(L=ct(e),t):L},t.outerRadius=function(e){return arguments.length?(T=ct(e),t):T},t.cornerRadius=function(e){return arguments.length?(D=ct(e),t):D},t.padRadius=function(e){return arguments.length?(S=e==Wo?Wo:ct(e),t):S},t.startAngle=function(e){return arguments.length?(N=ct(e),t):N},t.endAngle=function(e){return arguments.length?(C=ct(e),t):C},t.padAngle=function(e){return arguments.length?(k=ct(e),t):k},t.centroid=function(){var e=(+L.apply(this,arguments)+ +T.apply(this,arguments))/2,t=(+N.apply(this,arguments)+ +C.apply(this,arguments))/2-Le;return[Math.cos(t)*e,Math.sin(t)*e]},t};var Wo="auto";function Qo(e){return e.innerRadius}function qo(e){return e.outerRadius}function Zo(e){return e.startAngle}function Xo(e){return e.endAngle}function Jo(e){return e&&e.padAngle}function Ko(e,t,n,i){return 0<(e-n)*t-(t-i)*e?0:1}function $o(e,t,n,i,r){var a=e[0]-t[0],o=e[1]-t[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=e[0]+u,d=e[1]+l,h=t[0]+u,p=t[1]+l,r=(c+h)/2,o=(d+p)/2,s=h-c,a=p-d,e=s*s+a*a,t=n-i,i=c*p-h*d,c=(a<0?-1:1)*Math.sqrt(Math.max(0,t*t*e-i*i)),p=(i*a-s*c)/e,h=(-i*s-a*c)/e,d=(i*a+s*c)/e,a=(-i*s+a*c)/e,c=p-r,e=h-o,r=d-r,o=a-o;return r*r+o*o<c*c+e*e&&(p=d,h=a),[[p-u,h-l],[p*n/t,h*n/t]]}function es(l){var c=yr,d=vr,h=li,p=ns,t=p.key,m=.7;function n(e){var t,n=[],i=[],r=-1,a=e.length,o=ct(c),s=ct(d);function u(){n.push("M",p(l(i),m))}for(;++r<a;)h.call(this,t=e[r],r)?i.push([+o.call(this,t,r),+s.call(this,t,r)]):i.length&&(u(),i=[]);return i.length&&u(),n.length?n.join(""):null}return n.x=function(e){return arguments.length?(c=e,n):c},n.y=function(e){return arguments.length?(d=e,n):d},n.defined=function(e){return arguments.length?(h=e,n):h},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?p=e:(p=ts.get(e)||ns).key,n):t},n.tension=function(e){return arguments.length?(m=e,n):m},n}I.svg.line=function(){return es(N)};var ts=I.map({linear:ns,"linear-closed":is,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);1<n&&r.push("H",i[0]);return r.join("")},"step-before":rs,"step-after":as,basis:us,"basis-open":function(e){if(e.length<4)return ns(e);var t,n=[],i=-1,r=e.length,a=[0],o=[0];for(;++i<3;)t=e[i],a.push(t[0]),o.push(t[1]);n.push(ls(hs,a)+","+ls(hs,o)),--i;for(;++i<r;)t=e[i],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),ps(n,a,o);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,a=r+4,o=[],s=[];for(;++i<4;)n=e[i%r],o.push(n[0]),s.push(n[1]);t=[ls(hs,o),",",ls(hs,s)],--i;for(;++i<a;)n=e[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),ps(t,o,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,a=e[0][0],o=e[0][1],s=e[n][0]-a,u=e[n][1]-o,l=-1;++l<=n;)i=e[l],r=l/n,i[0]=t*i[0]+(1-t)*(a+r*s),i[1]=t*i[1]+(1-t)*(o+r*u);return us(e)},cardinal:function(e,t){return e.length<3?ns(e):e[0]+os(e,ss(e,t))},"cardinal-open":function(e,t){return e.length<4?ns(e):e[1]+os(e.slice(1,-1),ss(e,t))},"cardinal-closed":function(e,t){return e.length<3?is(e):e[0]+os((e.push(e[0]),e),ss([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?ns(e):e[0]+os(e,function(e){var t,n,i,r,a=[],o=function(e){var t=0,n=e.length-1,i=[],r=e[0],a=e[1],o=i[0]=ms(r,a);for(;++t<n;)i[t]=(o+(o=ms(r=a,a=e[t+1])))/2;return i[t]=o,i}(e),s=-1,u=e.length-1;for(;++s<u;)t=ms(e[s],e[s+1]),C(t)<be?o[s]=o[s+1]=0:(n=o[s]/t,i=o[s+1]/t,9<(r=n*n+i*i)&&(r=3*t/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));s=-1;for(;++s<=u;)r=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}(e))}});function ns(e){return 1<e.length?e.join("L"):e+"Z"}function is(e){return e.join("L")+"Z"}function rs(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function as(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function os(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ns(e);var n=e.length!=t.length,i="",r=e[0],a=e[1],o=t[0],s=o,u=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=e[1],u=2),1<t.length){s=t[1],a=e[u],u++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<t.length;l++,u++)a=e[u],s=t[l],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}return n&&(n=e[u],i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+n[0]+","+n[1]),i}function ss(e,t){for(var n,i=[],r=(1-t)/2,a=e[0],o=e[1],s=1,u=e.length;++s<u;)n=a,a=o,o=e[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function us(e){if(e.length<3)return ns(e);var t=1,n=e.length,i=e[0],r=i[0],a=i[1],o=[r,r,r,(i=e[1])[0]],s=[a,a,a,i[1]],u=[r,",",a,"L",ls(hs,o),",",ls(hs,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),ps(u,o,s);return e.pop(),u.push("L",i),u.join("")}function ls(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}ts.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var cs=[0,2/3,1/3,0],ds=[0,1/3,2/3,0],hs=[0,1/6,2/3,1/6];function ps(e,t,n){e.push("C",ls(cs,t),",",ls(cs,n),",",ls(ds,t),",",ls(ds,n),",",ls(hs,t),",",ls(hs,n))}function ms(e,t){return(t[1]-e[1])/(t[0]-e[0])}function fs(e){for(var t,n,i,r=-1,a=e.length;++r<a;)n=(t=e[r])[0],i=t[1]-Le,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function gs(m){var f=yr,g=yr,_=0,y=vr,v=li,M=ns,t=M.key,b=M,A="L",w=.7;function n(e){var t,n,i,r=[],a=[],o=[],s=-1,u=e.length,l=ct(f),c=ct(_),d=f===g?function(){return n}:ct(g),h=_===y?function(){return i}:ct(y);function p(){r.push("M",M(m(o),w),A,b(m(a.reverse()),w),"Z")}for(;++s<u;)v.call(this,t=e[s],s)?(a.push([n=+l.call(this,t,s),i=+c.call(this,t,s)]),o.push([+d.call(this,t,s),+h.call(this,t,s)])):a.length&&(p(),a=[],o=[]);return a.length&&p(),r.length?r.join(""):null}return n.x=function(e){return arguments.length?(f=g=e,n):g},n.x0=function(e){return arguments.length?(f=e,n):f},n.x1=function(e){return arguments.length?(g=e,n):g},n.y=function(e){return arguments.length?(_=y=e,n):y},n.y0=function(e){return arguments.length?(_=e,n):_},n.y1=function(e){return arguments.length?(y=e,n):y},n.defined=function(e){return arguments.length?(v=e,n):v},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?M=e:(M=ts.get(e)||ns).key,b=M.reverse||M,A=M.closed?"M":"L",n):t},n.tension=function(e){return arguments.length?(w=e,n):w},n}function _s(e){return e.radius}function ys(e){return[e.x,e.y]}function vs(){return 64}function Ms(){return"circle"}function bs(e){e=Math.sqrt(e/we);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}I.svg.line.radial=function(){var e=es(fs);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},(rs.reverse=as).reverse=rs,I.svg.area=function(){return gs(N)},I.svg.area.radial=function(){var e=gs(fs);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},I.svg.chord=function(){var r=rr,a=ar,o=_s,s=Zo,u=Xo;function t(e,t){var n=l(this,r,e,t),i=l(this,a,e,t);return"M"+n.p0+c(n.r,n.p1,n.a1-n.a0)+(e=i,(t=n).a0==e.a0&&t.a1==e.a1?d(n.r,n.p1,n.r,n.p0):d(n.r,n.p1,i.r,i.p0)+c(i.r,i.p1,i.a1-i.a0)+d(i.r,i.p1,n.r,n.p0))+"Z"}function l(e,t,n,i){var r=t.call(e,n,i),t=o.call(e,r,i),n=s.call(e,r,i)-Le,i=u.call(e,r,i)-Le;return{r:t,a0:n,a1:i,p0:[t*Math.cos(n),t*Math.sin(n)],p1:[t*Math.cos(i),t*Math.sin(i)]}}function c(e,t,n){return"A"+e+","+e+" 0 "+ +(we<n)+",1 "+t}function d(e,t,n,i){return"Q 0,0 "+i}return t.radius=function(e){return arguments.length?(o=ct(e),t):o},t.source=function(e){return arguments.length?(r=ct(e),t):r},t.target=function(e){return arguments.length?(a=ct(e),t):a},t.startAngle=function(e){return arguments.length?(s=ct(e),t):s},t.endAngle=function(e){return arguments.length?(u=ct(e),t):u},t},I.svg.diagonal=function(){var i=rr,r=ar,a=ys;function t(e,t){var n=i.call(this,e,t),e=r.call(this,e,t),t=(n.y+e.y)/2,e=[n,{x:n.x,y:t},{x:e.x,y:t},e];return"M"+(e=e.map(a))[0]+"C"+e[1]+" "+e[2]+" "+e[3]}return t.source=function(e){return arguments.length?(i=ct(e),t):i},t.target=function(e){return arguments.length?(r=ct(e),t):r},t.projection=function(e){return arguments.length?(a=e,t):a},t},I.svg.diagonal.radial=function(){var e=I.svg.diagonal(),t=ys,i=e.projection;return e.projection=function(e){return arguments.length?i((n=t=e,function(){var e=n.apply(this,arguments),t=e[0],e=e[1]-Le;return[t*Math.cos(e),t*Math.sin(e)]})):t;var n},e},I.svg.symbol=function(){var n=Ms,i=vs;function t(e,t){return(As.get(n.call(this,e,t))||bs)(i.call(this,e,t))}return t.type=function(e){return arguments.length?(n=ct(e),t):n},t.size=function(e){return arguments.length?(i=ct(e),t):i},t};var As=I.map({circle:bs,cross:function(e){e=Math.sqrt(e/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*xs)),e=t*xs;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(e){e=Math.sqrt(e)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ws),e=t*ws/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ws),e=t*ws/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});I.svg.symbolTypes=As.keys();var ws=Math.sqrt(3),xs=Math.tan(30*Te);V.transition=function(e){for(var t,n,i=Ds||++Cs,r=js(e),a=[],o=Ss||{time:Date.now(),ease:ba,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,d=l.length;++c<d;)(n=l[c])&&Os(n,c,r,i,o),t.push(n)}return Ts(a,r,i)},V.interrupt=function(e){return this.each(null==e?Es:Ls(js(e)))};var Es=Ls(js());function Ls(i){return function(){var e,t,n;(e=this[i])&&(n=e[t=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[t]:delete this[i],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ts(e,t,n){return B(e,Ns),e.namespace=t,e.id=n,e}var Ds,Ss,Ns=[],Cs=0;function ks(e,i,r,a){var o=e.id,s=e.namespace;return ue(e,"function"==typeof r?function(e,t,n){e[s][o].tween.set(i,a(r.call(e,e.__data__,t,n)))}:(r=a(r),function(e){e[s][o].tween.set(i,r)}))}function Is(e){return null==e&&(e=""),function(){this.textContent=e}}function js(e){return null==e?"__transition__":"__transition_"+e+"__"}function Os(a,o,i,s,e){var u,l,c,d,h,p=a[i]||(a[i]={active:0,count:0}),m=p[s];function n(e){var t,n,i=p.active,r=p[i];for(t in r&&(r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i],r.event&&r.event.interrupt.call(a,a.__data__,r.index)),p)+t<s&&((n=p[t]).timer.c=null,n.timer.t=NaN,--p.count,delete p[t]);l.c=f,yt(function(){return l.c&&f(e||1)&&(l.c=null,l.t=NaN),1},0,u),p.active=s,m.event&&m.event.start.call(a,a.__data__,o),h=[],m.tween.forEach(function(e,t){(t=t.call(a,a.__data__,o))&&h.push(t)}),d=m.ease,c=m.duration}function f(e){for(var e=e/c,t=d(e),n=h.length;0<n;)h[--n].call(a,t);if(1<=e)return m.event&&m.event.end.call(a,a.__data__,o),--p.count?delete p[s]:delete a[i],1}m||(u=e.time,l=yt(function(e){var t=m.delay;if(l.t=t+u,t<=e)return n(e-t);l.c=n},0,u),m=p[s]={tween:new y,time:u,timer:l,delay:e.delay,duration:e.duration,ease:e.ease,index:o},e=null,++p.count)}Ns.call=V.call,Ns.empty=V.empty,Ns.node=V.node,Ns.size=V.size,I.transition=function(e,t){return e&&e.transition?Ds?e.transition(t):e:I.selection().transition(e)},(I.transition.prototype=Ns).select=function(e){var t,n,i,r=this.id,a=this.namespace,o=[];e=W(e);for(var s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,d=l.length;++c<d;)(i=l[c])&&(n=e.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),Os(n,c,a,r,i[a][r]),t.push(n)):t.push(null)}return Ts(o,a,r)},Ns.selectAll=function(e){var t,n,i,r,a,o=this.id,s=this.namespace,u=[];e=Q(e);for(var l=-1,c=this.length;++l<c;)for(var d=this[l],h=-1,p=d.length;++h<p;)if(i=d[h]){a=i[s][o],n=e.call(i,i.__data__,h,l),u.push(t=[]);for(var m=-1,f=n.length;++m<f;)(r=n[m])&&Os(r,m,s,o,a),t.push(r)}return Ts(u,s,o)},Ns.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=se(e));for(var r=0,a=this.length;r<a;r++){i.push(t=[]);for(var o,s=0,u=(o=this[r]).length;s<u;s++)(n=o[s])&&e.call(n,n.__data__,s,r)&&t.push(n)}return Ts(i,this.namespace,this.id)},Ns.tween=function(t,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(t):ue(this,null==n?function(e){e[r][i].tween.remove(t)}:function(e){e[r][i].tween.set(t,n)})},Ns.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var i="transform"==e?ka:ha,r=I.ns.qualify(e);function a(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}return ks(this,"attr."+e,t,r.local?function(n){return null==n?o:(n+="",function(){var t,e=this.getAttributeNS(r.space,r.local);return e!==n&&(t=i(e,n),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}:function(n){return null==n?a:(n+="",function(){var t,e=this.getAttribute(r);return e!==n&&(t=i(e,n),function(e){this.setAttribute(r,t(e))})})})},Ns.attrTween=function(e,i){var r=I.ns.qualify(e);return this.tween("attr."+e,r.local?function(e,t){var n=i.call(this,e,t,this.getAttributeNS(r.space,r.local));return n&&function(e){this.setAttributeNS(r.space,r.local,n(e))}}:function(e,t){var n=i.call(this,e,t,this.getAttribute(r));return n&&function(e){this.setAttribute(r,n(e))}})},Ns.style=function(i,e,r){var t=arguments.length;if(t<3){if("string"!=typeof i){for(r in t<2&&(e=""),i)this.style(r,i[r],e);return this}r=""}function a(){this.style.removeProperty(i)}return ks(this,"style."+i,e,function(n){return null==n?a:(n+="",function(){var t,e=O(this).getComputedStyle(this,null).getPropertyValue(i);return e!==n&&(t=ha(e,n),function(e){this.style.setProperty(i,t(e),r)})})})},Ns.styleTween=function(i,r,a){return arguments.length<3&&(a=""),this.tween("style."+i,function(e,t){var n=r.call(this,e,t,O(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(e){this.style.setProperty(i,n(e),a)}})},Ns.text=function(e){return ks(this,"text",e,Is)},Ns.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ns.ease=function(t){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof t&&(t=I.ease.apply(I,arguments)),ue(this,function(e){e[i][n].ease=t}))},Ns.delay=function(i){var r=this.id,a=this.namespace;return arguments.length<1?this.node()[a][r].delay:ue(this,"function"==typeof i?function(e,t,n){e[a][r].delay=+i.call(e,e.__data__,t,n)}:(i=+i,function(e){e[a][r].delay=i}))},Ns.duration=function(i){var r=this.id,a=this.namespace;return arguments.length<1?this.node()[a][r].duration:ue(this,"function"==typeof i?function(e,t,n){e[a][r].duration=Math.max(1,i.call(e,e.__data__,t,n))}:(i=Math.max(1,i),function(e){e[a][r].duration=i}))},Ns.each=function(i,t){var r=this.id,a=this.namespace;if(arguments.length<2){var e=Ss,n=Ds;try{Ds=r,ue(this,function(e,t,n){Ss=e[a][r],i.call(e,e.__data__,t,n)})}finally{Ss=e,Ds=n}}else ue(this,function(e){e=e[a][r];(e.event||(e.event=I.dispatch("start","end","interrupt"))).on(i,t)});return this},Ns.transition=function(){for(var e,t,n,i=this.id,r=++Cs,a=this.namespace,o=[],s=0,u=this.length;s<u;s++){o.push(e=[]);for(var l,c=0,d=(l=this[s]).length;c<d;c++)(t=l[c])&&Os(t,c,a,r,{time:(n=t[a][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Ts(o,a,r)},I.svg.axis=function(){var b,A=I.scale.linear(),w=zs,x=6,E=6,L=3,T=[10],D=null;function n(e){e.each(function(){var e,t=I.select(this),n=this.__chart__||A,i=this.__chart__=A.copy(),r=null==D?i.ticks?i.ticks.apply(i,T):i.domain():D,a=null==b?i.tickFormat?i.tickFormat.apply(i,T):N:b,o=t.selectAll(".tick").data(r,i),s=o.enter().insert("g",".domain").attr("class","tick").style("opacity",be),u=I.transition(o.exit()).style("opacity",be).remove(),l=I.transition(o.order()).style("opacity",1),c=Math.max(x,0)+L,d=Eo(i),h=t.selectAll(".domain").data([0]),p=(h.enter().append("path").attr("class","domain"),I.transition(h));s.append("line"),s.append("text");var m,f,g,_,y,v,M=s.select("line"),r=l.select("line"),t=o.select("text").text(a),h=s.select("text"),o=l.select("text"),a="top"===w||"left"===w?-1:1;"bottom"===w||"top"===w?(e=Ps,m="x",g="y",f="x2",_="y2",t.attr("dy",a<0?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+d[0]+","+a*E+"V0H"+d[1]+"V"+a*E)):(e=Ys,m="y",g="x",f="y2",_="x2",t.attr("dy",".32em").style("text-anchor",a<0?"end":"start"),p.attr("d","M"+a*E+","+d[0]+"H0V"+d[1]+"H"+a*E)),M.attr(_,a*x),h.attr(g,a*c),r.attr(f,0).attr(_,a*x),o.attr(m,0).attr(g,a*c),i.rangeBand?(v=(y=i).rangeBand()/2,n=i=function(e){return y(e)+v}):n.rangeBand?n=i:u.call(e,i,n),s.call(e,n,i),l.call(e,i,i)})}return n.scale=function(e){return arguments.length?(A=e,n):A},n.orient=function(e){return arguments.length?(w=e in Rs?e+"":zs,n):w},n.ticks=function(){return arguments.length?(T=h(arguments),n):T},n.tickValues=function(e){return arguments.length?(D=e,n):D},n.tickFormat=function(e){return arguments.length?(b=e,n):b},n.tickSize=function(e){var t=arguments.length;return t?(x=+e,E=+arguments[t-1],n):x},n.innerTickSize=function(e){return arguments.length?(x=+e,n):x},n.outerTickSize=function(e){return arguments.length?(E=+e,n):E},n.tickPadding=function(e){return arguments.length?(L=+e,n):L},n.tickSubdivide=function(){return arguments.length&&n},n};var zs="bottom",Rs={top:1,right:1,bottom:1,left:1};function Ps(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate("+(isFinite(t)?t:i(e))+",0)"})}function Ys(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate(0,"+(isFinite(t)?t:i(e))+")"})}I.svg.brush=function(){var _,y,v=P(L,"brushstart","brush","brushend"),M=null,b=null,A=[0,0],w=[0,0],x=!0,E=!0,r=Us[0];function L(e){e.each(function(){var e=I.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(r,N);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Bs[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",L.empty()?"none":null);var i,e=I.transition(e),t=I.transition(t);M&&(i=Eo(M),t.attr("x",i[0]).attr("width",i[1]-i[0]),D(e)),b&&(i=Eo(b),t.attr("y",i[0]).attr("height",i[1]-i[0]),S(e)),T(e)})}function T(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+A[+/e$/.test(e)]+","+w[+/^s/.test(e)]+")"})}function D(e){e.select(".extent").attr("x",A[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",A[1]-A[0])}function S(e){e.select(".extent").attr("y",w[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",w[1]-w[0])}function a(){var u,e,n,i=this,t=I.select(I.event.target),r=v.of(i,arguments),a=I.select(i),o=t.datum(),s=!/^(n|s)$/.test(o)&&M,l=!/^(e|w)$/.test(o)&&b,c=t.classed("extent"),d=_e(i),h=I.mouse(i),p=I.select(O(i)).on("keydown.brush",function(){32==I.event.keyCode&&(c||(u=null,h[0]-=A[1],h[1]-=w[1],c=2),z())}).on("keyup.brush",function(){32==I.event.keyCode&&2==c&&(h[0]+=A[1],h[1]+=w[1],c=0,z())});function m(){var e=I.mouse(i),t=!1;n&&(e[0]+=n[0],e[1]+=n[1]),c||(I.event.altKey?(u=u||[(A[0]+A[1])/2,(w[0]+w[1])/2],h[0]=A[+(e[0]<u[0])],h[1]=w[+(e[1]<u[1])]):u=null),s&&f(e,M,0)&&(D(a),t=!0),l&&f(e,b,1)&&(S(a),t=!0),t&&(T(a),r({type:"brush",mode:c?"move":"resize"}))}function f(e,t,n){var i,r=Eo(t),a=r[0],o=r[1],s=h[n],t=n?w:A,r=t[1]-t[0];return c&&(a-=s,o-=r+s),e=(n?E:x)?Math.max(a,Math.min(o,e[n])):e[n],c?i=(e+=s)+r:(u&&(s=Math.max(a,Math.min(o,2*u[n]-e))),s<e?(i=e,e=s):i=s),t[0]!=e||t[1]!=i?(n?y=null:_=null,t[0]=e,t[1]=i,1):void 0}function g(){m(),a.style("pointer-events","all").selectAll(".resize").style("display",L.empty()?"none":null),I.select("body").style("cursor",null),p.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),d(),r({type:"brushend"})}I.event.changedTouches?p.on("touchmove.brush",m).on("touchend.brush",g):p.on("mousemove.brush",m).on("mouseup.brush",g),a.interrupt().selectAll("*").interrupt(),c?(h[0]=A[0]-h[0],h[1]=w[0]-h[1]):o?(e=+/w$/.test(o),o=+/^n/.test(o),n=[A[1-e]-h[0],w[1-o]-h[1]],h[0]=A[e],h[1]=w[o]):I.event.altKey&&(u=h.slice()),a.style("pointer-events","none").selectAll(".resize").style("display",null),I.select("body").style("cursor",t.style("cursor")),r({type:"brushstart"}),m()}return L.event=function(e){e.each(function(){var i=v.of(this,arguments),r={x:A,y:w,i:_,j:y},e=this.__chart__||r;this.__chart__=r,Ds?I.select(this).transition().each("start.brush",function(){_=e.i,y=e.j,A=e.x,w=e.y,i({type:"brushstart"})}).tween("brush:brush",function(){var t=pa(A,r.x),n=pa(w,r.y);return _=y=null,function(e){A=r.x=t(e),w=r.y=n(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){_=r.i,y=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},L.x=function(e){return arguments.length?(r=Us[!(M=e)<<1|!b],L):M},L.y=function(e){return arguments.length?(r=Us[!M<<1|!(b=e)],L):b},L.clamp=function(e){return arguments.length?(M&&b?(x=!!e[0],E=!!e[1]):M?x=!!e:b&&(E=!!e),L):M&&b?[x,E]:M?x:b?E:null},L.extent=function(e){var t,n,i,r,a;return arguments.length?(M&&(t=e[0],n=e[1],b&&(t=t[0],n=n[0]),_=[t,n],M.invert&&(t=M(t),n=M(n)),n<t&&(a=t,t=n,n=a),t==A[0]&&n==A[1]||(A=[t,n])),b&&(i=e[0],r=e[1],M&&(i=i[1],r=r[1]),y=[i,r],b.invert&&(i=b(i),r=b(r)),r<i&&(a=i,i=r,r=a),i==w[0]&&r==w[1]||(w=[i,r])),L):(M&&(_?(t=_[0],n=_[1]):(t=A[0],n=A[1],M.invert&&(t=M.invert(t),n=M.invert(n)),n<t&&(a=t,t=n,n=a))),b&&(y?(i=y[0],r=y[1]):(i=w[0],r=w[1],b.invert&&(i=b.invert(i),r=b.invert(r)),r<i&&(a=i,i=r,r=a))),M&&b?[[t,i],[n,r]]:M?[t,n]:b&&[i,r])},L.clear=function(){return L.empty()||(A=[0,0],w=[0,0],_=y=null),L},L.empty=function(){return!!M&&A[0]==A[1]||!!b&&w[0]==w[1]},I.rebind(L,v,"on")};var Bs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Us=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],d=Tt.format=a.timeFormat,a=(t=d.utc)("%Y-%m-%dT%H:%M:%S.%LZ");function Hs(e){return e.toISOString()}function Fs(t,r,e){function a(e){return t(e)}function o(e,t){var n=(e[1]-e[0])/t,i=I.bisect(Vs,n);return i==Vs.length?[r.year,Io(e.map(function(e){return e/31536e6}),t)[2]]:i?r[n/Vs[i-1]<Vs[i]/n?i-1:i]:[qs,Io(e,t)[2]]}return a.invert=function(e){return Gs(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain().map(Gs)},a.nice=function(t,n){var e=a.domain(),i=xo(e),i=null==t?o(i,10):"number"==typeof t&&o(i,t);function r(e){return!isNaN(e)&&!t.range(e,Gs(+e+1),n).length}return i&&(t=i[0],n=i[1]),a.domain(To(e,1<n?{floor:function(e){for(;r(e=t.floor(e));)e=Gs(e-1);return e},ceil:function(e){for(;r(e=t.ceil(e));)e=Gs(+e+1);return e}}:t))},a.ticks=function(e,t){var n=xo(a.domain()),i=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],Gs(+n[1]+1),t<1?1:t)},a.tickFormat=function(){return e},a.copy=function(){return Fs(t.copy(),r,e)},Co(a,t)}function Gs(e){return new Date(e)}d.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Hs:a,Hs.parse=function(e){e=new Date(e);return isNaN(e)?null:e},Hs.toString=a.toString,Tt.second=Ct(function(e){return new Dt(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Tt.seconds=Tt.second.range,Tt.seconds.utc=Tt.second.utc.range,Tt.minute=Ct(function(e){return new Dt(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Tt.minutes=Tt.minute.range,Tt.minutes.utc=Tt.minute.utc.range,Tt.hour=Ct(function(e){var t=e.getTimezoneOffset()/60;return new Dt(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Tt.hours=Tt.hour.range,Tt.hours.utc=Tt.hour.utc.range,Tt.month=Ct(function(e){return(e=Tt.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Tt.months=Tt.month.range,Tt.months.utc=Tt.month.utc.range;var Vs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ws=[[Tt.second,1],[Tt.second,5],[Tt.second,15],[Tt.second,30],[Tt.minute,1],[Tt.minute,5],[Tt.minute,15],[Tt.minute,30],[Tt.hour,1],[Tt.hour,3],[Tt.hour,6],[Tt.hour,12],[Tt.day,1],[Tt.day,2],[Tt.week,1],[Tt.month,1],[Tt.month,3],[Tt.year,1]],Qs=d.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",li]]),qs={range:function(e,t,n){return I.range(Math.ceil(e/n)*n,+t,n).map(Gs)},floor:N,ceil:N};Ws.year=Tt.year,Tt.scale=function(){return Fs(I.scale.linear(),Ws,Qs)};var Zs=Ws.map(function(e){return[e[0].utc,e[1]]}),Xs=t.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",li]]);function Js(e){return JSON.parse(e.responseText)}function Ks(e){var t=j.createRange();return t.selectNode(j.body),t.createContextualFragment(e.responseText)}Zs.year=Tt.year.utc,Tt.scale.utc=function(){return Fs(I.scale.linear(),Zs,Xs)},I.text=dt(function(e){return e.responseText}),I.json=function(e,t){return ht(e,"application/json",Js,t)},I.html=function(e,t){return ht(e,"text/html",Ks,t)},I.xml=dt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=I,define(I)):"object"==typeof module&&module.exports?module.exports=I:this.d3=I}(),function(){"use strict";var i,a="undefined"!=typeof process&&!process.browser;a&&(i=require("axios"));var o=!1,r=!1;try{void 0!==(new XMLHttpRequest).withCredentials?o=!0:"XDomainRequest"in window&&(r=o=!0)}catch(e){}function t(e,t){var n=0,i=e.length;if(s&&e.indexOf===s)return e.indexOf(t);for(;n<i;n++)if(e[n]===t)return n;return-1}var s=Array.prototype.indexOf,u=function(e){return this&&this instanceof u?("string"==typeof e&&(e={key:e}),this.callback=e.callback,this.error=e.error,this.wanted=e.wanted||[],this.key=e.key,this.simpleSheet=!!e.simpleSheet,this.parseNumbers=!!e.parseNumbers,this.wait=!!e.wait,this.reverse=!!e.reverse,this.postProcess=e.postProcess,this.debug=!!e.debug,this.query=e.query||"",this.orderby=e.orderby,this.endpoint=e.endpoint||"https://spreadsheets.google.com",this.singleton=!!e.singleton,this.simpleUrl=!(!e.simpleUrl&&!e.simple_url),this.authkey=e.authkey,this.sheetPrivacy=this.authkey?"private":"public",this.callbackContext=e.callbackContext,this.prettyColumnNames=void 0===e.prettyColumnNames?!e.proxy:e.prettyColumnNames,void 0!==e.proxy&&(this.endpoint=e.proxy.replace(/\/$/,""),this.simpleUrl=!0,this.singleton=!0,o=!1),this.parameterize=e.parameterize||!1,this.singleton&&(void 0!==u.singleton&&this.log("WARNING! Tabletop singleton already defined"),u.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),/spreadsheets\/d/.test(this.key)&&(this.log("You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)/")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath="/feeds/worksheets/"+this.key+"/"+this.sheetPrivacy+"/basic?alt=",this.baseJsonPath+=a||o?"json":"json-in-script",this.authkey&&(this.baseJsonPath+="&oauth_token="+this.authkey),this.wait?void 0:this.fetch()):void this.log("You need to pass Tabletop a key!")):new u(e)};u.callbacks={},u.init=function(e){return new u(e)},u.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},u.prototype={fetch:function(n){var i=this;return new Promise(function(e,t){void 0!==n&&(i.callback=n),i.callback||(i.callback=e),i.error||(i.error=t),i.requestData(i.baseJsonPath,i.loadSheets)})},requestData:function(e,t){var n;this.log("Requesting",e),this.encounteredError=!1,a?this.serverSideFetch(e,t):(n=this.endpoint.split("//").shift()||"http",!o||r&&n!==location.protocol?this.injectScript(e,t):this.xhrFetch(e,t))},xhrFetch:function(e,t){var n=new(r?XDomainRequest:XMLHttpRequest);n.open("GET",this.endpoint+e);var i=this;n.onload=function(){var e;try{e=JSON.parse(n.responseText)}catch(e){console.error(e)}t.call(i,e)},this.error&&n.addEventListener("error",this.error),n.send()},injectScript:function(e,t){var n,i,r=document.createElement("script");this.singleton?t===this.loadSheets?i="Tabletop.singleton.loadSheets":t===this.loadSheet&&(i="Tabletop.singleton.loadSheet"):(n=this,i="tt"+ +new Date+Math.floor(1e5*Math.random()),u.callbacks[i]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(n,e),r.parentNode.removeChild(r),delete u.callbacks[i]},i="Tabletop.callbacks."+i);var a=e+"&callback="+i;this.simpleUrl?-1!==e.indexOf("/list/")?r.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:r.src=this.endpoint+"/"+this.key:r.src=this.endpoint+a,this.parameterize&&(r.src=this.parameterize+encodeURIComponent(r.src)),this.log("Injecting",r.src),document.getElementsByTagName("script")[0].parentNode.appendChild(r)},serverSideFetch:function(e,t){var n=this;i.get(this.endpoint+e).then(function(e){t.call(n,e.data)}).catch(function(e){if(e)return console.error(e)})},isWanted:function(e){return 0===this.wanted.length||-1!==t(this.wanted,e)},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(1<this.modelNames.length&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){-1===t(this.wanted,e)&&this.wanted.push(e)},loadSheets:function(e){var t,n,i,r=[];try{this.googleSheetName=e.feed.title.$t}catch(e){return void this.error(e)}for(this.foundSheetNames=[],t=0,n=e.feed.entry.length;t<n;t++)this.foundSheetNames.push(e.feed.entry[t].title.$t),this.isWanted(e.feed.entry[t].content.$t)&&(i=e.feed.entry[t].link.length-1,i=e.feed.entry[t].link[i].href.split("/").pop(),i="/feeds/list/"+this.key+"/"+i+"/"+this.sheetPrivacy+"/values?alt=",i+=a||o?"json":"json-in-script",this.query&&(i+="&tq="+this.query),this.orderby&&(i+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(i+="&reverse=true"),this.authkey&&(i+="&oauth_token="+this.authkey),r.push(i));for(this.sheetsToLoad=r.length,t=0,n=r.length;t<n;t++)this.requestData(r[t],this.loadSheet)},sheets:function(e){return void 0===e?this.models:void 0!==this.models[e]?this.models[e]:void 0},sheetReady:function(e){this.models[e.name]=e,-1===t(this.modelNames,e.name)&&this.modelNames.push(e.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var t=this;new u.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&void 0!==console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},u.Model=function(e){var t,n,i;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,void 0===e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.originalColumns=[],this.elements=[],void this.ready();for(i in e.data.feed.entry[0])/^gsx/.test(i)&&this.columnNames.push(i.replace("gsx$",""));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,t=0,n=e.data.feed.entry.length;t<n;t++){for(var r=e.data.feed.entry[t],a={},o=0,s=this.columnNames.length;o<s;o++){var u=r["gsx$"+this.columnNames[o]];void 0!==u?e.parseNumbers&&""!==u.$t&&!isNaN(u.$t)?a[this.columnNames[o]]=+u.$t:a[this.columnNames[o]]=u.$t:a[this.columnNames[o]]=""}void 0===a.rowNumber&&(a.rowNumber=t+1),this.elements.push(a)}e.prettyColumnNames?this.fetchPrettyColumns():this.ready()},u.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),t=this;this.tabletop.requestData(e,function(e){t.loadPrettyColumns(e)})},beforeReady:function(){if(this.tabletop.postProcess)for(var e=0,t=this.elements.length;e<t;e++)this.tabletop.postProcess(this.elements[e])},ready:function(){this.beforeReady(),this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},n=this.columnNames,i=0,r=n.length;i<r;i++)void 0!==e.feed.entry[i].content.$t?t[n[i]]=e.feed.entry[i].content.$t:t[n[i]]=n[i];this.prettyColumns=t,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,n=[],i=[];for(a=0,o=this.columnNames.length;a<o;a++)i.push(this.prettyColumns[this.columnNames[a]]);for(e=0,t=this.elements.length;e<t;e++){for(var r={},a=0,o=this.columnNames.length;a<o;a++)r[this.prettyColumns[this.columnNames[a]]]=this.elements[e][this.columnNames[a]];n.push(r)}this.elements=n,this.columnNames=i},toArray:function(){for(var e=[],t=0,n=this.elements.length;t<n;t++){for(var i=[],r=0,a=this.columnNames.length;r<a;r++)i.push(this.elements[t][this.columnNames[r]]);e.push(i)}return e}},"undefined"!=typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):window.Tabletop=u}();var DATAVERSE=DATAVERSE||{};DATAVERSE.main=function(e){var t=this;window.onpopstate=function(e){e&&e.state&&location.reload()},t.options=e||{},t.run_app=function(){var t=this;t.assets=document.createElement("a-assets"),t.assets.classList.add("dataverse-added"),document.querySelector("a-scene").appendChild(t.assets);for(var e=[[[0,1.6,-4],[-4,1.6,0],[4,1.6,0],[0,1.6,4]],[[0,0,0],[0,90,0],[0,-90,0],[0,-180,0]]],n=0;n<e[0].length;n++){var i=document.createElement("a-plane");i.classList.add("dataverse-added"),i.setAttribute("position",{x:e[0][n][0],y:e[0][n][1],z:e[0][n][2]}),i.setAttribute("rotation",{x:e[1][n][0],y:e[1][n][1],z:e[1][n][2]}),i.setAttribute("width",1),i.setAttribute("height",1),i.setAttribute("src",DATAVERSE.paths.loading_thumbnail_static),document.querySelector("a-scene").appendChild(i);i=document.createElement("a-text");i.classList.add("dataverse-added"),i.setAttribute("position",{x:e[0][n][0],y:e[0][n][1]-.75,z:e[0][n][2]}),i.setAttribute("rotation",{x:e[1][n][0],y:e[1][n][1],z:e[1][n][2]}),i.setAttribute("width",5),i.setAttribute("font","exo2bold"),i.setAttribute("anchor","center"),i.setAttribute("align","center"),i.setAttribute("value","Loading sheet data"),document.querySelector("a-scene").appendChild(i)}t.urls=new DATAVERSE.urls({},t),t.renderer=new DATAVERSE.renderer({},t),t.state=new DATAVERSE.state({},t,function(){"tests"in t.options?t.options.tests.forEach(function(e){DATAVERSE.tests[e](t)}):(t.renderer.init_scenes(),t.renderer.render_scene())})},$(document).ready(function(){var e=document.querySelector("body");t.interstitial=document.createElement("div"),t.interstitial.setAttribute("id","dataverse-interstitial"),t.interstitial.classList.add("dataverse-added"),e.appendChild(t.interstitial),t.interstitial_image=document.createElement("div"),t.interstitial_image.setAttribute("id","dataverse-interstitial-image"),t.interstitial_image.classList.add("dataverse-added"),e.appendChild(t.interstitial_image),document.getElementById("dataverse-interstitial").addEventListener("click",function(e){document.querySelector("a-scene").style.display="block",this.parentNode.removeChild(this),t.interstitial_image.parentNode.removeChild(t.interstitial_image),e.stopPropagation()}),document.getElementById("dataverse-interstitial-image").addEventListener("click",function(e){document.querySelector("a-scene").style.display="block",this.parentNode.removeChild(this),t.interstitial.parentNode.removeChild(t.interstitial),e.stopPropagation()});e=document.querySelector("a-scene");e.hasLoaded?t.run_app():e.addEventListener("loaded",t.run_app())})},DATAVERSE.main.prototype={croak:function(e){console.log("CROAK"),console.log(e);var t=document.querySelector("body"),n=document.createElement("div");n.setAttribute("id","dataverse-interstitial"),n.classList.add("dataverse-added"),t.appendChild(n);n=document.createElement("div");n.setAttribute("id","dataverse-interstitial-image"),n.classList.add("dataverse-added"),t.appendChild(n);n=document.createElement("div");n.setAttribute("id","dataverse-interstitial-message"),n.classList.add("dataverse-added"),n.innerHTML="Error => "+e,t.appendChild(n),document.querySelector("a-scene").style.display="none"}},(DATAVERSE=DATAVERSE||{}).constants={default_theme:"dark",GOOGLE_UA:"UA-XXXXX-X"},DATAVERSE.cache={},DATAVERSE.paths={click_sound:"https://cdn.dataverse.xyz/audio/click.mp3",hover_sound:"https://cdn.dataverse.xyz/audio/hover.mp3",photo_thumbnail:"https://cdn.dataverse.xyz/img/plaholder-image.png",video_thumbnail:"https://cdn.dataverse.xyz/img/placeholder-video.png",viz_thumbnail:"https://cdn.dataverse.xyz/img/placeholder-vis.png",loading_thumbnail_static:"https://cdn.dataverse.xyz/img/loading_static.jpg"},DATAVERSE.dmms={close_button:40,plus_button:40,label:20,big_label:30,sublabel:16,subtitle:12,min_text:1,map_label:8,map_attribution:20},DATAVERSE.animation={geo:500,button:500},DATAVERSE.distances={close:1.75,panel:1.5},DATAVERSE.height=1.6,DATAVERSE.floor_vizs=["isotypes-radial-viz"],DATAVERSE.sky_vizs=["isotypes-radial-viz","timeline-viz","photogrid-viz","small-treemap-viz","tilemap-viz"],DATAVERSE.UIPACK_CONSTANTS={button_hover:1e3,menu_pitch:-90,menu_begin_pitch:-20,menu_distance:1.3,menu_tick_check:1,offset_player:.3,offset_buttons:.9,offset_icons:.15,icon_spacing:.05,menu_player_width:1,menu_player_height:.1,menu_player_button_radius:.03,button_spacing:.1,menu_button_width:3,icon_path:"themes/dark/icons/",button_radius:.05,button_distance:2.9,button_elevation:1.8,button_offset:.1,arc_color:"red",thumbnail_distance:3.1,thumbnail_elevation:1.8,thumbnail_icon:"arrow-up.png",play_icon:"play-circle-o.png",pause_icon:"pause-circle-o.png",label_distance:3.1,label_elevation:1.8,label_front_gap:.1,label_width:3},(DATAVERSE=DATAVERSE||{}).renderer=function(e,t){this.main=t,this.options=e},DATAVERSE.renderer.prototype={init_scenes:function(){this.scene=document.querySelector("a-scene"),this.camera=document.querySelector("a-camera"),this.cursor=document.querySelector("a-cursor")},render_intropanel:function(){var e=this;!(e.main.state.state.actual_scene in e.main.state.state.visited_scenes||"autohide_intro"in e.actual_scene_data&&"yes"===e.actual_scene_data.autohide_intro)?(e.intro_panel=document.createElement("a-entity"),e.intro_panel.classList.add("dataverse-added"),e.intro_panel.setAttribute("intro-panel",{theme:e.theme,credits:e.actual_scene_data.credits||"",title:e.actual_scene_data.title,text:e.actual_scene_data.explain,yaw:e.counter_cam_rotation}),e.scene.appendChild(e.intro_panel),e.intro_panel.addEventListener("closed",function(){e.cursor.setAttribute("raycaster",{near:0,objects:".clickable"}),e.laser_controls&&e.laser_controls.setAttribute("raycaster",{near:0,objects:".clickable"})})):(e.cursor.setAttribute("raycaster",{near:0,objects:".clickable"}),e.laser_controls&&e.laser_controls.setAttribute("raycaster",{near:0,objects:".clickable"}))},set_cursor:function(){var e=this;console.log("HEADSET",AFRAME.utils.checkHeadsetConnected(),AFRAME.utils.isMobile(),AFRAME.utils.isGearVR(),navigator.userAgent);var t=AFRAME.utils.isMobile(),n=AFRAME.utils.checkHeadsetConnected(),i=!t&&!n;e.cursor.parentNode.removeChild(e.cursor),e.cursor=document.createElement("a-entity"),e.camera.appendChild(e.cursor),e.cursor.setAttribute("id","cursor"),e.cursor.setAttribute("cursor",{rayOrigin:i?"mouse":"entity",fuse:!0,fuseTimeout:DATAVERSE.animation.button}),e.cursor.setAttribute("position",{x:0,y:0,z:-1}),e.cursor.setAttribute("geometry",{primitive:"ring",radiusInner:.01,radiusOuter:.02}),e.cursor.setAttribute("material",{color:e.theme_data.cursor_color,shader:"flat"}),e.cursor.setAttribute("visible",!i),AFRAME.utils.isMobile()&&AFRAME.utils.isGearVR()&&(t=!(n=!0)),e.cursor.setAttribute("raycaster",{near:0,objects:".non_click_while_loading"}),n&&!t&&(console.log("INSERTING LASER CONTROLS"),e.laser_controls=document.createElement("a-entity"),e.laser_controls.setAttribute("laser-controls",{}),e.laser_controls.classList.add("dataverse-added"),e.laser_controls.setAttribute("line",{color:e.theme_data.cursor_color}),e.laser_controls.setAttribute("raycaster",{near:0,objects:".non_click_while_loading"}),e.cursor.setAttribute("visible",!1),e.cursor.setAttribute("raycaster",{far:0}),e.scene.appendChild(e.laser_controls)),DATAVERSE.cursor_mode=i?"desktop":t?"gaze":"laser"},render_aux_assets:function(){var e=this;e.ambient_light=document.createElement("a-entity"),e.ambient_light.setAttribute("light",{type:"ambient",color:"#AAA"}),e.ambient_light.classList.add("dataverse-added"),e.directional_light=document.createElement("a-entity"),e.directional_light.setAttribute("light",{type:"directional",color:"#EEE",intensity:.5}),e.directional_light.setAttribute("position",{x:1,y:10,z:-1}),e.directional_light.classList.add("dataverse-added"),e.set_cursor(),e.scene.appendChild(e.directional_light),e.scene.appendChild(e.ambient_light)},render_menu:function(e){var n=this;n.menu=document.createElement("a-entity"),n.menu.classList.add("dataverse-added");var i=0===n.main.state.state.scene_history.length?{icons:["home.png"],names:["home"]}:{icons:["arrow-left.png","home.png"],names:["back","home"]};e?n.menu.setAttribute("uipack-menu",{theme:n.theme,icons:i.icons,buttons:[],media_id:e,open:!0}):n.menu.setAttribute("uipack-menu",{theme:n.theme,icons:i.icons,buttons:[],open:!0}),n.scene.appendChild(n.menu),n.menu.addEventListener("clicked",function(e){var t;"icon"===e.detail.type&&"home"===i.names[e.detail.index]&&(n.main.state.state.scene_history.push(n.main.state.state.actual_scene),t={Title:"",Url:window.location.origin+window.location.pathname+"?scene="+n.main.state.state.actual_scene},history.pushState(t,t.Title,t.Url),n.main.state.state.actual_scene=n.main.state.state.home_scene,n.render_scene()),"icon"===e.detail.type&&"back"===i.names[e.detail.index]&&0<n.main.state.state.scene_history.length&&(e=n.main.state.state.scene_history.pop(),n.main.state.state.actual_scene=e,n.render_scene())})},follow_link:function(e){this.main.state.state.scene_history.push(this.main.state.state.actual_scene);var t={Title:"",Url:window.location.origin+window.location.pathname+"?scene="+this.main.state.state.actual_scene};history.pushState(t,t.Title,t.Url),this.main.state.state.actual_scene=e,this.render_scene()},insert_loading_scene:function(){var e=document.createElement("img");e.setAttribute("id","loading_scene"),e.setAttribute("crossorigin","anonymous"),e.setAttribute("src",DATAVERSE.paths.loading_thumbnail_static),this.assets.appendChild(e);for(var t,n=[[[0,1.6,-4],[-4,1.6,0],[4,1.6,0],[0,1.6,4]],[[0,0,0],[0,90,0],[0,-90,0],[0,-180,0]]],i=0;i<n[0].length;i++)this.loaded_scene||((t=document.createElement("a-plane")).classList.add("dataverse-added","loading_scene"),t.setAttribute("position",{x:n[0][i][0],y:n[0][i][1],z:n[0][i][2]}),t.setAttribute("rotation",{x:n[1][i][0],y:n[1][i][1],z:n[1][i][2]}),t.setAttribute("width",1),t.setAttribute("height",1),t.setAttribute("src",DATAVERSE.paths.loading_thumbnail_static),document.querySelector("a-scene").appendChild(t),(t=document.createElement("a-text")).classList.add("dataverse-added","loading_scene"),t.setAttribute("position",{x:n[0][i][0],y:n[0][i][1]-.75,z:n[0][i][2]}),t.setAttribute("rotation",{x:n[1][i][0],y:n[1][i][1],z:n[1][i][2]}),t.setAttribute("width",5),t.setAttribute("font","exo2bold"),t.setAttribute("anchor","center"),t.setAttribute("align","center"),t.setAttribute("value","Loading scene"),document.querySelector("a-scene").appendChild(t))},render_scene:function(){var r=this;r.loaded_scene=!1,r.counter_cam_rotation=r.scene.camera.el.getAttribute("rotation").y,r.counter_cam_position=r.scene.camera.el.getAttribute("position");for(var e,t,n=[],i=0;i<r.scene.children.length;i++){var a=r.scene.children[i];a.classList.contains("dataverse-added")&&n.push(a)}n.forEach(function(e){r.scene.removeChild(e)}),r.assets=document.createElement("a-assets"),r.assets.classList.add("dataverse-added"),r.scene.appendChild(r.assets),r.actual_scene_data=r.main.state.state.scenes[r.main.state.state.actual_scene],void 0!==r.actual_scene_data&&r.actual_scene_data.type in AFRAME.components?(r.theme=""!==r.actual_scene_data.theme?r.theme=r.actual_scene_data.theme:DATAVERSE.constants.default_theme,r.theme_data=DATAVERSE.themes[r.theme],DATAVERSE.scene_number=r.main.state.state.actual_scene,DATAVERSE.UIPACK_CONSTANTS.icon_path=r.theme_data.icon_path,r.render_aux_assets(),r.actual_scene_component=document.createElement("a-entity"),r.actual_scene_component.classList.add("dataverse-added"),r.actual_scene_component.setAttribute("visible",!1),(e=AFRAME.utils.styleParser.parse(r.actual_scene_data.params)).title=r.actual_scene_data.title,e.explain=r.actual_scene_data.explain,e.source=r.main.state.state.scenes_data_source,"photo-viz"===r.actual_scene_data.type||"video-viz"===r.actual_scene_data.type?e.tab="labels":e.tab=r.actual_scene_data.tab,e.theme=r.theme,r.actual_scene_data.media_source&&(e.media_source=r.actual_scene_data.media_source),r.actual_scene_data.subtype&&(e.type=r.actual_scene_data.subtype),-1!==r.actual_scene_data.floor.indexOf(".")?(r.floor=document.createElement("a-plane"),r.floor.setAttribute("src",r.actual_scene_data.floor),r.floor.setAttribute("width",100),r.floor.setAttribute("height",100),r.floor.setAttribute("repeat","100 100"),r.floor.setAttribute("rotation",{x:-90,y:r.counter_cam_rotation,z:0}),r.floor.classList.add("dataverse-added"),r.floor.setAttribute("visible",!1),r.scene.appendChild(r.floor)):r.actual_scene_data.floor?(r.floor=document.createElement("a-plane"),r.floor.setAttribute("color",r.actual_scene_data.floor),r.floor.setAttribute("width",100),r.floor.setAttribute("height",100),r.floor.setAttribute("repeat","100 100"),r.floor.setAttribute("rotation",{x:-90,y:r.counter_cam_rotation,z:0}),r.floor.classList.add("dataverse-added"),r.floor.setAttribute("visible",!1),r.scene.appendChild(r.floor)):-1!==DATAVERSE.floor_vizs.indexOf(r.actual_scene_data.type.toLowerCase())&&(-1!==(t=r.theme_data.floor).indexOf(".")?(r.floor=document.createElement("a-plane"),r.floor.setAttribute("src",t)):(r.floor=document.createElement("a-plane"),r.floor.setAttribute("color",t)),r.floor.setAttribute("width",100),r.floor.setAttribute("height",100),r.floor.setAttribute("repeat","100 100"),r.floor.setAttribute("rotation",{x:-90,y:r.counter_cam_rotation,z:0}),r.floor.classList.add("dataverse-added"),r.floor.setAttribute("visible",!1),r.scene.appendChild(r.floor)),-1!==r.actual_scene_data.background.indexOf(".")?(r.sky=document.createElement("a-sky"),r.sky.setAttribute("src",r.actual_scene_data.background),r.sky.classList.add("dataverse-added"),r.sky.setAttribute("rotation",{x:0,y:r.counter_cam_rotation,z:0}),r.sky.setAttribute("visible",!1),r.scene.appendChild(r.sky)):r.actual_scene_data.background?(r.sky=document.createElement("a-sky"),r.sky.setAttribute("color",r.actual_scene_data.background),r.sky.classList.add("dataverse-added"),r.sky.setAttribute("rotation",{x:0,y:r.counter_cam_rotation,z:0}),r.sky.setAttribute("visible",!1),r.scene.appendChild(r.sky)):-1!==DATAVERSE.sky_vizs.indexOf(r.actual_scene_data.type.toLowerCase())&&(-1!==(t=r.theme_data.sky).indexOf(".")?(r.sky=document.createElement("a-sky"),r.sky.setAttribute("src",t)):(r.sky=document.createElement("a-sky"),r.sky.setAttribute("color",t)),r.sky.classList.add("dataverse-added"),r.sky.setAttribute("rotation",{x:0,y:r.counter_cam_rotation,z:0}),r.sky.setAttribute("visible",!1),r.scene.appendChild(r.sky)),"position"in e?(r.actual_scene_component.setAttribute("position",{x:r.counter_cam_position.x+e.position.split(" ")[0],y:r.actual_scene_component.getAttribute("position").y,z:r.counter_cam_position.z+ +e.position.split(" ")[2]}),delete e.position):r.actual_scene_component.setAttribute("position",{x:r.counter_cam_position.x,y:r.actual_scene_component.getAttribute("position").y,z:r.counter_cam_position.z}),"rotation"in e?(r.actual_scene_component.setAttribute("rotation",{x:e.rotation.split(" ")[0],y:(parseFloat(e.rotation.split(" ")[1])+r.counter_cam_rotation)%360,z:e.rotation.split(" ")[2]}),delete e.rotation):r.actual_scene_component.setAttribute("rotation",{x:0,y:r.counter_cam_rotation%360,z:0}),r.actual_scene_component.setAttribute(r.actual_scene_data.type,e),r.scene.appendChild(r.actual_scene_component),"video-viz"===r.actual_scene_data.type?r.actual_scene_component.addEventListener("asset_added",function(e){r.render_menu(e.detail.id)}):2<r.actual_scene_data.audio.length&&"video-viz"!==r.actual_scene_data.type?(r.audio=document.createElement("audio"),r.audio.classList.add("dataverse-added"),r.audio.setAttribute("crossorigin","anonymous"),r.audio.setAttribute("src",r.actual_scene_data.audio),r.audio.setAttribute("id","audio"),r.audio.setAttribute("autoplay",!0),r.audio.setAttribute("crossorigin","anonymous"),r.assets.appendChild(r.audio),r.render_menu("audio")):r.render_menu(),r.main.urls.set_params({scene:r.main.state.state.actual_scene,source:r.main.state.state.scenes_data_source}),r.back_sphere=document.createElement("a-sphere"),r.back_sphere.setAttribute("material",{shader:"flat",side:"back",color:"black"}),r.back_sphere.setAttribute("radius",5),r.back_sphere.setAttribute("opacity",1),r.back_sphere.classList.add("dataverse-added"),r.back_sphere.setAttribute("position",r.counter_cam_position),r.scene.appendChild(r.back_sphere),r.insert_loading_scene(),r.actual_scene_component.addEventListener("link",function(e){r.follow_link(e.detail.link)}),r.actual_scene_component.addEventListener("dv_loaded",function(e){r.loaded_scene=!0,r.actual_scene_component.setAttribute("visible",!0),r.sky&&r.sky.setAttribute("visible",!0),r.floor&&r.floor.setAttribute("visible",!0);var t=document.querySelectorAll(".skyspheres");[].forEach.call(t,function(e){e.setAttribute("visible",!0)});for(var n=r.scene.querySelectorAll(".loading_scene"),i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i]);r.render_intropanel(),r.main.state.state.visited_scenes[r.main.state.state.actual_scene]=!0,r.back_sphere.hasLoaded?((t=document.createElement("a-animation")).setAttribute("attribute","opacity"),t.setAttribute("dur",2e3),t.setAttribute("from",1),t.setAttribute("to",0),r.back_sphere.appendChild(t),t.addEventListener("animationend",function(){r.back_sphere.parentNode.removeChild(r.back_sphere)})):r.back_sphere.addEventListener("loaded",function(){var e=document.createElement("a-animation");e.setAttribute("attribute","opacity"),e.setAttribute("dur",2e3),e.setAttribute("from",1),e.setAttribute("to",0),r.back_sphere.appendChild(e),e.addEventListener("animationend",function(){r.back_sphere.parentNode.removeChild(r.back_sphere)})})})):r.main.croak("Invalid type of scene in row or nonexistent scene: "+r.main.state.state.actual_scene)}},(DATAVERSE=DATAVERSE||{}).state=function(e,t,n){this.main=t,this.options=e,this.state={actual_scene:this.main.urls.get_params().scene?parseInt(this.main.urls.get_params().scene,10):2,scene_history:[],visited_scenes:{}},this.load_app_data(n)},DATAVERSE.state.prototype={load_app_data:function(i){var r=this,e=r.main.urls.get_params();if("source"in r.main.options&&(e.source=r.main.options.source),r.state.scenes_data_source=e.source,"source"in e)try{Tabletop.init({key:e.source,callback:function(e,t){{var n;"scenes"in e?(DATAVERSE.cache[r.main.options.source]=e,r.state.scenes=t.sheets("scenes").elements,n={},r.state.home_scene=2,r.state.scenes.forEach(function(e,t){n[t+2]=e}),r.state.scenes=n,i()):r.main.croak("Malformed spreadsheet: No 'scenes' sheet")}},simpleSheet:!1,parseNumbers:!0})}catch(e){r.main.croak("Error accessing spreadsheet: ",e)}else r.main.croak("No source file detected in URL")}},(DATAVERSE=DATAVERSE||{}).syntax=function(e,t){this.main=t,this.options=e},DATAVERSE.syntax.prototype={example_function:function(){}},(DATAVERSE=DATAVERSE||{}).tests={test_one:function(e){this.main=e,console.log("ENTERING TEST ONE")}},(DATAVERSE=DATAVERSE||{}).themes={dark:{color_scale:"category20c",default_color:"#CCCCCC",cursor_color:"#F91100",arc_color:"#F91100",floor:"#313037",sky:"https://cdn.dataverse.xyz/themes/dark/ground-bg.new.png",icon_path:"https://cdn.dataverse.xyz/themes/dark/icons",text_color:"#E5E8F2",text_background:"#313037",text_font:"exo2bold",text_attribution_color:"#48a4cd",map_provider:"CartoDB.DarkMatter",earth_texture:"https://cdn.dataverse.xyz/themes/dark/textures/8081-earthmap10k.new.jpg",timeline_color:"#313037",panel_color:"#313037",panel_aux_color:"#313037",panel_font:"roboto",panel_title_font:"exo2bold",panel_background:"#FFFFFF",panel_backpanel:"#E5E8F2",player_background:"white",player_text_color:"black",player_font:"25px Roboto"},light:{color_scale:"category20c",default_color:"#333333",cursor_color:"#F91100",arc_color:"#F91100",floor:"#B1B0B9",sky:"https://cdn.dataverse.xyz/themes/light/ground-bg.new.png",icon_path:"https://cdn.dataverse.xyz/themes/light/icons",text_color:"#313037",text_background:"#E5E8F2",text_attribution_color:"#48a4cd",text_font:"exo2bold",map_provider:"CartoDB.Positron",earth_texture:"https://cdn.dataverse.xyz/themes/light/textures/8081-earthmap10k.new.jpg",timeline_color:"#BFF",panel_color:"#E5E8F2",panel_aux_color:"#E5E8F2",panel_font:"roboto",panel_title_font:"exo2bold",panel_background:"#000000",panel_backpanel:"#313037",player_background:"#000000",player_text_color:"white",player_font:"25px Roboto"}},(DATAVERSE=DATAVERSE||{}).urls=function(e,t){var d;this.main=t,this.options=e,(d=jQuery).deparam=function(e,u){var l={},c={true:!0,false:!1,null:null};return d.each(e.replace(/\+/g," ").split("&"),function(e,t){var n,t=t.split("="),i=decodeURIComponent(t[0]),r=l,a=0,o=i.split("]["),s=o.length-1,s=/\[/.test(o[0])&&/\]$/.test(o[s])?(o[s]=o[s].replace(/\]$/,""),(o=o.shift().split("[").concat(o)).length-1):0;if(2===t.length)if(n=decodeURIComponent(t[1]),u&&(n=n&&!isNaN(n)?+n:"undefined"===n?void 0:void 0!==c[n]?c[n]:n),s)for(;a<=s;a++)r=r[i=""===o[a]?r.length:o[a]]=a<s?r[i]||(o[a+1]&&isNaN(o[a+1])?{}:[]):n;else d.isArray(l[i])?l[i].push(n):void 0!==l[i]?l[i]=[l[i],n]:l[i]=n;else i&&(l[i]=u?void 0:"")}),l}},DATAVERSE.urls.prototype={get_params:function(){return $.deparam(location.search.substring(1))},set_params:function(e){window.history.replaceState({},document.title,window.location.origin+window.location.pathname+"?"+$.param(e))}},AFRAME.registerComponent("stereo",{schema:{eye:{type:"string",default:"left"},mode:{type:"string",default:"full"},split:{type:"string",default:"horizontal"}},init:function(){var e;this.video_click_event_added=!1,this.material_is_a_video=!1,null!==this.el.getAttribute("material")&&"src"in this.el.getAttribute("material")&&""!==this.el.getAttribute("material").src&&("object"==typeof(e=this.el.getAttribute("material").src)&&"tagName"in e&&"VIDEO"===e.tagName&&(this.material_is_a_video=!0));var t,n=this.el.object3D.children[0];if([THREE.SphereGeometry,THREE.SphereBufferGeometry,THREE.BufferGeometry].some(function(e){return n.geometry instanceof e})&&this.material_is_a_video){if(t="half"===this.data.mode?(t=this.el.getAttribute("geometry"),new THREE.SphereGeometry(t.radius||100,t.segmentsWidth||64,t.segmentsHeight||64,Math.PI/2,Math.PI,0,Math.PI)):(t=this.el.getAttribute("geometry"),new THREE.SphereGeometry(t.radius||100,t.segmentsWidth||64,t.segmentsHeight||64)),n.rotation.y=Math.PI/2,"left"===this.data.eye)for(var i=t.faceVertexUvs[0],r="vertical"===this.data.split?"y":"x",a=0;a<i.length;a++)for(var o=0;o<3;o++)"x"==r?i[a][o][r]*=.5:(i[a][o][r]*=.5,i[a][o][r]+=.5);if("right"===this.data.eye)for(i=t.faceVertexUvs[0],r="vertical"===this.data.split?"y":"x",a=0;a<i.length;a++)for(o=0;o<3;o++)"x"==r?(i[a][o][r]*=.5,i[a][o][r]+=.5):i[a][o][r]*=.5;n.geometry=(new THREE.BufferGeometry).fromGeometry(t)}else this.video_click_event_added=!0},update:function(e){var t=this.el.object3D.children[0],n=this.data;"both"===n.eye?t.layers.set(0):t.layers.set("left"===n.eye?1:2)},tick:function(e){this.video_click_event_added||void 0!==this.el.sceneEl.canvas&&(this.videoEl=this.el.object3D.children[0].material.map.image,this.video_click_event_added=!0)}}),AFRAME.registerComponent("stereocam",{schema:{eye:{type:"string",default:"left"}},init:function(){this.layer_changed=!1},tick:function(e){var i,t,n=this.data;this.layer_changed||(i=[],this.el.object3D.children.forEach(function(e,t,n){i[t]=e.type}),t=i.indexOf("PerspectiveCamera"),t=this.el.object3D.children[t],"both"===n.eye?(t.layers.enable(1),t.layers.enable(2)):t.layers.enable("left"===n.eye?1:2))}}),DATAVERSE_VIZ_AUX={color_scale:null,gsv_quality:4,global_tracking:{last_media:void 0,maps:{audio:{AUDIO_MAP:new WeakMap,CONTEXT_MAP:new WeakMap,ANALYSER_MAP:new WeakMap}}},non_theme_defaults:{color_scale:"category20",default_color:"black",cursor_color:"yellow",floor:"black",sky:"black",icon_path:"icons"},isInt:function(e){return e%1==0},pretty_print_number:function(e){return this.isInt(e)?e:e.toFixed(2)},return_color_scale_from_data:function(e){return e instanceof Array?d3.scale.ordinal().range(e):d3.scale[e]()},get_default_color_from_theme:function(e){return(""!==e?DATAVERSE.themes[e]:this.non_theme_defaults).default_color},get_color_scale_from_theme:function(e){return""!==e?this.return_color_scale_from_data(DATAVERSE.themes[e].color_scale):this.return_color_scale_from_data(this.non_theme_defaults.color_scale)},get_scene_type:function(t,n){if(void 0===t)return"";if(""===t)return"";try{var e=parseInt(t,10)-2,e=n.scenes.elements[e];return"photo-viz"===e.type?"photo":"video-viz"===e.type?"video":"viz"}catch(e){console.error("ERROR GETTING SCENE THUMBNAIL IN ",t,n,e.mesage)}},get_scene_thumbnail:function(t,n){if(void 0===t)return"";if(""===t)return"";try{var e=parseInt(t,10)-2,e=n.scenes.elements[e];if(e.thumbnail)return e.thumbnail;if(!e.media_source)return DATAVERSE.paths.viz_thumbnail;if("video-viz"===e.type)return DATAVERSE.paths.video_thumbnail;if("photo-viz"===e.type)return-1!==e.media_source.search(/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i)?e.media_source:DATAVERSE.paths.photo_thumbnail}catch(e){console.error("ERROR GETTING SCENE THUMBNAIL IN ",t,n,e.mesage)}},get_distance:function(e,t){var n=new THREE.Vector3;n.setFromMatrixPosition(e.object3D.matrixWorld);e=new THREE.Vector3;return e.setFromMatrixPosition(t.object3D.matrixWorld),new THREE.Vector3(n.x,n.y,n.z).distanceTo(new THREE.Vector3(e.x,e.y,e.z))},get_distance_xz:function(e,t){var n=new THREE.Vector3;n.setFromMatrixPosition(e.object3D.matrixWorld),n.setY(0);e=new THREE.Vector3;return e.setFromMatrixPosition(t.object3D.matrixWorld),e.setY(0),new THREE.Vector3(n.x,n.y,n.z).distanceTo(new THREE.Vector3(e.x,e.y,e.z))},yaw_pointing_to_object:function(e,t){var n=new THREE.Vector3;n.setFromMatrixPosition(e.object3D.matrixWorld),n.setY(0);e=new THREE.Vector3;e.setFromMatrixPosition(t.object3D.matrixWorld),e.setY(0);n=e.sub(n);return Math.atan2(-n.z,n.x)*THREE.Math.RAD2DEG-90},cam_destination_to_object:function(e,t,n){var i=new THREE.Vector3;i.setFromMatrixPosition(e.object3D.matrixWorld),i.setY(0);var r=new THREE.Vector3;r.setFromMatrixPosition(t.object3D.matrixWorld),r.setY(0);n=(n=(i.distanceTo(r)-n)/i.distanceTo(r))<0?0:n;return i.lerp(r,n).setY(e.getAttribute("position").y)},load_data:function(n,i,r,a){if(i.endsWith(".csv"))d3.csv(i,function(e){a&&a(e)});else if(i.includes("docs.google.com"))if(r){if(null!=DATAVERSE)if("cache"in DATAVERSE&&i in DATAVERSE.cache)r in DATAVERSE.cache[i]?a(DATAVERSE.cache[i][r].elements,DATAVERSE.cache[i]):a(null,DATAVERSE.cache[i]);else try{Tabletop.init({key:i,callback:function(e,t){r in e?(DATAVERSE.cache[i]=e,a(e[r].elements,e)):console.error("Seems like tab ",r," does not exist.",n,i,r)},parseNumbers:!0})}catch(e){console.error("Error accessing spreadsheet: ",e,n,i,r),a&&a(data)}}else try{Tabletop.init({key:i,callback:function(e,t){a(e)},simpleSheet:!0,parseNumbers:!0})}catch(e){console.error("Error accessing spreadsheet: ",n,e,i),a&&a(data)}else console.error("Data for viz is not in a recognizable format (csv or GSheets)",n),a(null)}},AFRAME.registerSystem("geo-viz",{schema:{},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("geo-viz",{schema:{initial_delay:{type:"number",default:7e3},source:{type:"string",default:""},tab:{type:"string",default:""},theme:{type:"string",default:""},point_radius:{type:"number",default:-1},point_radius_max:{type:"number",default:3},point_radius_min:{type:"number",default:1},arc_color:{type:"string",default:"red"},point_color:{type:"string",default:""},radius:{type:"number",default:50},legend_dmms:{type:"number",default:12},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},earth_texture:{type:"string",default:"img/8081-earthmap10k.jpg"},title:{type:"string",default:""},debug:{type:"boolean",default:!1}},init:function(){var n=this;n.rendered=!1,n.panel_timestamp=Date.now(),""!==n.data.source&&this.system.load_data("geo-viz",n.data.source,n.data.tab,function(e,t){null!==e?(n.scene_data=t,console.log(n.scene_data),n.geo_data=e,n.update()):console.error("Could not load data file ",n.data.source)})},calculate_max_mins:function(){var i=this;i.max_mins={radius:[]},i.geo_data.forEach(function(e){i.max_mins.radius.push(e.value)}),Object.keys(i.max_mins).forEach(function(e){var t,n=i.max_mins[e];0<n.length&&(t=d3.max(n),n=d3.min(n),i.max_mins[e]={max:t,min:n,scale:("radius"===e?d3.scale.sqrt():d3.scale.linear()).domain([n,t]).range([i.data[["point",e,"min"].join("_")],i.data[["point",e,"max"].join("_")]]).clamp(!0)})})},render_a_point:function(i,r){var t=this,e=i.long,n=i.lat,a=t.from_lat_lon_to_point(n,e,.95),o=a.x,s=a.y,a=a.z,u=document.createElement("a-circle");u.setAttribute("color",""!==i.color?i.color:DATAVERSE_VIZ_AUX.get_default_color_from_theme(t.data.theme)),u.setAttribute("radius",-1==t.data.point_radius?t.max_mins.radius.scale(i.value):t.data.point_radius),u.setAttribute("position",{x:o,y:s,z:a}),u.setAttribute("rotation",{x:n,y:-(e+90),z:0});var l,s=THREE.Math.radToDeg(Math.atan(u.getAttribute("radius")/t.data.radius))+2;u.classList.add("geo_geometry"),u.classList.add("clickable"),t.el.appendChild(u),""!=i.headline&&((a=document.createElement("a-text")).classList.add("geo_geometry"),n=i.headline,a.setAttribute("value",n),e=i.long,n=i.lat+s,s=t.from_lat_lon_to_point(n,e,.9),a.setAttribute("position",{x:s.x,y:s.y,z:s.z}),a.setAttribute("rotation",{x:n,y:-(e+90),z:0}),a.setAttribute("scale",{x:t.data.point_legend_scale,y:t.data.point_legend_scale,z:t.data.point_legend_scale}),a.setAttribute("align","center"),a.setAttribute("color",(t.data.theme?DATAVERSE.themes[t.data.theme]:t.data).text_color),a.setAttribute("font",(t.data.theme?DATAVERSE.themes[t.data.theme]:t.data).text_font),a.setAttribute("width",t.data.legend_dmms*t.data.radius*(i.headline.length+4)/1e3),a.setAttribute("wrap-count",i.headline.length+4),t.el.appendChild(a)),t.button_mode=DATAVERSE&&"cursor_mode"in DATAVERSE?DATAVERSE.cursor_mode:"desktop","desktop"===t.button_mode?(l=t.data,u.addEventListener("mousedown",function(e){new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),u.emit("clicked",null,!1)}),u.addEventListener("mouseenter",function(e){t.el.sceneEl.canvas.classList.remove("a-grab-cursor")}),u.addEventListener("mouseleave",function(e){t.el.sceneEl.canvas.classList.add("a-grab-cursor")})):(u.first_hover=!0,l=t.data,u.addEventListener("raycaster-intersected",function(e){var t=this;t.first_hover&&(t.ring=document.createElement("a-ring"),t.ring.setAttribute("radius-inner",+t.getAttribute("radius")),t.ring.setAttribute("radius-outer",1.2*t.getAttribute("radius")),t.ring.setAttribute("material","color:"+(l.theme?DATAVERSE.themes[l.theme]:t.data).arc_color),t.ring.setAttribute("visible",!0),t.appendChild(t.ring),t.animation=document.createElement("a-animation"),t.animation.setAttribute("easing","linear"),t.animation.setAttribute("attribute","geometry.thetaLength"),t.animation.setAttribute("dur",DATAVERSE.animation.geo),t.animation.setAttribute("from","0"),t.animation.setAttribute("to","360"),t.ring.appendChild(t.animation),t.el,t.first_hover=!1,t.animation.addEventListener("animationend",function(){var e=this.parentNode.parentNode;setTimeout(function(){t.first_hover=!0},500),new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),e.emit("clicked",null,!1),e.removeChild(t.ring)}))}),u.addEventListener("raycaster-intersected-cleared",function(e){this.first_hover=!0,this.ring.parentNode&&this.ring.parentNode.removeChild(this.ring)}));var c=t.data.theme,d=t.el,h=t,p=t.panel_timestamp;u.addEventListener("clicked",function(e){var t=this;h.el.sceneEl.restore_clickable&&h.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(t.sceneEl.camera.el,this);var n=t.sceneEl.camera.el.getAttribute("rotation").y%360;t.sceneEl.camera.el.getAttribute("rotation").x;if(t.sceneEl.media_panel&&t.sceneEl.media_panel.parentNode){if(t.sceneEl.media_panel_id===r)return;t.sceneEl.media_panel.parentNode.removeChild(t.sceneEl.media_panel)}t.media_panel=document.createElement("a-entity"),t.media_panel.setAttribute("position",t.sceneEl.camera.el.getAttribute("position")),t.media_panel.setAttribute("shadow",{cast:!0}),t.media_panel.classList.add("dataverse-added"),t.media_panel.setAttribute("uipack-mediapanel",{yaw:n,theme:c,distance:DATAVERSE.distances.panel,title:i.headline,text:i.text,media_url:i.media,media_caption:i.media_caption,media_credit:i.media_credit,link:i.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(i.link,h.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(i.link,h.scene_data),id:"point_"+r+"_"+p}),t.media_panel.addEventListener("link",function(e){d.emit("link",{link:e.detail.link},!1)}),t.sceneEl.appendChild(t.media_panel),t.sceneEl.media_panel=t.media_panel,t.sceneEl.media_panel_id=r,h.el.sceneEl.restore_clickable=this,h.el.sceneEl.restore_clickable.classList.remove("clickable")})},from_lat_lon_to_point:function(e,t,n){return{x:this.data.radius*n*Math.cos(THREE.Math.degToRad(e))*Math.cos(THREE.Math.degToRad(t)),y:this.data.radius*n*Math.sin(THREE.Math.degToRad(e)),z:this.data.radius*n*Math.cos(THREE.Math.degToRad(e))*Math.sin(THREE.Math.degToRad(t))}},render_points:function(){var n=this;n.geo_data.forEach(function(e,t){n.render_a_point(e,t)})},render_earth:function(){var e=this,t=document.getElementsByTagName("a-assets")[0],n=document.createElement("img");n.setAttribute("id","skymap"),n.setAttribute("crossorigin","anonymous"),n.setAttribute("src",(e.data.theme?DATAVERSE.themes[e.data.theme]:e.data).earth_texture),t.appendChild(n),e.map_sphere=document.createElement("a-sphere"),e.map_sphere.classList.add("skyspheres"),e.map_sphere.classList.add("dataverse-added"),e.map_sphere.setAttribute("visible",!1),e.map_sphere.setAttribute("geometry",{primitive:"sphere",radius:e.data.radius,segmentsWidth:64,segmentsHeight:64}),e.map_sphere.setAttribute("material",{shader:"flat",src:"#skymap",side:"back"}),e.map_sphere.setAttribute("scale","1 1 -1"),e.map_sphere.setAttribute("rotation",{x:0,y:e.el.getAttribute("rotation").y,z:0}),e.map_sphere.setAttribute("position",e.el.getAttribute("position")),n.addEventListener("load",function(){e.calculate_max_mins(),e.render_points(),e.el.emit("dv_loaded",null,!1)}),e.el.sceneEl.appendChild(e.map_sphere)},update:function(e){void 0===this.geo_data||this.rendered||(this.rendered=!0,this.render_earth())},remove:function(){}});var GSVPANO=GSVPANO||{};GSVPANO.PanoLoader=function(e){"use strict";var s,u,e=e||{},t=new google.maps.StreetViewService,l=0,c=0,i=document.createElement("canvas"),r=i.getContext("2d");this.setProgress=function(e){this.onProgress&&this.onProgress(e)},this.throwError=function(e){this.onError?this.onError(e):console.error(e)},this.adaptTextureToZoom=function(){var e=416*Math.pow(2,s),t=416*Math.pow(2,s-1);i.width=e,i.height=t,r.translate(i.width,0),r.scale(-1,1)},this.composeFromTile=function(e,t,n){r.drawImage(n,512*e,512*t),l++;t=Math.round(100*l/c);this.setProgress(t),l===c&&(this.canvas=i,this.loading=!1,this.onPanoramaLoad&&this.onPanoramaLoad())},this.composePanorama=function(e){this.setProgress(0);var i,t,n,r=Math.pow(2,s),a=Math.pow(2,s-1),o=this;for(3==s&&--r,4==s&&(r-=3,--a),c=r*a,n=l=0;n<a;n++)for(t=0;t<r;t++)i="https://maps.google.com/cbk?output=tile&panoid="+u+"&zoom="+s+"&x="+t+"&y="+n,e||(i+="&"+Date.now()),function(e,t){var n=new Image;n.addEventListener("load",function(){o.composeFromTile(e,t,this)}),n.crossOrigin="",n.src=i}(t,n)},this.loadCB=function(e,t,n,i){var r=this;t===google.maps.StreetViewStatus.OK?(r.onPanoramaData&&r.onPanoramaData(e),n=google.maps.geometry.spherical.computeHeading(n,e.location.latLng),e.tiles.centerHeading,Math.PI,e.copyright,r.copyright=e.copyright,r.links=e.links,r.heading=e.tiles.centerHeading,u=e.location.pano,r.location=e.location,r.composePanorama(i)):(r.onNoPanoramaData&&r.onNoPanoramaData(t),r.loading=!1,r.throwError("Could not retrieve panorama for the following reason: "+t))},this.load=function(n,i){var r=this;r.loading||(r.loading=!0,i=i||!0,"string"==typeof n?t.getPanoramaById(n,function(e,t){r.loadCB(e,t,n,i)}):t.getPanoramaByLocation(n,50,function(e,t){r.loadCB(e,t,n,i)}))},this.setZoom=function(e){s=e,this.adaptTextureToZoom()},this.setZoom(e.zoom||1)},AFRAME.registerComponent("intro-panel",{schema:{distance:{type:"number",default:1.5},theme:{type:"string",default:""},yaw:{type:"number",default:0},pitch:{type:"number",default:0},coverage:{type:"number",default:60},height:{type:"number",default:30},text_color:{type:"string",default:"black"},text_font:{type:"string",default:"roboto"},title_font:{type:"string",default:"roboto"},background_color:{type:"string",default:"white"},title:{type:"string",default:""},text:{type:"string",default:""},credits:{type:"string",default:""}},init:function(){this.is_loaded=!1,this.constants={dmm:{title:40,body:18,credits:12,loading:12,link:16},separations:{title:.2,body:0,loading:.2,credits:.1},overlap_factor:.99,margin:.1,gif_height:.1,gif_pos:-.7},this.el.classList.add("intro-panel","clickable"),this.el.setAttribute("rotation",{x:this.data.pitch,y:this.data.yaw,z:0}),this.el.setAttribute("visible",!1)},get_count_from_dmms:function(e,t,n){return Math.floor(1e3*e/(t*n))},draw_text:function(){var i=this,r=i.data.distance,a=i.width*(1-2*i.constants.margin),o=i.height;i.title=document.createElement("a-entity"),i.title.setAttribute("text",{value:i.data.title,align:"center",baseline:"top",width:a,wrapCount:i.get_count_from_dmms(a,r*i.constants.overlap_factor,i.constants.dmm.title),color:i.data.theme?DATAVERSE.themes[i.data.theme].panel_color:i.data.text_color,font:i.data.theme?DATAVERSE.themes[i.data.theme].panel_title_font:i.data.title_font});var n=o/2-o*i.constants.separations.title;i.title.setAttribute("position",{x:0,y:n,z:-(r*i.constants.overlap_factor)}),i.title.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),i.title.setAttribute("material",{shader:"flat",visible:!1}),i.text_panel.appendChild(i.title),i.total_height=o*i.constants.separations.title,i.title.addEventListener("textfontset",function(){var e=i.title.components.geometry.data.height;i.total_height+=e+o*i.constants.separations.body;var t=n-o*i.constants.separations.body-e;i.text=document.createElement("a-entity"),i.text.setAttribute("text",{value:i.data.text,align:"center",anchor:"center",baseline:"top",width:a,wrapCount:i.get_count_from_dmms(a,r*i.constants.overlap_factor,i.constants.dmm.body),color:i.data.theme?DATAVERSE.themes[i.data.theme].panel_color:i.data.text_color,font:i.data.theme?DATAVERSE.themes[i.data.theme].panel_font:i.data.text_font}),i.text.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),i.text.setAttribute("material",{shader:"flat",visible:!1}),i.text.setAttribute("position",{x:0,y:t,z:-(r*i.constants.overlap_factor)}),i.text_panel.appendChild(i.text),i.text.addEventListener("textfontset",function(){var e=i.text.components.geometry.data.height+o*i.constants.separations.credits;i.total_height+=e+o*i.constants.separations.credits;var n=t-o*i.constants.separations.credits-e;i.credits=document.createElement("a-entity"),i.credits.setAttribute("text",{value:i.data.credits,align:"center",anchor:"center",baseline:"top",width:a,wrapCount:i.get_count_from_dmms(a,r*i.constants.overlap_factor,i.constants.dmm.credits),color:i.data.theme?DATAVERSE.themes[i.data.theme].panel_color:i.data.text_color,font:i.data.theme?DATAVERSE.themes[i.data.theme].panel_font:i.data.text_font}),i.credits.setAttribute("position",{x:0,y:n,z:-(r*i.constants.overlap_factor)}),i.credits.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),i.credits.setAttribute("material",{shader:"flat",visible:!1}),i.text_panel.appendChild(i.credits),i.credits.addEventListener("textfontset",function(){var e=i.credits.components.geometry.data.height;i.total_height+=e+o*i.constants.separations.loading,i.loading_position=n-e-o*i.constants.separations.loading,i.close=document.createElement("a-entity"),i.close.setAttribute("uipack-button",{theme:i.data.theme,icon_name:"times-circle.png",radius:DATAVERSE.dmms.close_button*i.data.distance/1e3}),i.close.setAttribute("position",{x:0,y:-i.height/2,z:-i.data.distance*i.constants.overlap_factor}),i.close.classList.add("non_click_while_loading");var t=i.el;i.close.addEventListener("clicked",function(){i.el.emit("closed"),t.parentNode.removeChild(t)}),i.el.appendChild(i.close),i.fix_positions()})})})},fix_positions:function(){var e=this;e.old_height=e.height,e.new_height_margins=e.total_height*(1+2*e.constants.margin),e.new_height_margins=e.total_height,e.new_height=e.total_height,e.back_panel.setAttribute("height",e.new_height_margins),e.offset_y=e.new_height-e.old_height,e.text_panel.setAttribute("position",{x:0,y:e.offset_y/2,z:0}),e.height=e.new_height_margins,e.close&&e.close.setAttribute("position",{x:0,y:-e.height/2,z:-e.data.distance*e.constants.overlap_factor}),e.el.setAttribute("visible",!0)},update:function(e){var t=this;t.back_panel=document.createElement("a-plane"),t.height=2*t.data.distance*Math.tan(THREE.Math.degToRad(t.data.height/2)),t.width=2*t.data.distance*Math.tan(THREE.Math.degToRad(t.data.coverage/2));var n=t.el.sceneEl.camera.el.getAttribute("position");t.el.setAttribute("position",{x:n.x,y:DATAVERSE.height,z:n.z}),t.back_panel.setAttribute("height",t.height),t.back_panel.setAttribute("width",t.width),t.back_panel.setAttribute("material",{shader:"flat",color:t.data.theme?DATAVERSE.themes[t.data.theme].panel_background:t.data.background_color}),t.back_panel.setAttribute("position",{x:0,y:0,z:-t.data.distance}),t.el.appendChild(t.back_panel),t.text_panel=document.createElement("a-entity"),t.text_panel.setAttribute("position",{x:0,y:0,z:0}),t.el.appendChild(t.text_panel),t.draw_text()},tick:function(e){}}),AFRAME.registerSystem("isotypes-radial-viz",{schema:{},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("isotypes-radial-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},text_color:{type:"string",default:"white"},text_background:{type:"string",default:"#222"},text_font:{type:"string",default:"roboto"},legend_height:{type:"float",default:2},sublegend_height:{type:"float",default:1},theme:{type:"string",default:""},size:{type:"float",default:5},title:{type:"string",default:""},explain:{type:"string",default:""},gap_ratio:{type:"string",default:.1},group_gap:{type:"float",default:5},subgroup_gap:{type:"float",default:2.5},degrees:{type:"float",default:360}},init:function(){var n=this;n.panel_timestamp=Date.now(),""!==n.data.source&&this.system.load_data("isotypes",n.data.source,n.data.tab,function(e,t){null!==e?(n.scene_data=t,n.objects=[],n.titles=[],n.isotype_data=n.system.parse_data(e,n.data),n.color_scale=DATAVERSE_VIZ_AUX.get_color_scale_from_theme(n.data.theme),n.update()):(console.error("Could not load data file ",n.data.source),console.log(n.isotype_data))})},render_one:function(e,t,n){var i=document.createElement("a-plane");i.setAttribute("transparent",!0),i.setAttribute("shader","flat"),i.setAttribute("src","#"+n[e.image]),1<e.color.length?i.setAttribute("color",e.color):i.setAttribute("color",this.color_scale(e.group+"_"+e.subgroup_title)),i.setAttribute("rotation",{x:0,y:t/Math.PI*180+180,z:0});var r=document.getElementById(n[e.image]),n=r.naturalWidth,e=r.naturalHeight,r=2*Math.sin(this.object_separation*(1-this.data.gap_ratio)/2)*this.data.size,n=e/n*r;i.setAttribute("height",n),i.setAttribute("width",r),i.setAttribute("position",{x:this.data.size*Math.sin(t),y:n/2,z:this.data.size*Math.cos(t)}),n>this.max_height&&(this.max_height=n),this.el.appendChild(i)},check_images:function(){var n=!0;this.images.forEach(function(e,t){!1===e.loaded&&(n=!1)}),n&&this.el.emit("loaded_images",null,!1)},add_more_button:function(e,t,n,i){var r,a,o=this;"subgroups"in t&&!("subgroups"in t&&0==t.subgroups)||""!==(r=t.datum).headline&&(a=document.createElement("a-entity"),t=DATAVERSE.dmms.plus_button*o.data.size/1e3,a.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"plus.png",radius:DATAVERSE.dmms.plus_button*o.data.size/1e3}),a.setAttribute("position",{x:0,y:i/2+1.5*t,z:0}),e.appendChild(a),a.addEventListener("clicked",function(){o.el.sceneEl.restore_clickable&&o.el.sceneEl.restore_clickable.classList.add("clickable");var e=o.el.sceneEl.camera.el.getAttribute("rotation").y%360;o.el.sceneEl.camera.el.getAttribute("rotation").x;o.el.sceneEl.media_panel&&o.el.sceneEl.media_panel.parentNode&&o.el.sceneEl.media_panel.parentNode.removeChild(o.el.sceneEl.media_panel),o.media_panel=document.createElement("a-entity");var t=o.el.sceneEl.camera.el.getAttribute("position");o.media_panel.setAttribute("position",{x:t.x,y:t.y,z:t.z}),o.media_panel.classList.add("dataverse-added"),o.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:o.data.theme,title:r.headline,subtitle:"",text:r.text,media_url:r.media,media_caption:r.media_caption,media_credit:r.media_credit,link:r.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(r.link,o.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(r.link,o.scene_data),id:"isotype"+n+"_"+o.panel_timestamp}),o.media_panel.addEventListener("link",function(e){o.el.emit("link",{link:e.detail.link},!1)}),o.el.sceneEl.appendChild(o.media_panel),o.el.sceneEl.media_panel=o.media_panel,o.el.sceneEl.restore_clickable=this,o.el.sceneEl.restore_clickable.classList.remove("clickable")}))},update:function(e){var c=this;if(void 0!==c.isotype_data&&void 0===c.group_info){c.num_groups=0,c.num_subgroups=0,c.num_objects=0,c.group_info={},c.subgroup_info={},c.max_height=0;for(var d=null,t=0;t<c.isotype_data.length;t++)(m=c.isotype_data[t]).group!=d&&(d=m.group,c.group_info[m.group]={start_radians:THREE.Math.DEG2RAD*c.data.degrees,end_radians:0,title:m.title,datum:m,subgroups:!1},c.num_groups++),0<m.subgroup_title.length&&(c.group_info[m.group].subgroups=!0,c.subgroup_info[c.num_subgroups]={group:m.group,start_radians:THREE.Math.DEG2RAD*c.data.degrees,end_radians:0,title:m.subgroup_title,datum:m},c.num_subgroups++),c.num_objects+=m.count;c.length=THREE.Math.DEG2RAD*c.data.degrees-c.num_groups*(THREE.Math.DEG2RAD*c.data.group_gap)-(c.num_subgroups-1)*(THREE.Math.DEG2RAD*c.data.subgroup_gap),c.object_separation=c.length/c.num_objects;var d=-1,h=-1,n=document.querySelector("a-assets"),p={};c.images=[];for(var i=0,t=0;t<c.isotype_data.length;t++){var m,r,a;(m=c.isotype_data[t]).image;m.image in p||(r="img_"+i,p[m.image]=r,(a=document.createElement("img")).setAttribute("id",r),a.setAttribute("src",m.image+"?"+Date.now()),a.setAttribute("crossorigin","anonymous"),n.appendChild(a),c.images.push({el:a,id:r,loaded:!1}),i++)}c.images.forEach(function(e){e.el.addEventListener("load",function(){e.loaded=!0,c.check_images()})}),c.el.addEventListener("loaded_images",function(){for(var e=0,t=0;t<c.isotype_data.length;t++){(m=c.isotype_data[t]).group!=d?(d=m.group,e+=THREE.Math.DEG2RAD*c.data.group_gap,""!==m.subgroup_title&&h++):(e+=THREE.Math.DEG2RAD*c.data.subgroup_gap,h++);for(var n=0<m.subgroup_title.length,i=0;i<m.count;i++)e<c.group_info[m.group].start_radians&&(c.group_info[m.group].start_radians=e),e>c.group_info[m.group].end_radians&&(c.group_info[m.group].end_radians=e),n&&(e<c.subgroup_info[h].start_radians&&(c.subgroup_info[h].start_radians=e),e>c.subgroup_info[h].end_radians&&(c.subgroup_info[h].end_radians=e)),c.render_one(m,e,p),e+=c.object_separation}for(var r=0,t=0;t<Object.keys(c.group_info).length;t++){m=c.group_info[Object.keys(c.group_info)[t]];var a=document.createElement("a-entity"),e=(m.start_radians+m.end_radians)/2;a.setAttribute("position",{x:c.data.size*Math.sin(e),y:c.data.legend_height,z:c.data.size*Math.cos(e)}),a.setAttribute("rotation",{x:0,y:180<e/Math.PI*180?e/Math.PI*180-180:180+e/Math.PI*180,z:0});var o=m.datum.real_number&&!m.subgroups?m.title+" ("+m.datum.real_number+")":m.title,s=DATAVERSE.dmms.label*c.data.size*(o.length+4)/1e3;a.setAttribute("text",{value:o,align:"center",font:(c.data.theme?DATAVERSE.themes[c.data.theme]:c.data).text_font,color:(c.data.theme?DATAVERSE.themes[c.data.theme]:c.data).text_color,width:s,wrapCount:o.length+4,zOffset:.01});var u=DATAVERSE.dmms.label*c.data.size/1e3*3;a.setAttribute("geometry",{primitive:"plane",height:u,width:"auto"}),a.setAttribute("material",{color:(c.data.theme?DATAVERSE.themes[c.data.theme]:c.data).text_background,shader:"flat"}),c.add_more_button(a,m,r,u),c.el.appendChild(a),r++}var l=0;for(t=0;t<Object.keys(c.subgroup_info).length;t++){m=c.subgroup_info[Object.keys(c.subgroup_info)[t]],a=document.createElement("a-entity"),e=(m.start_radians+m.end_radians)/2,a.setAttribute("position",{x:c.data.size*Math.sin(e),y:c.data.sublegend_height,z:c.data.size*Math.cos(e)}),a.setAttribute("rotation",{x:0,y:180<e/Math.PI*180?e/Math.PI*180-180:180+e/Math.PI*180,z:0});o=m.datum.real_number?m.title+" ("+m.datum.real_number+")":m.title,s=DATAVERSE.dmms.sublabel*c.data.size*(o.length+4)/1e3,u=DATAVERSE.dmms.sublabel*c.data.size/1e3*3;a.setAttribute("text",{value:o,font:(c.data.theme?DATAVERSE.themes[c.data.theme]:c.data).text_font,align:"center",color:(c.data.theme?DATAVERSE.themes[c.data.theme]:c.data).text_color,width:s,wrapCount:o.length+4,zOffset:.01}),a.setAttribute("geometry",{primitive:"plane",height:u,width:"auto"}),a.setAttribute("material",{color:(c.data.theme?DATAVERSE.themes[c.data.theme]:c.data).text_background,shader:"flat"}),c.add_more_button(a,m,"sub"+l,u),c.el.appendChild(a),l++}c.el.emit("dv_loaded",null,!1)})}},remove:function(){}}),AFRAME.registerComponent("photo-viz",{schema:{media_source:{type:"string",default:""},source:{type:"string",default:""},tab:{type:"string",default:""},theme:{type:"string",default:""},title_scale:{type:"float",default:1.5},explain_scale:{type:"float",default:1},title:{type:"string",default:""},explain:{type:"string",default:""},label_distance:{type:"number",default:10},label_height:{type:"number",default:1.6},label_background:{type:"string",default:"black"},label_color:{type:"string",default:"white"},label_font:{type:"string",default:"roboto"},debug:{type:"boolean",default:!1}},init:function(){var e;this.panel_timestamp=Date.now(),0==document.getElementsByTagName("a-sky").length&&((e=document.createElement("a-sky")).classList.add("dataverse-added"),document.getElementsByTagName("a-scene")[0].appendChild(e)),document.getElementsByTagName("a-sky")[0].setAttribute("rotation",{x:0,y:this.el.getAttribute("rotation").y,z:0}),document.getElementsByTagName("a-sky")[0].classList.add("skyspheres")},add_more_button:function(e,n,i,t){var r,a,o=this;""!==n.headline&&""!==n.text&&(r=document.createElement("a-entity"),a=DATAVERSE.dmms.plus_button*o.data.label_distance/1e3,r.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"plus.png",radius:a}),r.setAttribute("position",{x:0,y:t/2+1.5*a,z:0}),e.appendChild(r),r.addEventListener("clicked",function(){o.el.sceneEl.restore_clickable&&o.el.sceneEl.restore_clickable.classList.add("clickable");var e=o.el.sceneEl.camera.el.getAttribute("rotation").y%360;o.el.sceneEl.camera.el.getAttribute("rotation").x;o.el.sceneEl.media_panel&&o.el.sceneEl.media_panel.parentNode&&o.el.sceneEl.media_panel.parentNode.removeChild(o.el.sceneEl.media_panel),o.media_panel=document.createElement("a-entity");var t=o.el.sceneEl.camera.el.getAttribute("position");o.media_panel.setAttribute("position",{x:t.x,y:t.y,z:t.z}),o.media_panel.classList.add("dataverse-added"),o.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:o.data.theme,title:n.headline,subtitle:"",text:n.text,media_url:n.media,media_caption:n.media_caption,media_credit:n.media_credit,link:n.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(n.link,o.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(n.link,o.scene_data),id:"photo-viz"+i+"_"+o.panel_timestamp}),o.media_panel.addEventListener("link",function(e){o.el.emit("link",{link:e.detail.link},!1)}),o.el.sceneEl.appendChild(o.media_panel),o.el.sceneEl.media_panel=o.media_panel,o.el.sceneEl.restore_clickable=this,o.el.sceneEl.restore_clickable.classList.remove("clickable")}))},render_tab:function(){var a=this;a.prepared_data.forEach(function(e,t){var n,i,r;e.scene===DATAVERSE.scene_number&&(n=document.createElement("a-entity"),i=(e.yaw+180)*THREE.Math.DEG2RAD,n.setAttribute("position",{x:a.data.label_distance*Math.sin(i),y:"height"in e&&"number"==typeof e.height?e.height:a.data.label_height,z:a.data.label_distance*Math.cos(i)}),n.setAttribute("rotation",{x:0,y:180<i/Math.PI*180?i/Math.PI*180-180:180+i/Math.PI*180,z:0}),r=e.headline,i=DATAVERSE.dmms.label*a.data.label_distance*(r.length+4)/1e3,n.setAttribute("text",{value:r,align:"center",color:a.data.theme?DATAVERSE.themes[a.data.theme].text_color:a.data.label_color,font:a.data.theme?DATAVERSE.themes[a.data.theme].text_font:a.data.label_font,width:i,wrapCount:r.length+4,zOffset:.01}),r=DATAVERSE.dmms.label*a.data.label_distance/1e3*3,n.setAttribute("geometry",{primitive:"plane",height:r,width:"auto"}),n.setAttribute("material",{color:a.data.theme?DATAVERSE.themes[a.data.theme].text_background:a.data.label_background,shader:"flat"}),a.add_more_button(n,e,t,r),a.el.appendChild(n))})},update:function(e){var t,n,i,r=this;-1!==r.data.media_source.search(/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i)?(i=r.data.media_source.trim().split(","),t=parseFloat(i[0].trim()),n=parseFloat(i[1].trim()),(i=new GSVPANO.PanoLoader).setZoom(DATAVERSE_VIZ_AUX.gsv_quality),i.onPanoramaLoad=function(){var e=new THREE.CanvasTexture(this.canvas),t=document.getElementsByTagName("a-sky")[0];t.setAttribute("scale","1 1 1");var n=t.getAttribute("rotation");t.setAttribute("rotation",{x:n.x,y:n.y+180,z:n.z}),t.getOrCreateObject3D("mesh").material=new THREE.MeshBasicMaterial({map:e,side:THREE.BackSide}),r.el.emit("dv_loaded",null,!1)},i.load(new google.maps.LatLng(t,n))):(document.getElementsByTagName("a-sky")[0].setAttribute("src",r.data.media_source),document.getElementsByTagName("a-sky")[0].removeAttribute("color"),r.el.emit("dv_loaded",null,!1)),r.data.tab&&r.data.source&&DATAVERSE_VIZ_AUX.load_data("photo-viz",r.data.source,r.data.tab,function(e,t){null!==e&&(r.prepared_data=e,r.scene_data=t,r.render_tab())})},remove:function(){}}),AFRAME.registerSystem("photogrid-viz",{schema:{},init:function(){},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("photogrid-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},theme:{type:"string",default:""},width:{type:"float",default:15},rows:{type:"int",default:3},distance:{type:"float",default:10},form_factor_x:{type:"float",default:1.25},form_factor_y:{type:"float",default:1.5}},init:function(){var n=this;n.panel_timestamp=Date.now(),n.rendered=!1,""!==n.data.source&&this.system.load_data("photogrid",n.data.source,n.data.tab,function(e,t){null!==e&&(n.scene_data=t,n.parsed_data=n.system.parse_data(e,n.data),n.update())})},insert_a_thumbnail:function(t,e,n,i,r,a){var o=this,s=a?{x:e.last_horizontal_scale(i),y:e.vertical_scale(n),z:-o.data.distance}:{x:e.horizontal_scale(i),y:e.vertical_scale(n),z:-o.data.distance},a=document.createElement("a-plane");a.setAttribute("width",e.thumbnail_size),a.setAttribute("height",e.thumbnail_size),a.setAttribute("material",{shader:"flat"}),a.setAttribute("src",t.image),a.setAttribute("position",s),a.addEventListener("materialtextureloaded",function(){var e,t;"material"in this.components.material&&"material"in this.components.material&&this.components.material.material.map&&"image"in this.components.material.material.map&&(e=this.components.material.material.map.image.naturalWidth,(t=this.components.material.material.map.image.naturalHeight)<=e?(this.components.material.material.map.repeat={x:t/e,y:1},this.components.material.material.map.offset={x:(1-t/e)/2,y:0}):(this.components.material.material.map.repeat={x:1,y:e/t},this.components.material.material.map.offset={x:0,y:(1-e/t)/2}),this.components.material.material.map.needsUpdate=!0)});s=document.createElement("a-text");s.setAttribute("value",t.headline),s.setAttribute("align","center"),s.setAttribute("width",e.thumbnail_size*o.data.form_factor_x),s.setAttribute("wrap-count",r),s.setAttribute("position",{x:0,y:.6*-e.thumbnail_size,z:0}),s.setAttribute("color",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_color),s.setAttribute("font",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_font);e.thumbnail_size,o.data.form_factor_x;a.appendChild(s),o.el.appendChild(a),""==t.text&&""==t.media&&""==t.media_credit&&""==t.media_caption&&""==t.link||(r=document.createElement("a-entity"),s=DATAVERSE.dmms.plus_button*o.data.distance/1e3,r.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"plus.png",radius:s}),r.setAttribute("position",{x:0,y:e.thumbnail_size/2,z:.1}),a.appendChild(r),r.addEventListener("clicked",function(){o.el.sceneEl.restore_clickable&&o.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(o.el.sceneEl.camera.el,this);var e=o.el.sceneEl.camera.el.getAttribute("rotation").y%360;o.el.sceneEl.camera.el.getAttribute("rotation").x;o.el.sceneEl.media_panel&&o.el.sceneEl.media_panel.parentNode&&o.el.sceneEl.media_panel.parentNode.removeChild(o.el.sceneEl.media_panel),o.media_panel=document.createElement("a-entity"),o.media_panel.setAttribute("position",o.el.sceneEl.camera.el.getAttribute("position")),o.media_panel.setAttribute("shadow",{cast:!0}),o.media_panel.classList.add("dataverse-added"),o.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:o.data.theme,title:t.headline,subtitle:"",text:t.text,media_url:t.media,media_caption:t.media_caption,media_credit:t.media_credit,link:t.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(t.link,o.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(t.link,o.scene_data),id:"treemap_"+n+"_"+i+"_"+o.panel_timestamp}),o.media_panel.addEventListener("link",function(e){o.el.emit("link",{link:e.detail.link},!1)}),o.el.sceneEl.appendChild(o.media_panel),o.el.sceneEl.media_panel=o.media_panel,o.el.sceneEl.restore_clickable=this,o.el.sceneEl.restore_clickable.classList.remove("clickable")}))},update:function(e){var t=this;if(t.parsed_data&&!t.rendered){if(t.rendered=!0,t.el.children&&0<t.el.children.length)for(var n=0;n<t.el.children.length;n++)t.el.removeChild(t.el.children[n]);var i=t.el.getAttribute("position");t.el.setAttribute("position",{x:i.x,y:t.el.sceneEl.camera.el.getAttribute("position").y+i.y,z:i.z});var r=t.parsed_data.slice(0).sort(function(e,t){return t.headline.length-e.headline.length})[0].headline.length,a={};a.thumbnail_number=t.parsed_data.length,a.number_cols=Math.ceil(a.thumbnail_number/t.data.rows),a.last_row_cols=a.thumbnail_number-(t.data.rows-1)*a.number_cols,a.thumbnail_size=t.data.width/((a.number_cols-1)*t.data.form_factor_x),a.vertical_span=a.thumbnail_size*t.data.form_factor_y*(t.data.rows-1),a.last_horizontal_span=a.thumbnail_size*t.data.form_factor_x*(a.last_row_cols-1),a.horizontal_scale=d3.scale.linear().domain([0,a.number_cols-1]).range([-t.data.width/2,t.data.width/2]),a.vertical_scale=d3.scale.linear().domain([0,t.data.rows-1]).range([a.vertical_span/2,-a.vertical_span/2]),a.last_horizontal_scale=d3.scale.linear().domain([0,a.last_row_cols-1]).range([-a.last_horizontal_span/2,a.last_horizontal_span/2]);for(n=0;n<t.data.rows;n++)if(n!==t.data.rows-1)for(var o=0;o<a.number_cols;o++){var s=n*a.number_cols+o,u=t.parsed_data[s];t.insert_a_thumbnail(u,a,n,o,r,!1)}else for(o=0;o<a.last_row_cols;o++){s=n*a.number_cols+o,u=t.parsed_data[s];t.insert_a_thumbnail(u,a,n,o,r,!0)}t.el.emit("dv_loaded",null,!1)}},remove:function(){}}),AFRAME.registerComponent("face-camera",{schema:{},init:function(){this.vector=new THREE.Vector3},update:function(e){},tick:function(e){this.cameraObject=this.el.sceneEl.camera;var t=new THREE.Vector3;t.setFromMatrixPosition(this.cameraObject.matrixWorld);var n=new THREE.Vector3;n.setFromMatrixPosition(this.el.object3D.matrixWorld);var i=t.clone().sub(n).setY(0).normalize(),n=(t.clone().sub(n).setX(0).normalize(),t.clone().sub(n).normalize(),this.el.getAttribute("rotation"));n.y=180*Math.atan2(i.x,i.z)/Math.PI,this.el.setAttribute("rotation",n)}}),AFRAME.registerSystem("tilemap-viz",{schema:{},init:function(){},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("tilemap-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},theme:{type:"string",default:""},provider:{type:"string",default:"CartoDB.Positron"},default_provider:{type:"string",default:"CartoDB.Positron"},lat:{type:"float",default:51.4825757},long:{type:"float",default:-.0164351},zoom:{type:"number",default:18},size:{type:"number",default:10},canvas_size:{type:"number",default:2048},marker_size:{type:"number",default:.25},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},text_background:{type:"string",default:"black"},text_attribution_color:{type:"string",default:"#48a4cd"},map_y:{type:"float",default:0}},init:function(){var n=this;n.panel_timestamp=Date.now(),n.el.setAttribute("rotation",{x:0,y:0,z:0}),""!==n.data.source&&this.system.load_data("tilemap",n.data.source,n.data.tab,function(e,t){null!==e?(n.prepared_data=e,n.scene_data=t,n.map_div=document.createElement("div"),n.map_div.setAttribute("id","map"),n.map_div.style.height=n.data.canvas_size+"px",n.map_div.style.width=n.data.canvas_size+"px",n.map_div.style["z-index"]=-9999,document.querySelector("body").appendChild(n.map_div),n.map=L.map("map").setView([n.data.lat,n.data.long],n.data.zoom),n.data.theme&&n.data.provider!==n.data.default_provider?n.layer=L.tileLayer.provider(n.data.provider,{crossOrigin:!0}):n.layer=L.tileLayer.provider(n.data.theme?DATAVERSE.themes[n.data.theme].map_provider:n.data.provider,{crossOrigin:!0}),n.layer.addTo(n.map),n.layer.on("load",function(){html2canvas(document.getElementById("map"),{useCORS:!0,onrendered:function(e){setTimeout(function(){n.map_texture=new THREE.CanvasTexture(e),n.update()},1e3)}})})):console.error("Could not load data file ",n.data.source)})},insert_marker:function(i,e,r){var a=this,o=document.createElement("a-entity");o.classList.add("marker"),o.__data__=i,o.setAttribute("shadow",{cast:!0}),o.setAttribute("position",e),c=1<i.color.length?i.color:DATAVERSE_VIZ_AUX.get_default_color_from_theme(a.data.theme);var t=a.data.marker_size/4,n=document.createElement("a-sphere");n.setAttribute("position",{x:0,y:-t,z:0}),n.setAttribute("color",c),n.setAttribute("radius",t);var s=document.createElement("a-cone");s.setAttribute("height",3*t),s.setAttribute("color",c),s.setAttribute("position",{x:0,y:2.5*-t,z:0}),s.setAttribute("radius-top",t),s.setAttribute("radius-bottom",0);var u=DATAVERSE.dmms.plus_button/2*(a.data.size/2)/1e3,l=document.createElement("a-entity"),e=DATAVERSE.dmms.map_label*(a.data.size/2)*(i.headline.length+2)/1e3;l.setAttribute("text",{value:i.headline,align:"center",color:a.data.theme?DATAVERSE.themes[a.data.theme].text_color:a.data.label_color,font:a.data.theme?DATAVERSE.themes[a.data.theme].text_font:a.data.label_font,width:e,wrapCount:i.headline.length+4,zOffset:.01});var c=DATAVERSE.dmms.map_label*(a.data.size/2)/1e3*3;l.setAttribute("geometry",{primitive:"plane",height:c,width:"auto"}),l.setAttribute("material",{color:(a.data.theme?DATAVERSE.themes[a.data.theme]:a.data).text_background,shader:"flat",opacity:.2,transparent:!0}),l.setAttribute("position",{x:0,y:a.data.marker_size/2+e/2+2*u,z:0}),l.setAttribute("rotation",{x:0,y:0,z:90}),l.setAttribute("face-camera","");t=document.createElement("a-entity");t.setAttribute("position",{x:0,y:0,z:0}),t.setAttribute("face-camera",""),t.setAttribute("rotation",{x:0,y:0,z:0});c=document.createElement("a-entity");c.setAttribute("uipack-button",{theme:a.data.theme,icon_name:"plus.png",radius:u}),c.setAttribute("position",{x:0,y:1.5*u,z:0}),c.addEventListener("clicked",function(){a.el.sceneEl.restore_clickable&&a.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(a.el.sceneEl.camera.el,this);var e=a.el.sceneEl.camera.el.getAttribute("rotation").y%360;a.el.sceneEl.camera.el.getAttribute("rotation").x;a.media_panel&&a.media_panel.parentNode&&a.media_panel.parentNode.removeChild(a.media_panel),a.media_panel=document.createElement("a-entity"),a.media_panel_position={x:a.el.sceneEl.camera.el.getAttribute("position").x-a.el.getAttribute("position").x,y:a.el.sceneEl.camera.el.getAttribute("position").y-a.el.getAttribute("position").y,z:a.el.sceneEl.camera.el.getAttribute("position").z-a.el.getAttribute("position").z};for(var t=a.el.sceneEl.querySelectorAll(".marker"),n=0;n<t.length;n++)t[n].setAttribute("visible",!1);a.media_panel.setAttribute("position",a.media_panel_position),a.media_panel.setAttribute("shadow",{cast:!0}),a.media_panel.classList.add("dataverse-added"),a.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:a.data.theme,title:i.headline,text:i.text,low_height:1,media_url:i.media,media_caption:i.media_caption,media_credit:i.media_credit,link:i.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(i.link,a.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(i.link,a.scene_data),id:"marker_"+r+"_"+a.panel_timestamp}),a.media_panel.addEventListener("link",function(e){a.el.emit("link",{link:e.detail.link},!1)}),a.media_panel.addEventListener("panel_closed",function(){for(var e=a.el.sceneEl.querySelectorAll(".marker"),t=0;t<e.length;t++)e[t].setAttribute("visible",!0)}),a.el.appendChild(a.media_panel),a.el.sceneEl.restore_clickable=this,a.el.sceneEl.restore_clickable.classList.remove("clickable")});e=document.createElement("a-entity");e.setAttribute("uipack-button",{theme:a.data.theme,icon_name:"arrow-up.png",radius:u}),e.setAttribute("position",{x:0,y:4*u,z:0}),e.addEventListener("clicked",function(){var e=a.el.sceneEl.camera.el.getAttribute("position"),t=DATAVERSE_VIZ_AUX.cam_destination_to_object(a.el.sceneEl.camera.el,o,.5),n=t.x-e.x,i=t.y-e.y,t=t.z-e.z,e=a.el.getAttribute("position");a.el.setAttribute("position",{x:e.x-n,y:e.y-i,z:e.z-t})}),o.appendChild(n),o.appendChild(s),o.appendChild(l),t.appendChild(c),o.appendChild(t),a.el.appendChild(o)},put_attribution:function(){var e=this,t=e.layer.options.attribution;t=(t=(t=t.replace(/&copy;/gi,"(c)")).replace(/&mdash;/gi,"--")).replace(/<.*?>/gi,"");var n=document.createElement("a-entity"),i=1.6*DATAVERSE.dmms.map_attribution*(t.length+2)/1e3;n.setAttribute("text",{value:t,align:"center",color:(e.data.theme?DATAVERSE.themes[e.data.theme]:e.data).text_attribution_color,font:e.data.theme?DATAVERSE.themes[e.data.theme].text_font:e.data.label_font,width:i,wrapCount:t.length+2,zOffset:.01});t=1.6*DATAVERSE.dmms.map_attribution/1e3*3;n.setAttribute("geometry",{primitive:"plane",height:t,width:"auto"}),n.setAttribute("material",{color:(e.data.theme?DATAVERSE.themes[e.data.theme]:e.data).text_background,shader:"flat",opacity:.5,transparent:!0}),n.setAttribute("position",{x:0,y:.1,z:0}),n.setAttribute("rotation",{x:-90,y:0,z:0}),e.el.appendChild(n)},update:function(e){var i=this;void 0!==i.prepared_data&&void 0!==i.map_texture&&(i.marker_scale=d3.scale.linear().domain([0,i.data.canvas_size]).range([-i.data.size/2,i.data.size/2]),i.prepared_data.forEach(function(e,t){var n=i.map.latLngToLayerPoint(L.latLng(e.lat,e.long));0<=n.x&&n.x<i.data.canvas_size&&0<=n.y&&n.y<i.data.canvas_size&&i.insert_marker(e,{x:i.marker_scale(n.x),y:i.data.map_y+i.data.marker_size,z:i.marker_scale(n.y)},t)}),i.plane=document.createElement("a-circle"),i.plane.setAttribute("position",{x:0,y:i.data.map_y,z:0}),i.plane.setAttribute("rotation","-90 0 0"),i.plane.setAttribute("radius",i.data.size/2),i.el.appendChild(i.plane),i.plane.addEventListener("loaded",function(e){i.plane.getObject3D("mesh").material=new THREE.MeshBasicMaterial({map:i.map_texture})}),i.put_attribution(),i.el.emit("dv_loaded",null,!1))},remove:function(){this.map_div.parentNode.removeChild(this.map_div),this.map_texture}}),AFRAME.registerSystem("timeline-viz",{schema:{},init:function(){this.types={depth:{trigger:.95,legends:.9,slide_image:1,slide_text:1,media_controls:.9},vertical_size:{slide_image:3},height:{trigger:.5,media_controls:.6,legend_date_explain:.25,legend_title:0,slide_image:2.5,slide_title:3.8,slide_supertitle:3.5,slide_explain:2.25,slide_caption:.75,slide_credit:1.1},offset:{trigger:0,legends:0,slide_image:0,slide_text:-30,slide_caption:30},breadth:{trigger:2,legends:5,slide_image:60,slide_text:60},scales:{legend_date_explain:.5,legend_title:1,slide_title:1,slide_explain:.5}},this.audio_analyser={width:1024,height:1024}},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},arrange_dates:function(e){var t=null,n=0,i=1,r=0,a=0,o=0;if((0<e.year.length||"number"==typeof e.year)&&(t=parseInt(e.year,10),(0<e.month.length||"number"==typeof e.month)&&(n=parseInt(e.month,10)-1),(0<e.day.length||"number"==typeof e.day)&&(i=parseInt(e.day,10)),(0<e.time.length||"number"==typeof e.time)&&(r=(e=e.time.split(":"))[0],a=e[1],o=e[2])),null===t)return{begin:null,end:null};o=new Date(t,n,i,r,a,o);return{begin:{date:o,ts:o.getTime()},end:null}},arrange_media:function(e){return 2<e.media.length?{url:e.media,credits:e.media_credit,caption:e.media_caption}:{}},arrange_entry:function(e){var t={};return"title"===e.type?(t.title=e.headline,t.text=e.text,t.media=this.arrange_media(e),t.type=e.type,t.group=e.group):(t.title=e.headline,t.text=e.text,t.media=this.arrange_media(e),t.type=e.type,t.group=e.group,t.dates=this.arrange_dates(e)),t.original_datum=e,t},parse_data:function(e,t){this.dates_ts=[];for(var n={title:null,milestones:[],now_playing:-1},i=(document.getElementsByTagName("a-assets")[0],0);i<e.length;i++){var r=e[i];"title"===r.type?n.title=this.arrange_entry(r):(r=this.arrange_entry(r),n.milestones.push(r),null!==r.dates.begin&&this.dates_ts.push(r.dates.begin.ts))}return this.min_ts=d3.min(this.dates_ts),this.max_ts=d3.max(this.dates_ts),n.milestones.sort(function(e,t){return e.dates.begin.ts-t.dates.begin.ts}),n}}),AFRAME.registerComponent("timeline-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},theme:{type:"string",default:"dark"},degrees:{type:"float",default:220},margins:{type:"float",default:20},legend_height:{type:"float",default:2},legend_dmms:{type:"float",default:20},sublegend_dmms:{type:"float",default:12},sublegend_height:{type:"float",default:1},color:{type:"string",default:"#333355"},trigger_color:{type:"string",default:"black"},active_trigger_color:{type:"string",default:"red"},size:{type:"float",default:5},height:{type:"float",default:1},y_position:{type:"float",default:0},title:{type:"string",default:""},explain:{type:"string",default:""},panel_elevation:{type:"float",default:2},panel_height:{type:"float",default:30}},init:function(){var n=this;n.panel_timestamp=Date.now(),""!==n.data.source&&this.system.load_data("timeline",n.data.source,n.data.tab,function(e,t){null!==e?(n.scene_data=t,n.timeline_data=n.system.parse_data(e,n.data),n.max_ts=n.system.max_ts,n.min_ts=n.system.min_ts,n.timeline_scale=d3.scale.linear().domain([n.max_ts,n.min_ts]).range([n.data.margins/180*Math.PI,(n.data.degrees-n.data.margins)/180*Math.PI]).clamp(!0),n.el.setAttribute("position",{x:n.el.getAttribute("position").x,y:n.data.y_position,z:n.el.getAttribute("position").z}),e=((t=n.el.getAttribute("rotation")).y+(-n.data.degrees/2+180))%360,n.el.setAttribute("rotation",{x:t.x,y:e,z:t.z}),n.update()):(console.error("Could not load data file ",n.data.source),console.log(n.timeline_data))})},get_date_explain:function(e){if(""!=e.original_datum.display_date)return e.original_datum.display_date;var t=moment(e.dates.begin.date);return""===e.original_datum.day&&""===e.original_datum.month?t.format("Y"):""!==e.original_datum.day&&""!=e.original_datum.month?""!==e.original_datum.time?t.format("Y/MM/DD HH:mm:ss"):t.format("Y/MM/DD"):""!==e.original_datum.month?t.format("Y/MM"):""},get_coords_and_rotation:function(e,t,n,i){e=this.system.types.depth[e]*this.data.size,t=this.system.types.height[t]*this.data.height,n=this.timeline_scale(n);return{position:{x:e*Math.sin(n+THREE.Math.degToRad(i)),y:t,z:e*Math.cos(n+THREE.Math.degToRad(i))},rotation:{x:0,y:180+THREE.Math.radToDeg(n)+i,z:0}}},render_timeline:function(){var o=this;o.timeline=document.createElement("a-cylinder"),o.timeline.setAttribute("material",{color:o.data.theme?DATAVERSE.themes[o.data.theme].timeline_color:o.data.color,side:"double"}),o.timeline.setAttribute("radius",o.data.size),o.timeline.setAttribute("height",o.data.height),o.timeline.setAttribute("theta-length",o.data.degrees),o.timeline.setAttribute("theta-start",0),o.timeline.setAttribute("scale","1 1 1"),o.timeline.setAttribute("open-ended",!0),o.el.appendChild(o.timeline),o.timeline_data.milestones.forEach(function(r,a){var e=(r=o.timeline_data.milestones[a]).dates.begin.ts,t=document.createElement("a-text"),n=o.get_coords_and_rotation("legends","legend_date_explain",e,0);t.setAttribute("position",n.position),t.setAttribute("rotation",n.rotation);var i=DATAVERSE.dmms.subtitle*o.data.size*(o.get_date_explain(r).length+4)/1e3;t.setAttribute("value",o.get_date_explain(r)),t.setAttribute("align","center"),t.setAttribute("width",i),t.setAttribute("wrap-count",o.get_date_explain(r).length+4),t.setAttribute("color",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_color),t.setAttribute("font",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_font),o.el.appendChild(t);i=document.createElement("a-text");n=o.get_coords_and_rotation("legends","legend_title",e,0),i.setAttribute("position",n.position),i.setAttribute("rotation",n.rotation);t=DATAVERSE.dmms.label*o.data.size*(r.title.length+4)/1e3;i.setAttribute("value",r.title),i.setAttribute("align","center"),i.setAttribute("width",t),i.setAttribute("wrap-count",r.title.length+4),i.setAttribute("color",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_color),i.setAttribute("font",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_font),o.el.appendChild(i);var n=o.get_coords_and_rotation("trigger","trigger",e,0),e=document.createElement("a-entity");e.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"plus.png",radius:DATAVERSE.dmms.plus_button*o.data.size/1e3}),e.setAttribute("position",n.position),e.setAttribute("rotation",n.rotation),o.el.appendChild(e),e.addEventListener("clicked",function(e){o.el.sceneEl.restore_clickable&&o.el.sceneEl.restore_clickable.classList.add("clickable");var t=DATAVERSE_VIZ_AUX.get_distance_xz(o.el.sceneEl.camera.el,this),n=(o.el.sceneEl.camera.el.getAttribute("rotation").y,this.getAttribute("position"),DATAVERSE_VIZ_AUX.yaw_pointing_to_object(o.el.sceneEl.camera.el,this));o.el.sceneEl.camera.el.getAttribute("rotation").x;o.el.sceneEl.media_panel&&o.el.sceneEl.media_panel.parentNode&&o.el.sceneEl.media_panel.parentNode.removeChild(o.el.sceneEl.media_panel),o.media_panel=document.createElement("a-entity");var i=o.el.sceneEl.camera.el.getAttribute("position");o.media_panel.setAttribute("position",{x:i.x,y:i.y,z:i.z}),o.media_panel.setAttribute("position",{x:i.x,y:i.y,z:i.z}),o.media_panel.setAttribute("shadow",{cast:!0}),o.media_panel.classList.add("dataverse-added");i=.5*o.data.height+o.data.y_position+DATAVERSE.dmms.plus_button*o.data.size/1e3*(r.original_datum.link?5:2);o.media_panel.setAttribute("uipack-mediapanel",{yaw:n,low_height:i,theme:o.data.theme,height:o.data.panel_height,distance:t,title:r.title,subtitle:o.get_date_explain(r),text:r.text,media_url:r.media.url,media_caption:r.media.caption,media_credit:r.media.credits,link:r.original_datum.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(r.original_datum.link,o.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(r.original_datum.link,o.scene_data),id:"slide_"+a+"_"+o.panel_timestamp}),o.media_panel.addEventListener("link",function(e){o.el.emit("link",{link:e.detail.link},!1)}),o.el.sceneEl.appendChild(o.media_panel),o.el.sceneEl.media_panel=o.media_panel,o.el.sceneEl.restore_clickable=this,o.el.sceneEl.restore_clickable.classList.remove("clickable")})})},update:function(e){var t=this;void 0!==t.timeline_data&&void 0===t.rendered&&(document.getElementsByTagName("a-assets")[0],t.render_timeline(),t.timeline_data.title,t.data.size,t.el.sceneEl.camera.el.getAttribute("rotation").y,t.el.sceneEl.camera.el.getAttribute("rotation").x,t.el.sceneEl.media_panel&&t.el.sceneEl.media_panel.parentNode&&t.el.sceneEl.media_panel.parentNode.removeChild(t.el.sceneEl.media_panel),t.rendered=!0,t.el.emit("dv_loaded",null,!1))},tick:function(e,t){},remove:function(){}}),AFRAME.registerComponent("treemap-viz",{schema:{treemap_data:{default:{}},id:{type:"int",default:1},depth:{type:"int",default:1},width:{type:"number",default:2},height:{type:"number",default:2},title_max_chars:{type:"number",default:30},show_numbers:{type:"boolean",default:!1},title_x_factor:{type:"number",default:1.25},form_factor_y:{type:"number",default:1.5},title:{type:"string",default:""},distance:{type:"number",default:3},buttons:{type:"boolean",default:!0},theme:{type:"string",default:""},text_color:{type:"string",default:"white"},text_color_float:{type:"string",default:"black"},text_font:{type:"string",default:"roboto"},other:{type:"boolean",default:!1},unique_color_scale:{type:"boolean",default:!0},general_button_dmms:{type:"int",default:20}},init:function(){this.panel_timestamp=Date.now()},re_scale:function(e){this.treemap_container.setAttribute("scale",{x:e,y:e,z:e})},draw_plank:function(e,t){var n,i,r,a,o=this;e.depth==o.data.depth||o.data.other&&1===e.depth?0<e.dx&&0<e.dy&&(a=document.createElement("a-plane"),n=(e.dx-t)/1e3,i=(e.dy-t)/1e3,r=e.name,r+=o.data.show_numbers?" ("+DATAVERSE_VIZ_AUX.pretty_print_number(e.value)+")":"",a.setAttribute("width",n),a.setAttribute("height",i),a.setAttribute("color",1==e.depth?o.color_scale([e.name]):o.color_scale([e.parent.name])),a.setAttribute("position",{x:(e.x+(e.dx+t)/2)/1e3-o.data.width/2,y:(e.y+(e.dy-t)/2)/1e3-o.data.height/2,z:0}),o.treemap_container.appendChild(a),(a=document.createElement("a-text")).setAttribute("value",r),a.setAttribute("align","center"),a.setAttribute("color",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_color),a.setAttribute("font",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_font),a.setAttribute("position",{x:(e.x+(e.dx+t)/2)/1e3-o.data.width/2,y:(e.y+(e.dy-t)/2)/1e3-o.data.height/2,z:0}),i<=n?n/i<7&&n/(r.length+4)/o.data.distance*1e3>DATAVERSE.dmms.min_text&&(a.setAttribute("width",n),a.setAttribute("wrap-count",r.length+4),o.treemap_container.appendChild(a)):i/n<7&&i/(r.length+4)/o.data.distance*1e3>DATAVERSE.dmms.min_text&&(a.setAttribute("width",i),a.setAttribute("wrap-count",r.length+4),a.setAttribute("rotation",{x:0,y:0,z:90}),o.treemap_container.appendChild(a))):1==e.depth&&2==o.data.depth&&0<e.dx&&0<e.dy&&(n=(e.dx-t)/1e3,i=(e.dy-t)/1e3,r=e.name,r+=o.data.show_numbers?" ("+DATAVERSE_VIZ_AUX.pretty_print_number(e.value)+")":"",(a=document.createElement("a-text")).setAttribute("value",r),a.setAttribute("align","center"),a.setAttribute("color",o.data.theme?DATAVERSE.themes[o.data.theme].text_background:o.data.text_color_float),a.setAttribute("font",(o.data.theme?DATAVERSE.themes[o.data.theme]:o.data).text_font),a.setAttribute("position",{x:(e.x+(e.dx+t)/2)/1e3-o.data.width/2,y:(e.y+(e.dy-t)/2)/1e3-o.data.height/2,z:.1}),i<=n?n/i<7&&n/(r.length+4)/o.data.distance*1e3>DATAVERSE.dmms.min_text&&(a.setAttribute("width",n),a.setAttribute("wrap-count",r.length+4),o.treemap_container.appendChild(a)):i/n<7&&i/(r.length+4)/o.data.distance*1e3>DATAVERSE.dmms.min_text&&(a.setAttribute("width",i),a.setAttribute("wrap-count",r.length+4),a.setAttribute("rotation",{x:0,y:0,z:90}),o.treemap_container.appendChild(a)))},update:function(e){var t,n,i,r=this;r.el.children&&0<r.el.children.length&&r.el.children.forEach(function(e){r.el.removeChild(e)}),r.treemap_container=document.createElement("a-entity"),r.el.appendChild(r.treemap_container),r.color_scale=r.data.unique_color_scale?DATAVERSE_VIZ_AUX.color_scale:DATAVERSE_VIZ_AUX.get_color_scale_from_theme(r.data.theme),r.layout=d3.layout.treemap().size([1e3*r.data.width,1e3*r.data.height]).padding(5*(r.data.width+r.data.height)),r.nodes=r.layout.nodes(r.data.treemap_data),r.nodes.forEach(function(e){r.draw_plank(e,2.5*(r.data.width+r.data.height))}),r.label=document.createElement("a-text"),r.label.setAttribute("value",r.data.title),r.label.setAttribute("align","center"),r.label.setAttribute("width",r.data.width*r.data.title_x_factor),r.label.setAttribute("wrap-count",r.data.title_max_chars),r.label.setAttribute("position",{x:0,y:.6*-r.data.height,z:0}),r.label.setAttribute("color",(r.data.theme?DATAVERSE.themes[r.data.theme]:r.data).text_color),r.label.setAttribute("font",(r.data.theme?DATAVERSE.themes[r.data.theme]:r.data).text_font),r.el.appendChild(r.label),r.data.buttons&&(t=DATAVERSE.dmms.plus_button*r.data.distance/1e3,(n=document.createElement("a-entity")).setAttribute("position",{x:0,y:r.data.height/2,z:.01}),r.el.appendChild(n),"headline"in r.data.treemap_data&&""!=r.data.treemap_data.headline&&((i=document.createElement("a-entity")).setAttribute("uipack-button",{theme:r.data.theme,icon_name:"plus.png",radius:t}),i.setAttribute("position",{x:1.1*-t,y:0,z:0}),n.appendChild(i),i.addEventListener("clicked",function(){r.el.sceneEl.restore_clickable&&r.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(r.el.sceneEl.camera.el,this);var e=r.el.sceneEl.camera.el.getAttribute("rotation").y%360;r.el.sceneEl.camera.el.getAttribute("rotation").x;r.el.sceneEl.media_panel&&r.el.sceneEl.media_panel.parentNode&&r.el.sceneEl.media_panel.parentNode.removeChild(r.el.sceneEl.media_panel),r.media_panel=document.createElement("a-entity"),r.media_panel.setAttribute("position",r.el.sceneEl.camera.el.getAttribute("position")),r.media_panel.setAttribute("shadow",{cast:!0});var t=r.data.treemap_data;r.media_panel.classList.add("dataverse-added"),r.media_panel.setAttribute("uipack-mediapanel",{yaw:e,theme:r.data.theme,distance:DATAVERSE.distances.panel,title:t.headline,subtitle:"",text:t.text,media_url:t.media,media_caption:t.media_caption,media_credit:t.media_credit,link:t.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(t.link,DATAVERSE_VIZ_AUX.treemap_scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(t.link,DATAVERSE_VIZ_AUX.treemap_scene_data),id:"treemap_"+r.data.id+"_"+r.panel_timestamp}),r.media_panel.addEventListener("link",function(e){r.el.parentNode.emit("link",{link:e.detail.link},!1)}),r.el.sceneEl.appendChild(r.media_panel),r.el.sceneEl.media_panel=r.media_panel,r.el.sceneEl.restore_clickable=this,r.el.sceneEl.restore_clickable.classList.remove("clickable")})),(i=document.createElement("a-entity")).setAttribute("uipack-button",{theme:r.data.theme,icon_name:"search.png",radius:t}),i.setAttribute("position",{x:""!=r.data.treemap_data.headline?1.1*t:0,y:0,z:0}),n.appendChild(i),i.addEventListener("clicked",function(){d3.selectAll(".bigtreemap").remove(),r.el.parentNode.components["small-treemap-viz"].draw_big_treemap(r.data.id)}))},remove:function(){}}),AFRAME.registerSystem("small-treemap-viz",{schema:{},init:function(){},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,s){var u=[],l=[];e.forEach(function(e,t){var n;1<e.treemap.length&&(e.treemap in u||(u[e.treemap]={name:"root",children:{}},l[e.treemap]=0),0==e.value?((n=e).children=u[e.treemap].children,n.name=""===n.name||"root"===n.name?n.treemap:n.name,u[e.treemap]=n):(e.category in u[e.treemap].children||(u[e.treemap].children[e.category]=[]),u[e.treemap].children[e.category].push(e),l[e.treemap]+=e.value))});var n=Object.keys(l).sort(function(e,t){return l[t]-l[e]}),c={};function o(e,t,n){e in c||(c[e]={}),t in c[e]||(c[e][t]=0),c[e][t]+=n}n.forEach(function(e,t){var r,a=e;t<(s.other_treemap?s.max_items-1:s.max_items)||s.max_items==n.length?(r=[],Object.keys(u[a].children).forEach(function(e,t){var n=e,i={name:n,children:[]};u[a].children[n].forEach(function(e){i.children.push(e),o(a,n,e.value)}),r.push(i)}),u[a].children=r):(s.other_treemap&&("Other"in u||(u.Other={name:"Other",children:{}}),Object.keys(u[a].children).forEach(function(e,t){var n=e;n in u.Other.children||(u.Other.children[n]=[]),u[a].children[n].forEach(function(e){u.Other.children[n].push(e),o("Other",n,e.value)})})),delete u[a])}),Object.keys(u).forEach(function(n){var i,r,a={name:"Other",children:[{name:"Other",value:0}]},o=[];"Other"!==n?(r=Object.keys(c[n]).sort(function(e,t){return c[n][t]-c[n][e]}).slice(0,s.max_items-1),u[n].children.forEach(function(e,t){-1==r.indexOf(e.name)?e.children.forEach(function(e,t){a.children[0].value+=e.value}):o.push(e)}),o.push(a),u[n].children=o):(i=0,r=Object.keys(c[n]).sort(function(e,t){return c[n][t]-c[n][e]}).slice(0,s.max_items-1),Object.keys(c[n]).forEach(function(e,t){-1==r.indexOf(e)?a.children[0].value+=c[n][e]:(c[n][e],c[n][e],o.push({name:e,value:c[n][e],children:{name:e,value:c[n][e]}})),i+=c[n][e]}),o.push(a),u[n].children=o,l.Other=i)});var e=Object.keys(l).sort(function(e,t){return l[t]-l[e]}).slice(0,s.max_items),t={};return e.forEach(function(e){t[e]=l[e]}),{data:u,treemap_counts:t}}}),AFRAME.registerComponent("small-treemap-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},width:{type:"float",default:5},rows:{type:"int",default:3},depth:{type:"int",default:2},show_numbers:{type:"boolean",default:!1},show_proportional:{type:"boolean",default:!0},max_items:{type:"int",default:9},distance:{type:"float",default:3},theme:{type:"string",default:""},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},unique_color_scale:{type:"boolean",default:!0},form_factor_x:{type:"float",default:1.25},form_factor_y:{type:"float",default:1.5},other_treemap:{type:"boolean",default:!0},general_text_dmms:{type:"int",default:30},general_button_dmms:{type:"int",default:20}},init:function(){var n=this;""!==n.data.source&&this.system.load_data("treemap",n.data.source,n.data.tab,function(e,t){null!==e&&(n.scene_data=t,DATAVERSE_VIZ_AUX.treemap_scene_data=t,n.parsed_data=n.system.parse_data(e,n.data),n.parsed_data_deepcopy=jQuery.extend(!0,{},n.parsed_data),n.update())})},draw_big_treemap:function(e){var t=this,n=t.treemap_list[e],i=jQuery.extend(!0,{},t.parsed_data_deepcopy.data[n]),e=(t.el.sceneEl.camera.el.getAttribute("rotation").y-t.el.getAttribute("rotation").y)%360;t.big_treemap_container=document.createElement("a-entity"),t.big_treemap_container.setAttribute("rotation",{x:0,y:e,z:0}),t.big_treemap_container.classList.add("bigtreemap");e=t.el.sceneEl.camera.el.getAttribute("position");t.big_treemap_container.setAttribute("position",{x:e.x-t.el.getAttribute("position").x,y:0,z:e.z-t.el.getAttribute("position").z}),t.el.appendChild(t.big_treemap_container),t.big_treemap_background=document.createElement("a-plane"),t.big_treemap_background.setAttribute("width",t.data.width/2),t.big_treemap_background.setAttribute("height",t.data.width/2),t.big_treemap_background.setAttribute("color","black"),t.big_treemap_background.setAttribute("position",{x:0,y:0,z:-1.01*DATAVERSE.distances.close}),t.big_treemap_container.appendChild(t.big_treemap_background);e=document.createElement("a-entity");e.setAttribute("treemap-viz",{treemap_data:i,theme:t.data.theme,unique_color_scale:t.data.unique_color_scale,other:"Other"===n,title:n,width:t.data.width/2,height:t.data.width/2,title_max_chars:n.length+4,title_x_factor:t.data.form_factor_x,distance:DATAVERSE.distances.close,buttons:!1,depth:t.data.depth,show_numbers:t.data.show_numbers,text_color:t.text_color,text_font:t.text_font}),e.setAttribute("position",{x:0,y:0,z:-DATAVERSE.distances.close}),t.big_treemap=e,t.big_treemap_container.appendChild(e);e=DATAVERSE.dmms.plus_button*t.data.distance/1e3;t.close_button=document.createElement("a-entity"),t.close_button.setAttribute("uipack-button",{theme:t.data.theme,icon_name:"times.png",radius:e}),t.close_button.setAttribute("position",{x:0,y:t.data.width/2*.5+e,z:-DATAVERSE.distances.close}),t.big_treemap_container.appendChild(t.close_button),t.close_button.addEventListener("clicked",function(){t.el.removeChild(t.big_treemap_container)})},update:function(e){var i=this;if(i.parsed_data&&i.parsed_data_deepcopy&&void 0===i.treemaps){if(i.el.children&&0<i.el.children.length)for(var t=0;t<i.el.children.length;t++)i.el.removeChild(i.el.children[t]);var n=i.el.getAttribute("position");i.el.setAttribute("position",{x:n.x,y:i.el.sceneEl.camera.el.getAttribute("position").y+n.y,z:n.z}),DATAVERSE_VIZ_AUX.color_scale=DATAVERSE_VIZ_AUX.get_color_scale_from_theme(i.data.theme);var r=Object.keys(i.parsed_data.treemap_counts).sort(function(e,t){return i.parsed_data.data[t].name.length-i.parsed_data.data[e].name.length})[0],a=i.parsed_data.data[r].name.length,o={};o.treemap_list=Object.keys(i.parsed_data.treemap_counts).sort(function(e,t){return i.parsed_data.treemap_counts[t]-i.parsed_data.treemap_counts[e]}),i.treemap_list=o.treemap_list,o.treemap_number=o.treemap_list.length,o.number_cols=Math.ceil(o.treemap_number/i.data.rows),o.last_row_cols=o.treemap_number-(i.data.rows-1)*o.number_cols,o.treemap_size=i.data.width/((o.number_cols-1)*i.data.form_factor_x),o.vertical_span=o.treemap_size*i.data.form_factor_y*(i.data.rows-1),o.last_horizontal_span=o.treemap_size*i.data.form_factor_x*(o.last_row_cols-1),o.horizontal_scale=d3.scale.linear().domain([0,o.number_cols-1]).range([-i.data.width/2,i.data.width/2]),o.vertical_scale=d3.scale.linear().domain([0,i.data.rows-1]).range([o.vertical_span/2,-o.vertical_span/2]),o.last_horizontal_scale=d3.scale.linear().domain([0,o.last_row_cols-1]).range([-o.last_horizontal_span/2,o.last_horizontal_span/2]),i.treemaps=[],i.value_treemaps=[];for(var s,u,l,t=0;t<i.data.rows;t++)if(t!==i.data.rows-1)for(var c=0;c<o.number_cols;c++){var d=t*o.number_cols+c,h=o.treemap_list[d],p=i.parsed_data.data[h],m={x:o.horizontal_scale(c),y:o.vertical_scale(t),z:-i.data.distance};(f=document.createElement("a-entity")).setAttribute("treemap-viz",{treemap_data:p,theme:i.data.theme,unique_color_scale:i.data.unique_color_scale,title:p.name,width:o.treemap_size,height:o.treemap_size,title_max_chars:a,form_factor_y:i.data.form_factor_y,title_x_factor:i.data.form_factor_x,distance:i.data.distance,id:d,text_color:i.text_color,text_font:i.text_font}),f.setAttribute("position",m),i.el.appendChild(f),i.treemaps.push(f),i.value_treemaps.push(i.parsed_data.treemap_counts[h])}else for(c=0;c<o.last_row_cols;c++){var f,d=t*o.number_cols+c,h=o.treemap_list[d],p=i.parsed_data.data[h],m={x:o.last_horizontal_scale(c),y:o.vertical_scale(t),z:-i.data.distance};(f=document.createElement("a-entity")).setAttribute("treemap-viz",{treemap_data:p,theme:i.data.theme,unique_color_scale:i.data.unique_color_scale,title:p.name,width:o.treemap_size,height:o.treemap_size,title_max_chars:a,form_factor_y:i.data.form_factor_y,title_x_factor:i.data.form_factor_x,distance:i.data.distance,id:d,text_color:i.text_color,text_font:i.text_font}),f.setAttribute("position",m),i.el.appendChild(f),i.treemaps.push(f),i.value_treemaps.push(i.parsed_data.treemap_counts[h])}i.data.show_proportional&&(s=DATAVERSE.dmms.plus_button*i.data.distance/1e3,u=document.createElement("a-text"),n="See proportional sizes",r=DATAVERSE.dmms.big_label*i.data.distance*n.length/1e3,u.setAttribute("value",n),u.setAttribute("align","center"),u.setAttribute("baseline","top"),u.setAttribute("color",(i.data.theme?DATAVERSE.themes[i.data.theme]:i.data).text_color),u.setAttribute("font",(i.data.theme?DATAVERSE.themes[i.data.theme]:i.data).text_font),u.setAttribute("wrapCount",n.length),u.setAttribute("width",r),u.setAttribute("position",{x:0,y:o.vertical_scale(i.data.rows-.35)-.5*s,z:-i.data.distance}),i.el.appendChild(u),(l=document.createElement("a-entity")).setAttribute("uipack-button",{theme:i.data.theme,icon_name:"toggle-off.png",radius:s}),l.setAttribute("position",{x:0,y:o.vertical_scale(i.data.rows-.35)+s,z:-i.data.distance}),i.el.appendChild(l),i.proportional=!1,l.addEventListener("clicked",function(){i.proportional=!i.proportional,i.proportional?(l.setAttribute("uipack-button",{theme:i.data.theme,icon_name:"toggle-on.png",radius:DATAVERSE.dmms.plus_button*i.data.distance/1e3}),i.treemaps.forEach(function(e,t){var n=Math.sqrt(e.components["treemap-viz"].data.treemap_data.value/d3.max(i.value_treemaps));e.components["treemap-viz"].re_scale(n)})):(l.setAttribute("uipack-button",{theme:i.data.theme,icon_name:"toggle-off.png",radius:DATAVERSE.dmms.plus_button*i.data.distance/1e3}),i.treemaps.forEach(function(e,t){e.components["treemap-viz"].re_scale(1)}))})),i.el.emit("dv_loaded",null,!1)}},remove:function(){}}),AFRAME.registerComponent("video-viz",{schema:{media_source:{type:"string",default:""},source:{type:"string",default:""},theme:{type:"string",default:""},type:{type:"string",default:"360"},title_scale:{type:"float",default:1.5},explain_scale:{type:"float",default:1},title:{type:"string",default:""},explain:{type:"string",default:""},label_distance:{type:"number",default:10},label_height:{type:"number",default:1.6},label_background:{type:"string",default:"black"},label_color:{type:"string",default:"white"},label_font:{type:"string",default:"roboto"}},init:function(){this.video_timestamp=Date.now(),this.video_type={coverage:"full",stereo:!1,split:"horizontal"},this.data.type.includes("180")&&(this.video_type.coverage="half"),this.data.type.includes("stereo")&&(this.video_type.stereo=!0),this.data.type.includes("vertical")&&(this.video_type.split="vertical"),null!==document.getElementsByTagName("a-camera")[0]&&document.getElementsByTagName("a-camera")[0].setAttribute("stereocam","eye:left")},add_more_button:function(e,n,i,t){var r,a,o=this;""!==n.headline&&""!==n.text&&(r=document.createElement("a-entity"),a=DATAVERSE.dmms.plus_button*o.data.label_distance/1e3,r.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"plus.png",radius:a}),r.setAttribute("position",{x:0,y:t/2+1.5*a,z:0}),e.appendChild(r),r.addEventListener("clicked",function(){o.el.sceneEl.restore_clickable&&o.el.sceneEl.restore_clickable.classList.add("clickable");var e=o.el.sceneEl.camera.el.getAttribute("rotation").y%360;o.el.sceneEl.camera.el.getAttribute("rotation").x;o.el.sceneEl.media_panel&&o.el.sceneEl.media_panel.parentNode&&o.el.sceneEl.media_panel.parentNode.removeChild(o.el.sceneEl.media_panel),o.media_panel=document.createElement("a-entity");var t=o.el.sceneEl.camera.el.getAttribute("position");o.media_panel.setAttribute("position",{x:t.x,y:t.y,z:t.z}),o.media_panel.classList.add("dataverse-added"),o.media_panel.setAttribute("uipack-mediapanel",{yaw:e,theme:o.data.theme,distance:DATAVERSE.distances.panel,title:n.headline,subtitle:"",text:n.text,media_url:n.media,media_caption:n.media_caption,media_credit:n.media_credit,link:n.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(n.link,o.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(n.link,o.scene_data),id:"video-viz"+i}),o.media_panel.addEventListener("link",function(e){o.el.emit("link",{link:e.detail.link},!1)}),o.el.sceneEl.appendChild(o.media_panel),o.el.sceneEl.media_panel=o.media_panel,o.el.sceneEl.restore_clickable=this,o.el.sceneEl.restore_clickable.classList.remove("clickable")}))},render_tab:function(){var a=this;a.prepared_data.forEach(function(e,t){var n,i,r;e.scene===DATAVERSE.scene_number&&(n=document.createElement("a-entity"),i=e.yaw*THREE.Math.DEG2RAD,n.setAttribute("position",{x:a.data.label_distance*Math.sin(i),y:"height"in e&&"number"==typeof e.height?e.height:a.data.label_height,z:a.data.label_distance*Math.cos(i)}),n.setAttribute("rotation",{x:0,y:180<i/Math.PI*180?i/Math.PI*180-180:180+i/Math.PI*180,z:0}),r=e.headline,i=DATAVERSE.dmms.label*a.data.label_distance*(r.length+4)/1e3,n.setAttribute("text",{value:r,align:"center",color:a.data.theme?DATAVERSE.themes[a.data.theme].text_color:a.data.label_color,font:a.data.theme?DATAVERSE.themes[a.data.theme].text_font:a.data.label_font,width:i,wrapCount:r.length+4,zOffset:.01}),r=DATAVERSE.dmms.label*a.data.label_distance/1e3*3,n.setAttribute("geometry",{primitive:"plane",height:r,width:"auto"}),n.setAttribute("material",{color:a.data.theme?DATAVERSE.themes[a.data.theme].text_background:a.data.label_background,shader:"flat"}),a.add_more_button(n,e,t,r),a.el.appendChild(n))})},update:function(e){var t,n,i=this;i.video_type.stereo?(t="stereo_video_"+i.video_timestamp,document.getElementsByTagName("a-scene")[0],n=document.getElementsByTagName("a-assets")[0],i.video=document.createElement("video"),i.video.setAttribute("src",i.data.media_source),i.video.setAttribute("id",t),i.video.setAttribute("loop",!1),i.video.setAttribute("autoplay","true"),i.video.setAttribute("crossorigin","anonymous"),n.appendChild(i.video),i.el.emit("asset_added",{id:t},!1),i.stereo_left_sphere=document.createElement("a-entity"),i.stereo_left_sphere.setAttribute("class","videospheres dataverse-added skyspheres"),i.stereo_left_sphere.setAttribute("geometry","primitive:sphere; radius:100; segmentsWidth: 64; segmentsHeight:64"),i.stereo_left_sphere.setAttribute("material",{shader:"flat",src:"#"+t,side:"back"}),i.stereo_left_sphere.setAttribute("scale","-1 1 1"),i.stereo_left_sphere.setAttribute("visible",!1),i.stereo_left_sphere.setAttribute("rotation",{x:0,y:i.el.getAttribute("rotation").y,z:0}),AFRAME.utils.entity.setComponentProperty(i.stereo_left_sphere,"stereo",{eye:"left",mode:i.video_type.mode,split:i.video_type.split}),i.el.sceneEl.appendChild(i.stereo_left_sphere),i.stereo_right_sphere=document.createElement("a-entity"),i.stereo_right_sphere.setAttribute("class","videospheres dataverse-added skyspheres"),i.stereo_right_sphere.setAttribute("geometry","primitive:sphere; radius:100; segmentsWidth: 64; segmentsHeight:64"),i.stereo_right_sphere.setAttribute("material",{shader:"flat",src:"#"+t,side:"back"}),i.stereo_right_sphere.setAttribute("scale","-1 1 1"),i.stereo_right_sphere.setAttribute("visible",!1),i.stereo_right_sphere.setAttribute("rotation",{x:0,y:i.el.getAttribute("rotation").y,z:0}),i.stereo_right_sphere.addEventListener("materialvideoloadeddata",function(){i.el.emit("dv_loaded",null,!1)}),AFRAME.utils.entity.setComponentProperty(i.stereo_right_sphere,"stereo",{eye:"right",mode:i.video_type.mode,split:i.video_type.split}),i.video.play(),i.el.sceneEl.appendChild(i.stereo_right_sphere)):(t="mono_video_"+i.video_timestamp,document.getElementsByTagName("a-scene")[0],n=document.getElementsByTagName("a-assets")[0],i.video=document.createElement("video"),i.video.setAttribute("src",i.data.media_source),i.video.setAttribute("id",t),i.video.setAttribute("loop",!1),i.video.setAttribute("autoplay","true"),i.video.setAttribute("crossorigin","anonymous"),n.appendChild(i.video),i.el.emit("asset_added",{id:t},!1),i.mono_sphere=document.createElement("a-entity"),i.mono_sphere.setAttribute("class","videospheres dataverse-added skyspheres"),i.mono_sphere.setAttribute("geometry","primitive:sphere; radius:100; segmentsWidth: 64; segmentsHeight:64"),i.mono_sphere.setAttribute("material",{shader:"flat",src:"#"+t,side:"back"}),i.mono_sphere.setAttribute("scale","-1 1 1"),i.mono_sphere.setAttribute("visible",!1),i.mono_sphere.setAttribute("rotation",{x:0,y:i.el.getAttribute("rotation").y,z:0}),i.mono_sphere.addEventListener("materialvideoloadeddata",function(){i.el.emit("dv_loaded",null,!1)}),i.video.play(),i.el.sceneEl.appendChild(i.mono_sphere)),i.data.tab&&i.data.source&&DATAVERSE_VIZ_AUX.load_data("photo-viz",i.data.source,i.data.tab,function(e,t){null!==e&&(i.prepared_data=e,i.scene_data=t,i.render_tab())})},remove:function(){}}),AFRAME.registerComponent("uipack-button",{schema:{icon_name:{type:"string"},yaw:{type:"number",default:0},elevation:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_elevation},distance:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_distance},absolute_pos:{type:"boolean",default:!1},radius:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_radius},arc_color:{type:"string",default:"red"},theme:{type:"string",default:""}},init:function(){var t=this;t.button_mode=DATAVERSE&&"cursor_mode"in DATAVERSE?DATAVERSE.cursor_mode:"desktop",t.button=document.createElement("a-circle"),this.el.appendChild(t.button),this.el.classList.add("uipack","uipack-button","clickable"),"desktop"===t.button_mode?(this.el.addEventListener("mousedown",function(e){new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),t.el.emit("clicked",null,!1)}),this.el.addEventListener("mouseenter",function(e){t.el.sceneEl.canvas.classList.remove("a-grab-cursor")}),this.el.addEventListener("mouseleave",function(e){t.el.sceneEl.canvas.classList.add("a-grab-cursor")})):(t.first_hover=!0,this.el.addEventListener("raycaster-intersected",function(e){t.first_hover&&(t.ring=document.createElement("a-ring"),t.ring.setAttribute("radius-inner",+t.data.radius),t.ring.setAttribute("radius-outer",1.2*t.data.radius),t.ring.setAttribute("material","color:"+(t.data.theme?DATAVERSE.themes[t.data.theme]:t.data).arc_color),t.ring.setAttribute("visible",!0),t.animation=document.createElement("a-animation"),t.animation.setAttribute("easing","linear"),t.animation.setAttribute("attribute","geometry.thetaLength"),t.animation.setAttribute("dur",DATAVERSE.animation.button),t.animation.setAttribute("from","0"),t.animation.setAttribute("to","360"),t.ring.appendChild(t.animation),t.el.appendChild(t.ring),t.first_hover=!1,t.animation.addEventListener("animationend",function(){setTimeout(function(){t.first_hover=!0},500),new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),t.el.emit("clicked",null,!1),t.ring.parentNode.removeChild(t.ring)}))}),this.el.addEventListener("raycaster-intersected-cleared",function(e){t.first_hover=!0,e.detail.el.setAttribute("scale","1 1 1"),t.ring.parentNode&&t.ring.parentNode.removeChild(t.ring)}))},update:function(e){var t=this;t.icon_path=(""!==t.data.theme?DATAVERSE.themes[t.data.theme]:DATAVERSE.UIPACK_CONSTANTS).icon_path+"/"+t.data.icon_name,t.button.setAttribute("material",{src:"url("+t.icon_path+")",shader:"flat"}),t.button.setAttribute("radius",t.data.radius),t.el.parentEl!==t.el.sceneEl&&!t.data.absolute_pos||(t.x_position=t.data.distance*Math.cos(this.data.yaw*Math.PI/180),t.y_position=t.data.elevation,t.z_position=-t.data.distance*Math.sin(this.data.yaw*Math.PI/180),this.el.setAttribute("rotation",{x:0,y:this.data.yaw-90,z:0}),this.el.setAttribute("position",[t.x_position,t.y_position,t.z_position].join(" ")))}}),AFRAME.registerComponent("uipack-mediacontrols",{schema:{src:{type:"string"},width:{type:"number",default:2},height:{type:"number",default:.2},button_radius:{type:"number",default:.3},backgroundColor:{default:"black"},barColor:{default:"red"},textColor:{default:"yellow"},statusTextFont:{default:"50px Helvetica Neue"},timeTextFont:{default:"60px Helvetica Neue"},theme:{type:"string",default:""}},position_time_from_steps:function(){var e=this.current_step/this.bar_steps;0<this.video_el.readyState&&(this.video_el.currentTime=e*this.video_el.duration)},init:function(){var i=this;i.el.setAttribute("class","uipack uipack-mediacontrols clickable"),this.bar_steps=10,this.current_step=0,this.el.setAttribute("visible",!0),this.video_selector=this.data.src,this.video_el=document.querySelector(this.video_selector),i.icon=document.createElement("a-entity"),i.icon.setAttribute("uipack-button",{theme:i.data.theme,icon_name:DATAVERSE.UIPACK_CONSTANTS.play_icon,radius:i.data.button_radius}),this.el.appendChild(i.icon),this.video_el.paused?i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon):i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.pause_icon),this.video_el.addEventListener("ended",function(e){i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon)}),this.video_el.addEventListener("pause",function(e){i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon)}),this.video_el.addEventListener("playing",function(e){i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.pause_icon)}),this.bar_canvas=document.createElement("canvas"),this.bar_canvas.setAttribute("id","video_player_canvas"),this.bar_canvas.width=1024,this.bar_canvas.height=64,this.bar_canvas.style.display="none",this.context=this.bar_canvas.getContext("2d"),this.texture=new THREE.Texture(this.bar_canvas),i.icon.addEventListener("clicked",function(e){i.video_el.paused?(i.video_el.play(),i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.pause_icon)):(i.video_el.pause(),i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon))}),window.addEventListener("keypress",function(e){switch(e.keyCode){case 32:i.icon.emit("clicked",null,!1);break;case 37:i.current_step=0,i.position_time_from_steps();break;case 39:i.current_step=i.bar_steps,i.position_time_from_steps();break;case 38:i.current_step=i.current_step<i.bar_steps?i.current_step+1:i.current_step,i.position_time_from_steps();break;case 40:i.current_step=0<i.current_step?i.current_step-1:i.current_step,i.position_time_from_steps()}},!1),this.bar=document.createElement("a-plane"),this.bar.setAttribute("color",i.data.theme?DATAVERSE.themes[i.data.theme].player_background:i.data.backgroundColor),this.real_bar_width=this.data.width-5*this.data.button_radius,i.button_mode=DATAVERSE&&"cursor_mode"in DATAVERSE?DATAVERSE.cursor_mode:"desktop","desktop"===i.button_mode?(this.bar.addEventListener("mousedown",function(e){var e=e.detail.intersection.point,t=this.object3D.worldToLocal(e).x/i.real_bar_width+.5;i.current_step=Math.round(t*i.bar_steps);i.ray_timeout=setTimeout(function(){0<i.video_el.readyState&&(i.video_el.currentTime=t*i.video_el.duration)},300)}),this.bar.addEventListener("mouseenter",function(e){i.el.sceneEl.canvas.classList.remove("a-grab-cursor")}),this.bar.addEventListener("mouseleave",function(e){i.el.sceneEl.canvas.classList.add("a-grab-cursor"),clearTimeout(i.ray_timeout)})):(i.first_hover=!0,this.bar.addEventListener("raycaster-intersected",function(e){var t,n;i.first_hover&&(i.first_hover=!1,t=e.detail.intersection.point,n=this.object3D.worldToLocal(t).x/i.real_bar_width+.5,i.current_step=Math.round(n*i.bar_steps),i.ray_timeout=setTimeout(function(){0<i.video_el.readyState&&(i.video_el.currentTime=n*i.video_el.duration)},300),e.stopPropagation(),e.preventDefault())}),this.bar.addEventListener("raycaster-intersected-cleared",function(e){i.first_hover=!0,clearTimeout(i.ray_timeout)})),this.back_plane=document.createElement("a-plane"),this.back_plane.setAttribute("material",{color:i.data.theme?DATAVERSE.themes[i.data.theme].player_background:i.data.backgroundColor,shader:"flat"}),this.el.appendChild(this.bar_canvas),this.el.appendChild(this.bar),this.el.appendChild(this.back_plane)},update:function(e){this.bar.setAttribute("height",this.data.height/2),this.bar.setAttribute("width",this.real_bar_width),this.bar.setAttribute("position",{x:2*this.data.button_radius,y:0,z:.01}),this.back_plane.setAttribute("height",this.data.height),this.back_plane.setAttribute("width",this.data.width),this.icon.setAttribute("position",{x:-this.data.width/2+2*this.data.button_radius,y:0,z:.01})},tick:function(e){if(void 0===this.last_time||250<e-this.last_time){if(0<this.video_el.readyState){var t=(t=Math.floor(this.video_el.currentTime/60))<10?"0"+t:t,n=(n=Math.floor(this.video_el.currentTime%60))<10?"0"+n:n,i=Math.floor(this.video_el.duration/60),r=Math.floor(this.video_el.duration%60),r=t+":"+n+" / "+(i=i<10?"0"+i:i)+":"+(r=r<10?"0"+r:r),a=this.bar_canvas.width/this.video_el.duration;if(0<this.video_el.buffered.length){this.current_step=Math.round(this.video_el.currentTime/this.video_el.duration*this.bar_steps);var o=this.context;o.fillStyle=this.data.theme?DATAVERSE.themes[this.data.theme].player_background:this.data.backgroundColor,o.fillRect(0,0,this.bar_canvas.width,this.bar_canvas.height),o.font=this.data.theme?DATAVERSE.themes[this.data.theme].player_font:this.data.timeTextFont,o.fillStyle=this.data.theme?DATAVERSE.themes[this.data.theme].player_text_color:this.data.textColor,o.textAlign="center",o.fillText(r,.45*this.bar_canvas.width,+this.bar_canvas.height),this.video_el.seeking;for(var s=0;s<this.video_el.buffered.length;s++){var u=this.video_el.buffered.start(s)*a,l=this.video_el.buffered.end(s)*a-u;o.fillStyle="grey",o.fillRect(u,0,l,this.bar_canvas.height/2)}o.fillStyle=this.data.barColor,o.fillRect(0,0,this.video_el.currentTime/this.video_el.duration*this.bar_canvas.width,this.bar_canvas.height/2)}0<this.bar.object3D.children.length&&(null===this.bar.object3D.children[0].material.map&&(this.bar.object3D.children[0].material=new THREE.MeshBasicMaterial,this.bar.object3D.children[0].material.map=this.texture),this.texture.needsUpdate=!0)}this.last_time=e}}}),AFRAME.registerComponent("uipack-mediapanel",{schema:{id:{type:"string",default:""},distance:{type:"number",default:3},theme:{type:"string",default:""},yaw:{type:"number",default:0},pitch:{type:"number",default:0},coverage:{type:"number",default:60},aspect_ratio:{type:"number",default:16/9},height:{type:"number",default:30},text_color:{type:"string",default:"black"},aux_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},title_font:{type:"string",default:"roboto"},background_color:{type:"string",default:"white"},backpanel_color:{type:"string",default:"black"},media_url:{type:"string",default:""},title:{type:"string",default:""},low_height:{type:"number",default:-1},subtitle:{type:"string",default:""},text:{type:"string",default:""},media_caption:{type:"string",default:""},media_credit:{type:"string",default:""},link:{type:"string",default:""},link_thumbnail:{type:"string",default:""},link_type:{type:"string",default:""},close_button_dmms:{type:"number",default:40}},init:function(){var e=this;e.media_detect={photo:[/\.jpg$/i,/\.jpeg$/i,/\.png$/i],video:[/\.mp4$/i],audio:[/\.mp3$/i]},e.media_renderers={photo:e.render_photo,video:e.render_video,audio:e.render_audio,link:e.render_link,text:e.render_text},e.audio_analyser={width:1024,height:1024},e.constants={overlap_factor:.99,media_dim:.9,margin:.1,audio_analyser:{width:1024,height:1024},dmm:{title:40,subtitle:28,body:18,footnote:12,link:16},heights:{title:.8,subtitle:.4,body:-.3,footnote:-.8},media_heights:{player:.085,text_box:.15},separations:{title:.2,body:.1,credits:.1},media_text_pos:{title:.35,body:.15,credits:-.3},media_text_dmms:{title:16,body:12,credits:8}},e.el.classList.add("uipack","uipack-mediapanel","clickable"),e.el.setAttribute("rotation",{x:e.data.pitch,y:e.data.yaw,z:0}),e.assets=document.querySelector("a-assets"),void 0!==DATAVERSE_VIZ_AUX.global_tracking.last_media&&(DATAVERSE_VIZ_AUX.global_tracking.last_media.pause(),DATAVERSE_VIZ_AUX.global_tracking.last_media=void 0)},get_media_type:function(e){for(var t=0;t<Object.keys(this.media_detect).length;t++)for(var n=Object.keys(this.media_detect)[t],i=this.media_detect[n],r=0;r<i.length;r++)if(-1!==e.search(i[r]))return n},get_count_from_dmms:function(e,t,n){return Math.floor(1e3*e/(t*n))},render_audio_analyser:function(){var e=this;e.analyser.getByteTimeDomainData(e.dataArray),e.audio_context.fillStyle=e.data.theme?DATAVERSE.themes[e.data.theme].panel_backpanel:e.data.backpanel_color,e.audio_context.fillRect(0,0,e.constants.audio_analyser.width,e.constants.audio_analyser.height),e.audio_context.lineWidth=10,e.audio_context.strokeStyle=e.data.theme?DATAVERSE.themes[e.data.theme].panel_aux_color:e.data.aux_color,e.audio_context.beginPath();for(var t=e.constants.audio_analyser.width/e.audioBufferLength,n=0,i=0;i<e.audioBufferLength;i++){var r=e.dataArray[i]/128*e.constants.audio_analyser.height/2;0===i?e.audio_context.moveTo(n,r):e.audio_context.lineTo(n,r),n+=t}e.audio_context.lineTo(e.constants.audio_analyser.width,e.constants.audio_analyser.height/2),e.audio_context.stroke()},render_text:function(){this.media_height=0,this.media_control_height=0,this.render_media_texts(!0)},render_media_texts:function(i){var r=this;r.media_box_offset=r.media_height/2+r.media_control_height+r.width*r.constants.media_heights.text_box/2,r.media_box_offset=1.02*r.media_box_offset,r.close_button_y=-r.media_box_offset-r.width*r.constants.media_heights.text_box/2,r.link_button_y=-r.media_box_offset-r.width*r.constants.media_heights.text_box/2,r.media_box_height=r.width*r.constants.media_heights.text_box,r.media_text=document.createElement("a-plane"),r.media_text.setAttribute("height",r.media_box_height),r.media_text.setAttribute("width",r.width),r.media_text.setAttribute("material",{shader:"flat",color:r.data.theme?DATAVERSE.themes[r.data.theme].panel_background:r.data.background_color}),r.media_text.setAttribute("position",{x:0,y:-r.media_box_offset,z:-r.data.distance*r.constants.overlap_factor}),r.el.appendChild(r.media_text),r.media_text_container=document.createElement("a-entity"),r.media_text.appendChild(r.media_text_container);var e=r.data.subtitle?r.data.title+" ("+r.data.subtitle+")":r.data.title;r.title=document.createElement("a-entity"),r.title.setAttribute("text",{value:e,align:"left",anchor:"left",baseline:"top",width:r.width*(1-2*r.constants.margin),wrapCount:r.get_count_from_dmms(r.width*(1-2*r.constants.margin),r.data.distance*r.constants.overlap_factor,r.constants.media_text_dmms.title),color:r.data.theme?DATAVERSE.themes[r.data.theme].panel_color:r.data.color,font:r.data.theme?DATAVERSE.themes[r.data.theme].panel_title_font:r.data.title_font}),r.title.setAttribute("position",{x:-(r.width/2*(1-r.constants.margin)),y:r.media_box_height*(.5-r.constants.separations.title),z:0}),r.title.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),r.title.setAttribute("material",{shader:"flat",visible:!1}),r.media_text_container.appendChild(r.title),r.total_height=r.media_box_height*r.constants.separations.title;var t=r.media_box_height*(.5-r.constants.separations.title);r.title.addEventListener("textfontset",function(){var e=r.title.components.geometry.data.height;r.total_height+=e+r.total_height*r.constants.separations.body;var n=t-r.total_height*r.constants.separations.body-e;r.body=document.createElement("a-entity"),r.body.setAttribute("text",{value:r.data.text,align:"left",anchor:"left",baseline:"top",width:r.width*(1-r.constants.margin),wrapCount:r.get_count_from_dmms(r.width*(1-2*r.constants.margin),r.data.distance*r.constants.overlap_factor,r.constants.media_text_dmms.body),color:r.data.theme?DATAVERSE.themes[r.data.theme].panel_color:r.data.color,font:(r.data.theme?DATAVERSE.themes[r.data.theme]:r.data).panel_font}),r.body.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),r.body.setAttribute("material",{shader:"flat",visible:!1}),r.body.setAttribute("position",{x:-(r.width/2*(1-r.constants.margin)),y:n,z:0}),r.media_text_container.appendChild(r.body),r.body.addEventListener("textfontset",function(){var e=r.body.components.geometry.data.height+r.total_height*r.constants.separations.credits;r.total_height+=e+r.total_height*r.constants.separations.credits;var t=n-r.total_height*r.constants.separations.credits-e,e=r.data.media_caption+(r.data.media_credit?"\nCredits: "+r.data.media_credit:"");r.credits=document.createElement("a-entity"),r.credits.setAttribute("text",{value:e,align:"right",anchor:"right",width:r.width*(1-2*r.constants.margin),wrapCount:r.get_count_from_dmms(r.width*(1-2*r.constants.margin),r.data.distance*r.constants.overlap_factor,r.constants.media_text_dmms.credits),color:r.data.theme?DATAVERSE.themes[r.data.theme].panel_aux_color:r.data.aux_color,font:r.data.theme?DATAVERSE.themes[r.data.theme].panel_font:r.data.text_font}),r.credits.setAttribute("position",{x:r.width/2*(1-r.constants.margin),y:t,z:0}),r.credits.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),r.credits.setAttribute("material",{shader:"flat",visible:!1}),r.media_text_container.appendChild(r.credits),r.credits.addEventListener("textfontset",function(){var e=r.credits.components.geometry.data.height;r.total_height+=e+r.data.close_button_dmms*r.data.distance/1e3/2,r.fix_positions(),r.draw_close(),i&&r.render_if_link()})})})},fix_positions:function(){var e=this;e.old_height=e.media_box_height,e.new_height_margins=e.total_height,e.new_height=e.total_height,e.media_text.setAttribute("height",e.new_height_margins),e.offset_y=(e.new_height-e.old_height)/2,e.media_box_offset+=e.offset_y,e.media_text.setAttribute("position",{x:0,y:-e.media_box_offset,z:-e.data.distance*e.constants.overlap_factor}),e.media_text_container.setAttribute("position",{x:0,y:e.offset_y,z:0}),e.close_button_y=-e.media_box_offset-e.total_height/2,e.link_button_y=-e.media_box_offset-e.total_height/2},render_photo:function(){var e,t=this,n="panel_"+t.data.id;null===document.getElementById(n)?((e=document.createElement("img")).setAttribute("id",n),e.setAttribute("src",t.data.media_url),e.setAttribute("crossorigin","anonymous"),t.assets.appendChild(e)):e=document.getElementById(n),t.panel_image=document.createElement("a-plane"),t.panel_image.setAttribute("src","#"+n),t.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}}),t.panel_image.addEventListener("materialtextureloaded",function(){"material"in this.components.material&&"material"in this.components.material&&this.components.material.material.map&&"image"in this.components.material.material.map&&(t.old_offset=this.components.material.material.map.offset,t.old_repeat=this.components.material.material.map.repeat,t.old_material=this.components.material.material.map,this.components.material.material.map.offset={x:0,y:0},this.components.material.material.map.repeat={x:1,y:1},this.components.material.material.map.needsUpdate=!0)});function i(){var e=r.naturalWidth/r.naturalHeight;t.media_height=t.width/e,t.panel_image.setAttribute("width",t.width),t.panel_image.setAttribute("height",t.media_height),t.panel_image.setAttribute("position",{x:0,y:0,z:-(t.data.distance*t.constants.overlap_factor)}),t.panel_image.setAttribute("class","panel_media"),t.el.appendChild(t.panel_image),t.media_control_height=0,t.render_media_texts(!0)}var r=document.getElementById(n);0!==r.naturalWidth?i():r.onload=function(){i()}},render_media_controls:function(){var e=this,t=document.createElement("a-entity"),n="panel_"+e.data.id;e.media_control_height=e.width*e.constants.media_heights.player,t.setAttribute("uipack-mediacontrols",{src:"#"+n,width:e.width,height:e.media_control_height,button_radius:e.data.close_button_dmms*e.data.distance/1e3,theme:e.data.theme}),t.setAttribute("class","panel_media"),t.setAttribute("position",{x:0,y:-e.media_height/2-e.media_control_height/2,z:-(e.data.distance*e.constants.overlap_factor)}),e.el.appendChild(t)},render_if_link:function(){var e,t,n=this;n.data.link&&(t=!1,-1!==n.data.link_thumbnail.search(/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i)&&(t=!0),(e=document.createElement("a-entity")).setAttribute("uipack-button",{theme:n.data.theme,icon_name:"arrow-up.png",radius:n.data.close_button_dmms*n.data.distance/1e3}),e.setAttribute("position",{x:0,y:n.link_button_y,z:-n.data.distance*(n.constants.overlap_factor*n.constants.overlap_factor)}),e.addEventListener("clicked",function(){n.el.emit("link",{link:n.data.link},!1)}),n.el.appendChild(e),n.launch_text=document.createElement("a-entity"),n.launch_text.setAttribute("text",{value:"Go to immersive "+(t?" streetview panorama ":n.data.link_type),align:"center",anchor:"center",width:n.width/2,wrapCount:n.get_count_from_dmms(n.width/2,n.data.distance*n.constants.overlap_factor,n.constants.dmm.link),color:n.data.theme?DATAVERSE.themes[n.data.theme].panel_color:n.data.color,font:n.data.theme?DATAVERSE.themes[n.data.theme].panel_title_font:n.data.title_font}),t=n.constants.dmm.link*n.data.distance/1e3*3,n.launch_text.setAttribute("geometry",{primitive:"plane",height:t,width:"auto"}),n.launch_text.setAttribute("material",{color:n.data.theme?DATAVERSE.themes[n.data.theme].panel_background:n.data.background_color,shader:"flat"}),n.launch_text.setAttribute("position",{x:0,y:n.link_button_y-n.data.close_button_dmms*n.data.distance/1e3*2,z:-(n.data.distance*n.constants.overlap_factor*n.constants.overlap_factor)}),n.el.appendChild(n.launch_text))},render_link:function(){var n,e,t,i,r,a,o,s=this,u=/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i;s.media_type||(s.data.link_thumbnail?(n="panel_"+s.data.id,null===document.getElementById(n)?-1!==s.data.link_thumbnail.search(u)?(t=s.data.link_thumbnail.trim().split(","),e=parseFloat(t[0].trim()),r=parseFloat(t[1].trim()),(t=new GSVPANO.PanoLoader).setZoom(1),t.onPanoramaLoad=function(){this.canvas.setAttribute("id",n),s.canvas=this.canvas,s.assets.appendChild(this.canvas),s.panel_image=document.createElement("a-plane");var e=s.canvas.getAttribute("height"),t=s.canvas.getAttribute("width");s.panel_image.setAttribute("src","#"+n),s.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}});e=t/e;s.media_height=s.width/e,s.panel_image.setAttribute("height",s.media_height),s.panel_image.setAttribute("width",s.width),s.panel_image.setAttribute("position",{x:0,y:0,z:-(s.data.distance*s.constants.overlap_factor)}),s.panel_image.setAttribute("class","panel_media"),s.el.appendChild(s.panel_image),s.media_control_height=0,s.render_media_texts(!0)},t.load(new google.maps.LatLng(e,r))):((i=document.createElement("img")).setAttribute("id",n),i.setAttribute("src",s.data.link_thumbnail),i.setAttribute("crossorigin","anonymous"),s.assets.appendChild(i)):(i=document.getElementById(n),-1!==s.data.link_thumbnail.search(u)&&(s.canvas=document.getElementById(n),s.panel_image=document.createElement("a-plane"),r=s.canvas.getAttribute("height"),i=s.canvas.getAttribute("width"),s.panel_image.setAttribute("src","#"+n),s.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}}),r=i/r,s.media_height=s.width/r,s.panel_image.setAttribute("height",s.media_height),s.panel_image.setAttribute("width",s.width),s.panel_image.setAttribute("position",{x:0,y:0,z:-(s.data.distance*s.constants.overlap_factor)}),s.panel_image.setAttribute("class","panel_media"),s.el.appendChild(s.panel_image),s.media_control_height=0,s.render_media_texts(!0))),-1==s.data.link_thumbnail.search(u)&&(s.panel_image=document.createElement("a-plane"),s.panel_image.setAttribute("src","#"+n),s.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}}),s.panel_image.addEventListener("materialtextureloaded",function(){"material"in this.components.material&&"material"in this.components.material&&this.components.material.material.map&&"image"in this.components.material.material.map&&(s.old_offset=this.components.material.material.map.offset,s.old_repeat=this.components.material.material.map.repeat,s.old_material=this.components.material.material.map,this.components.material.material.map.offset={x:0,y:0},this.components.material.material.map.repeat={x:1,y:1},this.components.material.material.map.needsUpdate=!0)}),a=document.getElementById(n),o=function(){var e=a.naturalWidth/a.naturalHeight;s.media_height=s.width/e,s.panel_image.setAttribute("height",s.media_height),s.panel_image.setAttribute("width",s.width),s.panel_image.setAttribute("position",{x:0,y:0,z:-(s.data.distance*s.constants.overlap_factor)}),s.panel_image.setAttribute("class","panel_media"),s.el.appendChild(s.panel_image),s.media_control_height=0,s.render_media_texts(!0)},0!==a.naturalWidth?o():a.onload=function(){o()})):s.media_renderers.text.bind(s)())},render_audio:function(){var e,t=this,n="panel_"+t.data.id;null===document.getElementById(n)?((e=document.createElement("audio")).setAttribute("id",n),e.setAttribute("src",t.data.media_url),e.setAttribute("crossorigin","anonymous"),t.assets.appendChild(e)):e=document.getElementById(n),t.panel_audio=document.createElement("a-plane");var i,r,a=t.width/t.data.aspect_ratio,n=t.width;t.media_height=a,t.panel_audio.setAttribute("width",n),t.panel_audio.setAttribute("height",a),t.panel_audio.setAttribute("shader","flat"),DATAVERSE_VIZ_AUX.global_tracking.last_media=e,t.panel_audio.setAttribute("class","panel_media"),t.el.appendChild(t.panel_audio),DATAVERSE_VIZ_AUX.global_tracking.maps.audio.CONTEXT_MAP.has(e)?i=DATAVERSE_VIZ_AUX.global_tracking.maps.audio.CONTEXT_MAP.get(e):(i=new(window.AudioContext||window.webkitAudioContext),DATAVERSE_VIZ_AUX.global_tracking.maps.audio.CONTEXT_MAP.set(e,i)),DATAVERSE_VIZ_AUX.global_tracking.maps.audio.ANALYSER_MAP.has(e)?o=DATAVERSE_VIZ_AUX.global_tracking.maps.audio.ANALYSER_MAP.get(e):((o=i.createAnalyser()).smoothingTimeConstant=.3,o.fftSize=512,DATAVERSE_VIZ_AUX.global_tracking.maps.audio.ANALYSER_MAP.set(e,o)),DATAVERSE_VIZ_AUX.global_tracking.maps.audio.AUDIO_MAP.has(e)?r=DATAVERSE_VIZ_AUX.global_tracking.maps.audio.AUDIO_MAP.get(e):(r=i.createMediaElementSource(e),DATAVERSE_VIZ_AUX.global_tracking.maps.audio.AUDIO_MAP.set(e,r),r.connect(o),o.connect(i.destination)),t.analyser=o,t.context=i,t.audioBufferLength=o.frequencyBinCount;var o=new Uint8Array(t.audioBufferLength);t.dataArray=o,t.audio_canvas=document.createElement("canvas"),t.audio_canvas.setAttribute("class","panel_media");o="audio_canvas_"+new Date/1e3;t.audio_canvas.setAttribute("id",o),t.audio_canvas.width=t.constants.audio_analyser.width,t.audio_canvas.height=t.constants.audio_analyser.height,t.audio_canvas.style.display="none",t.audio_context=t.audio_canvas.getContext("2d"),t.panel_audio.setAttribute("src","#"+o),t.panel_audio.setAttribute("position",{x:0,y:0,z:-(t.data.distance*t.constants.overlap_factor)}),t.el.appendChild(t.audio_canvas),t.render_media_controls(),t.render_media_texts(!0),e.play()},render_video:function(){var t,n=this,i="panel_"+n.data.id;null===document.getElementById(i)?((t=document.createElement("video")).setAttribute("crossorigin","anonymous"),t.setAttribute("id",i),t.setAttribute("src",n.data.media_url),t.setAttribute("autoplay","true"),n.assets.appendChild(t)):t=document.getElementById(i),n.panel_video=document.createElement("a-plane"),n.panel_video.setAttribute("src","#"+i),DATAVERSE_VIZ_AUX.global_tracking.last_media=t;function e(){var e=t.videoWidth,e=t.videoHeight/e*n.width;n.media_height=e,n.panel_video.setAttribute("width",n.width),n.panel_video.setAttribute("height",e),n.panel_video.setAttribute("material",{src:"#"+i}),n.panel_video.setAttribute("position",{x:0,y:0,z:-(n.data.distance*n.constants.overlap_factor)}),n.panel_video.setAttribute("class","panel_media"),n.el.appendChild(n.panel_video),n.render_media_controls(),n.render_media_texts(!0),t.play()}0!==t.videoWidth?e():t.addEventListener("loadeddata",function(){e()})},draw_close:function(){var e=this,t=document.createElement("a-entity");t.setAttribute("uipack-button",{theme:e.data.theme,icon_name:"times-circle.png",radius:e.data.close_button_dmms*e.data.distance/1e3}),t.setAttribute("position",{x:0,y:e.media_height/2,z:-(e.data.distance*e.constants.overlap_factor*e.constants.overlap_factor)}),t.addEventListener("clicked",function(){e.old_material&&(e.old_material.offset=e.old_offset,e.old_material.repeat=e.old_repeat,e.old_material.needsUpdate=!0),void 0!==DATAVERSE_VIZ_AUX.global_tracking.last_media&&DATAVERSE_VIZ_AUX.global_tracking.last_media.pause(),e.el.sceneEl.restore_clickable&&e.el.sceneEl.restore_clickable.classList.add("clickable");e.el.emit("panel_closed",null,!1),setTimeout(function(){e.el.parentNode.removeChild(e.el)},100)}),e.el.appendChild(t);var n=e.link_button_y+e.el.getAttribute("position").y;-1!==e.data.low_height&&(t=e.data.low_height-n,(n=e.el.getAttribute("position")).y+=t,e.el.setAttribute("position",n))},update:function(){var e=this;e.media_type=e.get_media_type(e.data.media_url),e.back_panel=document.createElement("a-plane"),e.width=2*e.data.distance*Math.tan(THREE.Math.degToRad(e.data.coverage/2)),e.height=e.width/e.data.aspect_ratio,e.data.link&&e.media_renderers.link.bind(e)(),e.media_type&&e.media_renderers[e.media_type].bind(e)(),e.media_type||e.data.link||e.media_renderers.text.bind(e)()},remove:function(){this.el=null},tick:function(){void 0!==DATAVERSE_VIZ_AUX.global_tracking.last_media&&"AUDIO"===DATAVERSE_VIZ_AUX.global_tracking.last_media.tagName&&this.render_audio_analyser()}}),AFRAME.registerComponent("uipack-menu",{schema:{icons:{type:"array"},theme:{type:"string",default:"dark"},buttons:{type:"array",default:[]},media_id:{type:"string",default:""},pitch:{type:"number",default:-70},pitch_max:{type:"number",default:-50},pitch_min:{type:"number",default:-80},open:{type:"boolean",default:!1}},init:function(){var t=this;"camera"in t.el.sceneEl?t.camera=t.el.sceneEl.camera:t.el.sceneEl.addEventListener("loaded",function(e){t.camera=t.el.sceneEl.camera}),t.el.classList.add("uipack"),t.el.classList.add("uipack-menu"),t.container=document.createElement("a-entity"),t.el.appendChild(t.container),t.open_icon=document.createElement("a-entity"),t.open_icon.classList.add("non_click_while_loading"),t.open_icon.setAttribute("uipack-button",{icon_name:"bars.png"}),t.container.appendChild(t.open_icon),t.frame_count=0,t.hidden=!0,t.el.setAttribute("visible",!t.hidden),t.open_menu=!1,t.menu_group=document.createElement("a-entity"),t.menu_group.setAttribute("visible",!1),t.container.appendChild(t.menu_group),t.icon_row=[],t.button_row=[];for(var e=0;e<t.data.icons.length;e++){var n=document.createElement("a-entity");n.icon_index=e,n.classList.add("non_click_while_loading"),n.addEventListener("clicked",function(){t.open_menu&&!t.hidden&&t.el.emit("clicked",{type:"icon",index:this.icon_index},!1)}),t.icon_row.push(n),t.menu_group.appendChild(n)}for(t.button_parent=document.createElement("a-entity"),t.menu_group.appendChild(t.button_parent),e=0;e<t.data.buttons.length;e++){var i=document.createElement("a-entity");i.button_index=e,i.addEventListener("clicked",function(){t.open_menu&&!t.hidden&&t.el.emit("clicked",{type:"button",index:this.button_index},!1)}),t.button_row.push(i),t.button_parent.appendChild(i)}""!=t.data.media_id&&(t.media_controls=document.createElement("a-entity"),t.menu_group.appendChild(t.media_controls)),t.open_icon.addEventListener("clicked",function(){t.open_menu?(t.menu_group.setAttribute("visible",!1),t.open_icon.setAttribute("uipack-button","icon_name","bars.png"),t.open_menu=!1):(t.menu_group.setAttribute("visible",!0),t.open_icon.setAttribute("uipack-button","icon_name","close.png"),t.open_menu=!0)})},remove:function(){},update:function(e){for(var t=this,n=((t.icon_row.length-1)*(2*DATAVERSE.UIPACK_CONSTANTS.button_radius)+(t.icon_row.length-1)*DATAVERSE.UIPACK_CONSTANTS.icon_spacing)/2,i=0;i<t.icon_row.length;i++)t.icon_row[i].setAttribute("uipack-button",{icon_name:t.data.icons[i]}),t.icon_row[i].setAttribute("position",i*(2*DATAVERSE.UIPACK_CONSTANTS.button_radius+DATAVERSE.UIPACK_CONSTANTS.icon_spacing)-n+" "+DATAVERSE.UIPACK_CONSTANTS.offset_icons+" 0");for(var r=((t.button_row.length-1)*DATAVERSE.UIPACK_CONSTANTS.menu_button_width+(t.button_row.length-1)*DATAVERSE.UIPACK_CONSTANTS.button_spacing)/2,i=0;i<t.button_row.length;i++)t.button_row[i].setAttribute("uipack-textbutton",{text:t.data.buttons[i],width:DATAVERSE.UIPACK_CONSTANTS.menu_button_width,color:"#FFF",background:"#000"}),t.button_row[i].setAttribute("position",i*(DATAVERSE.UIPACK_CONSTANTS.menu_button_width+DATAVERSE.UIPACK_CONSTANTS.button_spacing)-r+" "+DATAVERSE.UIPACK_CONSTANTS.offset_buttons+" 0");""!=t.data.media_id&&(t.media_controls.setAttribute("uipack-mediacontrols",{src:"#"+t.data.media_id,width:DATAVERSE.UIPACK_CONSTANTS.menu_player_width,height:DATAVERSE.UIPACK_CONSTANTS.menu_player_height,theme:t.data.theme,button_radius:DATAVERSE.UIPACK_CONSTANTS.menu_player_button_radius}),t.media_controls.setAttribute("position","0 "+DATAVERSE.UIPACK_CONSTANTS.offset_player+" 0")),t.data.open&&(t.menu_group.setAttribute("visible",!0),t.open_icon.setAttribute("uipack-button","icon_name","close.png"),t.open_menu=!0,t.hidden=!1)},tick:function(e){var t,n,i,r,a=this;a.frame_count++,a.frame_count%DATAVERSE.UIPACK_CONSTANTS.menu_tick_check==0&&(n=(t=this.el.sceneEl.camera.el.getAttribute("rotation")).y+90,(i=t.x)<a.data.pitch_max&&i>a.data.pitch_min?a.hidden=!1:a.open_menu||(a.hidden=!0),a.el.setAttribute("visible",!a.hidden),a.data.open&&(a.y_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.sin(this.data.pitch*Math.PI/180),a.x_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.cos(n*Math.PI/180),a.z_position=-DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.sin(n*Math.PI/180),this.container.setAttribute("position",[a.x_position,a.y_position,a.z_position].join(" ")),a.camera&&(r=a.camera.el.getAttribute("position"),a.el.setAttribute("position",{x:r.x,y:r.y,z:r.z}),a.container.setAttribute("rotation",{x:this.data.pitch,y:t.y,z:0}),a.data.open=!1)),a.open_menu||a.hidden?a.open_menu&&!a.hidden&&a.camera&&(r=a.camera.el.getAttribute("position"),a.el.setAttribute("position",{x:r.x,y:r.y,z:r.z})):(a.y_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.sin(this.data.pitch*Math.PI/180),a.x_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.cos(n*Math.PI/180),a.z_position=-DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.sin(n*Math.PI/180),this.container.setAttribute("position",[a.x_position,a.y_position,a.z_position].join(" ")),a.camera&&(r=a.camera.el.getAttribute("position"),a.el.setAttribute("position",{x:r.x,y:r.y,z:r.z}),a.container.setAttribute("rotation",{x:t.x,y:t.y,z:0}))))}}),AFRAME.registerComponent("uipack-textbutton",{schema:{yaw:{type:"number",default:0},elevation:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_elevation},distance:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_distance},width:{type:"number",default:3},text:{type:"string",default:""},color:{type:"string",default:"#000"},background:{type:"string",default:"#FFF"}},init:function(){var t=this;t.text=document.createElement("a-entity"),this.el.setAttribute("class","uipack uipack-textbutton"),t.text.setAttribute("text",{align:"center",width:t.data.width,value:"\n"+t.data.text+"\n\n"}),t.text.setAttribute("geometry",{primitive:"plane",height:"auto",width:"auto"}),t.text.setAttribute("material",{color:t.data.background}),t.el.appendChild(t.text),t.icon=document.createElement("a-entity"),t.icon.setAttribute("uipack-button",{icon_name:DATAVERSE.UIPACK_CONSTANTS.thumbnail_icon}),t.el.appendChild(t.icon),t.text.addEventListener("textfontset",function(){t.icon.setAttribute("position",{x:0,y:-t.text.getAttribute("geometry").height/2,z:DATAVERSE.UIPACK_CONSTANTS.label_front_gap})}),t.icon.addEventListener("clicked",function(e){t.el.emit("clicked",null,!1)},!1)},update:function(e){var t=this;t.el.parentEl===t.el.sceneEl&&(t.x_position=t.data.distance*Math.cos(this.data.yaw*Math.PI/180),t.y_position=t.data.elevation,t.z_position=-t.data.distance*Math.sin(this.data.yaw*Math.PI/180),this.el.setAttribute("rotation",{x:0,y:this.data.yaw-90,z:0}),this.el.setAttribute("position",[t.x_position,t.y_position,t.z_position].join(" "))),t.text.setAttribute("material",{color:t.data.background},!1),t.text.setAttribute("text",{align:"center",width:t.data.width,color:t.data.color,value:"\n"+t.data.text+"\n\n"})}});