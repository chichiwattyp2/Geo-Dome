var DATAVERSE;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(w,e){"use strict";var t=[],x=w.document,i=Object.getPrototypeOf,s=t.slice,f=t.concat,u=t.push,r=t.indexOf,n={},a=n.toString,g=n.hasOwnProperty,o=g.toString,l=o.call(Object),_={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,noModule:!0};function M(e,t,n){var i,r=(t=t||x).createElement("script");if(r.text=e,n)for(i in c)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function A(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[a.call(e)]||"object":typeof e}var d="3.3.1",E=function(e,t){return new E.fn.init(e,t)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function p(e){var t=!!e&&"length"in e&&e.length,n=A(e);return!y(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:d,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||y(o)||(o={}),s===u&&(o=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(i=e[t])&&(l&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,a=n&&Array.isArray(n)?n:[]):a=n&&E.isPlainObject(n)?n:{},o[t]=E.extend(l,a,i)):void 0!==i&&(o[t]=i));return o},E.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==a.call(e))&&(!(t=i(e))||"function"==typeof(n=g.call(t,"constructor")&&t.constructor)&&o.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){M(e)},each:function(e,t){var n,i=0;if(p(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(h,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?E.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,o=[];if(p(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&o.push(r);return f.apply([],o)},guid:1,support:_}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var m=function(n){var e,p,M,a,r,m,d,f,A,u,l,b,w,o,x,g,s,c,_,E="sizzle"+1*new Date,y=n.document,L=0,i=0,h=oe(),v=oe(),T=oe(),D=function(e,t){return e===t&&(l=!0),0},S={}.hasOwnProperty,t=[],C=t.pop,N=t.push,k=t.push,I=t.slice,j=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",P="\\["+z+"*("+R+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+z+"*\\]",Y=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",B=new RegExp(z+"+","g"),U=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),H=new RegExp("^"+z+"*,"+z+"*"),F=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),G=new RegExp("="+z+"*([^\\]'\"]*?)"+z+"*\\]","g"),V=new RegExp(Y),W=new RegExp("^"+R+"$"),Q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Y),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){b()},re=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{k.apply(t=I.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){k={apply:t.length?function(e,t){N.apply(e,I.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,n,i){var r,a,o,s,u,l,c,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:y)!==w&&b(t),t=t||w,x)){if(11!==h&&(u=J.exec(e)))if(r=u[1]){if(9===h){if(!(o=t.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(d&&(o=d.getElementById(r))&&_(t,o)&&o.id===r)return n.push(o),n}else{if(u[2])return k.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&p.getElementsByClassName&&t.getElementsByClassName)return k.apply(n,t.getElementsByClassName(r)),n}if(p.qsa&&!T[e+" "]&&(!g||!g.test(e))){if(1!==h)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(te,ne):t.setAttribute("id",s=E),a=(l=m(e)).length;a--;)l[a]="#"+s+" "+_e(l[a]);c=l.join(","),d=K.test(e)&&fe(t.parentNode)||t}if(c)try{return k.apply(n,d.querySelectorAll(c)),n}catch(e){}finally{s===E&&t.removeAttribute("id")}}}return f(e.replace(U,"$1"),t,n,i)}function oe(){var i=[];return function e(t,n){return i.push(t+" ")>M.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function se(e){return e[E]=!0,e}function ue(e){var t=w.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),i=n.length;i--;)M.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function pe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&re(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function me(o){return se(function(a){return a=+a,se(function(e,t){for(var n,i=o([],e.length,a),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=ae.support={},r=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},b=ae.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:y;return i!==w&&9===i.nodeType&&i.documentElement&&(o=(w=i).documentElement,x=!r(w),y!==w&&(n=w.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ie,!1):n.attachEvent&&n.attachEvent("onunload",ie)),p.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ue(function(e){return e.appendChild(w.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=X.test(w.getElementsByClassName),p.getById=ue(function(e){return o.appendChild(e).id=E,!w.getElementsByName||!w.getElementsByName(E).length}),p.getById?(M.filter.ID=function(e){var t=e.replace($,ee);return function(e){return e.getAttribute("id")===t}},M.find.ID=function(e,t){if(void 0!==t.getElementById&&x){var n=t.getElementById(e);return n?[n]:[]}}):(M.filter.ID=function(e){var n=e.replace($,ee);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},M.find.ID=function(e,t){if(void 0!==t.getElementById&&x){var n,i,r,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(r=t.getElementsByName(e),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),M.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},M.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&x)return t.getElementsByClassName(e)},s=[],g=[],(p.qsa=X.test(w.querySelectorAll))&&(ue(function(e){o.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+z+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+E+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||g.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=w.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+z+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),o.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(p.matchesSelector=X.test(c=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ue(function(e){p.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",Y)}),g=g.length&&new RegExp(g.join("|")),s=s.length&&new RegExp(s.join("|")),t=X.test(o.compareDocumentPosition),_=t||X.test(o.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===w||e.ownerDocument===y&&_(y,e)?-1:t===w||t.ownerDocument===y&&_(y,t)?1:u?j(u,e)-j(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e===w?-1:t===w?1:r?-1:a?1:u?j(u,e)-j(u,t):0;if(r===a)return ce(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?ce(o[i],s[i]):o[i]===y?-1:s[i]===y?1:0}),w},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==w&&b(e),t=t.replace(G,"='$1']"),p.matchesSelector&&x&&!T[t+" "]&&(!s||!s.test(t))&&(!g||!g.test(t)))try{var n=c.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ae(t,w,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!==w&&b(e),_(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==w&&b(e);var n=M.attrHandle[t.toLowerCase()],i=n&&S.call(M.attrHandle,t.toLowerCase())?n(e,t,!x):void 0;return void 0!==i?i:p.attributes||!x?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(te,ne)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],i=0,r=0;if(l=!p.detectDuplicates,u=!p.sortStable&&e.slice(0),e.sort(D),l){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return u=null,e},a=ae.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=a(t);return n},(M=ae.selectors={cacheLength:50,createPseudo:se,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,ee),e[3]=(e[3]||e[4]||e[5]||"").replace($,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace($,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=h[e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&h(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=ae.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(B," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(m,e,t,f,g){var _="nth"!==m.slice(0,3),y="last"!==m.slice(-4),v="of-type"===e;return 1===f&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,a,o,s,u,l=_!==y?"nextSibling":"previousSibling",c=e.parentNode,d=v&&e.nodeName.toLowerCase(),h=!n&&!v,p=!1;if(c){if(_){for(;l;){for(o=e;o=o[l];)if(v?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;u=l="only"===m&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&h){for(p=(s=(i=(r=(a=(o=c)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[m]||[])[0]===L&&i[1])&&i[2],o=s&&c.childNodes[s];o=++s&&o&&o[l]||(p=s=0)||u.pop();)if(1===o.nodeType&&++p&&o===e){r[m]=[L,s,p];break}}else if(h&&(p=s=(i=(r=(a=(o=e)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[m]||[])[0]===L&&i[1]),!1===p)for(;(o=++s&&o&&o[l]||(p=s=0)||u.pop())&&((v?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++p||(h&&((r=(a=o[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[m]=[L,p]),o!==e)););return(p-=g)===f||p%f==0&&0<=p/f}}},PSEUDO:function(e,a){var t,o=M.pseudos[e]||M.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return o[E]?o(a):1<o.length?(t=[e,e,"",a],M.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,i=o(e,a),r=i.length;r--;)e[n=j(e,i[r])]=!(t[n]=i[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:se(function(e){var i=[],r=[],s=d(e.replace(U,"$1"));return s[E]?se(function(e,t,n,i){for(var r,a=s(e,null,i,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:se(function(t){return function(e){return 0<ae(t,e).length}}),contains:se(function(t){return t=t.replace($,ee),function(e){return-1<(e.textContent||e.innerText||a(e)).indexOf(t)}}),lang:se(function(n){return W.test(n||"")||ae.error("unsupported lang: "+n),n=n.replace($,ee).toLowerCase(),function(e){var t;do{if(t=x?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!M.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:me(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})M.pseudos[e]=he(e);function ge(){}function _e(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(s,e,t){var u=e.dir,l=e.next,c=l||u,d=t&&"parentNode"===c,h=i++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||d)return s(e,t,n);return!1}:function(e,t,n){var i,r,a,o=[L,h];if(n){for(;e=e[u];)if((1===e.nodeType||d)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||d)if(r=(a=e[E]||(e[E]={}))[e.uniqueID]||(a[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((i=r[c])&&i[0]===L&&i[1]===h)return o[2]=i[2];if((r[c]=o)[2]=s(e,t,n))return!0}return!1}}function ve(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function Me(e,t,n,i,r){for(var a,o=[],s=0,u=e.length,l=null!=t;s<u;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),l&&t.push(s)));return o}function Ae(p,m,f,g,_,e){return g&&!g[E]&&(g=Ae(g)),_&&!_[E]&&(_=Ae(_,e)),se(function(e,t,n,i){var r,a,o,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(m||"*",n.nodeType?[n]:n,[]),d=!p||!e&&m?c:Me(c,s,p,n,i),h=f?_||(e?p:l||g)?[]:t:d;if(f&&f(d,h,n,i),g)for(r=Me(h,u),g(r,[],n,i),a=r.length;a--;)(o=r[a])&&(h[u[a]]=!(d[u[a]]=o));if(e){if(_||p){if(_){for(r=[],a=h.length;a--;)(o=h[a])&&r.push(d[a]=o);_(null,h=[],r,i)}for(a=h.length;a--;)(o=h[a])&&-1<(r=_?j(e,o):s[a])&&(e[r]=!(t[r]=o))}}else h=Me(h===t?h.splice(l,h.length):h),_?_(null,t,h,i):k.apply(t,h)})}function be(e){for(var r,t,n,i=e.length,a=M.relative[e[0].type],o=a||M.relative[" "],s=a?1:0,u=ye(function(e){return e===r},o,!0),l=ye(function(e){return-1<j(r,e)},o,!0),c=[function(e,t,n){var i=!a&&(n||t!==A)||((r=t).nodeType?u(e,t,n):l(e,t,n));return r=null,i}];s<i;s++)if(t=M.relative[e[s].type])c=[ye(ve(c),t)];else{if((t=M.filter[e[s].type].apply(null,e[s].matches))[E]){for(n=++s;n<i&&!M.relative[e[n].type];n++);return Ae(1<s&&ve(c),1<s&&_e(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(U,"$1"),t,s<n&&be(e.slice(s,n)),n<i&&be(e=e.slice(n)),n<i&&_e(e))}c.push(t)}return ve(c)}return ge.prototype=M.filters=M.pseudos,M.setFilters=new ge,m=ae.tokenize=function(e,t){var n,i,r,a,o,s,u,l=v[e+" "];if(l)return t?0:l.slice(0);for(o=e,s=[],u=M.preFilter;o;){for(a in n&&!(i=H.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(r=[])),n=!1,(i=F.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(U," ")}),o=o.slice(n.length)),M.filter)!(i=Q[a].exec(o))||u[a]&&!(i=u[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?ae.error(e):v(e,s).slice(0)},d=ae.compile=function(e,t){var n,g,_,y,v,i,r=[],a=[],o=T[e+" "];if(!o){for(t||(t=m(e)),n=t.length;n--;)(o=be(t[n]))[E]?r.push(o):a.push(o);(o=T(e,(g=a,y=0<(_=r).length,v=0<g.length,i=function(e,t,n,i,r){var a,o,s,u=0,l="0",c=e&&[],d=[],h=A,p=e||v&&M.find.TAG("*",r),m=L+=null==h?1:Math.random()||.1,f=p.length;for(r&&(A=t===w||t||r);l!==f&&null!=(a=p[l]);l++){if(v&&a){for(o=0,t||a.ownerDocument===w||(b(a),n=!x);s=g[o++];)if(s(a,t||w,n)){i.push(a);break}r&&(L=m)}y&&((a=!s&&a)&&u--,e&&c.push(a))}if(u+=l,y&&l!==u){for(o=0;s=_[o++];)s(c,d,t,n);if(e){if(0<u)for(;l--;)c[l]||d[l]||(d[l]=C.call(i));d=Me(d)}k.apply(i,d),r&&!e&&0<d.length&&1<u+_.length&&ae.uniqueSort(i)}return r&&(L=m,A=h),c},y?se(i):i))).selector=e}return o},f=ae.select=function(e,t,n,i){var r,a,o,s,u,l="function"==typeof e&&e,c=!i&&m(e=l.selector||e);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===t.nodeType&&x&&M.relative[a[1].type]){if(!(t=(M.find.ID(o.matches[0].replace($,ee),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=Q.needsContext.test(e)?0:a.length;r--&&(o=a[r],!M.relative[s=o.type]);)if((u=M.find[s])&&(i=u(o.matches[0].replace($,ee),K.test(a[0].type)&&fe(t.parentNode)||t))){if(a.splice(r,1),!(e=i.length&&_e(a)))return k.apply(n,i),n;break}}return(l||d(e,c))(i,t,!x,n,!t||K.test(e)&&fe(t.parentNode)||t),n},p.sortStable=E.split("").sort(D).join("")===E,p.detectDuplicates=!!l,b(),p.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(w.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(O,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),ae}(w);E.find=m,E.expr=m.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=m.uniqueSort,E.text=m.getText,E.isXMLDoc=m.isXML,E.contains=m.contains,E.escapeSelector=m.escape;var b=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&E(e).is(n))break;i.push(e)}return i},L=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=E.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(e,n,i){return y(n)?E.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?E.grep(e,function(e){return e===n!==i}):"string"!=typeof n?E.grep(e,function(e){return-1<r.call(n,e)!==i}):E.filter(n,e,i)}E.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?E.find.matchesSelector(i,e)?[i]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<i;t++)if(E.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)E.find(e,r[t],n);return 1<i?E.uniqueSort(n):n},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&T.test(e)?E(e):e||[],!1).length}});var N,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:k.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),S.test(i[1])&&E.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=x.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,N=E(x);var I=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,a=[],o="string"!=typeof e&&E(e);if(!T.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?E.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?r.call(E(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,n){return b(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,n){return b(e,"nextSibling",n)},prevUntil:function(e,t,n){return b(e,"previousSibling",n)},siblings:function(e){return L((e.parentNode||{}).firstChild,e)},children:function(e){return L(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(i,r){E.fn[i]=function(e,t){var n=E.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(j[i]||E.uniqueSort(n),I.test(i)&&n.reverse()),this.pushStack(n)}});var z=/[^\x20\t\r\n\f]+/g;function R(e){return e}function P(e){throw e}function Y(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},E.each(e.match(z)||[],function(e,t){n[t]=!0}),n):E.extend({},i);var r,t,a,o,s=[],u=[],l=-1,c=function(){for(o=o||i.once,a=r=!0;u.length;l=-1)for(t=u.shift();++l<s.length;)!1===s[l].apply(t[0],t[1])&&i.stopOnFalse&&(l=s.length,t=!1);i.memory||(t=!1),r=!1,o&&(s=t?[]:"")},d={add:function(){return s&&(t&&!r&&(l=s.length-1,u.push(t)),function n(e){E.each(e,function(e,t){y(t)?i.unique&&d.has(t)||s.push(t):t&&t.length&&"string"!==A(t)&&n(t)})}(arguments),t&&!r&&c()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<E.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return o=u=[],t||r||(s=t=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),r||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},E.extend({Deferred:function(e){var a=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var r=arguments;return E.Deferred(function(i){E.each(a,function(e,t){var n=y(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var u=0;function l(r,a,o,s){return function(){var n=this,i=arguments,e=function(){var e,t;if(!(r<u)){if((e=o.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?s?t.call(e,l(u,a,R,s),l(u,a,P,s)):(u++,t.call(e,l(u,a,R,s),l(u,a,P,s),l(u,a,R,a.notifyWith))):(o!==R&&(n=void 0,i=[e]),(s||a.resolveWith)(n,i))}},t=s?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),u<=r+1&&(o!==P&&(n=void 0,i=[e]),a.rejectWith(n,i))}};r?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),w.setTimeout(t))}}return E.Deferred(function(e){a[0][3].add(l(0,e,y(i)?i:R,e.notifyWith)),a[1][3].add(l(0,e,y(t)?t:R)),a[2][3].add(l(0,e,y(n)?n:P))}).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},s={};return E.each(a,function(e,t){var n=t[2],i=t[5];o[t[1]]=n.add,i&&n.add(function(){r=i},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,i=Array(t),r=s.call(arguments),a=E.Deferred(),o=function(t){return function(e){i[t]=this,r[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(i,r)}};if(n<=1&&(Y(e,a.done(o(t)).resolve,a.reject,!n),"pending"===a.state()||y(r[t]&&r[t].then)))return a.then();for(;t--;)Y(r[t],o(t),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){w.console&&w.console.warn&&e&&B.test(e.name)&&w.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){w.setTimeout(function(){throw e})};var U=E.Deferred();function H(){x.removeEventListener("DOMContentLoaded",H),w.removeEventListener("load",H),E.ready()}E.fn.ready=function(e){return U.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||U.resolveWith(x,[E])}}),E.ready.then=U.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?w.setTimeout(E.ready):(x.addEventListener("DOMContentLoaded",H),w.addEventListener("load",H));var F=function(e,t,n,i,r,a,o){var s=0,u=e.length,l=null==n;if("object"===A(n))for(s in r=!0,n)F(e,t,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,y(i)||(o=!0),l&&(o?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;s<u;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):a},G=/^-ms-/,V=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function Q(e){return e.replace(G,"ms-").replace(V,W)}var q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=E.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[Q(t)]=n;else for(i in t)r[Q(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in i?[t]:t.match(z)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||E.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var X=new Z,J=new Z,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function ee(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace($,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:K.test(r)?JSON.parse(r):r)}catch(e){}J.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),E.fn.extend({data:function(n,e){var t,i,r,a=this[0],o=a&&a.attributes;if(void 0===n){if(this.length&&(r=J.get(a),1===a.nodeType&&!X.get(a,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(i=o[t].name).indexOf("data-")&&(i=Q(i.slice(5)),ee(a,i,r[i]));X.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof n?this.each(function(){J.set(this,n)}):F(this,function(e){var t;if(a&&void 0===e)return void 0!==(t=J.get(a,n))?t:void 0!==(t=ee(a,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),E.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=X.get(e,t),n&&(!i||Array.isArray(n)?i=X.access(e,t,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),i=n.length,r=n.shift(),a=E._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,function(){E.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:E.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=E.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=X.get(a[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&E.contains(e.ownerDocument,e)&&"none"===E.css(e,"display")},ae=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in r=n.apply(e,i||[]),t)e.style[a]=o[a];return r};function oe(e,t,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return E.css(e,t,"")},u=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=(E.cssNumber[t]||"px"!==l&&+u)&&ne.exec(E.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;o--;)E.style(e,t,c+l),(1-a)*(1-(a=s()/u||.5))<=0&&(o=0),c/=a;c*=2,E.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var se={};function ue(e,t){for(var n,i,r,a,o,s,u,l=[],c=0,d=e.length;c<d;c++)(i=e[c]).style&&(n=i.style.display,t?("none"===n&&(l[c]=X.get(i,"display")||null,l[c]||(i.style.display="")),""===i.style.display&&re(i)&&(l[c]=(u=o=a=void 0,o=(r=i).ownerDocument,s=r.nodeName,(u=se[s])||(a=o.body.appendChild(o.createElement(s)),u=E.css(a,"display"),a.parentNode.removeChild(a),"none"===u&&(u="block"),se[s]=u)))):"none"!==n&&(l[c]="none",X.set(i,"display",n)));for(c=0;c<d;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}E.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){re(this)?E(this).show():E(this).hide()})}});var le=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?E.merge([e],n):n}function me(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td;var fe,ge,_e=/<|&#?\w+;/;function ye(e,t,n,i,r){for(var a,o,s,u,l,c,d=t.createDocumentFragment(),h=[],p=0,m=e.length;p<m;p++)if((a=e[p])||0===a)if("object"===A(a))E.merge(h,a.nodeType?[a]:a);else if(_e.test(a)){for(o=o||d.appendChild(t.createElement("div")),s=(ce.exec(a)||["",""])[1].toLowerCase(),u=he[s]||he._default,o.innerHTML=u[1]+E.htmlPrefilter(a)+u[2],c=u[0];c--;)o=o.lastChild;E.merge(h,o.childNodes),(o=d.firstChild).textContent=""}else h.push(t.createTextNode(a));for(d.textContent="",p=0;a=h[p++];)if(i&&-1<E.inArray(a,i))r&&r.push(a);else if(l=E.contains(a.ownerDocument,a),o=pe(d.appendChild(a),"script"),l&&me(o),n)for(c=0;a=o[c++];)de.test(a.type||"")&&n.push(a);return d}fe=x.createDocumentFragment().appendChild(x.createElement("div")),(ge=x.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),fe.appendChild(ge),_.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue;var ve=x.documentElement,Me=/^key/,Ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function xe(){return!1}function Ee(){try{return x.activeElement}catch(e){}}function Le(e,t,n,i,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Le(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=xe;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return E().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=E.guid++)),e.each(function(){E.event.add(this,t,r,i,n)})}E.event={global:{},add:function(t,e,n,i,r){var a,o,s,u,l,c,d,h,p,m,f,g=X.get(t);if(g)for(n.handler&&(n=(a=n).handler,r=a.selector),r&&E.find.matchesSelector(ve,r),n.guid||(n.guid=E.guid++),(u=g.events)||(u=g.events={}),(o=g.handle)||(o=g.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(z)||[""]).length;l--;)p=f=(s=be.exec(e[l])||[])[1],m=(s[2]||"").split(".").sort(),p&&(d=E.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=E.event.special[p]||{},c=E.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:m.join(".")},a),(h=u[p])||((h=u[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,m,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),E.event.global[p]=!0)},remove:function(e,t,n,i,r){var a,o,s,u,l,c,d,h,p,m,f,g=X.hasData(e)&&X.get(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(z)||[""]).length;l--;)if(p=f=(s=be.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},h=u[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)c=h[a],!r&&f!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(a,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,m,g.handle)||E.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)E.event.remove(e,p+t[l],n,i,!0);E.isEmptyObject(u)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,o,s=E.event.fix(e),u=new Array(arguments.length),l=(X.get(this,"events")||{})[s.type]||[],c=E.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(o=E.event.handlers.call(this,s,l),t=0;(r=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(i=((E.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,u))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,a,o,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(a=[],o={},n=0;n<u;n++)void 0===o[r=(i=t[n]).selector+" "]&&(o[r]=i.needsContext?-1<E(r,this).index(l):E.find(r,this,null,[l]).length),o[r]&&a.push(i);a.length&&s.push({elem:l,handlers:a})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:xe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Me.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ae.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){E.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),E.fn.extend({on:function(e,t,n,i){return Le(this,e,t,n,i)},one:function(e,t,n,i){return Le(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=xe),this.each(function(){E.event.remove(this,e,n,t)})}});var Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function ke(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var n,i,r,a,o,s,u,l;if(1===t.nodeType){if(X.hasData(e)&&(a=X.access(e),o=X.set(t,a),l=a.events))for(r in delete o.handle,o.events={},l)for(n=0,i=l[r].length;n<i;n++)E.event.add(t,r,l[r][n]);J.hasData(e)&&(s=J.access(e),u=E.extend({},s),J.set(t,u))}}function Oe(n,i,r,a){i=f.apply([],i);var e,t,o,s,u,l,c=0,d=n.length,h=d-1,p=i[0],m=y(p);if(m||1<d&&"string"==typeof p&&!_.checkClone&&Se.test(p))return n.each(function(e){var t=n.eq(e);m&&(i[0]=p.call(this,e,t.html())),Oe(t,i,r,a)});if(d&&(t=(e=ye(i,n[0].ownerDocument,!1,n,a)).firstChild,1===e.childNodes.length&&(e=t),t||a)){for(s=(o=E.map(pe(e,"script"),ke)).length;c<d;c++)u=e,c!==h&&(u=E.clone(u,!0,!0),s&&E.merge(o,pe(u,"script"))),r.call(n[c],u,c);if(s)for(l=o[o.length-1].ownerDocument,E.map(o,Ie),c=0;c<s;c++)u=o[c],de.test(u.type||"")&&!X.access(u,"globalEval")&&E.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(u.src):M(u.textContent.replace(Ce,""),l,u))}return n}function ze(e,t,n){for(var i,r=t?E.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||E.cleanData(pe(i)),i.parentNode&&(n&&E.contains(i.ownerDocument,i)&&me(pe(i,"script")),i.parentNode.removeChild(i));return e}E.extend({htmlPrefilter:function(e){return e.replace(Te,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s,u,l,c=e.cloneNode(!0),d=E.contains(e.ownerDocument,e);if(!(_.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(o=pe(c),i=0,r=(a=pe(e)).length;i<r;i++)s=a[i],u=o[i],void 0,"input"===(l=u.nodeName.toLowerCase())&&le.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(a=a||pe(e),o=o||pe(c),i=0,r=a.length;i<r;i++)je(a[i],o[i]);else je(e,c);return 0<(o=pe(c,"script")).length&&me(o,!d&&pe(e,"script")),c},cleanData:function(e){for(var t,n,i,r=E.event.special,a=0;void 0!==(n=e[a]);a++)if(q(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),E.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return F(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Oe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return Oe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return F(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!he[(ce.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Oe(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(pe(this)),t&&t.replaceChild(e,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){E.fn[e]=function(e){for(var t,n=[],i=E(e),r=i.length-1,a=0;a<=r;a++)t=a===r?this:this.clone(!0),E(i[a])[o](t),u.apply(n,t.get());return this.pushStack(n)}});var Re=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Pe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=w),t.getComputedStyle(e)},Ye=new RegExp(ie.join("|"),"i");function Be(e,t,n){var i,r,a,o,s=e.style;return(n=n||Pe(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||E.contains(e.ownerDocument,e)||(o=E.style(e,t)),!_.pixelBoxStyles()&&Re.test(o)&&Ye.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ve.appendChild(s).appendChild(u);var e=w.getComputedStyle(u);n="1%"!==e.top,o=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),i=36===t(e.width),u.style.position="absolute",r=36===u.offsetWidth||"absolute",ve.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,r,a,o,s=x.createElement("div"),u=x.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(_,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),o},scrollboxSize:function(){return e(),r}}))}();var He=/^(none|table(?!-c[ea]).+)/,Fe=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},We=["Webkit","Moz","ms"],Qe=x.createElement("div").style;function qe(e){var t=E.cssProps[e];return t||(t=E.cssProps[e]=function(e){if(e in Qe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in Qe)return e}(e)||e),t}function Ze(e,t,n){var i=ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Xe(e,t,n,i,r,a){var o="width"===t?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(u+=E.css(e,n+ie[o],!0,r)),i?("content"===n&&(u-=E.css(e,"padding"+ie[o],!0,r)),"margin"!==n&&(u-=E.css(e,"border"+ie[o]+"Width",!0,r))):(u+=E.css(e,"padding"+ie[o],!0,r),"padding"!==n?u+=E.css(e,"border"+ie[o]+"Width",!0,r):s+=E.css(e,"border"+ie[o]+"Width",!0,r));return!i&&0<=a&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-u-s-.5))),u}function Je(e,t,n){var i=Pe(e),r=Be(e,t,i),a="border-box"===E.css(e,"boxSizing",!1,i),o=a;if(Re.test(r)){if(!n)return r;r="auto"}return o=o&&(_.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===E.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(r=parseFloat(r)||0)+Xe(e,t,n||(a?"border":"content"),o,i,r)+"px"}function Ke(e,t,n,i,r){return new Ke.prototype.init(e,t,n,i,r)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=Q(t),u=Fe.test(t),l=e.style;if(u||(t=qe(s)),o=E.cssHooks[t]||E.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t];"string"===(a=typeof n)&&(r=ne.exec(n))&&r[1]&&(n=oe(e,t,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(E.cssNumber[s]?"":"px")),_.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,i){var r,a,o,s=Q(t);return Fe.test(t)||(t=qe(s)),(o=E.cssHooks[t]||E.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=Be(e,t,i)),"normal"===r&&t in Ve&&(r=Ve[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),E.each(["height","width"],function(e,s){E.cssHooks[s]={get:function(e,t,n){if(t)return!He.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,s,n):ae(e,Ge,function(){return Je(e,s,n)})},set:function(e,t,n){var i,r=Pe(e),a="border-box"===E.css(e,"boxSizing",!1,r),o=n&&Xe(e,s,n,a,r);return a&&_.scrollboxSize()===r.position&&(o-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(r[s])-Xe(e,s,"border",!1,r)-.5)),o&&(i=ne.exec(t))&&"px"!==(i[3]||"px")&&(e.style[s]=t,t=E.css(e,s)),Ze(0,t,o)}}}),E.cssHooks.marginLeft=Ue(_.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(r,a){E.cssHooks[r+a]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+ie[t]+a]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(E.cssHooks[r+a].set=Ze)}),E.fn.extend({css:function(e,t){return F(this,function(e,t,n){var i,r,a={},o=0;if(Array.isArray(t)){for(i=Pe(e),r=t.length;o<r;o++)a[t[o]]=E.css(e,t[o],!1,i);return a}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(E.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[E.cssProps[e.prop]]&&!E.cssHooks[e.prop]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=Ke.prototype.init,E.fx.step={};var $e,et,tt,nt,it=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;function at(){et&&(!1===x.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(at):w.setTimeout(at,E.fx.interval),E.fx.tick())}function ot(){return w.setTimeout(function(){$e=void 0}),$e=Date.now()}function st(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ie[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,n){for(var i,r=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function lt(a,e,t){var n,o,i=0,r=lt.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var e=$e||ot(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),i=0,r=l.tweens.length;i<r;i++)l.tweens[i].run(n);return s.notifyWith(a,[l,n,t]),n<1&&r?t:(r||s.notifyWith(a,[l,1,0]),s.resolveWith(a,[l]),!1)},l=s.promise({elem:a,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:$e||ot(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(a,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(o)return this;for(o=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(a,[l,1,0]),s.resolveWith(a,[l,e])):s.rejectWith(a,[l,e]),this}}),c=l.props;for(!function(e,t){var n,i,r,a,o;for(n in e)if(r=t[i=Q(n)],a=e[n],Array.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(o=E.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=r);else t[i]=r}(c,l.opts.specialEasing);i<r;i++)if(n=lt.prefilters[i].call(l,a,c,l.opts))return y(n.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return E.map(c,ut,l),y(l.opts.start)&&l.opts.start.call(a,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:a,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(z);for(var n,i=0,r=e.length;i<r;i++)n=e[i],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,a,o,s,u,l,c,d="width"in t||"height"in t,h=this,p={},m=e.style,f=e.nodeType&&re(e),g=X.get(e,"fxshow");for(i in n.queue||(null==(o=E._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,E.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[i],it.test(r)){if(delete t[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||E.style(e,i)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=X.get(e,"display")),"none"===(c=E.css(e,"display"))&&(l?c=l:(ue([e],!0),l=e.style.display||l,c=E.css(e,"display"),ue([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(e,"float")&&(u||(h.done(function(){m.display=l}),null==l&&(c=m.display,l="none"===c?"":c)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",h.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]})),u=!1,p)u||(g?"hidden"in g&&(f=g.hidden):g=X.access(e,"fxshow",{display:l}),a&&(g.hidden=!f),f&&ue([e],!0),h.done(function(){for(i in f||ue([e]),X.remove(e,"fxshow"),p)E.style(e,i,p[i])})),u=ut(f?g[i]:0,i,h),i in g||(g[i]=u.start,f&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),E.speed=function(e,t,n){var i=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(e,t,n,i){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=E.isEmptyObject(t),a=E.speed(e,n,i),o=function(){var e=lt(this,E.extend({},t),a);(r||X.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(r,e,a){var o=function(e){var t=e.stop;delete e.stop,t(a)};return"string"!=typeof r&&(a=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=E.timers,i=X.get(this);if(t)i[t]&&i[t].stop&&o(i[t]);else for(t in i)i[t]&&i[t].stop&&rt.test(t)&&o(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(a),e=!1,n.splice(t,1));!e&&a||E.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=X.get(this),n=t[o+"queue"],i=t[o+"queueHooks"],r=E.timers,a=n?n.length:0;for(t.finish=!0,E.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===o&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,i){var r=E.fn[i];E.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(st(i,!0),e,t,n)}}),E.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){E.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for($e=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),$e=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){et||(et=!0,at())},E.fx.stop=function(){et=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(i,e){return i=E.fx&&E.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=w.setTimeout(e,i);t.stop=function(){w.clearTimeout(n)}})},tt=x.createElement("input"),nt=x.createElement("select").appendChild(x.createElement("option")),tt.type="checkbox",_.checkOn=""!==tt.value,_.optSelected=nt.selected,(tt=x.createElement("input")).value="t",tt.type="radio",_.radioValue="t"===tt.value;var ct,dt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return F(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?E.prop(e,t,n):(1===a&&E.isXMLDoc(e)||(r=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=E.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!_.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(z);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var o=dt[t]||E.find.attr;dt[t]=function(e,t,n){var i,r,a=t.toLowerCase();return n||(r=dt[a],dt[a]=i,i=null!=o(e,t,n)?a:null,dt[a]=r),i}});var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function mt(e){return(e.match(z)||[]).join(" ")}function ft(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(z)||[]}E.fn.extend({prop:function(e,t){return F(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&E.isXMLDoc(e)||(t=E.propFix[t]||t,r=E.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,u=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,ft(this)))});if((e=gt(t)).length)for(;n=this[u++];)if(r=ft(n),i=1===n.nodeType&&" "+mt(r)+" "){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=mt(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,u=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,ft(this)))});if(!arguments.length)return this.attr("class","");if((e=gt(t)).length)for(;n=this[u++];)if(r=ft(n),i=1===n.nodeType&&" "+mt(r)+" "){for(o=0;a=e[o++];)for(;-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");r!==(s=mt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(r,t){var a=typeof r,o="string"===a||Array.isArray(r);return"boolean"==typeof t&&o?t?this.addClass(r):this.removeClass(r):y(r)?this.each(function(e){E(this).toggleClass(r.call(this,e,ft(this),t),t)}):this.each(function(){var e,t,n,i;if(o)for(t=0,n=E(this),i=gt(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!==a||((e=ft(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===r?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+mt(ft(n))+" ").indexOf(t))return!0;return!1}});var _t=/\r/g;E.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=y(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,E(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(i=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(_t,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:mt(E.text(e))}},select:{get:function(e){var t,n,i,r=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],u=o?a+1:r.length;for(i=a<0?u:o?a:0;i<u;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=E(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=E.makeArray(t),o=r.length;o--;)((i=r[o]).selected=-1<E.inArray(E.valHooks.option.get(i),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},_.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_.focusin="onfocusin"in w;var yt=/^(?:focusinfocus|focusoutblur)$/,vt=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,i){var r,a,o,s,u,l,c,d,h=[n||x],p=g.call(e,"type")?e.type:e,m=g.call(e,"namespace")?e.namespace.split("."):[];if(a=d=o=n=n||x,3!==n.nodeType&&8!==n.nodeType&&!yt.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(m=p.split(".")).shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[E.expando]?e:new E.Event(p,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),c=E.event.special[p]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!v(n)){for(s=c.delegateType||p,yt.test(s+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),o=a;o===(n.ownerDocument||x)&&h.push(o.defaultView||o.parentWindow||w)}for(r=0;(a=h[r++])&&!e.isPropagationStopped();)d=a,e.type=1<r?s:c.bindType||p,(l=(X.get(a,"events")||{})[e.type]&&X.get(a,"handle"))&&l.apply(a,t),(l=u&&a[u])&&l.apply&&q(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),t)||!q(n)||u&&y(n[p])&&!v(n)&&((o=n[u])&&(n[u]=null),E.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,vt),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,vt),E.event.triggered=void 0,o&&(n[u]=o)),e.result}},simulate:function(e,t,n){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(i,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),_.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){E.event.simulate(i,e.target,E.event.fix(e))};E.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=X.access(e,i);t||e.addEventListener(n,r,!0),X.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=X.access(e,i)-1;t?X.access(e,i,t):(e.removeEventListener(n,r,!0),X.remove(e,i))}}});var Mt=w.location,At=Date.now(),bt=/\?/;E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new w.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var wt=/\[\]$/,xt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Tt(n,e,i,r){var t;if(Array.isArray(e))E.each(e,function(e,t){i||wt.test(n)?r(n,t):Tt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,r)});else if(i||"object"!==A(e))r(n,e);else for(t in e)Tt(n+"["+t+"]",e[t],i,r)}E.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){r(this.name,this.value)});else for(n in e)Tt(n,e[n],t,r);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Lt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!le.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(xt,"\r\n")}}):{name:t.name,value:n.replace(xt,"\r\n")}}).get()}});var Dt=/%20/g,St=/#.*$/,Ct=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:GET|HEAD)$/,It=/^\/\//,jt={},Ot={},zt="*/".concat("*"),Rt=x.createElement("a");function Pt(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(z)||[];if(y(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(t)):(a[n]=a[n]||[]).push(t)}}function Yt(t,r,a,o){var s={},u=t===Ot;function l(e){var i;return s[e]=!0,E.each(t[e]||[],function(e,t){var n=t(r,a,o);return"string"!=typeof n||u||s[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),l(n),!1)}),i}return l(r.dataTypes[0])||!s["*"]&&l("*")}function Bt(e,t){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&E.extend(!0,e,i),e}Rt.href=Mt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,E.ajaxSettings),t):Bt(E.ajaxSettings,e)},ajaxPrefilter:Pt(jt),ajaxTransport:Pt(Ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,d,h,n,p,i,m,f,r,a,g=E.ajaxSetup({},t),_=g.context||g,y=g.context&&(_.nodeType||_.jquery)?E(_):E.event,v=E.Deferred(),M=E.Callbacks("once memory"),A=g.statusCode||{},o={},s={},u="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(m){if(!n)for(n={};t=Nt.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return m?h:null},setRequestHeader:function(e,t){return null==m&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==m&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(m)b.always(e[b.status]);else for(t in e)A[t]=[A[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(v.promise(b),g.url=((e||g.url||Mt.href)+"").replace(It,Mt.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(z)||[""],null==g.crossDomain){i=x.createElement("a");try{i.href=g.url,i.href=i.href,g.crossDomain=Rt.protocol+"//"+Rt.host!=i.protocol+"//"+i.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=E.param(g.data,g.traditional)),Yt(jt,g,t,b),m)return b;for(r in(f=E.event&&g.global)&&0==E.active++&&E.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!kt.test(g.type),d=g.url.replace(St,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Dt,"+")):(a=g.url.slice(d.length),g.data&&(g.processData||"string"==typeof g.data)&&(d+=(bt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(d=d.replace(Ct,"$1"),a=(bt.test(d)?"&":"?")+"_="+At+++a),g.url=d+a),g.ifModified&&(E.lastModified[d]&&b.setRequestHeader("If-Modified-Since",E.lastModified[d]),E.etag[d]&&b.setRequestHeader("If-None-Match",E.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&b.setRequestHeader("Content-Type",g.contentType),b.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+zt+"; q=0.01":""):g.accepts["*"]),g.headers)b.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(_,b,g)||m))return b.abort();if(u="abort",M.add(g.complete),b.done(g.success),b.fail(g.error),c=Yt(Ot,g,t,b)){if(b.readyState=1,f&&y.trigger("ajaxSend",[b,g]),m)return b;g.async&&0<g.timeout&&(p=w.setTimeout(function(){b.abort("timeout")},g.timeout));try{m=!1,c.send(o,l)}catch(e){if(m)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var r,a,o,s,u,l=t;m||(m=!0,p&&w.clearTimeout(p),c=void 0,h=i||"",b.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,a,o,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)a=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==u[0]&&u.unshift(a),n[a]}(g,b,n)),s=function(e,t,n,i){var r,a,o,s,u,l={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=c.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(o=l[u+" "+a]||l["* "+a]))for(r in l)if((s=r.split(" "))[1]===a&&(o=l[u+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[r]:!0!==l[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}(g,s,b,r),r?(g.ifModified&&((u=b.getResponseHeader("Last-Modified"))&&(E.lastModified[d]=u),(u=b.getResponseHeader("etag"))&&(E.etag[d]=u)),204===e||"HEAD"===g.type?l="nocontent":304===e?l="notmodified":(l=s.state,a=s.data,r=!(o=s.error))):(o=l,!e&&l||(l="error",e<0&&(e=0))),b.status=e,b.statusText=(t||l)+"",r?v.resolveWith(_,[a,l,b]):v.rejectWith(_,[b,l,o]),b.statusCode(A),A=void 0,f&&y.trigger(r?"ajaxSuccess":"ajaxError",[b,g,r?a:o]),M.fireWith(_,[b,l]),f&&(y.trigger("ajaxComplete",[b,g]),--E.active||E.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,r){E[r]=function(e,t,n,i){return y(t)&&(i=i||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:r,dataType:i,data:t,success:n},E.isPlainObject(e)&&e))}}),E._evalUrl=function(e){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Ht=E.ajaxSettings.xhr();_.cors=!!Ht&&"withCredentials"in Ht,_.ajax=Ht=!!Ht,E.ajaxTransport(function(r){var a,o;if(_.cors||Ht&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=o=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Ut[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),o=i.onerror=i.ontimeout=a("error"),void 0!==i.onabort?i.onabort=o:i.onreadystatechange=function(){4===i.readyState&&w.setTimeout(function(){a&&o()})},a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=E("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),x.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ft,Gt=[],Vt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||E.expando+"_"+At++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,a,o=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Vt,"$1"+i):!1!==e.jsonp&&(e.url+=(bt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},e.dataTypes[0]="json",r=w[i],w[i]=function(){a=arguments},n.always(function(){void 0===r?E(w).removeProp(i):w[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(i)),a&&y(r)&&r(a[0]),a=r=void 0}),"script"}),_.createHTMLDocument=((Ft=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ft.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(_.createHTMLDocument?((i=(t=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,t.head.appendChild(i)):t=x),a=!n&&[],(r=S.exec(e))?[t.createElement(r[1])]:(r=ye([e],t,a),a&&a.length&&E(a).remove(),E.merge([],r.childNodes)));var i,r,a},E.fn.load=function(e,t,n){var i,r,a,o=this,s=e.indexOf(" ");return-1<s&&(i=mt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&E.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var i,r,a,o,s,u,l=E.css(e,"position"),c=E(e),d={};"static"===l&&(e.style.position="relative"),s=c.offset(),a=E.css(e,"top"),u=E.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(a+u).indexOf("auto")?(o=(i=c.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(u)||0),y(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):c.css(d)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),r.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-E.css(i,"marginTop",!0),left:t.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ve})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var a="pageYOffset"===r;E.fn[t]=function(e){return F(this,function(e,t,n){var i;if(v(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(a?i.pageXOffset:n,a?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=Ue(_.pixelPosition,function(e,t){if(t)return t=Be(e,n),Re.test(t)?E(e).position()[n]+"px":t})}),E.each({Height:"height",Width:"width"},function(o,s){E.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,a){E.fn[a]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return F(this,function(e,t,n){var i;return v(e)?0===a.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?E.css(e,t,r):E.style(e,t,n,r)},s,n?e:void 0,n)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),E.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=s.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,r},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=D,E.isFunction=y,E.isWindow=v,E.camelCase=Q,E.type=A,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var Wt=w.jQuery,Qt=w.$;return E.noConflict=function(e){return w.$===E&&(w.$=Qt),e&&w.jQuery===E&&(w.jQuery=Wt),E},e||(w.jQuery=w.$=E),E}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).AFRAME=e()}}(function(){return function a(o,s,u){function l(n,e){if(!s[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};o[n][0].call(r.exports,function(e){var t=o[n][1][e];return l(t||e)},r,r.exports,a,o,s,u)}return s[n].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,r,a){(function(t){var e=function(){this._tweens={},this._tweensAddedDuringUpdate={}};e.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:s.now();0<n.length;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++)!1===this._tweens[n[i]].update(e)&&(this._tweens[n[i]]._isPlaying=!1,t||delete this._tweens[n[i]]);n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var i,n,s=new e;s.Group=e,s._nextId=0,s.nextId=function(){return s._nextId++},"undefined"==typeof window&&void 0!==t?s.now=function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?s.now=window.performance.now.bind(window.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=e,void 0!==t&&(this._duration=t),this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?e:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback.call(this._object,this._object),this.stopChainedTweens()),this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,i;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback.call(this._object,this._object),this._onStartCallbackFired=!0),n=1<(n=(e-this._startTime)/this._duration)?1:n,i=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var r=this._valuesStart[t]||0,a=this._valuesEnd[t];a instanceof Array?this._object[t]=this._interpolationFunction(a,i):("string"==typeof a&&(a="+"===a.charAt(0)||"-"===a.charAt(0)?r+parseFloat(a):parseFloat(a)),"number"==typeof a&&(this._object[t]=r+(a-r)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._object,i),1===n){if(0<this._repeat){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var o=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=o}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback.call(this._object,this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},s.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-s.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*s.Easing.Bounce.In(2*e):.5*s.Easing.Bounce.Out(2*e-1)+.5}}},s.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=s.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],i):1<t?a(e[n],e[n-1],n-i):a(e[r],e[n<r+1?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,a=s.Interpolation.Utils.Bernstein,o=0;o<=i;o++)n+=r(1-t,i-o)*r(t,o)*e[o]*a(i,o);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=s.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(i=n*(1+t))),a(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):1<t?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=s.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(i=[1],function(e){var t=1;if(i[e])return i[e];for(var n=e;1<n;n--)t*=n;return i[e]=t}),CatmullRom:function(e,t,n,i,r){var a=.5*(n-e),o=.5*(i-t),s=r*r;return(2*t-2*n+a+o)*(r*s)+(-3*t+3*n-2*a-o)*s+a*r+t}}},n=this,void 0!==r&&"object"==typeof a?r.exports=s:void 0!==n&&(n.TWEEN=s)}).call(this,e("_process"))},{_process:6}],2:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===i.call(e.buffer)||Array.isArray(e)}},{}],3:[function(e,t,n){t.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},{}],4:[function(e,t,n){"use strict";n.byteLength=function(e){return 3*e.length/4-d(e)},n.toByteArray=function(e){var t,n,i,r,a,o=e.length;r=d(e),a=new c(3*o/4-r),n=0<r?o-4:o;var s=0;for(t=0;t<n;t+=4)i=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;2===r?(i=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[s++]=255&i):1===r&&(i=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i);return a},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,r="",a=[],o=0,s=n-i;o<s;o+=16383)a.push(h(e,o,s<o+16383?s:o+16383));1===i?(t=e[n-1],r+=u[t>>2],r+=u[t<<4&63],r+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],r+=u[t>>10],r+=u[t>>4&63],r+=u[t<<2&63],r+="=");return a.push(r),a.join("")};for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=i.length;r<a;++r)u[r]=i[r],l[i.charCodeAt(r)]=r;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function h(e,t,n){for(var i,r,a=[],o=t;o<n;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],a.push(u[(r=i)>>18&63]+u[r>>12&63]+u[r>>6&63]+u[63&r]);return a.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],5:[function(e,t,n){"use strict";t.exports={createLink:function(e,t){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("link");for(var r in i.href=e,i.rel="stylesheet",t)if(t.hasOwnProperty(r)){var a=t[r];i.setAttribute("data-"+r,a)}n.appendChild(i)},createStyle:function(e,t){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");for(var r in i.type="text/css",t)if(t.hasOwnProperty(r)){var a=t[r];i.setAttribute("data-"+r,a)}i.sheet?(i.innerHTML=e,i.sheet.cssText=e,n.appendChild(i)):i.styleSheet?(n.appendChild(i),i.styleSheet.cssText=e):(i.appendChild(document.createTextNode(e)),n.appendChild(i))}}},{}],6:[function(e,t,n){var i,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],d=!1,h=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&m())}function m(){if(!d){var e=u(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||u(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],7:[function(e,t,n){var i=e("buffer").Buffer;t.exports=function(e,t){if(i.isBuffer(e)&&i.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},{buffer:8}],8:[function(t,e,P){(function(e){"use strict";var i=t("base64-js"),a=t("ieee754"),o=t("isarray");function n(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return r(this,e,t,n)}function r(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);d.TYPED_ARRAY_SUPPORT?(e=t).__proto__=d.prototype:e=c(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(d.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):c(e,t);if("Buffer"===t.type&&o(t.data))return c(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return O(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return O(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function f(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=d.from(t,i)),d.isBuffer(t))return 0===t.length?-1:g(e,t,n,i,r);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,i,r){var a,o=1,s=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s/=o=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(s<n+u&&(n=s-u),a=n;0<=a;a--){for(var d=!0,h=0;h<u;h++)if(l(e,a+h)!==l(t,h)){d=!1;break}if(d)return a}return-1}function _(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?r<(i=Number(i))&&(i=r):i=r;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");a/2<i&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function y(e,t,n,i){return R(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function v(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function M(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,u,l=e[r],c=null,d=239<l?4:223<l?3:191<l?2:1;if(r+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(a=e[r+1]))&&127<(u=(31&l)<<6|63&a)&&(c=u);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&2047<(u=(15&l)<<12|(63&a)<<6|63&o)&&(u<55296||57343<u)&&(c=u);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)&&u<1114112&&(c=u)}null===c?(c=65533,d=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=A));return n}(i)}P.Buffer=d,P.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},P.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),P.kMaxLength=n(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return r(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return i=null,a=t,o=n,u(r=e),r<=0?s(i,r):void 0!==a?"string"==typeof o?s(i,r).fill(a,o):s(i,r).fill(a):s(i,r);var i,r,a,o},d.allocUnsafe=function(e){return l(null,e)},d.allocUnsafeSlow=function(e){return l(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var i=d.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!d.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},d.byteLength=p,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return b(this,t,n);case"latin1":case"binary":return w(this,t,n);case"base64":return v(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",t=P.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,i,r){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=t)return 0;if(r<=i)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(i,r),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){a=u[c],o=l[c];break}return a<o?-1:o<a?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},d.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a,o,s,u,l,c,d,h,p,m=!1;;)switch(i){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return h=t,p=n,R(O(e,(d=this).length-h),d,h,p);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return u=this,l=t,c=n,R(z(e),u,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,s=n,R(function(e,t){for(var n,i,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),i=n>>8,r=n%256,a.push(r),a.push(i);return a}(e,(a=this).length-o),a,o,s);default:if(m)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),m=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function b(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function w(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function x(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||i<n)&&(n=i);for(var r="",a=t;a<n;++a)r+=j(e[a]);return r}function E(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,i,r,a){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function S(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function C(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,i,r){return r||C(e,0,n,4),a.write(e,t,n,i,23,4),n+4}function k(e,t,n,i,r){return r||C(e,0,n,8),a.write(e,t,n,i,52,8),n+8}d.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=d.prototype;else{var r=t-e;n=new d(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e+--t],r=1;0<t&&(r*=256);)i+=this[e+--t]*r;return i},d.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*t)),i},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=t,r=1,a=this[e+--i];0<i&&(r*=256);)a+=this[e+--i]*r;return(r*=128)<=a&&(a-=Math.pow(2,8*t)),a},d.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),a.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),a.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),a.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),a.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;0<=--r&&(a*=256);)this[t+r]=e/a&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):S(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):S(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},d.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;0<=--a&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):S(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):S(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),0<i&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;0<=r;--r)e[r+t]=this[r+n];else if(a<1e3||!d.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},d.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=d.isBuffer(e)?e:O(new d(e,i).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function O(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],o=0;o<i;++o){if(55295<(n=e.charCodeAt(o))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&a.push(239,191,189);continue}if(o+1===i){-1<(t-=3)&&a.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(e){return i.toByteArray(function(e){var t;if((e=(t=e,t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":4,ieee754:18,isarray:9}],9:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],10:[function(e,t,n){function i(){var e;try{e=n.storage.debug}catch(e){}return e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" "),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),e.splice(r,0,n),e},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=i,n.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(i())},{"./debug":11}],11:[function(e,t,s){(s=t.exports=function(e){function t(){}function n(){var r=n;null==r.useColors&&(r.useColors=s.useColors()),null==r.color&&r.useColors&&(r.color=s.colors[u++%s.colors.length]);var a=Array.prototype.slice.call(arguments);a[0]=s.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var o=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,t){if("%%"===e)return e;o++;var n=s.formatters[t];if("function"==typeof n){var i=a[o];e=n.call(r,i),a.splice(o,1),o--}return e}),"function"==typeof s.formatArgs&&(a=s.formatArgs.apply(r,a));var e=n.log||s.log||console.log.bind(console);e.apply(r,a)}t.enabled=!1,n.enabled=!0;var i=s.enabled(e)?n:t;return i.namespace=e,i}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){s.enable("")},s.enable=function(e){s.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,i=0;i<n;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$")))},s.enabled=function(e){var t,n;for(t=0,n=s.skips.length;t<n;t++)if(s.skips[t].test(e))return!1;for(t=0,n=s.names.length;t<n;t++)if(s.names[t].test(e))return!0;return!1},s.names=[],s.skips=[],s.formatters={};var u=0},{}],12:[function(e,t,n){"use strict";var r=e("is-obj"),a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e,t,n){var i=t[n];if(null!=i){if(a.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");a.call(e,n)&&r(i)?e[n]=u(Object(e[n]),t[n]):e[n]=i}}function u(e,t){if(e===t)return e;for(var n in t=Object(t))a.call(t,n)&&s(e,t,n);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)o.call(t,i[r])&&s(e,t,i[r]);return e}t.exports=function(e){e=function(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}(e);for(var t=1;t<arguments.length;t++)u(e,arguments[t]);return e}},{"is-obj":22}],13:[function(t,n,i){!function(t,u,n,i){"use strict";function l(e,t){for(var n=0,i=e.length;n<i;n++)o(e[n],t)}function c(t){return function(e){oe(e)&&(o(e,t),l(e.querySelectorAll(F),t))}}function d(e){var t=le.call(e,"is"),n=e.nodeName.toUpperCase(),i=V.call(U,t?P+t.toUpperCase():R+n);return t&&-1<i&&!h(n,t)?-1:i}function h(e,t){return-1<F.indexOf(e+'[is="'+t+'"]')}function s(e){var t=e.currentTarget,n=e.attrChange,i=e.attrName,r=e.target;ve&&(!r||r===t)&&t.attributeChangedCallback&&"style"!==i&&e.prevValue!==e.newValue&&t.attributeChangedCallback(i,n===e[k]?null:e.prevValue,n===e[j]?null:e.newValue)}function p(e){var t=c(e);return function(e){g.push(t,e.target)}}function m(e){ye&&(ye=!1,e.currentTarget.removeEventListener(z,m)),l((e.target||u).querySelectorAll(F),e.detail===C?C:S),ae&&function(){for(var e,t=0,n=se.length;t<n;t++)e=se[t],G.contains(e)||(n--,se.splice(t--,1),o(e,C))}()}function r(e,t){ce.call(this,e,t),_.call(this,{target:this})}function a(e,t){ne(e,t),M?M.observe(e,pe):(_e&&(e.setAttribute=r,e[D]=v(e),e.addEventListener("DOMSubtreeModified",_)),e.addEventListener(O,s)),e.createdCallback&&ve&&(e.created=!0,e.createdCallback(),e.created=!1)}function f(e){throw new Error("A "+e+" type is already registered")}function o(e,t){var n,i=d(e);-1<i&&(A(e,H[i]),i=0,t!==S||e[S]?t===C&&!e[C]&&(e[S]=!1,e[C]=!0,i=1):(e[C]=!1,e[S]=!0,i=1,ae&&V.call(se,e)<0&&se.push(e)),i&&(n=e[t+"Callback"])&&n.call(e))}if(!(i in u)){var g,_,y,v,M,A,b,w,x,E,L,T,D="__"+i+(1e5*Math.random()>>0),S="attached",C="detached",N="extends",k="ADDITION",I="MODIFICATION",j="REMOVAL",O="DOMAttrModified",z="DOMContentLoaded",R="<",P="=",Y=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,B=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],U=[],H=[],F="",G=u.documentElement,V=U.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},W=n.prototype,Q=W.hasOwnProperty,q=W.isPrototypeOf,Z=n.defineProperty,X=n.getOwnPropertyDescriptor,J=n.getOwnPropertyNames,K=n.getPrototypeOf,$=n.setPrototypeOf,ee=!!n.__proto__,te=n.create||function e(t){return t?(e.prototype=t,new e):this},ne=$||(ee?function(e,t){return e.__proto__=t,e}:J&&X?function(){function n(e,t){for(var n,i=J(t),r=0,a=i.length;r<a;r++)n=i[r],Q.call(e,n)||Z(e,n,X(t,n))}return function(e,t){for(;n(e,t),(t=K(t))&&!q.call(t,e););return e}}():function(e,t){for(var n in t)e[n]=t[n];return e}),ie=t.MutationObserver||t.WebKitMutationObserver,re=(t.HTMLElement||t.Element||t.Node).prototype,ae=!q.call(re,G),oe=ae?function(e){return 1===e.nodeType}:function(e){return q.call(re,e)},se=ae&&[],ue=re.cloneNode,le=re.getAttribute,ce=re.setAttribute,de=re.removeAttribute,he=u.createElement,pe=ie&&{attributes:!0,characterData:!0,attributeOldValue:!0},me=ie||function(e){_e=!1,G.removeEventListener(O,me)},fe=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},ge=!1,_e=!0,ye=!0,ve=!0;$||ee?(A=function(e,t){q.call(t,e)||a(e,t)},b=a):b=A=function(e,t){e[D]||(e[D]=n(!0),a(e,t))},ae?(_e=!1,w=X(re,"addEventListener"),x=w.value,E=function(e){var t=new CustomEvent(O,{bubbles:!0});t.attrName=e,t.prevValue=le.call(this,e),t.newValue=null,t[j]=t.attrChange=2,de.call(this,e),this.dispatchEvent(t)},L=function(t,n){var i=this.hasAttribute(t),r=i&&le.call(this,t);e=new CustomEvent(O,{bubbles:!0}),ce.call(this,t,n),e.attrName=t,e.prevValue=i?r:null,e.newValue=n,i?e[I]=e.attrChange=1:e[k]=e.attrChange=0,this.dispatchEvent(e)},T=function(e){var t,n=e.currentTarget,i=n[D],r=e.propertyName;i.hasOwnProperty(r)&&(i=i[r],(t=new CustomEvent(O,{bubbles:!0})).attrName=i.name,t.prevValue=i.value||null,t.newValue=i.value=n[r]||null,null==t.prevValue?t[k]=t.attrChange=0:t[I]=t.attrChange=1,n.dispatchEvent(t))},w.value=function(e,t,n){e===O&&this.attributeChangedCallback&&this.setAttribute!==L&&(this[D]={className:{name:"class",value:this.className}},this.setAttribute=L,this.removeAttribute=E,x.call(this,"propertychange",T)),x.call(this,e,t,n)},Z(re,"addEventListener",w)):ie||(G.addEventListener(O,me),G.setAttribute(D,1),G.removeAttribute(D),_e&&(_=function(e){var t,n,i,r=this;if(r===e.target){for(i in t=r[D],r[D]=n=v(r),n){if(!(i in t))return y(0,r,i,t[i],n[i],k);if(n[i]!==t[i])return y(1,r,i,t[i],n[i],I)}for(i in t)if(!(i in n))return y(2,r,i,t[i],n[i],j)}},y=function(e,t,n,i,r,a){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:i,newValue:r};o[a]=e,s(o)},v=function(e){for(var t,n,i={},r=e.attributes,a=0,o=r.length;a<o;a++)"setAttribute"!==(n=(t=r[a]).name)&&(i[n]=t.value);return i})),u[i]=function(e,t){if(n=e.toUpperCase(),ge||(ge=!0,ie?(M=function(o,s){function u(e,t){for(var n=0,i=e.length;n<i;t(e[n++]));}return new ie(function(e){for(var t,n,i,r=0,a=e.length;r<a;r++)"childList"===(t=e[r]).type?(u(t.addedNodes,o),u(t.removedNodes,s)):(n=t.target,ve&&n.attributeChangedCallback&&"style"!==t.attributeName&&((i=le.call(n,t.attributeName))!==t.oldValue&&n.attributeChangedCallback(t.attributeName,t.oldValue,i)))})}(c(S),c(C))).observe(u,{childList:!0,subtree:!0}):(g=[],fe(function e(){for(;g.length;)g.shift().call(null,g.shift());fe(e)}),u.addEventListener("DOMNodeInserted",p(S)),u.addEventListener("DOMNodeRemoved",p(C))),u.addEventListener(z,m),u.addEventListener("readystatechange",m),u.createElement=function(e,t){var n=he.apply(u,arguments),i=""+e,r=V.call(U,(t?P:R)+(t||i).toUpperCase()),a=-1<r;return t&&(n.setAttribute("is",t=t.toLowerCase()),a&&(a=h(i.toUpperCase(),t))),ve=!u.createElement.innerHTMLHelper,a&&b(n,H[r]),n},re.cloneNode=function(e){var t=ue.call(this,!!e),n=d(t);return-1<n&&b(t,H[n]),e&&function(e){for(var t,n=0,i=e.length;n<i;n++)t=e[n],b(t,H[d(t)])}(t.querySelectorAll(F)),t}),-2<V.call(U,P+n)+V.call(U,R+n)&&f(e),!Y.test(n)||-1<V.call(B,n))throw new Error("The type "+e+" is invalid");var n,i,r=function(){return o?u.createElement(s,n):u.createElement(s)},a=t||W,o=Q.call(a,N),s=o?t[N].toUpperCase():n;return o&&-1<V.call(U,R+s)&&f(s),i=U.push((o?P:R)+n)-1,F=F.concat(F.length?",":"",o?s+'[is="'+e.toLowerCase()+'"]':s),r.prototype=H[i]=Q.call(a,"prototype")?a.prototype:te(re),l(u.querySelectorAll(F),S),r}}}(window,document,Object,"registerElement")},{}],14:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],15:[function(e,t,n){var c=e("dtype");t.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&Array.isArray(e[0])){var i=e[0].length,r=e.length*i;t&&"string"!=typeof t||(t=new(c(t||"float32"))(r+n));var a=t.length-n;if(r!==a)throw new Error("source length "+r+" ("+i+"x"+e.length+") does not match destination length "+a);for(var o=0,s=n;o<e.length;o++)for(var u=0;u<i;u++)t[s++]=e[o][u]}else if(t&&"string"!=typeof t)t.set(e,n);else{var l=c(t||"float32");0===n?t=new l(e):(t=new l(e.length+n)).set(e,n)}return t}},{dtype:14}],16:[function(e,t,n){var i=e("is-function");t.exports=function(e,t,n){if(!i(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this);"[object Array]"===r.call(e)?function(e,t,n){for(var i=0,r=e.length;i<r;i++)a.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e.charAt(i),i,e)}(e,t,n):function(e,t,n){for(var i in e)a.call(e,i)&&t.call(n,e[i],i,e)}(e,t,n)};var r=Object.prototype.toString,a=Object.prototype.hasOwnProperty},{"is-function":21}],17:[function(e,n,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){n.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?r-1:0,h=n?-1:1,p=e[t+d];for(d+=h,a=p&(1<<-c)-1,p>>=-c,c+=s;0<c;a=256*a+e[t+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=i;0<c;o=256*o+e[t+d],d+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),a-=l}return(p?-1:1)*o*Math.pow(2,a-i)},n.write=function(e,t,n,i,r,a){var o,s,u,l=8*a-r-1,c=(1<<l)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,m=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),2<=(t+=1<=o+d?h/u:h*Math.pow(2,1-d))*u&&(o++,u/=2),c<=o+d?(s=0,o=c):1<=o+d?(s=(t*u-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));8<=r;e[n+p]=255&s,p+=m,s/=256,r-=8);for(o=o<<r|s,l+=r;0<l;e[n+p]=255&o,p+=m,o/=256,l-=8);e[n+p-m]|=128*f}},{}],19:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],20:[function(e,t,n){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(i(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))||!!e._isBuffer);var t}},{}],21:[function(e,t,n){t.exports=function(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var i=Object.prototype.toString},{}],22:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],23:[function(e,t,n){var o=e("word-wrapper"),s=e("xtend"),u=e("as-number"),l=["x","e","a","o","n","s","r","c","u","m","v","w","z"],r=["m","w"],M=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],i="\t".charCodeAt(0),a=" ".charCodeAt(0);function c(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function d(e,t){if(!e.chars||0===e.chars.length)return null;var n=b(e.chars,t);return 0<=n?e.chars[n]:null}function A(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var i=e.kernings,r=0;r<i.length;r++){var a=i[r];if(a.first===t&&a.second===n)return a.amount}return 0}function b(e,t,n){for(var i=n=n||0;i<e.length;i++)if(e[i].id===t)return i;return-1}t.exports=function(e){return new c(e)},c.prototype.update=function(e){if(e=s({measure:this._measure},e),this._opt=e,this._opt.tabSize=u(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var c=this.glyphs,d=e.text||"",h=e.font;this._setupSpaceGlyphs(h);var t=o.lines(d,e),n=e.width||0;c.length=0;var p=t.reduce(function(e,t){return Math.max(e,t.width,n)},0),m=0,f=0,g=u(e.lineHeight,h.common.lineHeight),i=h.common.base,r=g-i,_=e.letterSpacing||0,a=g*t.length-r,y=function(e){{if("center"===e)return 1;if("right"===e)return 2}return 0}(this._opt.align);f-=a,this._width=p,this._height=a,this._descender=g-i,this._baseline=i,this._xHeight=function(e){for(var t=0;t<l.length;t++){var n=l[t].charCodeAt(0),i=b(e.chars,n);if(0<=i)return e.chars[i].height}return 0}(h),this._capHeight=function(e){for(var t=0;t<M.length;t++){var n=M[t].charCodeAt(0),i=b(e.chars,n);if(0<=i)return e.chars[i].height}return 0}(h),this._lineHeight=g,this._ascender=g-r-this._xHeight;var v=this;t.forEach(function(e,t){for(var n,i=e.start,r=e.end,a=e.width,o=i;o<r;o++){var s=d.charCodeAt(o),u=v.getGlyph(h,s);if(u){n&&(m+=A(h,n.id,u.id));var l=m;1===y?l+=(p-a)/2:2===y&&(l+=p-a),c.push({position:[l,f],data:u,index:o,line:t}),m+=u.xadvance+_,n=u}}f+=g,m=0}),this._linesTotal=t.length},c.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=d(e,a)||function(e){for(var t=0;t<r.length;t++){var n=r[t].charCodeAt(0),i=b(e.chars,n);if(0<=i)return e.chars[i]}return 0}(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=s(t,{x:0,y:0,xadvance:n,id:i,xoffset:0,yoffset:0,width:0,height:0})}},c.prototype.getGlyph=function(e,t){var n=d(e,t);return n||(t===i?this._fallbackTabGlyph:t===a?this._fallbackSpaceGlyph:null)},c.prototype.computeMetrics=function(e,t,n,i){var r,a=this._opt.letterSpacing||0,o=this._opt.font,s=0,u=0,l=0;if(!o.chars||0===o.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var c=t;c<n;c++){var d,h=e.charCodeAt(c);if(d=this.getGlyph(o,h)){d.xoffset;var p=(s+=r?A(o,r.id,d.id):0)+d.xadvance+a,m=s+d.width;if(i<=m||i<=p)break;s=p,u=m,r=d}l++}return r&&(u+=r.xoffset),{start:t,end:t+l,width:u}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(function(e){Object.defineProperty(c.prototype,e,{get:(t=e,new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()),configurable:!0});var t})},{"as-number":3,"word-wrapper":47,xtend:50}],24:[function(t,r,e){(function(c){var e=t("xhr"),d=function(){},h=t("parse-bmfont-ascii"),p=t("parse-bmfont-xml"),m=t("parse-bmfont-binary"),f=t("./lib/is-binary"),n=t("xtend"),i=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;r.exports=function(u,l){l="function"==typeof l?l:d,"string"==typeof u?u={uri:u}:u||(u={}),u.binary&&(u=function(e){if(i)return n(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),n({xhr:t},e)}(u)),e(u,function(e,t,n){if(e)return l(e);if(!/^2/.test(t.statusCode))return l(new Error("http status code: "+t.statusCode));if(!n)return l(new Error("no body result"));var i,r,a=!1;if(i=n,"[object ArrayBuffer]"===Object.prototype.toString.call(i)){var o=new Uint8Array(n);n=new c(o,"binary")}f(n)&&(a=!0,"string"==typeof n&&(n=new c(n,"binary"))),a||(c.isBuffer(n)&&(n=n.toString(u.encoding)),n=n.trim());try{var s=t.headers["content-type"];r=a?m(n):/json/.test(s)||"{"===n.charAt(0)?JSON.parse(n):/xml/.test(s)||"<"===n.charAt(0)?p(n):h(n)}catch(e){l(new Error("error parsing font "+e.message)),l=d}l(null,r)})}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":25,buffer:8,"parse-bmfont-ascii":27,"parse-bmfont-binary":28,"parse-bmfont-xml":29,xhr:48,xtend:50}],25:[function(i,r,e){(function(e){var t=i("buffer-equal"),n=new e([66,77,70,3]);r.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):4<e.length&&t(e.slice(0,4),n)}}).call(this,i("buffer").Buffer)},{buffer:8,"buffer-equal":7}],26:[function(e,t,n){"use strict";var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var o in n=Object(arguments[a]))l.call(n,o)&&(r[o]=n[o]);if(u){i=u(n);for(var s=0;s<i.length;s++)c.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r}},{}],27:[function(e,t,n){function a(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var i=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var r=[],a=0;a<e.length;a++){var o=e[a];0===a?r.push({key:o[0],data:""}):a===e.length-1?r[r.length-1].data=u(o[0]):(r[r.length-1].data=u(o[0]),r.push({key:o[1],data:""}))}var s={key:i,data:{}};return r.forEach(function(e){s.data[e.key]=e.data}),s}function u(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?e.split(",").map(function(e){return parseInt(e,10)}):parseInt(e,10):""}t.exports=function(e){if(!e)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},n=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var r=a(n[i],i);if(r)if("page"===r.key){if("number"!=typeof r.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof r.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');t.pages[r.data.id]=r.data.file}else"chars"===r.key||"kernings"===r.key||("char"===r.key?t.chars.push(r.data):"kerning"===r.key?t.kernings.push(r.data):t[r.key]=r.data)}return t}},{}],28:[function(e,t,n){var r=[66,77,70];function a(e,t,n){if(n>t.length-1)return 0;var i=t.readUInt8(n++),r=t.readInt32LE(n);switch(n+=4,i){case 1:e.info=function(e,t){var n={};n.size=e.readInt16LE(t);var i=e.readUInt8(t+2);n.smooth=i>>7&1,n.unicode=i>>6&1,n.italic=i>>5&1,n.bold=i>>4&1,i>>3&1&&(n.fixedHeight=1);return n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=(r=e,a=t+14,u(r,a).toString("utf8")),n;var r,a}(t,n);break;case 2:e.common=function(e,t){var n={};n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8);e.readUInt8(t+10);return n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}(t,n);break;case 3:e.pages=function(e,t,n){for(var i=[],r=u(e,t),a=r.length+1,o=n/a,s=0;s<o;s++)i[s]=e.slice(t,t+r.length).toString("utf8"),t+=a;return i}(t,n,r);break;case 4:e.chars=function(e,t,n){for(var i=[],r=n/20,a=0;a<r;a++){var o={},s=20*a;o.id=e.readUInt32LE(t+0+s),o.x=e.readUInt16LE(t+4+s),o.y=e.readUInt16LE(t+6+s),o.width=e.readUInt16LE(t+8+s),o.height=e.readUInt16LE(t+10+s),o.xoffset=e.readInt16LE(t+12+s),o.yoffset=e.readInt16LE(t+14+s),o.xadvance=e.readInt16LE(t+16+s),o.page=e.readUInt8(t+18+s),o.chnl=e.readUInt8(t+19+s),i[a]=o}return i}(t,n,r);break;case 5:e.kernings=function(e,t,n){for(var i=[],r=n/10,a=0;a<r;a++){var o={},s=10*a;o.first=e.readUInt32LE(t+0+s),o.second=e.readUInt32LE(t+4+s),o.amount=e.readInt16LE(t+8+s),i[a]=o}return i}(t,n,r)}return 5+r}function u(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}t.exports=function(n){if(n.length<6)throw new Error("invalid buffer length for BMFont");if(!r.every(function(e,t){return n.readUInt8(t)===e}))throw new Error("BMFont missing BMF byte header");var e=3;if(3<n.readUInt8(e++))throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var t={kernings:[],chars:[]},i=0;i<5;i++)e+=a(t,n,e);return t}},{}],29:[function(e,t,n){var l=e("./parse-attribs"),c=e("xml-parse-from-string"),i={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function d(e){return function(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}(e).reduce(function(e,t){var n;return e[(n=t.nodeName,i[n.toLowerCase()]||n)]=t.nodeValue,e},{})}t.exports=function(e){e=e.toString();var o=c(e),s={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var t=o.getElementsByTagName(e)[0];t&&(s[e]=l(d(t)))});var t=o.getElementsByTagName("pages")[0];if(!t)throw new Error("malformed file -- no <pages> element");for(var n=t.getElementsByTagName("page"),i=0;i<n.length;i++){var r=n[i],a=parseInt(r.getAttribute("id"),10),u=r.getAttribute("file");if(isNaN(a))throw new Error('malformed file -- page "id" attribute is NaN');if(!u)throw new Error('malformed file -- needs page "file" attribute');s.pages[parseInt(a,10)]=u}return["chars","kernings"].forEach(function(e){var t=o.getElementsByTagName(e)[0];if(t)for(var n=e.substring(0,e.length-1),i=t.getElementsByTagName(n),r=0;r<i.length;r++){var a=i[r];s[e].push(l(d(a)))}}),s}},{"./parse-attribs":30,"xml-parse-from-string":49}],30:[function(e,t,n){var i="chasrset";t.exports=function(e){for(var t in i in e&&(e.charset=e[i],delete e[i]),e)"face"!==t&&"charset"!==t&&(e[t]="padding"===t||"spacing"===t?e[t].split(",").map(function(e){return parseInt(e,10)}):parseInt(e[t],10));return e}},{}],31:[function(e,t,n){var o=e("trim"),i=e("for-each");t.exports=function(e){if(!e)return{};var a={};return i(o(e).split("\n"),function(e){var t,n=e.indexOf(":"),i=o(e.slice(0,n)).toLowerCase(),r=o(e.slice(n+1));void 0===a[i]?a[i]=r:(t=a[i],"[object Array]"===Object.prototype.toString.call(t)?a[i].push(r):a[i]=[a[i],r])}),a}},{"for-each":16,trim:45}],32:[function(e,n,t){(function(e){var r=e.performance||{},t=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in r)return r[t].bind(r)}var n=Date.now||function(){return(new Date).getTime()},i=(r.timing||{}).navigationStart||n();return function(){return n()-i}}();t.performanceNow=r.now,t.noConflict=function(){r.now=t.performanceNow},t.conflict=function(){r.now=t},t.conflict(),n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,h,t){!function(e){var t=setTimeout,r="function"==typeof setImmediate&&setImmediate||function(e){t(e,1)};function n(e,t){return function(){e.apply(t,arguments)}}var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],d(e,n(s,this),n(u,this))}function o(n){var i=this;null!==this._state?r(function(){var e=i._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(i._value)}catch(e){return void n.reject(e)}n.resolve(t)}else(i._state?n.resolve:n.reject)(i._value)}):this._deferreds.push(n)}function s(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void d(n(t,e),n(s,this),n(u,this))}this._state=!0,this._value=e,l.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function d(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(n,i){var r=this;return new a(function(e,t){o.call(r,new c(n,i,e,t))})},a.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&i(arguments[0])?arguments[0]:arguments);return new a(function(i,r){if(0===s.length)return i([]);var a=s.length;function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){o(t,e)},r)}s[t]=e,0==--a&&i(s)}catch(e){r(e)}}for(var e=0;e<s.length;e++)o(e,s[e])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(n){return new a(function(e,t){t(n)})},a.race=function(r){return new a(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},a._setImmediateFn=function(e){r=e},void 0!==h&&h.exports?h.exports=a:e.Promise||(e.Promise=a)}(this)},{}],34:[function(e,t,n){var m=e("dtype"),f=e("an-array"),g=e("is-buffer"),_=[0,2,3],y=[2,1,3];t.exports=function(e,t){e&&(f(e)||g(e))||(t=e||{},e=null);for(var n="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",i="number"==typeof t.count?t.count:1,r=t.start||0,a=!1!==t.clockwise?_:y,o=a[0],s=a[1],u=a[2],l=6*i,c=e||new(m(n))(l),d=0,h=0;d<l;d+=6,h+=4){var p=d+r;c[p+0]=h+0,c[p+1]=h+1,c[p+2]=h+2,c[p+3]=h+o,c[p+4]=h+s,c[p+5]=h+u}return c}},{"an-array":2,dtype:14,"is-buffer":20}],35:[function(e,t,n){function i(e,t){var a=(t=t||{}).preserveNumbers,o={};return function(e){var t,n=[],i=0,r=/url\([^\)]+$/,a="";for(;i<e.length;)-1===(t=e.indexOf(";",i))&&(t=e.length),a+=e.substring(i,t),r.test(a)?a+=";":(n.push(a),a=""),i=t+1;return n}(e).map(function(e){return e.trim()}).filter(Boolean).forEach(function(e){var t,n=e.indexOf(":"),i=e.substr(0,n).trim(),r=e.substr(n+1).trim();a&&(t=r,!isNaN(parseFloat(t))&&isFinite(t))&&(r=Number(r)),o[i]=r}),o}function r(t){return Object.keys(t).map(function(e){return e+":"+t[e]}).join(";")}t.exports.parse=i,t.exports.stringify=r,t.exports.normalize=function(e,t){return r(i(e,t))}},{}],36:[function(e,t,n){var c=e("layout-bmfont-text"),i=e("inherits"),d=e("quad-indices"),h=e("three-buffer-vertex-data"),p=e("object-assign"),m=e("./lib/vertices"),r=e("./lib/utils"),a=THREE.BufferGeometry;function o(e){a.call(this),"string"==typeof e&&(e={text:e}),this._opt=p({},e),e&&this.update(e)}t.exports=function(e){return new o(e)},i(o,a),o.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),!(e=p({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=c(e);var t=!1!==e.flipY,n=e.font,i=n.common.scaleW,r=n.common.scaleH,a=this.layout.glyphs.filter(function(e){var t=e.data;return 0<t.width*t.height});this.visibleGlyphs=a;var o=m.positions(a),s=m.uvs(a,i,r,t),u=d({clockwise:!0,type:"uint16",count:a.length});if(h.index(this,u,1,"uint16"),h.attr(this,"position",o,2),h.attr(this,"uv",s,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var l=m.pages(a);h.attr(this,"page",l,1)}},o.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);r.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},o.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;!t||!n||t.length<2?e.makeEmpty():r.computeBox(t,e)}},{"./lib/utils":37,"./lib/vertices":38,inherits:19,"layout-bmfont-text":23,"object-assign":26,"quad-indices":34,"three-buffer-vertex-data":39}],37:[function(e,t,n){var s={min:[0,0],max:[0,0]};function u(e){var t=e.length/2;s.min[0]=e[0],s.min[1]=e[1],s.max[0]=e[0],s.max[1]=e[1];for(var n=0;n<t;n++){var i=e[2*n+0],r=e[2*n+1];s.min[0]=Math.min(i,s.min[0]),s.min[1]=Math.min(r,s.min[1]),s.max[0]=Math.max(i,s.max[0]),s.max[1]=Math.max(r,s.max[1])}}t.exports.computeBox=function(e,t){u(e),t.min.set(s.min[0],s.min[1],0),t.max.set(s.max[0],s.max[1],0)},t.exports.computeSphere=function(e,t){u(e);var n=s.min[0],i=s.min[1],r=s.max[0]-n,a=s.max[1]-i,o=Math.sqrt(r*r+a*a);t.center.set(n+r/2,i+a/2,0),t.radius=o/2}},{}],38:[function(e,t,n){t.exports.pages=function(e){var n=new Float32Array(4*e.length*1),i=0;return e.forEach(function(e){var t=e.data.page||0;n[i++]=t,n[i++]=t,n[i++]=t,n[i++]=t}),n},t.exports.uvs=function(e,u,l,c){var d=new Float32Array(4*e.length*2),h=0;return e.forEach(function(e){var t=e.data,n=t.x+t.width,i=t.y+t.height,r=t.x/u,a=t.y/l,o=n/u,s=i/l;c&&(a=(l-t.y)/l,s=(l-i)/l),d[h++]=r,d[h++]=a,d[h++]=r,d[h++]=s,d[h++]=o,d[h++]=s,d[h++]=o,d[h++]=a}),d},t.exports.positions=function(e){var o=new Float32Array(4*e.length*2),s=0;return e.forEach(function(e){var t=e.data,n=e.position[0]+t.xoffset,i=e.position[1]+t.yoffset,r=t.width,a=t.height;o[s++]=n,o[s++]=i,o[s++]=n,o[s++]=i+a,o[s++]=n+r,o[s++]=i+a,o[s++]=n+r,o[s++]=i}),o}},{}],39:[function(e,t,n){var a=e("flatten-vertex-data"),o=!1;function s(e,t,n,i){if(t=t||[],!e||function(e,t,n){if(e.itemSize!==n)return!0;if(!e.array)return!0;var i=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?i!==t.length*n:i!==t.length}(e,t,n)){t=a(t,i);var r=e&&"function"!=typeof e.setArray;return e&&!r||(r&&!o&&(o=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),e=new THREE.BufferAttribute(t,n)),e.itemSize=n,e.needsUpdate=!0,"function"==typeof e.setArray&&e.setArray(t),e}return a(t,e.array),e.needsUpdate=!0,null}t.exports.attr=function(e,t,n,i,r){"number"!=typeof i&&(i=3);"string"!=typeof r&&(r="float32");if(Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==i)throw new Error("Nested vertex array has unexpected size; expected "+i+" but found "+n[0].length);var a=s(e.getAttribute(t),n,i,r);a&&e.addAttribute(t,a)},t.exports.index=function(e,t,n,i){"number"!=typeof n&&(n=1);"string"!=typeof i&&(i="uint16");var r=!e.index&&"function"!=typeof e.setIndex,a=s(r?e.getAttribute("index"):e.index,t,n,i);a&&(r?e.addAttribute("index",a):e.index=a)}},{"flatten-vertex-data":15}],40:[function(e,t,n){var i;i=this,function(e){"use strict";function t(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:0<e?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});var n,i,c,d,r,a,o,s,u,l,h,p,m,f,g,_,y,v,M,A,F=0,G=1,V=2,R=1,P=2,O=0,Z=1,X=2,Le=0,b=2,W=0,Q=1,q=2,J=3,K=4,$=5,w=100,x=101,E=102,L=103,T=104,D=200,S=201,C=202,N=203,k=204,I=205,j=206,z=207,Y=208,B=209,U=210,ee=0,te=1,ne=2,ie=3,re=4,ae=5,oe=6,se=7,H=0,ue=1,le=2,ce=0,Te=1,de=2,he=3,pe=4,me=301,fe=302,ge=303,_e=304,ye=305,ve=306,Me=307,Ae=1e3,be=1001,we=1002,xe=1003,Ee=1004,De=1005,Se=1006,Ce=1007,Ne=1008,ke=1009,Ie=1010,je=1011,Oe=1012,ze=1013,Re=1014,Pe=1015,Ye=1016,Be=1017,Ue=1018,He=1019,Fe=1020,Ge=1021,Ve=1022,We=1023,Qe=1024,qe=1025,Ze=We,Xe=1026,Je=1027,Ke=33776,$e=33777,et=33778,tt=33779,nt=35840,it=35841,rt=35842,at=35843,ot=36196,st=37808,ut=37809,lt=37810,ct=37811,dt=37812,ht=37813,pt=37814,mt=37815,ft=37816,gt=37817,_t=37818,yt=37819,vt=37820,Mt=37821,At=0,bt=3e3,wt=3001,xt=3007,Et=3002,Lt=3004,Tt=3005,Dt=3006,St=3200,Ct=3201,Nt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var r=[],e=0;e<256;e++)r[e]=(e<16?"0":"")+e.toString(16).toUpperCase();return function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return r[255&e]+r[e>>8&255]+r[e>>16&255]+r[e>>24&255]+"-"+r[255&t]+r[t>>8&255]+"-"+r[t>>16&15|64]+r[t>>24&255]+"-"+r[63&n|128]+r[n>>8&255]+"-"+r[n>>16&255]+r[n>>24&255]+r[255&i]+r[i>>8&255]+r[i>>16&255]+r[i>>24&255]}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Nt.DEG2RAD},radToDeg:function(e){return e*Nt.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function kt(e,t){this.x=e||0,this.y=t||0}function It(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function jt(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function Ot(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function zt(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(kt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(kt.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(n=new kt,i=new kt,function(e,t){return n.set(e,e),i.set(t,t),this.clamp(n,i)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*n-a*i+e.x,this.y=r*i+a*n+e.y,this}}),Object.assign(It.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,a,o,s,u,l,c,d,h,p,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=u,g[6]=l,g[10]=c,g[14]=d,g[3]=h,g[7]=p,g[11]=m,g[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new It).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:(u=new Ot,function(e){var t=this.elements,n=e.elements,i=1/u.setFromMatrixColumn(e,0).length(),r=1/u.setFromMatrixColumn(e,1).length(),a=1/u.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),u=Math.sin(i),l=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var d=a*l,h=a*c,p=o*l,m=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=h+p*u,t[5]=d-m*u,t[9]=-o*s,t[2]=m-d*u,t[6]=p+h*u,t[10]=a*s}else if("YXZ"===e.order){var f=s*l,g=s*c,_=u*l,y=u*c;t[0]=f+y*o,t[4]=_*o-g,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=g*o-_,t[6]=y+f*o,t[10]=a*s}else if("ZXY"===e.order){f=s*l,g=s*c,_=u*l,y=u*c;t[0]=f-y*o,t[4]=-a*c,t[8]=_+g*o,t[1]=g+_*o,t[5]=a*l,t[9]=y-f*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){d=a*l,h=a*c,p=o*l,m=o*c;t[0]=s*l,t[4]=p*u-h,t[8]=d*u+m,t[1]=s*c,t[5]=m*u+d,t[9]=h*u-p,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var v=a*s,M=a*u,A=o*s,b=o*u;t[0]=s*l,t[4]=b-v*c,t[8]=A*c+M,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=M*c+A,t[10]=v-b*c}else if("XZY"===e.order){v=a*s,M=a*u,A=o*s,b=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=v*c+b,t[5]=a*l,t[9]=M*c-A,t[2]=A*c-M,t[6]=o*l,t[10]=b*c+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e._x,i=e._y,r=e._z,a=e._w,o=n+n,s=i+i,u=r+r,l=n*o,c=n*s,d=n*u,h=i*s,p=i*u,m=r*u,f=a*o,g=a*s,_=a*u;return t[0]=1-(h+m),t[4]=c-_,t[8]=d+g,t[1]=c+_,t[5]=1-(l+m),t[9]=p-f,t[2]=d-g,t[6]=p+f,t[10]=1-(l+h),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:(a=new Ot,o=new Ot,s=new Ot,function(e,t,n){var i=this.elements;return s.subVectors(e,t),0===s.lengthSq()&&(s.z=1),s.normalize(),a.crossVectors(n,s),0===a.lengthSq()&&(1===Math.abs(n.z)?s.x+=1e-4:s.z+=1e-4,s.normalize(),a.crossVectors(n,s)),a.normalize(),o.crossVectors(s,a),i[0]=a.x,i[4]=o.x,i[8]=s.x,i[1]=a.y,i[5]=o.y,i[9]=s.y,i[2]=a.z,i[6]=o.z,i[10]=s.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],d=n[9],h=n[13],p=n[2],m=n[6],f=n[10],g=n[14],_=n[3],y=n[7],v=n[11],M=n[15],A=i[0],b=i[4],w=i[8],x=i[12],E=i[1],L=i[5],T=i[9],D=i[13],S=i[2],C=i[6],N=i[10],k=i[14],I=i[3],j=i[7],O=i[11],z=i[15];return r[0]=a*A+o*E+s*S+u*I,r[4]=a*b+o*L+s*C+u*j,r[8]=a*w+o*T+s*N+u*O,r[12]=a*x+o*D+s*k+u*z,r[1]=l*A+c*E+d*S+h*I,r[5]=l*b+c*L+d*C+h*j,r[9]=l*w+c*T+d*N+h*O,r[13]=l*x+c*D+d*k+h*z,r[2]=p*A+m*E+f*S+g*I,r[6]=p*b+m*L+f*C+g*j,r[10]=p*w+m*T+f*N+g*O,r[14]=p*x+m*D+f*k+g*z,r[3]=_*A+y*E+v*S+M*I,r[7]=_*b+y*L+v*C+M*j,r[11]=_*w+y*T+v*N+M*O,r[15]=_*x+y*D+v*k+M*z,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:(r=new Ot,function(e){for(var t=0,n=e.count;t<n;t++)r.x=e.getX(t),r.y=e.getY(t),r.z=e.getZ(t),r.applyMatrix4(this),e.setXYZ(t,r.x,r.y,r.z);return e}),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(+r*s*c-i*u*c-r*o*d+n*u*d+i*o*h-n*s*h)+e[7]*(+t*s*h-t*u*d+r*a*d-i*a*h+i*u*l-r*s*l)+e[11]*(+t*u*c-t*o*h-r*a*c+n*a*h+r*o*l-n*u*l)+e[15]*(-i*o*l-t*s*c+t*o*d+i*a*c-n*a*d+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],c=i[6],d=i[7],h=i[8],p=i[9],m=i[10],f=i[11],g=i[12],_=i[13],y=i[14],v=i[15],M=p*y*d-_*m*d+_*c*f-l*y*f-p*c*v+l*m*v,A=g*m*d-h*y*d-g*c*f+u*y*f+h*c*v-u*m*v,b=h*_*d-g*p*d+g*l*f-u*_*f-h*l*v+u*p*v,w=g*p*c-h*_*c-g*l*m+u*_*m+h*l*y-u*p*y,x=r*M+a*A+o*b+s*w;if(0===x){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(E);return console.warn(E),this.identity()}var L=1/x;return n[0]=M*L,n[1]=(_*m*s-p*y*s-_*o*f+a*y*f+p*o*v-a*m*v)*L,n[2]=(l*y*s-_*c*s+_*o*d-a*y*d-l*o*v+a*c*v)*L,n[3]=(p*c*s-l*m*s-p*o*d+a*m*d+l*o*f-a*c*f)*L,n[4]=A*L,n[5]=(h*y*s-g*m*s+g*o*f-r*y*f-h*o*v+r*m*v)*L,n[6]=(g*c*s-u*y*s-g*o*d+r*y*d+u*o*v-r*c*v)*L,n[7]=(u*m*s-h*c*s+h*o*d-r*m*d-u*o*f+r*c*f)*L,n[8]=b*L,n[9]=(g*p*s-h*_*s-g*a*f+r*_*f+h*a*v-r*p*v)*L,n[10]=(u*_*s-g*l*s+g*a*d-r*_*d-u*a*v+r*l*v)*L,n[11]=(h*l*s-u*p*s-h*a*d+r*p*d+u*a*f-r*l*f)*L,n[12]=w*L,n[13]=(h*_*o-g*p*o+g*a*m-r*_*m-h*a*y+r*p*y)*L,n[14]=(g*l*o-u*_*o-g*a*c+r*_*c+u*a*y-r*l*y)*L,n[15]=(u*p*o-h*l*o+h*a*c-r*p*c-u*a*m+r*l*m)*L,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,a=e.x,o=e.y,s=e.z,u=r*a,l=r*o;return this.set(u*a+n,u*o-i*s,u*s+i*o,0,u*o+i*s,l*o+n,l*s-i*a,0,u*s-i*o,l*s+i*a,r*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:(c=new Ot,d=new It,function(e,t,n){var i=this.elements,r=c.set(i[0],i[1],i[2]).length(),a=c.set(i[4],i[5],i[6]).length(),o=c.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],d.copy(this);var s=1/r,u=1/a,l=1/o;return d.elements[0]*=s,d.elements[1]*=s,d.elements[2]*=s,d.elements[4]*=u,d.elements[5]*=u,d.elements[6]*=u,d.elements[8]*=l,d.elements[9]*=l,d.elements[10]*=l,t.setFromRotationMatrix(d),n.x=r,n.y=a,n.z=o,this}),makePerspective:function(e,t,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(t-e),u=2*r/(n-i),l=(t+e)/(t-e),c=(n+i)/(n-i),d=-(a+r)/(a-r),h=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),u=1/(n-i),l=1/(a-r),c=(t+e)*s,d=(n+i)*u,h=(a+r)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(jt,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,a,o){var s=n[i+0],u=n[i+1],l=n[i+2],c=n[i+3],d=r[a+0],h=r[a+1],p=r[a+2],m=r[a+3];if(c!==m||s!==d||u!==h||l!==p){var f=1-o,g=s*d+u*h+l*p+c*m,_=0<=g?1:-1,y=1-g*g;if(y>Number.EPSILON){var v=Math.sqrt(y),M=Math.atan2(v,g*_);f=Math.sin(f*M)/v,o=Math.sin(o*M)/v}var A=o*_;if(s=s*f+d*A,u=u*f+h*A,l=l*f+p*A,c=c*f+m*A,f===1-o){var b=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=b,u*=b,l*=b,c*=b}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}}),Object.defineProperties(jt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(jt.prototype,{set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,a=e.order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(i/2),c=o(r/2),d=s(n/2),h=s(i/2),p=s(r/2);return"XYZ"===a?(this._x=d*l*c+u*h*p,this._y=u*h*c-d*l*p,this._z=u*l*p+d*h*c,this._w=u*l*c-d*h*p):"YXZ"===a?(this._x=d*l*c+u*h*p,this._y=u*h*c-d*l*p,this._z=u*l*p-d*h*c,this._w=u*l*c+d*h*p):"ZXY"===a?(this._x=d*l*c-u*h*p,this._y=u*h*c+d*l*p,this._z=u*l*p+d*h*c,this._w=u*l*c-d*h*p):"ZYX"===a?(this._x=d*l*c-u*h*p,this._y=u*h*c+d*l*p,this._z=u*l*p-d*h*c,this._w=u*l*c+d*h*p):"YZX"===a?(this._x=d*l*c+u*h*p,this._y=u*h*c+d*l*p,this._z=u*l*p-d*h*c,this._w=u*l*c-d*h*p):"XZY"===a&&(this._x=d*l*c-u*h*p,this._y=u*h*c-d*l*p,this._z=u*l*p+d*h*c,this._w=u*l*c+d*h*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],a=n[8],o=n[1],s=n[5],u=n[9],l=n[2],c=n[6],d=n[10],h=i+s+d;return 0<h?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(c-u)*t,this._y=(a-l)*t,this._z=(o-r)*t):s<i&&d<i?(t=2*Math.sqrt(1+i-s-d),this._w=(c-u)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(a+l)/t):d<s?(t=2*Math.sqrt(1+s-i-d),this._w=(a-l)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(u+c)/t):(t=2*Math.sqrt(1+d-i-s),this._w=(o-r)/t,this._x=(a+l)/t,this._y=(u+c)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:(h=new Ot,function(e,t){return void 0===h&&(h=new Ot),(l=e.dot(t)+1)<1e-6?(l=0,Math.abs(e.x)>Math.abs(e.z)?h.set(-e.y,e.x,0):h.set(0,-e.z,e.y)):h.crossVectors(e,t),this._x=h.x,this._y=h.y,this._z=h.z,this._w=l,this.normalize()}),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+i*u-r*s,this._y=i*l+a*s+r*o-n*u,this._z=r*l+a*u+n*s-i*o,this._w=a*l-n*o-i*s-r*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*e._w+n*e._x+i*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),1<=o)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(n+this._x),this._y=.5*(i+this._y),this._z=.5*(r+this._z),this;var u=Math.atan2(s,o),l=Math.sin((1-t)*u)/s,c=Math.sin(t*u)/s;return this._w=a*l+this._w*c,this._x=n*l+this._x*c,this._y=i*l+this._y*c,this._z=r*l+this._z*c,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Ot.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(M=new jt,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(M.setFromEuler(e))}),applyAxisAngle:(v=new jt,function(e,t){return this.applyQuaternion(v.setFromAxisAngle(e,t))}),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,a=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*i-o*n,l=s*n+o*t-r*i,c=s*i+r*n-a*t,d=-r*t-a*n-o*i;return this.x=u*s+d*-r+l*-o-c*-a,this.y=l*s+d*-a+c*-r-u*-o,this.z=c*s+d*-o+u*-a-l*-r,this},project:(y=new It,function(e){return y.multiplyMatrices(e.projectionMatrix,y.getInverse(e.matrixWorld)),this.applyMatrix4(y)}),unproject:(_=new It,function(e){return _.multiplyMatrices(e.matrixWorld,_.getInverse(e.projectionMatrix)),this.applyMatrix4(_)}),transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:(f=new Ot,g=new Ot,function(e,t){return f.set(e,e,e),g.set(t,t,t),this.clamp(f,g)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:(m=new Ot,function(e){return m.copy(this).projectOnVector(e),this.sub(m)}),reflect:(p=new Ot,function(e){return this.sub(p.copy(e).multiplyScalar(2*this.dot(e)))}),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Nt.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(zt.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=i,l[2]=o,l[3]=t,l[4]=r,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:(A=new Ot,function(e){for(var t=0,n=e.count;t<n;t++)A.x=e.getX(t),A.y=e.getY(t),A.z=e.getZ(t),A.applyMatrix3(this),e.setXYZ(t,A.x,A.y,A.z);return e}),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],d=n[2],h=n[5],p=n[8],m=i[0],f=i[3],g=i[6],_=i[1],y=i[4],v=i[7],M=i[2],A=i[5],b=i[8];return r[0]=a*m+o*_+s*M,r[3]=a*f+o*y+s*A,r[6]=a*g+o*v+s*b,r[1]=u*m+l*_+c*M,r[4]=u*f+l*y+c*A,r[7]=u*g+l*v+c*b,r[2]=d*m+h*_+p*M,r[5]=d*f+h*y+p*A,r[8]=d*g+h*v+p*b,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*r*l+n*o*s+i*r*u-i*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],d=n[7],h=n[8],p=h*u-l*d,m=l*c-h*s,f=d*s-u*c,g=r*p+a*m+o*f;if(0===g){var _="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(_);return console.warn(_),this.identity()}var y=1/g;return i[0]=p*y,i[1]=(o*d-h*a)*y,i[2]=(l*a-o*u)*y,i[3]=m*y,i[4]=(h*r-o*c)*y,i[5]=(o*s-l*r)*y,i[6]=f*y,i[7]=(a*c-d*r)*y,i[8]=(u*r-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,a,o){var s=Math.cos(r),u=Math.sin(r);this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-i*u,i*s,-i*(-u*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],u=i[4],l=i[7];return i[0]=t*r+n*s,i[3]=t*a+n*u,i[6]=t*o+n*l,i[1]=-n*r+t*s,i[4]=-n*a+t*u,i[7]=-n*o+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Rt,Pt,Yt=0;function Bt(e,t,n,i,r,a,o,s,u,l){Object.defineProperty(this,"id",{value:Yt++}),this.uuid=Nt.generateUUID(),this.name="",this.image=void 0!==e?e:Bt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Bt.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:be,this.wrapT=void 0!==i?i:be,this.magFilter=void 0!==r?r:Se,this.minFilter=void 0!==a?a:Ne,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:We,this.type=void 0!==s?s:ke,this.offset=new kt(0,0),this.repeat=new kt(1,1),this.center=new kt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:bt,this.version=0,this.onUpdate=null}function Ut(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function Ht(e,t,n){this.uuid=Nt.generateUUID(),this.width=e,this.height=t,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=Se),this.texture=new Bt(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Ft(e,t,n){Ht.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Gt(e,t,n,i,r,a,o,s,u,l,c,d){Bt.call(this,null,a,o,s,u,l,i,r,c,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:xe,this.minFilter=void 0!==l?l:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Vt(e,t,n,i,r,a,o,s,u,l){Bt.call(this,e=void 0!==e?e:[],t=void 0!==t?t:me,n,i,r,a,o,s,u,l),this.flipY=!1}Bt.DEFAULT_IMAGE=void 0,Bt.DEFAULT_MAPPING=300,Bt.prototype=Object.assign(Object.create(t.prototype),{constructor:Bt,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=Nt.generateUUID()),t||void 0!==e.images[i.uuid]||(e.images[i.uuid]={uuid:i.uuid,url:function(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height;var n=t.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height)}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(i)}),n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case Ae:e.x=e.x-Math.floor(e.x);break;case be:e.x=e.x<0?0:1;break;case we:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case Ae:e.y=e.y-Math.floor(e.y);break;case be:e.y=e.y<0?0:1;break;case we:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.defineProperty(Bt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ut.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,a=e.elements,o=a[0],s=a[4],u=a[8],l=a[1],c=a[5],d=a[9],h=a[2],p=a[6],m=a[10];if(Math.abs(s-l)<.01&&Math.abs(u-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(s+l)<.1&&Math.abs(u+h)<.1&&Math.abs(d+p)<.1&&Math.abs(o+c+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var f=(o+1)/2,g=(c+1)/2,_=(m+1)/2,y=(s+l)/4,v=(u+h)/4,M=(d+p)/4;return g<f&&_<f?f<.01?(n=0,r=i=.707106781):(i=y/(n=Math.sqrt(f)),r=v/n):_<g?g<.01?(i=0,r=n=.707106781):(n=y/(i=Math.sqrt(g)),r=M/i):_<.01?(i=n=.707106781,r=0):(n=v/(r=Math.sqrt(_)),i=M/r),this.set(n,i,r,t),this}var A=Math.sqrt((p-d)*(p-d)+(u-h)*(u-h)+(l-s)*(l-s));return Math.abs(A)<.001&&(A=1),this.x=(p-d)/A,this.y=(u-h)/A,this.z=(l-s)/A,this.w=Math.acos((o+c+m-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return void 0===Rt&&(Rt=new Ut,Pt=new Ut),Rt.set(e,e,e,e),Pt.set(t,t,t,t),this.clamp(Rt,Pt)},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Ht.prototype=Object.assign(Object.create(t.prototype),{constructor:Ht,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((Ft.prototype=Object.create(Ht.prototype)).constructor=Ft).prototype.isWebGLRenderTargetCube=!0,((Gt.prototype=Object.create(Bt.prototype)).constructor=Gt).prototype.isDataTexture=!0,((Vt.prototype=Object.create(Bt.prototype)).constructor=Vt).prototype.isCubeTexture=!0,Object.defineProperty(Vt.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Wt=new Bt,Qt=new Vt;function qt(){this.seq=[],this.map={}}var Zt=[],Xt=[],Jt=new Float32Array(16),Kt=new Float32Array(9);function $t(e,t,n){var i=e[0];if(i<=0||0<i)return e;var r=t*n,a=Zt[r];if(void 0===a&&(a=new Float32Array(r),Zt[r]=a),0!==t){i.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function en(e,t){var n=Xt[t];void 0===n&&(n=new Int32Array(t),Xt[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function tn(e,t){e.uniform1f(this.addr,t)}function nn(e,t){e.uniform1i(this.addr,t)}function rn(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function an(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function on(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function sn(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function un(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Kt.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Kt))}function ln(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Jt.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Jt))}function cn(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTexture2D(t||Wt,i)}function dn(e,t,n){var i=n.allocTextureUnit();e.uniform1i(this.addr,i),n.setTextureCube(t||Qt,i)}function hn(e,t){e.uniform2iv(this.addr,t)}function pn(e,t){e.uniform3iv(this.addr,t)}function mn(e,t){e.uniform4iv(this.addr,t)}function fn(e,t){e.uniform1fv(this.addr,t)}function gn(e,t){e.uniform1iv(this.addr,t)}function _n(e,t){e.uniform2fv(this.addr,$t(t,this.size,2))}function yn(e,t){e.uniform3fv(this.addr,$t(t,this.size,3))}function vn(e,t){e.uniform4fv(this.addr,$t(t,this.size,4))}function Mn(e,t){e.uniformMatrix2fv(this.addr,!1,$t(t,this.size,4))}function An(e,t){e.uniformMatrix3fv(this.addr,!1,$t(t,this.size,9))}function bn(e,t){e.uniformMatrix4fv(this.addr,!1,$t(t,this.size,16))}function wn(e,t,n){var i=t.length,r=en(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.setTexture2D(t[a]||Wt,r[a])}function xn(e,t,n){var i=t.length,r=en(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.setTextureCube(t[a]||Qt,r[a])}function En(e,t,n){this.id=e,this.addr=n,this.setValue=function(e){switch(e){case 5126:return tn;case 35664:return rn;case 35665:return an;case 35666:return on;case 35674:return sn;case 35675:return un;case 35676:return ln;case 35678:case 36198:return cn;case 35680:return dn;case 5124:case 35670:return nn;case 35667:case 35671:return hn;case 35668:case 35672:return pn;case 35669:case 35673:return mn}}(t.type)}function Ln(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return fn;case 35664:return _n;case 35665:return yn;case 35666:return vn;case 35674:return Mn;case 35675:return An;case 35676:return bn;case 35678:return wn;case 35680:return xn;case 5124:case 35670:return gn;case 35667:case 35671:return hn;case 35668:case 35672:return pn;case 35669:case 35673:return mn}}(t.type)}function Tn(e){this.id=e,qt.call(this)}Tn.prototype.setValue=function(e,t){for(var n=this.seq,i=0,r=n.length;i!==r;++i){var a=n[i];a.setValue(e,t[a.id])}};var Dn=/([\w\d_]+)(\])?(\[|\.)?/g;function Sn(e,t){e.seq.push(t),e.map[t.id]=t}function Cn(e,t,n){var i=e.name,r=i.length;for(Dn.lastIndex=0;;){var a=Dn.exec(i),o=Dn.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===r){Sn(n,void 0===l?new En(s,e,t):new Ln(s,e,t));break}var c=n.map[s];void 0===c&&Sn(n,c=new Tn(s)),n=c}}function Nn(e,t,n){qt.call(this),this.renderer=n;for(var i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<i;++r){var a=e.getActiveUniform(t,r),o=a.name;Cn(a,e.getUniformLocation(t,o),this)}}Nn.prototype.setValue=function(e,t,n){var i=this.map[t];void 0!==i&&i.setValue(e,n,this.renderer)},Nn.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},Nn.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},Nn.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var a=e[i];a.id in t&&n.push(a)}return n};var kn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function In(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(In.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function a(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(e,t,n){if(e=Nt.euclideanModulo(e,1),t=Nt.clamp(t,0,1),n=Nt.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=a(r,i,e+1/3),this.g=a(r,i,e),this.b=a(r,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,u=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(o,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,c=(l=n[1]).length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}t&&0<t.length&&(void 0!==(l=kn[t])?this.setHex(l):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=0<t?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,i=e||{h:0,s:0,l:0},r=this.r,a=this.g,o=this.b,s=Math.max(r,a,o),u=Math.min(r,a,o),l=(u+s)/2;if(u===s)n=t=0;else{var c=s-u;switch(n=l<=.5?c/(s+u):c/(2-s-u),s){case r:t=(a-o)/c+(a<o?6:0);break;case a:t=(o-r)/c+2;break;case o:t=(r-a)/c+4}t/=6}return i.h=t,i.s=n,i.l=l,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var jn={common:{diffuse:{value:new In(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new zt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new kt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new In(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new In(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new zt}}},On={merge:function(e){for(var t={},n=0;n<e.length;n++){var i=this.clone(e[n]);for(var r in i)t[r]=i[r]}return t},clone:function(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}return t}},zn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},Rn={basic:{uniforms:On.merge([jn.common,jn.specularmap,jn.envmap,jn.aomap,jn.lightmap,jn.fog]),vertexShader:zn.meshbasic_vert,fragmentShader:zn.meshbasic_frag},lambert:{uniforms:On.merge([jn.common,jn.specularmap,jn.envmap,jn.aomap,jn.lightmap,jn.emissivemap,jn.fog,jn.lights,{emissive:{value:new In(0)}}]),vertexShader:zn.meshlambert_vert,fragmentShader:zn.meshlambert_frag},phong:{uniforms:On.merge([jn.common,jn.specularmap,jn.envmap,jn.aomap,jn.lightmap,jn.emissivemap,jn.bumpmap,jn.normalmap,jn.displacementmap,jn.gradientmap,jn.fog,jn.lights,{emissive:{value:new In(0)},specular:{value:new In(1118481)},shininess:{value:30}}]),vertexShader:zn.meshphong_vert,fragmentShader:zn.meshphong_frag},standard:{uniforms:On.merge([jn.common,jn.envmap,jn.aomap,jn.lightmap,jn.emissivemap,jn.bumpmap,jn.normalmap,jn.displacementmap,jn.roughnessmap,jn.metalnessmap,jn.fog,jn.lights,{emissive:{value:new In(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag},points:{uniforms:On.merge([jn.points,jn.fog]),vertexShader:zn.points_vert,fragmentShader:zn.points_frag},dashed:{uniforms:On.merge([jn.common,jn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zn.linedashed_vert,fragmentShader:zn.linedashed_frag},depth:{uniforms:On.merge([jn.common,jn.displacementmap]),vertexShader:zn.depth_vert,fragmentShader:zn.depth_frag},normal:{uniforms:On.merge([jn.common,jn.bumpmap,jn.normalmap,jn.displacementmap,{opacity:{value:1}}]),vertexShader:zn.normal_vert,fragmentShader:zn.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zn.cube_vert,fragmentShader:zn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zn.equirect_vert,fragmentShader:zn.equirect_frag},distanceRGBA:{uniforms:On.merge([jn.common,jn.displacementmap,{referencePosition:{value:new Ot},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zn.distanceRGBA_vert,fragmentShader:zn.distanceRGBA_frag},shadow:{uniforms:On.merge([jn.lights,jn.fog,{color:{value:new In(0)},opacity:{value:1}}]),vertexShader:zn.shadow_vert,fragmentShader:zn.shadow_frag}};function Pn(e,t,n,i,r,a,o,s,u){Bt.call(this,e,t,n,i,r,a,o,s,u),this.needsUpdate=!0}function Yn(p,m,f,g,s){var _,y,v,M,A,b,w=new Ot,x=new jt,E=new Ot;function L(){var e,t,n,i=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),r=new Uint16Array([0,1,2,0,2,3]);_=m.createBuffer(),y=m.createBuffer(),m.bindBuffer(m.ARRAY_BUFFER,_),m.bufferData(m.ARRAY_BUFFER,i,m.STATIC_DRAW),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,y),m.bufferData(m.ELEMENT_ARRAY_BUFFER,r,m.STATIC_DRAW),e=m.createProgram(),t=m.createShader(m.VERTEX_SHADER),n=m.createShader(m.FRAGMENT_SHADER),m.shaderSource(t,["precision "+s.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 center;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = ( position - center ) * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),m.shaderSource(n,["precision "+s.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),m.compileShader(t),m.compileShader(n),m.attachShader(e,t),m.attachShader(e,n),m.linkProgram(e),v=e,M={position:m.getAttribLocation(v,"position"),uv:m.getAttribLocation(v,"uv")},A={uvOffset:m.getUniformLocation(v,"uvOffset"),uvScale:m.getUniformLocation(v,"uvScale"),rotation:m.getUniformLocation(v,"rotation"),center:m.getUniformLocation(v,"center"),scale:m.getUniformLocation(v,"scale"),color:m.getUniformLocation(v,"color"),map:m.getUniformLocation(v,"map"),opacity:m.getUniformLocation(v,"opacity"),modelViewMatrix:m.getUniformLocation(v,"modelViewMatrix"),projectionMatrix:m.getUniformLocation(v,"projectionMatrix"),fogType:m.getUniformLocation(v,"fogType"),fogDensity:m.getUniformLocation(v,"fogDensity"),fogNear:m.getUniformLocation(v,"fogNear"),fogFar:m.getUniformLocation(v,"fogFar"),fogColor:m.getUniformLocation(v,"fogColor"),fogDepth:m.getUniformLocation(v,"fogDepth"),alphaTest:m.getUniformLocation(v,"alphaTest")};var a=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");a.width=8,a.height=8;var o=a.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),b=new Pn(a)}function T(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}this.render=function(e,t,n){if(0!==e.length){void 0===v&&L(),f.useProgram(v),f.initAttributes(),f.enableAttribute(M.position),f.enableAttribute(M.uv),f.disableUnusedAttributes(),f.disable(m.CULL_FACE),f.enable(m.BLEND),m.bindBuffer(m.ARRAY_BUFFER,_),m.vertexAttribPointer(M.position,2,m.FLOAT,!1,16,0),m.vertexAttribPointer(M.uv,2,m.FLOAT,!1,16,8),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,y),m.uniformMatrix4fv(A.projectionMatrix,!1,n.projectionMatrix.elements),f.activeTexture(m.TEXTURE0),m.uniform1i(A.map,0);var i=0,r=0,a=t.fog;a?(m.uniform3f(A.fogColor,a.color.r,a.color.g,a.color.b),a.isFog?(m.uniform1f(A.fogNear,a.near),m.uniform1f(A.fogFar,a.far),m.uniform1i(A.fogType,1),r=i=1):a.isFogExp2&&(m.uniform1f(A.fogDensity,a.density),m.uniform1i(A.fogType,2),r=i=2)):(m.uniform1i(A.fogType,0),r=i=0);for(var o=0,s=e.length;o<s;o++){(c=e[o]).modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,c.matrixWorld),c.z=-c.modelViewMatrix.elements[14]}e.sort(T);var u=[],l=[];for(o=0,s=e.length;o<s;o++){var c,d=(c=e[o]).material;if(!1!==d.visible){c.onBeforeRender(p,t,n,void 0,d,void 0),m.uniform1f(A.alphaTest,d.alphaTest),m.uniformMatrix4fv(A.modelViewMatrix,!1,c.modelViewMatrix.elements),c.matrixWorld.decompose(w,x,E),u[0]=E.x,u[1]=E.y,l[0]=c.center.x-.5,l[1]=c.center.y-.5;var h=0;t.fog&&d.fog&&(h=r),i!==h&&(m.uniform1i(A.fogType,h),i=h),null!==d.map?(m.uniform2f(A.uvOffset,d.map.offset.x,d.map.offset.y),m.uniform2f(A.uvScale,d.map.repeat.x,d.map.repeat.y)):(m.uniform2f(A.uvOffset,0,0),m.uniform2f(A.uvScale,1,1)),m.uniform1f(A.opacity,d.opacity),m.uniform3f(A.color,d.color.r,d.color.g,d.color.b),m.uniform1f(A.rotation,d.rotation),m.uniform2fv(A.center,l),m.uniform2fv(A.scale,u),f.setBlending(d.blending,d.blendEquation,d.blendSrc,d.blendDst,d.blendEquationAlpha,d.blendSrcAlpha,d.blendDstAlpha,d.premultipliedAlpha),f.buffers.depth.setTest(d.depthTest),f.buffers.depth.setMask(d.depthWrite),f.buffers.color.setMask(d.colorWrite),g.setTexture2D(d.map||b,0),m.drawElements(m.TRIANGLES,6,m.UNSIGNED_SHORT,0),c.onAfterRender(p,t,n,void 0,d,void 0)}}f.enable(m.CULL_FACE),f.reset()}}}Rn.physical={uniforms:On.merge([Rn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag},(Pn.prototype=Object.create(Bt.prototype)).constructor=Pn;var Bn,Un,Hn,Fn,Gn,Vn,Wn,Qn,qn,Zn,Xn,Jn,Kn,$n,ei,ti,ni,ii=0;function ri(){Object.defineProperty(this,"id",{value:ii++}),this.uuid=Nt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Q,this.side=O,this.flatShading=!1,this.vertexColors=Le,this.opacity=1,this.transparent=!1,this.blendSrc=k,this.blendDst=I,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ie,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function ai(e){ri.call(this),this.type="MeshDepthMaterial",this.depthPacking=St,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function oi(e){ri.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ot,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function si(e,t){this.min=void 0!==e?e:new Ot(1/0,1/0,1/0),this.max=void 0!==t?t:new Ot(-1/0,-1/0,-1/0)}function ui(e,t){this.center=void 0!==e?e:new Ot,this.radius=void 0!==t?t:0}function li(e,t){this.normal=void 0!==e?e:new Ot(1,0,0),this.constant=void 0!==t?t:0}function ci(e,t,n,i,r,a){this.planes=[void 0!==e?e:new li,void 0!==t?t:new li,void 0!==n?n:new li,void 0!==i?i:new li,void 0!==r?r:new li,void 0!==a?a:new li]}function di(v,f,e){for(var M=new ci,A=new It,b=new kt,w=new kt(e,e),x=new Ot,E=new Ot,_=1,y=2,t=1+(_|y),L=new Array(t),T=new Array(t),D={},S={0:Z,1:O,2:X},C=[new Ot(1,0,0),new Ot(-1,0,0),new Ot(0,0,1),new Ot(0,0,-1),new Ot(0,1,0),new Ot(0,-1,0)],N=[new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,0,1),new Ot(0,0,-1)],k=[new Ut,new Ut,new Ut,new Ut,new Ut,new Ut],n=0;n!==t;++n){var i=0!=(n&_),r=0!=(n&y),a=new ai({depthPacking:Ct,morphTargets:i,skinning:r});L[n]=a;var o=new oi({morphTargets:i,skinning:r});T[n]=o}var I=this;function g(e,t,n,i,r,a){var o=e.geometry,s=null,u=L,l=e.customDepthMaterial;if(n&&(u=T,l=e.customDistanceMaterial),l)s=l;else{var c=!1;t.morphTargets&&(o&&o.isBufferGeometry?c=o.morphAttributes&&o.morphAttributes.position&&0<o.morphAttributes.position.length:o&&o.isGeometry&&(c=o.morphTargets&&0<o.morphTargets.length)),e.isSkinnedMesh&&!1===t.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var d=e.isSkinnedMesh&&t.skinning,h=0;c&&(h|=_),d&&(h|=y),s=u[h]}if(v.localClippingEnabled&&!0===t.clipShadows&&0!==t.clippingPlanes.length){var p=s.uuid,m=t.uuid,f=D[p];void 0===f&&(f={},D[p]=f);var g=f[m];void 0===g&&(g=s.clone(),f[m]=g),s=g}return s.visible=t.visible,s.wireframe=t.wireframe,s.side=null!=t.shadowSide?t.shadowSide:S[t.side],s.clipShadows=t.clipShadows,s.clippingPlanes=t.clippingPlanes,s.clipIntersection=t.clipIntersection,s.wireframeLinewidth=t.wireframeLinewidth,s.linewidth=t.linewidth,n&&s.isMeshDistanceMaterial&&(s.referencePosition.copy(i),s.nearDistance=r,s.farDistance=a),s}function j(e,t,n,i){if(!1!==e.visible){if(e.layers.test(t.layers)&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(!e.frustumCulled||M.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld);var r=f.update(e),a=e.material;if(Array.isArray(a))for(var o=r.groups,s=0,u=o.length;s<u;s++){var l=o[s],c=a[l.materialIndex];if(c&&c.visible){var d=g(e,c,i,E,n.near,n.far);v.renderBufferDirect(n,null,r,d,e,l)}}else if(a.visible){d=g(e,a,i,E,n.near,n.far);v.renderBufferDirect(n,null,r,d,e,null)}}for(var h=e.children,p=0,m=h.length;p<m;p++)j(h[p],t,n,i)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=R,this.render=function(e,t,n){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==e.length){var i,r=v.context,a=v.state;a.disable(r.BLEND),a.buffers.color.setClear(1,1,1,1),a.buffers.depth.setTest(!0),a.setScissorTest(!1);for(var o=0,s=e.length;o<s;o++){var u=e[o],l=u.shadow,c=u&&u.isPointLight;if(void 0!==l){var d=l.camera;if(b.copy(l.mapSize),b.min(w),c){var h=b.x,p=b.y;k[0].set(2*h,p,h,p),k[1].set(0,p,h,p),k[2].set(3*h,p,h,p),k[3].set(h,p,h,p),k[4].set(3*h,0,h,p),k[5].set(h,0,h,p),b.x*=4,b.y*=2}if(null===l.map){var m={minFilter:xe,magFilter:xe,format:We};l.map=new Ht(b.x,b.y,m),l.map.texture.name=u.name+".shadowMap",d.updateProjectionMatrix()}l.isSpotLightShadow&&l.update(u);var f=l.map,g=l.matrix;E.setFromMatrixPosition(u.matrixWorld),d.position.copy(E),c?(i=6,g.makeTranslation(-E.x,-E.y,-E.z)):(i=1,x.setFromMatrixPosition(u.target.matrixWorld),d.lookAt(x),d.updateMatrixWorld(),g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(d.projectionMatrix),g.multiply(d.matrixWorldInverse)),v.setRenderTarget(f),v.clear();for(var _=0;_<i;_++){if(c){x.copy(d.position),x.add(C[_]),d.up.copy(N[_]),d.lookAt(x),d.updateMatrixWorld();var y=k[_];a.viewport(y)}A.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),M.setFromMatrix(A),j(t,n,d,c)}}else console.warn("THREE.WebGLShadowMap:",u,"has no shadow.")}I.needsUpdate=!1}}}function hi(u){var l={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),l[e.uuid]},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var t=l[e.uuid];t&&(u.deleteBuffer(t.buffer),delete l[e.uuid])},update:function(e,t){e.isInterleavedBufferAttribute&&(e=e.data);var n,i,r,a,o,s=l[e.uuid];void 0===s?l[e.uuid]=function(e,t){var n=e.array,i=e.dynamic?u.DYNAMIC_DRAW:u.STATIC_DRAW,r=u.createBuffer();u.bindBuffer(t,r),u.bufferData(t,n,i),e.onUploadCallback();var a=u.FLOAT;return n instanceof Float32Array?a=u.FLOAT:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?a=u.UNSIGNED_SHORT:n instanceof Int16Array?a=u.SHORT:n instanceof Uint32Array?a=u.UNSIGNED_INT:n instanceof Int32Array?a=u.INT:n instanceof Int8Array?a=u.BYTE:n instanceof Uint8Array&&(a=u.UNSIGNED_BYTE),{buffer:r,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}(e,t):s.version<e.version&&(n=s.buffer,r=t,a=(i=e).array,o=i.updateRange,u.bindBuffer(r,n),!1===i.dynamic?u.bufferData(r,a,u.STATIC_DRAW):-1===o.count?u.bufferSubData(r,0,a):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(u.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),s.version=e.version)}}}function pi(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||pi.DefaultOrder}function mi(){this.mask=1}ri.prototype=Object.assign(Object.create(t.prototype),{constructor:ri,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Q&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==O&&(n.side=this.side),this.vertexColors!==Le&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var r=i(e.textures),a=i(e.images);0<r.length&&(n.textures=r),0<a.length&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),((ai.prototype=Object.create(ri.prototype)).constructor=ai).prototype.isMeshDepthMaterial=!0,ai.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},((oi.prototype=Object.create(ri.prototype)).constructor=oi).prototype.isMeshDistanceMaterial=!0,oi.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(si.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],d=e[s+2];l<t&&(t=l),c<n&&(n=c),d<i&&(i=d),r<l&&(r=l),a<c&&(a=c),o<d&&(o=d)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),d=e.getZ(s);l<t&&(t=l),c<n&&(n=c),d<i&&(i=d),r<l&&(r=l),a<c&&(a=c),o<d&&(o=d)}return this.min.set(t,n,i),this.max.set(r,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(Gn=new Ot,function(e,t){var n=Gn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new Ot;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new Ot;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var r,a,o,s=new Ot;function t(e){var t=e.geometry;if(void 0!==t)if(t.isGeometry){var n=t.vertices;for(a=0,o=n.length;a<o;a++)s.copy(n[a]),s.applyMatrix4(e.matrixWorld),r.expandByPoint(s)}else if(t.isBufferGeometry){var i=t.attributes.position;if(void 0!==i)for(a=0,o=i.count;a<o;a++)s.fromBufferAttribute(i,a).applyMatrix4(e.matrixWorld),r.expandByPoint(s)}}return function(e){return r=this,e.updateMatrixWorld(!0),e.traverse(t),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new Ot).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(Fn=new Ot,function(e){return this.clampPoint(e.center,Fn),Fn.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n;return 0<e.normal.x?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},intersectsTriangle:function(){var s=new Ot,u=new Ot,l=new Ot,n=new Ot,i=new Ot,r=new Ot,c=new Ot,a=new Ot,d=new Ot,o=new Ot;function h(e){var t,n;for(t=0,n=e.length-3;t<=n;t+=3){c.fromArray(e,t);var i=d.x*Math.abs(c.x)+d.y*Math.abs(c.y)+d.z*Math.abs(c.z),r=s.dot(c),a=u.dot(c),o=l.dot(c);if(Math.max(-Math.max(r,a,o),Math.min(r,a,o))>i)return!1}return!0}return function(e){if(this.isEmpty())return!1;this.getCenter(a),d.subVectors(this.max,a),s.subVectors(e.a,a),u.subVectors(e.b,a),l.subVectors(e.c,a),n.subVectors(u,s),i.subVectors(l,u),r.subVectors(s,l);var t=[0,-n.z,n.y,0,-i.z,i.y,0,-r.z,r.y,n.z,0,-n.x,i.z,0,-i.x,r.z,0,-r.x,-n.y,n.x,0,-i.y,i.x,0,-r.y,r.x,0];return!!h(t)&&(!!h(t=[1,0,0,0,1,0,0,0,1])&&(o.crossVectors(n,i),h(t=[o.x,o.y,o.z])))}}(),clampPoint:function(e,t){return(t||new Ot).copy(e).clamp(this.min,this.max)},distanceToPoint:(Hn=new Ot,function(e){return Hn.copy(e).clamp(this.min,this.max).sub(e).length()}),getBoundingSphere:(Un=new Ot,function(e){var t=e||new ui;return this.getCenter(t.center),t.radius=.5*this.getSize(Un).length(),t}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(Bn=[new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot],function(e){return this.isEmpty()||(Bn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Bn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Bn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Bn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Bn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Bn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Bn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Bn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Bn)),this}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ui.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(Vn=new si,function(e,t){var n=this.center;void 0!==t?n.copy(t):Vn.setFromPoints(e).getCenter(n);for(var i=0,r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),i=t||new Ot;return i.copy(e),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var t=e||new si;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(li.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:(Zn=new Ot,Xn=new Ot,function(e,t,n){var i=Zn.subVectors(n,t).cross(Xn.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return(t||new Ot).copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:(qn=new Ot,function(e,t){var n=t||new Ot,i=e.delta(qn),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||1<a?void 0:n.copy(i).multiplyScalar(a).add(e.start)}),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&0<n||n<0&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new Ot).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(Wn=new Ot,Qn=new zt,function(e,t){var n=t||Qn.getNormalMatrix(e),i=this.coplanarPoint(Wn).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ci.prototype,{set:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],d=n[8],h=n[9],p=n[10],m=n[11],f=n[12],g=n[13],_=n[14],y=n[15];return t[0].setComponents(o-i,c-s,m-d,y-f).normalize(),t[1].setComponents(o+i,c+s,m+d,y+f).normalize(),t[2].setComponents(o+r,c+u,m+h,y+g).normalize(),t[3].setComponents(o-r,c-u,m-h,y-g).normalize(),t[4].setComponents(o-a,c-l,m-p,y-_).normalize(),t[5].setComponents(o+a,c+l,m+p,y+_).normalize(),this},intersectsObject:(ei=new ui,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ei.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ei)}),intersectsSprite:($n=new ui,function(e){return $n.center.set(0,0,0),$n.radius=.7071067811865476,$n.applyMatrix4(e.matrixWorld),this.intersectsSphere($n)}),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:(Jn=new Ot,Kn=new Ot,function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];Jn.x=0<i.normal.x?e.min.x:e.max.x,Kn.x=0<i.normal.x?e.max.x:e.min.x,Jn.y=0<i.normal.y?e.min.y:e.max.y,Kn.y=0<i.normal.y?e.max.y:e.min.y,Jn.z=0<i.normal.z?e.min.z:e.max.z,Kn.z=0<i.normal.z?e.max.z:e.min.z;var r=i.distanceToPoint(Jn),a=i.distanceToPoint(Kn);if(r<0&&a<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),pi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],pi.DefaultOrder="XYZ",Object.defineProperties(pi.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(pi.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=Nt.clamp,r=e.elements,a=r[0],o=r[4],s=r[8],u=r[1],l=r[5],c=r[9],d=r[2],h=r[6],p=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===t?(this._y=Math.asin(-i(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(h,p),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(i(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:(ni=new It,function(e,t,n){return ni.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ni,t,n)}),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(ti=new jt,function(e){return ti.setFromEuler(this),this.setFromQuaternion(ti,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ot(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(mi.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var fi,gi,_i,yi,vi,Mi,Ai,bi,wi,xi,Ei,Li,Ti,Di,Si,Ci,Ni,ki,Ii,ji=0;function Oi(){Object.defineProperty(this,"id",{value:ji++}),this.uuid=Nt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Oi.DefaultUp.clone();var e=new Ot,t=new pi,n=new jt,i=new Ot(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:i},modelViewMatrix:{value:new It},normalMatrix:{value:new zt}}),this.matrix=new It,this.matrixWorld=new It,this.matrixAutoUpdate=Oi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new mi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function zi(){Oi.call(this),this.type="Camera",this.matrixWorldInverse=new It,this.projectionMatrix=new It}function Ri(e,t,n,i,r,a){zi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Pi(e,t,n,i,r,a){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new Ot,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new In,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}Oi.DefaultUp=new Ot(0,1,0),Oi.DefaultMatrixAutoUpdate=!0,Oi.prototype=Object.assign(Object.create(t.prototype),{constructor:Oi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(ki=new jt,function(e,t){return ki.setFromAxisAngle(e,t),this.quaternion.multiply(ki),this}),rotateOnWorldAxis:(Ni=new jt,function(e,t){return Ni.setFromAxisAngle(e,t),this.quaternion.premultiply(Ni),this}),rotateX:(Ci=new Ot(1,0,0),function(e){return this.rotateOnAxis(Ci,e)}),rotateY:(Si=new Ot(0,1,0),function(e){return this.rotateOnAxis(Si,e)}),rotateZ:(Di=new Ot(0,0,1),function(e){return this.rotateOnAxis(Di,e)}),translateOnAxis:(Ti=new Ot,function(e,t){return Ti.copy(e).applyQuaternion(this.quaternion),this.position.add(Ti.multiplyScalar(t)),this}),translateX:(Li=new Ot(1,0,0),function(e){return this.translateOnAxis(Li,e)}),translateY:(Ei=new Ot(0,1,0),function(e){return this.translateOnAxis(Ei,e)}),translateZ:(xi=new Ot(0,0,1),function(e){return this.translateOnAxis(xi,e)}),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(wi=new It,function(e){return e.applyMatrix4(wi.getInverse(this.matrixWorld))}),lookAt:(Ai=new It,bi=new Ot,function(e,t,n){e.isVector3?bi.copy(e):bi.set(e,t,n),this.isCamera?Ai.lookAt(this.position,bi,this.up):Ai.lookAt(bi,this.position,this.up),this.quaternion.setFromRotationMatrix(Ai)}),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){var t=e||new Ot;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(vi=new Ot,Mi=new Ot,function(e){var t=e||new jt;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(vi,t,Mi),t}),getWorldRotation:(yi=new jt,function(e){var t=e||new pi;return this.getWorldQuaternion(yi),t.setFromQuaternion(yi,this.rotation.order,!1)}),getWorldScale:(gi=new Ot,_i=new jt,function(e){var t=e||new Ot;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(gi,_i,t),t}),getWorldDirection:(fi=new jt,function(e){var t=e||new Ot;return this.getWorldQuaternion(fi),t.set(0,0,1).applyQuaternion(fi)}),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},toJSON:function(n){var e=void 0===n||"string"==typeof n,t={};e&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{}},t.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,t){return void 0===e[t.uuid]&&(e[t.uuid]=t.toJSON(n)),t.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.matrix=this.matrix.toArray(),void 0!==this.geometry){i.geometry=r(n.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];r(n.shapes,l)}else r(n.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(r(n.materials,this.material[s]));i.material=c}else i.material=r(n.materials,this.material);if(0<this.children.length){i.children=[];for(s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(n).object)}if(e){var d=f(n.geometries),h=f(n.materials),p=f(n.textures),m=f(n.images);o=f(n.shapes);0<d.length&&(t.geometries=d),0<h.length&&(t.materials=h),0<p.length&&(t.textures=p),0<m.length&&(t.images=m),0<o.length&&(t.shapes=o)}return t.object=i,t;function f(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),zi.prototype=Object.assign(Object.create(Oi.prototype),{constructor:zi,isCamera:!0,copy:function(e,t){return Oi.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:(Ii=new jt,function(e){var t=e||new Ot;return this.getWorldQuaternion(Ii),t.set(0,0,-1).applyQuaternion(Ii)}),updateMatrixWorld:function(e){Oi.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ri.prototype=Object.assign(Object.create(zi.prototype),{constructor:Ri,isOrthographicCamera:!0,copy:function(e,t){return zi.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,a=n+e,o=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;a=(r+=c*(this.view.offsetX/u))+c*(this.view.width/u),s=(o-=d*(this.view.offsetY/l))-d*(this.view.height/l)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(e){var t=Oi.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(Pi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Yi,Bi,Ui,Hi,Fi,Gi,Vi=0;function Wi(){Object.defineProperty(this,"id",{value:Vi+=2}),this.uuid=Nt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Qi(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Nt.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function qi(e,t,n){Qi.call(this,new Int8Array(e),t,n)}function Zi(e,t,n){Qi.call(this,new Uint8Array(e),t,n)}function Xi(e,t,n){Qi.call(this,new Uint8ClampedArray(e),t,n)}function Ji(e,t,n){Qi.call(this,new Int16Array(e),t,n)}function Ki(e,t,n){Qi.call(this,new Uint16Array(e),t,n)}function $i(e,t,n){Qi.call(this,new Int32Array(e),t,n)}function er(e,t,n){Qi.call(this,new Uint32Array(e),t,n)}function tr(e,t,n){Qi.call(this,new Float32Array(e),t,n)}function nr(e,t,n){Qi.call(this,new Float64Array(e),t,n)}function ir(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function rr(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}Wi.prototype=Object.assign(Object.create(t.prototype),{constructor:Wi,isGeometry:!0,applyMatrix:function(e){for(var t=(new zt).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(e)}for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:(Gi=new It,function(e){return Gi.makeRotationX(e),this.applyMatrix(Gi),this}),rotateY:(Fi=new It,function(e){return Fi.makeRotationY(e),this.applyMatrix(Fi),this}),rotateZ:(Hi=new It,function(e){return Hi.makeRotationZ(e),this.applyMatrix(Hi),this}),translate:(Ui=new It,function(e,t,n){return Ui.makeTranslation(e,t,n),this.applyMatrix(Ui),this}),scale:(Bi=new It,function(e,t,n){return Bi.makeScale(e,t,n),this.applyMatrix(Bi),this}),lookAt:(Yi=new Oi,function(e){Yi.lookAt(e),Yi.updateMatrix(),this.applyMatrix(Yi.matrix)}),fromBufferGeometry:function(e){var a=this,t=null!==e.index?e.index.array:void 0,n=e.attributes,i=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,s=void 0!==n.color?n.color.array:void 0,u=void 0!==n.uv?n.uv.array:void 0,l=void 0!==n.uv2?n.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=[],d=[],h=[],r=0,p=0;r<i.length;r+=3,p+=2)a.vertices.push(new Ot(i[r],i[r+1],i[r+2])),void 0!==o&&c.push(new Ot(o[r],o[r+1],o[r+2])),void 0!==s&&a.colors.push(new In(s[r],s[r+1],s[r+2])),void 0!==u&&d.push(new kt(u[p],u[p+1])),void 0!==l&&h.push(new kt(l[p],l[p+1]));function m(e,t,n,i){var r=new Pi(e,t,n,void 0!==o?[c[e].clone(),c[t].clone(),c[n].clone()]:[],void 0!==s?[a.colors[e].clone(),a.colors[t].clone(),a.colors[n].clone()]:[],i);a.faces.push(r),void 0!==u&&a.faceVertexUvs[0].push([d[e].clone(),d[t].clone(),d[n].clone()]),void 0!==l&&a.faceVertexUvs[1].push([h[e].clone(),h[t].clone(),h[n].clone()])}var f=e.groups;if(0<f.length)for(r=0;r<f.length;r++)for(var g=f[r],_=g.start,y=(p=_,_+g.count);p<y;p+=3)void 0!==t?m(t[p],t[p+1],t[p+2],g.materialIndex):m(p,p+1,p+2,g.materialIndex);else if(void 0!==t)for(r=0;r<t.length;r+=3)m(t[r],t[r+1],t[r+2]);else for(r=0;r<i.length/3;r+=3)m(r,r+1,r+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new It;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new Ot,t=new Ot,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,n,i,r,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new Ot;if(e){var s,u,l,c=new Ot,d=new Ot;for(i=0,r=this.faces.length;i<r;i++)a=this.faces[i],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],c.subVectors(l,u),d.subVectors(s,u),c.cross(d),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o[(a=this.faces[i]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var h=(a=this.faces[i]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var a=new Wi;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)u=new Ot,l={a:new Ot,b:new Ot,c:new Ot},o.push(u),s.push(l)}var u,l,c=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)r=this.faces[n],u=c.faceNormals[n],l=c.vertexNormals[n],u.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new si),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ui),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,u=e.faces,l=this.faceVertexUvs[0],c=e.faceVertexUvs[0],d=this.colors,h=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new zt).getNormalMatrix(t));for(var p=0,m=o.length;p<m;p++){var f=o[p].clone();void 0!==t&&f.applyMatrix4(t),a.push(f)}for(p=0,m=h.length;p<m;p++)d.push(h[p].clone());for(p=0,m=u.length;p<m;p++){var g,_,y,v=u[p],M=v.vertexNormals,A=v.vertexColors;(g=new Pi(v.a+r,v.b+r,v.c+r)).normal.copy(v.normal),void 0!==i&&g.normal.applyMatrix3(i).normalize();for(var b=0,w=M.length;b<w;b++)_=M[b].clone(),void 0!==i&&_.applyMatrix3(i).normalize(),g.vertexNormals.push(_);g.color.copy(v.color);for(b=0,w=A.length;b<w;b++)y=A[b],g.vertexColors.push(y.clone());g.materialIndex=v.materialIndex+n,s.push(g)}for(p=0,m=c.length;p<m;p++){var x=c[p],E=[];if(void 0!==x){for(b=0,w=x.length;b<w;b++)E.push(x[b].clone());l.push(E)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,a,o,s,u={},l=[],c=[],d=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],void 0===u[t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d)]?(u[t]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[u[t]];var h=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=c[r.a],r.b=c[r.b],r.c=c[r.c],a=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){h.push(n);break}}for(n=h.length-1;0<=n;n--){var m=h[n];for(this.faces.splice(m,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(m,1)}var f=this.vertices.length-l.length;return this.vertices=l,f},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new Ot(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(i=[]),o&&o.length===t&&(r=[]);for(n=0;n<t;n++){var s=e[n]._id;i&&i.push(a[s]),r&&r.push(o[s])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var i=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];i.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],c={},d=[],h={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],m=void 0!==this.faceVertexUvs[0][r],f=0<p.normal.length(),g=0<p.vertexNormals.length,_=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=0<p.vertexColors.length,v=0;if(v=w(v=w(v=w(v=w(v=w(v=w(v=w(v=w(v,0,0),1,!0),2,!1),3,m),4,f),5,g),6,_),7,y),o.push(v),o.push(p.a,p.b,p.c),o.push(p.materialIndex),m){var M=this.faceVertexUvs[0][r];o.push(L(M[0]),L(M[1]),L(M[2]))}if(f&&o.push(x(p.normal)),g){var A=p.vertexNormals;o.push(x(A[0]),x(A[1]),x(A[2]))}if(_&&o.push(E(p.color)),y){var b=p.vertexColors;o.push(E(b[0]),E(b[1]),E(b[2]))}}function w(e,t,n){return n?e|1<<t:e&~(1<<t)}function x(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function E(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function L(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=d.length/2,d.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=i,e.data.normals=s,0<l.length&&(e.data.colors=l),0<d.length&&(e.data.uvs=[d]),e.data.faces=o,e},clone:function(){return(new Wi).copy(this)},copy:function(e){var t,n,i,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=c.length;i<r;i++){var d=c[i],h=[];for(a=0,o=d.length;a<o;a++){var p=d[a];h.push(p.clone())}this.faceVertexUvs[t].push(h)}}var m=e.morphTargets;for(t=0,n=m.length;t<n;t++){var f={};if(f.name=m[t].name,void 0!==m[t].vertices)for(f.vertices=[],i=0,r=m[t].vertices.length;i<r;i++)f.vertices.push(m[t].vertices[i].clone());if(void 0!==m[t].normals)for(f.normals=[],i=0,r=m[t].normals.length;i<r;i++)f.normals.push(m[t].normals[i].clone());this.morphTargets.push(f)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var _={};if(void 0!==g[t].vertexNormals)for(_.vertexNormals=[],i=0,r=g[t].vertexNormals.length;i<r;i++){var y=g[t].vertexNormals[i],v={};v.a=y.a.clone(),v.b=y.b.clone(),v.c=y.c.clone(),_.vertexNormals.push(v)}if(void 0!==g[t].faceNormals)for(_.faceNormals=[],i=0,r=g[t].faceNormals.length;i<r;i++)_.faceNormals.push(g[t].faceNormals[i].clone());this.morphNormals.push(_)}var M=e.skinWeights;for(t=0,n=M.length;t<n;t++)this.skinWeights.push(M[t].clone());var A=e.skinIndices;for(t=0,n=A.length;t<n;t++)this.skinIndices.push(A[t].clone());var b=e.lineDistances;for(t=0,n=b.length;t<n;t++)this.lineDistances.push(b[t]);var w=e.boundingBox;null!==w&&(this.boundingBox=w.clone());var x=e.boundingSphere;return null!==x&&(this.boundingSphere=x.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Qi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Qi.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new In),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];t[n++]=a.a,t[n++]=a.b,t[n++]=a.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new kt),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new Ot),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new Ut),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(qi.prototype=Object.create(Qi.prototype)).constructor=qi,(Zi.prototype=Object.create(Qi.prototype)).constructor=Zi,(Xi.prototype=Object.create(Qi.prototype)).constructor=Xi,(Ji.prototype=Object.create(Qi.prototype)).constructor=Ji,(Ki.prototype=Object.create(Qi.prototype)).constructor=Ki,($i.prototype=Object.create(Qi.prototype)).constructor=$i,(er.prototype=Object.create(Qi.prototype)).constructor=er,(tr.prototype=Object.create(Qi.prototype)).constructor=tr,(nr.prototype=Object.create(Qi.prototype)).constructor=nr,Object.assign(ir.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:i})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,r=e.faceVertexUvs,a=r[0]&&0<r[0].length,o=r[1]&&0<r[1].length,s=e.morphTargets,u=s.length;if(0<u){t=[];for(var l=0;l<u;l++)t[l]=[];this.morphTargets.position=t}var c,d=e.morphNormals,h=d.length;if(0<h){c=[];for(l=0;l<h;l++)c[l]=[];this.morphTargets.normal=c}var p=e.skinIndices,m=e.skinWeights,f=p.length===i.length,g=m.length===i.length;for(l=0;l<n.length;l++){var _=n[l];this.vertices.push(i[_.a],i[_.b],i[_.c]);var y=_.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var v=_.normal;this.normals.push(v,v,v)}var M,A=_.vertexColors;if(3===A.length)this.colors.push(A[0],A[1],A[2]);else{var b=_.color;this.colors.push(b,b,b)}if(!0===a)void 0!==(M=r[0][l])?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new kt,new kt,new kt));if(!0===o)void 0!==(M=r[1][l])?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new kt,new kt,new kt));for(var w=0;w<u;w++){var x=s[w].vertices;t[w].push(x[_.a],x[_.b],x[_.c])}for(w=0;w<h;w++){var E=d[w].vertexNormals[l];c[w].push(E.a,E.b,E.c)}f&&this.skinIndices.push(p[_.a],p[_.b],p[_.c]),g&&this.skinWeights.push(m[_.a],m[_.b],m[_.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var ar,or,sr,ur,lr,cr,dr,hr,pr,mr,fr,gr,_r,yr,vr,Mr,Ar,br,wr,xr,Er,Lr,Tr,Dr,Sr,Cr,Nr,kr,Ir,jr,Or,zr,Rr,Pr=1;function Yr(){Object.defineProperty(this,"id",{value:Pr+=2}),this.uuid=Nt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Br(e,t,n,i,r,a){Wi.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Ur(e,t,n,i,r,a)),this.mergeVertices()}function Ur(e,t,n,i,r,a){Yr.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};var S=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var C=[],N=[],k=[],I=[],j=0,O=0;function o(e,t,n,i,r,a,o,s,u,l,c){var d,h,p=a/u,m=o/l,f=a/2,g=o/2,_=s/2,y=u+1,v=l+1,M=0,A=0,b=new Ot;for(h=0;h<v;h++){var w=h*m-g;for(d=0;d<y;d++){var x=d*p-f;b[e]=x*i,b[t]=w*r,b[n]=_,N.push(b.x,b.y,b.z),b[e]=0,b[t]=0,b[n]=0<s?1:-1,k.push(b.x,b.y,b.z),I.push(d/u),I.push(1-h/l),M+=1}}for(h=0;h<l;h++)for(d=0;d<u;d++){var E=j+d+y*h,L=j+d+y*(h+1),T=j+(d+1)+y*(h+1),D=j+(d+1)+y*h;C.push(E,L,D),C.push(L,T,D),A+=6}S.addGroup(O,A,c),O+=A,j+=M}o("z","y","x",-1,-1,n,t,e,a,r,0),o("z","y","x",1,-1,n,t,-e,a,r,1),o("x","z","y",1,1,e,n,t,i,a,2),o("x","z","y",1,-1,e,n,-t,i,a,3),o("x","y","z",1,-1,e,t,n,i,r,4),o("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(C),this.addAttribute("position",new tr(N,3)),this.addAttribute("normal",new tr(k,3)),this.addAttribute("uv",new tr(I,2))}function Hr(e,t,n,i){Wi.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Fr(e,t,n,i)),this.mergeVertices()}function Fr(e,t,n,i){Yr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,a,o=(e=e||1)/2,s=(t=t||1)/2,u=Math.floor(n)||1,l=Math.floor(i)||1,c=u+1,d=l+1,h=e/u,p=t/l,m=[],f=[],g=[],_=[];for(a=0;a<d;a++){var y=a*p-s;for(r=0;r<c;r++){var v=r*h-o;f.push(v,-y,0),g.push(0,0,1),_.push(r/u),_.push(1-a/l)}}for(a=0;a<l;a++)for(r=0;r<u;r++){var M=r+c*a,A=r+c*(a+1),b=r+1+c*(a+1),w=r+1+c*a;m.push(M,A,w),m.push(A,b,w)}this.setIndex(m),this.addAttribute("position",new tr(f,3)),this.addAttribute("normal",new tr(g,3)),this.addAttribute("uv",new tr(_,2))}function Gr(e){ri.call(this),this.type="MeshBasicMaterial",this.color=new In(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=H,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Vr(e){ri.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Wr(e,t){this.origin=void 0!==e?e:new Ot,this.direction=void 0!==t?t:new Ot}function Qr(e,t){this.start=void 0!==e?e:new Ot,this.end=void 0!==t?t:new Ot}function qr(e,t,n){this.a=void 0!==e?e:new Ot,this.b=void 0!==t?t:new Ot,this.c=void 0!==n?n:new Ot}function Zr(e,t){Oi.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Yr,this.material=void 0!==t?t:new Gr({color:16777215*Math.random()}),this.drawMode=At,this.updateMorphTargets()}function Xr(a,n,o,i){var s,u,l,c=new In(0),d=0;function h(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return c},setClearColor:function(e,t){c.set(e),h(c,d=void 0!==t?t:1)},getClearAlpha:function(){return d},setClearAlpha:function(e){h(c,d=e)},render:function(e,t,n,i){var r=t.background;null===r?h(c,d):r&&r.isColor&&(h(r,1),i=!0),(a.autoClear||i)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),r&&r.isCubeTexture?(void 0===l&&((l=new Zr(new Ur(1,1,1),new Vr({uniforms:Rn.cube.uniforms,vertexShader:Rn.cube.vertexShader,fragmentShader:Rn.cube.fragmentShader,side:Z,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),l.geometry.removeAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},o.update(l.geometry)),l.material.uniforms.tCube.value=r,e.push(l,l.geometry,l.material,0,null)):r&&r.isTexture&&(void 0===s&&(s=new Ri(-1,1,1,-1,0,1),u=new Zr(new Fr(2,2),new Gr({depthTest:!1,depthWrite:!1,fog:!1})),o.update(u.geometry)),u.material.map=r,a.renderBufferDirect(s,null,u.geometry,u.material,u,null))}}}function Jr(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Kr(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function $r(){var o=[],s=0,u=[],l=[];return{opaque:u,transparent:l,init:function(){s=0,u.length=0,l.length=0},push:function(e,t,n,i,r){var a=o[s];void 0===a?(a={id:e.id,object:e,geometry:t,material:n,program:n.program,renderOrder:e.renderOrder,z:i,group:r},o[s]=a):(a.id=e.id,a.object=e,a.geometry=t,a.material=n,a.program=n.program,a.renderOrder=e.renderOrder,a.z=i,a.group=r),(!0===n.transparent?l:u).push(a),s++},sort:function(){1<u.length&&u.sort(Jr),1<l.length&&l.sort(Kr)}}}function ea(){var r={};return{get:function(e,t){var n=e.id+","+t.id,i=r[n];return void 0===i&&(i=new $r,r[n]=i),i},dispose:function(){r={}}}}function ta(e,t){return Math.abs(t[1])-Math.abs(e[1])}function na(p){var m={},f=new Float32Array(8);return{update:function(e,t,n,i){var r=e.morphTargetInfluences,a=r.length,o=m[t.id];if(void 0===o){o=[];for(var s=0;s<a;s++)o[s]=[s,0];m[t.id]=o}var u=n.morphTargets&&t.morphAttributes.position,l=n.morphNormals&&t.morphAttributes.normal;for(s=0;s<a;s++)0!==(c=o[s])[1]&&(u&&t.removeAttribute("morphTarget"+s),l&&t.removeAttribute("morphNormal"+s));for(s=0;s<a;s++)(c=o[s])[0]=s,c[1]=r[s];for(o.sort(ta),s=0;s<8;s++){var c;if(c=o[s]){var d=c[0],h=c[1];if(h){u&&t.addAttribute("morphTarget"+s,u[d]),l&&t.addAttribute("morphNormal"+s,l[d]),f[s]=h;continue}}f[s]=0}i.getUniforms().setValue(p,"morphTargetInfluences",f)}}}function ia(r,a,o){var s,u,l;this.setMode=function(e){s=e},this.setIndex=function(e){u=e.type,l=e.bytesPerElement},this.render=function(e,t){r.drawElements(s,t,u,e*l),o.calls++,o.vertices+=t,s===r.TRIANGLES?o.faces+=t/3:s===r.POINTS&&(o.points+=t)},this.renderInstances=function(e,t,n){var i=a.get("ANGLE_instanced_arrays");null!==i?(i.drawElementsInstancedANGLE(s,n,u,t*l,e.maxInstancedCount),o.calls++,o.vertices+=n*e.maxInstancedCount,s===r.TRIANGLES?o.faces+=e.maxInstancedCount*n/3:s===r.POINTS&&(o.points+=e.maxInstancedCount*n)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function ra(a,o,s){var u;this.setMode=function(e){u=e},this.render=function(e,t){a.drawArrays(u,e,t),s.calls++,s.vertices+=t,u===a.TRIANGLES?s.faces+=t/3:u===a.POINTS&&(s.points+=t)},this.renderInstances=function(e,t,n){var i=o.get("ANGLE_instanced_arrays");if(null!==i){var r=e.attributes.position;r.isInterleavedBufferAttribute?(n=r.data.count,i.drawArraysInstancedANGLE(u,0,n,e.maxInstancedCount)):i.drawArraysInstancedANGLE(u,t,n,e.maxInstancedCount),s.calls++,s.vertices+=n*e.maxInstancedCount,u===a.TRIANGLES?s.faces+=e.maxInstancedCount*n/3:u===a.POINTS&&(s.points+=e.maxInstancedCount*n)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function aa(d,h,a){var o={},p={};function s(e){var t=e.target,n=o[t.id];for(var i in null!==n.index&&h.remove(n.index),n.attributes)h.remove(n.attributes[i]);t.removeEventListener("dispose",s),delete o[t.id];var r=p[t.id];r&&(h.remove(r),delete p[t.id]),(r=p[n.id])&&(h.remove(r),delete p[n.id]),a.geometries--}return{get:function(e,t){var n=o[t.id];return n||(t.addEventListener("dispose",s),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Yr).setFromObject(e)),n=t._bufferGeometry),o[t.id]=n,a.geometries++,n)},update:function(e){var t=e.index,n=e.attributes;for(var i in null!==t&&h.update(t,d.ELEMENT_ARRAY_BUFFER),n)h.update(n[i],d.ARRAY_BUFFER);var r=e.morphAttributes;for(var i in r)for(var a=r[i],o=0,s=a.length;o<s;o++)h.update(a[o],d.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=p[e.id];if(t)return t;var n,i=[],r=e.index,a=e.attributes;if(null!==r)for(var o=0,s=(n=r.array).length;o<s;o+=3){var u=n[o+0],l=n[o+1],c=n[o+2];i.push(u,l,l,c,c,u)}else for(o=0,s=(n=a.position.array).length/3-1;o<s;o+=3)u=o+0,l=o+1,c=o+2,i.push(u,l,l,c,c,u);return t=new(65535<rr(i)?er:Ki)(i,1),h.update(t,d.ELEMENT_ARRAY_BUFFER),p[e.id]=t}}}function oa(r,a){var o={};return{update:function(e){var t=a.frame,n=e.geometry,i=r.get(e,n);return o[i.id]!==t&&(n.isGeometry&&i.updateFromObject(e),r.update(i),o[i.id]=t),i},dispose:function(){o={}}}}function sa(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),!1===e.getShaderParameter(i,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(i),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),i}Yr.prototype=Object.assign(Object.create(t.prototype),{constructor:Yr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<rr(e)?er:Ki)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new Qi(t,arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new zt).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:(pr=new It,function(e){return pr.makeRotationX(e),this.applyMatrix(pr),this}),rotateY:(hr=new It,function(e){return hr.makeRotationY(e),this.applyMatrix(hr),this}),rotateZ:(dr=new It,function(e){return dr.makeRotationZ(e),this.applyMatrix(dr),this}),translate:(cr=new It,function(e,t,n){return cr.makeTranslation(e,t,n),this.applyMatrix(cr),this}),scale:(lr=new It,function(e,t,n){return lr.makeScale(e,t,n),this.applyMatrix(lr),this}),lookAt:(ur=new Oi,function(e){ur.lookAt(e),ur.updateMatrix(),this.applyMatrix(ur.matrix)}),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new tr(3*t.vertices.length,3),i=new tr(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new tr(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new tr(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ir).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Qi(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Qi(n,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var i=new Float32Array(3*e.colors.length);this.addAttribute("color",new Qi(i,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Qi(r,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Qi(a,2).copyVector2sArray(e.uvs2))}if(0<e.indices.length){var o=new(65535<rr(e.indices)?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new Qi(o,1).copyIndicesArray(e.indices))}for(var s in this.groups=e.groups,e.morphTargets){for(var u=[],l=e.morphTargets[s],c=0,d=l.length;c<d;c++){var h=l[c],p=new tr(3*h.length,3);u.push(p.copyVector3sArray(h))}this.morphAttributes[s]=u}if(0<e.skinIndices.length){var m=new tr(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var f=new tr(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new si);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:(or=new si,sr=new Ot,function(){null===this.boundingSphere&&(this.boundingSphere=new ui);var e=this.attributes.position;if(e){var t=this.boundingSphere.center;or.setFromBufferAttribute(e),or.getCenter(t);for(var n=0,i=0,r=e.count;i<r;i++)sr.x=e.getX(i),sr.y=e.getY(i),sr.z=e.getZ(i),n=Math.max(n,t.distanceToSquared(sr));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var i=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Qi(new Float32Array(i.length),3));else for(var r=t.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,u,l,c=t.normal.array,d=new Ot,h=new Ot,p=new Ot,m=new Ot,f=new Ot;if(e){var g=e.array;0===n.length&&this.addGroup(0,g.length);for(var _=0,y=n.length;_<y;++_){var v=n[_],M=v.start;for(a=M,o=M+v.count;a<o;a+=3)s=3*g[a+0],u=3*g[a+1],l=3*g[a+2],d.fromArray(i,s),h.fromArray(i,u),p.fromArray(i,l),m.subVectors(p,h),f.subVectors(d,h),m.cross(f),c[s]+=m.x,c[s+1]+=m.y,c[s+2]+=m.z,c[u]+=m.x,c[u+1]+=m.y,c[u+2]+=m.z,c[l]+=m.x,c[l+1]+=m.y,c[l+2]+=m.z}}else for(a=0,o=i.length;a<o;a+=9)d.fromArray(i,a),h.fromArray(i,a+3),p.fromArray(i,a+6),m.subVectors(p,h),f.subVectors(d,h),m.cross(f),c[a]=m.x,c[a+1]=m.y,c[a+2]=m.z,c[a+3]=m.x,c[a+4]=m.y,c[a+5]=m.z,c[a+6]=m.x,c[a+7]=m.y,c[a+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,a=e.attributes[i],o=a.array,s=0,u=a.itemSize*t;s<o.length;s++,u++)r[u]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:(ar=new Ot,function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)ar.x=e.getX(t),ar.y=e.getY(t),ar.z=e.getZ(t),ar.normalize(),e.setXYZ(t,ar.x,ar.y,ar.z)}),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Yr,t=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],a=r.array,o=r.itemSize,s=new a.constructor(t.length*o),u=0,l=0,c=0,d=t.length;c<d;c++){u=t[c]*o;for(var h=0;h<o;h++)s[l++]=a[u++]}e.addAttribute(i,new Qi(s,o))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);e.data.index={type:i.array.constructor.name,array:r}}var a=this.attributes;for(var n in a){var o=a[n];r=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new Yr).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var u=[],l=s[t];for(n=0,i=l.length;n<i;n++)u.push(l[n].clone());this.morphAttributes[t]=u}var c=e.groups;for(n=0,i=c.length;n<i;n++){var d=c[n];this.addGroup(d.start,d.count,d.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Br.prototype=Object.create(Wi.prototype)).constructor=Br,(Ur.prototype=Object.create(Yr.prototype)).constructor=Ur,(Hr.prototype=Object.create(Wi.prototype)).constructor=Hr,(Fr.prototype=Object.create(Yr.prototype)).constructor=Fr,((Gr.prototype=Object.create(ri.prototype)).constructor=Gr).prototype.isMeshBasicMaterial=!0,Gr.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},((Vr.prototype=Object.create(ri.prototype)).constructor=Vr).prototype.isShaderMaterial=!0,Vr.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=On.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Vr.prototype.toJSON=function(e){var t=ri.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Wr.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new Ot).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:(xr=new Ot,function(e){return this.origin.copy(this.at(e,xr)),this}),closestPointToPoint:function(e,t){var n=t||new Ot;n.subVectors(e,this.origin);var i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:(wr=new Ot,function(e){var t=wr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wr.copy(this.direction).multiplyScalar(t).add(this.origin),wr.distanceToSquared(e))}),distanceSqToSegment:(Mr=new Ot,Ar=new Ot,br=new Ot,function(e,t,n,i){Mr.copy(e).add(t).multiplyScalar(.5),Ar.copy(t).sub(e).normalize(),br.copy(this.origin).sub(Mr);var r,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(Ar),c=br.dot(this.direction),d=-br.dot(Ar),h=br.lengthSq(),p=Math.abs(1-l*l);if(0<p)if(a=l*c-d,s=u*p,0<=(r=l*d-c))if(-s<=a)if(a<=s){var m=1/p;o=(r*=m)*(r+l*(a*=m)+2*c)+a*(l*r+a+2*d)+h}else a=u,o=-(r=Math.max(0,-(l*a+c)))*r+a*(a+2*d)+h;else a=-u,o=-(r=Math.max(0,-(l*a+c)))*r+a*(a+2*d)+h;else a<=-s?o=-(r=Math.max(0,-(-l*u+c)))*r+(a=0<r?-u:Math.min(Math.max(-u,-d),u))*(a+2*d)+h:a<=s?(r=0,o=(a=Math.min(Math.max(-u,-d),u))*(a+2*d)+h):o=-(r=Math.max(0,-(l*u+c)))*r+(a=0<r?u:Math.min(Math.max(-u,-d),u))*(a+2*d)+h;else a=0<l?-u:u,o=-(r=Math.max(0,-(l*a+c)))*r+a*(a+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Ar).multiplyScalar(a).add(Mr),o}),intersectSphere:(vr=new Ot,function(e,t){vr.subVectors(e.center,this.origin);var n=vr.dot(this.direction),i=vr.dot(vr)-n*n,r=e.radius*e.radius;if(r<i)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=n?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,d=this.origin;return 0<=u?(n=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(n=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),0<=l?(r=(e.min.y-d.y)*l,a=(e.max.y-d.y)*l):(r=(e.max.y-d.y)*l,a=(e.min.y-d.y)*l),a<n||i<r?null:((n<r||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),0<=c?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),s<n||i<o?null:((n<o||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0?null:this.at(0<=n?n:i,t)))},intersectsBox:(yr=new Ot,function(e){return null!==this.intersectBox(e,yr)}),intersectTriangle:(mr=new Ot,fr=new Ot,gr=new Ot,_r=new Ot,function(e,t,n,i,r){fr.subVectors(t,e),gr.subVectors(n,e),_r.crossVectors(fr,gr);var a,o=this.direction.dot(_r);if(0<o){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}mr.subVectors(this.origin,e);var s=a*this.direction.dot(gr.crossVectors(mr,gr));if(s<0)return null;var u=a*this.direction.dot(fr.cross(mr));if(u<0)return null;if(o<s+u)return null;var l=-a*mr.dot(_r);return l<0?null:this.at(l/o,r)}),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Qr.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new Ot).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new Ot).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new Ot;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(Er=new Ot,Lr=new Ot,function(e,t){Er.subVectors(e,this.start),Lr.subVectors(this.end,this.start);var n=Lr.dot(Lr),i=Lr.dot(Er)/n;return t&&(i=Nt.clamp(i,0,1)),i}),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t),r=n||new Ot;return this.delta(r).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(qr,{normal:(Nr=new Ot,function(e,t,n,i){var r=i||new Ot;r.subVectors(n,t),Nr.subVectors(e,t),r.cross(Nr);var a=r.lengthSq();return 0<a?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}),barycoordFromPoint:(Dr=new Ot,Sr=new Ot,Cr=new Ot,function(e,t,n,i,r){Dr.subVectors(i,t),Sr.subVectors(n,t),Cr.subVectors(e,t);var a=Dr.dot(Dr),o=Dr.dot(Sr),s=Dr.dot(Cr),u=Sr.dot(Sr),l=Sr.dot(Cr),c=a*u-o*o,d=r||new Ot;if(0===c)return d.set(-2,-1,-1);var h=1/c,p=(u*s-o*l)*h,m=(a*l-o*s)*h;return d.set(1-p-m,m,p)}),containsPoint:(Tr=new Ot,function(e,t,n,i){var r=qr.barycoordFromPoint(e,t,n,i,Tr);return 0<=r.x&&0<=r.y&&r.x+r.y<=1})}),Object.assign(qr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:(zr=new Ot,Rr=new Ot,function(){return zr.subVectors(this.c,this.b),Rr.subVectors(this.a,this.b),.5*zr.cross(Rr).length()}),midpoint:function(e){return(e||new Ot).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return qr.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new li).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return qr.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return qr.containsPoint(e,this.a,this.b,this.c)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(kr=new li,Ir=[new Qr,new Qr,new Qr],jr=new Ot,Or=new Ot,function(e,t){var n=t||new Ot,i=1/0;if(kr.setFromCoplanarPoints(this.a,this.b,this.c),kr.projectPoint(e,jr),!0===this.containsPoint(jr))n.copy(jr);else{Ir[0].set(this.a,this.b),Ir[1].set(this.b,this.c),Ir[2].set(this.c,this.a);for(var r=0;r<Ir.length;r++){Ir[r].closestPointToPoint(jr,!0,Or);var a=jr.distanceToSquared(Or);a<i&&(i=a,n.copy(Or))}}return n}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Zr.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Zr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Oi.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(0<a.length){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=i.morphTargets;if(void 0!==s&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}},raycast:function(){var I=new It,j=new Wr,O=new ui,z=new Ot,R=new Ot,P=new Ot,Y=new Ot,B=new Ot,U=new Ot,H=new kt,F=new kt,G=new kt,s=new Ot,V=new Ot,l=new Ot;function W(e,t,n,i,r,a,o){return qr.barycoordFromPoint(e,t,n,i,s),r.multiplyScalar(s.x),a.multiplyScalar(s.y),o.multiplyScalar(s.z),r.add(a).add(o),r.clone()}function Q(e,t,n,i,r,a,o,s){if(null===(t.side===Z?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,t.side!==X,s)))return null;l.copy(s),l.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(l);return u<n.near||u>n.far?null:{distance:u,point:l.clone(),object:e}}function q(e,t,n,i,r,a,o,s){z.fromBufferAttribute(i,a),R.fromBufferAttribute(i,o),P.fromBufferAttribute(i,s);var u=Q(e,e.material,t,n,z,R,P,V);return u&&(r&&(H.fromBufferAttribute(r,a),F.fromBufferAttribute(r,o),G.fromBufferAttribute(r,s),u.uv=W(V,z,R,P,H,F,G)),u.face=new Pi(a,o,s,qr.normal(z,R,P)),u.faceIndex=a),u}return function(e,t){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),O.copy(i.boundingSphere),O.applyMatrix4(a),!1!==e.ray.intersectsSphere(O)&&(I.getInverse(a),j.copy(e.ray).applyMatrix4(I),null===i.boundingBox||!1!==j.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var o,s,u,l,c,d=i.index,h=i.attributes.position,p=i.attributes.uv;if(null!==d)for(l=0,c=d.count;l<c;l+=3)o=d.getX(l),s=d.getX(l+1),u=d.getX(l+2),(n=q(this,e,j,h,p,o,s,u))&&(n.faceIndex=Math.floor(l/3),t.push(n));else if(void 0!==h)for(l=0,c=h.count;l<c;l+=3)(n=q(this,e,j,h,p,o=l,s=l+1,u=l+2))&&(n.index=o,t.push(n))}else if(i.isGeometry){var m,f,g,_,y=Array.isArray(r),v=i.vertices,M=i.faces,A=i.faceVertexUvs[0];0<A.length&&(_=A);for(var b=0,w=M.length;b<w;b++){var x=M[b],E=y?r[x.materialIndex]:r;if(void 0!==E){if(m=v[x.a],f=v[x.b],g=v[x.c],!0===E.morphTargets){var L=i.morphTargets,T=this.morphTargetInfluences;z.set(0,0,0),R.set(0,0,0),P.set(0,0,0);for(var D=0,S=L.length;D<S;D++){var C=T[D];if(0!==C){var N=L[D].vertices;z.addScaledVector(Y.subVectors(N[x.a],m),C),R.addScaledVector(B.subVectors(N[x.b],f),C),P.addScaledVector(U.subVectors(N[x.c],g),C)}}z.add(m),R.add(f),P.add(g),m=z,f=R,g=P}if(n=Q(this,E,e,j,m,f,g,V)){if(_&&_[b]){var k=_[b];H.copy(k[0]),F.copy(k[1]),G.copy(k[2]),n.uv=W(V,m,f,g,H,F,G)}n.face=x,n.faceIndex=b,t.push(n)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ua=0;function la(e){switch(e){case bt:return["Linear","( value )"];case wt:return["sRGB","( value )"];case Et:return["RGBE","( value )"];case Lt:return["RGBM","( value, 7.0 )"];case Tt:return["RGBM","( value, 16.0 )"];case Dt:return["RGBD","( value, 256.0 )"];case xt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function ca(e,t){var n=la(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function da(e){return""!==e}function ha(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function pa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function ma(e){return e.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(e,t){var n=zn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ma(n)})}function fa(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(var r="",a=parseInt(t);a<parseInt(n);a++)r+=i.replace(/\[ i \]/g,"[ "+a+" ]");return r})}function ga(e,t,n,i,r,a){var o=e.context,s=i.defines,u=r.vertexShader,l=r.fragmentShader,c="SHADOWMAP_TYPE_BASIC";a.shadowMapType===R?c="SHADOWMAP_TYPE_PCF":a.shadowMapType===P&&(c="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(i.envMap.mapping){case me:case fe:d="ENVMAP_TYPE_CUBE";break;case ve:case Me:d="ENVMAP_TYPE_CUBE_UV";break;case ge:case _e:d="ENVMAP_TYPE_EQUIREC";break;case ye:d="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case fe:case _e:h="ENVMAP_MODE_REFRACTION"}switch(i.combine){case H:p="ENVMAP_BLENDING_MULTIPLY";break;case ue:p="ENVMAP_BLENDING_MIX";break;case le:p="ENVMAP_BLENDING_ADD"}}var m,f,g,_,y,v,M,A,b=0<e.gammaFactor?e.gammaFactor:1,w=(m=i.extensions,f=a,g=t,[(m=m||{}).derivatives||f.envMapCubeUV||f.bumpMap||f.normalMap||f.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(m.fragDepth||f.logarithmicDepthBuffer)&&g.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",m.drawBuffers&&g.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(m.shaderTextureLOD||f.envMap)&&g.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(da).join("\n")),x=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(s),E=o.createProgram();i.isRawShaderMaterial?(0<(_=[x].filter(da).join("\n")).length&&(_+="\n"),0<(y=[w,x].filter(da).join("\n")).length&&(y+="\n")):(_=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,x,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+b,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(da).join("\n"),y=[w,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,x,a.alphaTest?"#define ALPHATEST "+a.alphaTest:"","#define GAMMA_FACTOR "+b,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+h:"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==ce?"#define TONE_MAPPING":"",a.toneMapping!==ce?zn.tonemapping_pars_fragment:"",a.toneMapping!==ce?function(e,t){var n;switch(t){case Te:n="Linear";break;case de:n="Reinhard";break;case he:n="Uncharted2";break;case pe:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?zn.encodings_pars_fragment:"",a.mapEncoding?ca("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?ca("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?ca("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(v="linearToOutputTexel",M=a.outputEncoding,A=la(M),"vec4 "+v+"( vec4 value ) { return LinearTo"+A[0]+A[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(da).join("\n")),u=pa(u=ha(u=ma(u),a),a),l=pa(l=ha(l=ma(l),a),a);var L=_+(u=fa(u)),T=y+(l=fa(l)),D=sa(o,o.VERTEX_SHADER,L),S=sa(o,o.FRAGMENT_SHADER,T);o.attachShader(E,D),o.attachShader(E,S),void 0!==i.index0AttributeName?o.bindAttribLocation(E,0,i.index0AttributeName):!0===a.morphTargets&&o.bindAttribLocation(E,0,"position"),o.linkProgram(E);var C,N,k=o.getProgramInfoLog(E).trim(),I=o.getShaderInfoLog(D).trim(),j=o.getShaderInfoLog(S).trim(),O=!0,z=!0;return!1===o.getProgramParameter(E,o.LINK_STATUS)?(O=!1,console.error("THREE.WebGLProgram: shader error: ",o.getError(),"gl.VALIDATE_STATUS",o.getProgramParameter(E,o.VALIDATE_STATUS),"gl.getProgramInfoLog",k,I,j)):""!==k?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",k):""!==I&&""!==j||(z=!1),z&&(this.diagnostics={runnable:O,material:i,programLog:k,vertexShader:{log:I,prefix:_},fragmentShader:{log:j,prefix:y}}),o.deleteShader(D),o.deleteShader(S),this.getUniforms=function(){return void 0===C&&(C=new Nn(o,E,e)),C},this.getAttributes=function(){return void 0===N&&(N=function(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var a=e.getActiveAttrib(t,r).name;n[a]=e.getAttribLocation(t,a)}return n}(o,E)),N},this.destroy=function(){o.deleteProgram(E),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=ua++,this.code=n,this.usedTimes=1,this.program=E,this.vertexShader=D,this.fragmentShader=S,this}function _a(d,u,h){var l=[],p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function m(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=bt,n===bt&&t&&(n=xt),n}this.getParameters=function(e,t,n,i,r,a,o){var s=p[e.type],u=o.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(h.floatVertexTextures)return 1024;var n=h.maxVertexUniforms,i=Math.floor((n-20)/4),r=Math.min(i,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}(o):0,l=h.precision;null!==e.precision&&(l=h.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",l,"instead.");var c=d.getRenderTarget();return{shaderID:s,precision:l,supportsVertexTextures:h.vertexTextures,outputEncoding:m(c?c.texture:null,d.gammaOutput),map:!!e.map,mapEncoding:m(e.map,d.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:m(e.envMap,d.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===ve||e.envMap.mapping===Me),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:m(e.emissiveMap,d.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!i,useFog:e.fog,fogExp:i&&i.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:h.logarithmicDepthBuffer,skinning:e.skinning&&0<u,maxBones:u,useVertexTexture:h.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:d.maxMorphTargets,maxMorphNormals:d.maxMorphNormals,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numClippingPlanes:r,numClipIntersection:a,dithering:e.dithering,shadowMapEnabled:d.shadowMap.enabled&&o.receiveShadow&&0<n.length,shadowMapType:d.shadowMap.type,toneMapping:d.toneMapping,physicallyCorrectLights:d.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===X,flipSided:e.side===Z,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);for(var r=0;r<a.length;r++)n.push(t[a[r]]);return n.push(e.onBeforeCompile.toString()),n.push(d.gammaOutput),n.join()},this.acquireProgram=function(e,t,n,i){for(var r,a=0,o=l.length;a<o;a++){var s=l[a];if(s.code===i){++(r=s).usedTimes;break}}return void 0===r&&(r=new ga(d,u,i,e,t,n),l.push(r)),r},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},this.programs=l}function ya(m,r,f,g,_,y,v,s){var M,A="undefined"!=typeof WebGL2RenderingContext&&m instanceof WebGL2RenderingContext,u={};function b(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return i.width=Math.floor(e.width*n),i.height=Math.floor(e.height*n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+i.width+"x"+i.height,e),i}return e}function w(e){return Nt.isPowerOfTwo(e.width)&&Nt.isPowerOfTwo(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==xe&&e.minFilter!==Se}function a(e){return e===xe||e===Ee||e===De?m.NEAREST:m.LINEAR}function E(e){var t=e.target;t.removeEventListener("dispose",E),function(e){var t=g.get(e);if(e.image&&t.__image__webglTextureCube)m.deleteTexture(t.__image__webglTextureCube);else{if(void 0===t.__webglInit)return;m.deleteTexture(t.__webglTexture)}g.remove(e)}(t),t.isVideoTexture&&delete u[t.id],v.textures--}function o(e){var t=e.target;t.removeEventListener("dispose",o),function(e){var t=g.get(e),n=g.get(e.texture);if(!e)return;void 0!==n.__webglTexture&&m.deleteTexture(n.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLRenderTargetCube)for(var i=0;i<6;i++)m.deleteFramebuffer(t.__webglFramebuffer[i]),t.__webglDepthbuffer&&m.deleteRenderbuffer(t.__webglDepthbuffer[i]);else m.deleteFramebuffer(t.__webglFramebuffer),t.__webglDepthbuffer&&m.deleteRenderbuffer(t.__webglDepthbuffer);g.remove(e.texture),g.remove(e)}(t),v.textures--}function l(e,t){var n,i,r,a=g.get(e);if(e.isVideoTexture&&(i=(n=e).id,r=s.frame,u[i]!==r&&(u[i]=r,n.update())),0<e.version&&a.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==o.complete)return void function(e,t,n){void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",E),e.__webglTexture=m.createTexture(),v.textures++);f.activeTexture(m.TEXTURE0+n),f.bindTexture(m.TEXTURE_2D,e.__webglTexture),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,t.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,t.unpackAlignment);var i=b(t.image,_.maxTextureSize);a=t,(a.wrapS!==be||a.wrapT!==be||a.minFilter!==xe&&a.minFilter!==Se)&&!1===w(i)&&(i=(r=i)instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof ImageBitmap?(void 0===M&&(M=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),M.width=Nt.floorPowerOfTwo(r.width),M.height=Nt.floorPowerOfTwo(r.height),M.getContext("2d").drawImage(r,0,0,M.width,M.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+r.width+"x"+r.height+"). Resized to "+M.width+"x"+M.height,r),M):r);var r;var a;var o=w(i),s=y.convert(t.format),u=y.convert(t.type);L(m.TEXTURE_2D,t,o);var l,c=t.mipmaps;if(t.isDepthTexture){var d=m.DEPTH_COMPONENT;if(t.type===Pe){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");d=m.DEPTH_COMPONENT32F}else A&&(d=m.DEPTH_COMPONENT16);t.format===Xe&&d===m.DEPTH_COMPONENT&&t.type!==Oe&&t.type!==Re&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),t.type=Oe,u=y.convert(t.type)),t.format===Je&&(d=m.DEPTH_STENCIL,t.type!==Fe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),t.type=Fe,u=y.convert(t.type))),f.texImage2D(m.TEXTURE_2D,0,d,i.width,i.height,0,s,u,null)}else if(t.isDataTexture)if(0<c.length&&o){for(var h=0,p=c.length;h<p;h++)l=c[h],f.texImage2D(m.TEXTURE_2D,h,s,l.width,l.height,0,s,u,l.data);t.generateMipmaps=!1}else f.texImage2D(m.TEXTURE_2D,0,s,i.width,i.height,0,s,u,i.data);else if(t.isCompressedTexture)for(var h=0,p=c.length;h<p;h++)l=c[h],t.format!==We&&t.format!==Ve?-1<f.getCompressedTextureFormats().indexOf(s)?f.compressedTexImage2D(m.TEXTURE_2D,h,s,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):f.texImage2D(m.TEXTURE_2D,h,s,l.width,l.height,0,s,u,l.data);else if(0<c.length&&o){for(var h=0,p=c.length;h<p;h++)l=c[h],f.texImage2D(m.TEXTURE_2D,h,s,s,u,l);t.generateMipmaps=!1}else f.texImage2D(m.TEXTURE_2D,0,s,s,u,i);x(t,o)&&m.generateMipmap(m.TEXTURE_2D);e.__version=t.version,t.onUpdate&&t.onUpdate(t)}(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_2D,a.__webglTexture)}function L(e,t,n){var i;if(n?(m.texParameteri(e,m.TEXTURE_WRAP_S,y.convert(t.wrapS)),m.texParameteri(e,m.TEXTURE_WRAP_T,y.convert(t.wrapT)),m.texParameteri(e,m.TEXTURE_MAG_FILTER,y.convert(t.magFilter)),m.texParameteri(e,m.TEXTURE_MIN_FILTER,y.convert(t.minFilter))):(m.texParameteri(e,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(e,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),t.wrapS===be&&t.wrapT===be||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",t),m.texParameteri(e,m.TEXTURE_MAG_FILTER,a(t.magFilter)),m.texParameteri(e,m.TEXTURE_MIN_FILTER,a(t.minFilter)),t.minFilter!==xe&&t.minFilter!==Se&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",t)),i=r.get("EXT_texture_filter_anisotropic")){if(t.type===Pe&&null===r.get("OES_texture_float_linear"))return;if(t.type===Ye&&null===r.get("OES_texture_half_float_linear"))return;(1<t.anisotropy||g.get(t).__currentAnisotropy)&&(m.texParameterf(e,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,_.getMaxAnisotropy())),g.get(t).__currentAnisotropy=t.anisotropy)}}function c(e,t,n,i){var r=y.convert(t.texture.format),a=y.convert(t.texture.type);f.texImage2D(i,0,r,t.width,t.height,0,r,a,null),m.bindFramebuffer(m.FRAMEBUFFER,e),m.framebufferTexture2D(m.FRAMEBUFFER,n,i,g.get(t.texture).__webglTexture,0),m.bindFramebuffer(m.FRAMEBUFFER,null)}function d(e,t){m.bindRenderbuffer(m.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,t.width,t.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,t.width,t.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,e)):m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,t.width,t.height),m.bindRenderbuffer(m.RENDERBUFFER,null)}function h(e){var t=g.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,t){if(t&&t.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(m.bindFramebuffer(m.FRAMEBUFFER,e),!t.depthTexture||!t.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");g.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),l(t.depthTexture,0);var n=g.get(t.depthTexture).__webglTexture;if(t.depthTexture.format===Xe)m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,n,0);else{if(t.depthTexture.format!==Je)throw new Error("Unknown depthTexture format");m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,n,0)}}(t.__webglFramebuffer,e)}else if(n){t.__webglDepthbuffer=[];for(var i=0;i<6;i++)m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer[i]),t.__webglDepthbuffer[i]=m.createRenderbuffer(),d(t.__webglDepthbuffer[i],e)}else m.bindFramebuffer(m.FRAMEBUFFER,t.__webglFramebuffer),t.__webglDepthbuffer=m.createRenderbuffer(),d(t.__webglDepthbuffer,e);m.bindFramebuffer(m.FRAMEBUFFER,null)}this.setTexture2D=l,this.setTextureCube=function(e,t){var n=g.get(e);if(6===e.image.length)if(0<e.version&&n.__version!==e.version){n.__image__webglTextureCube||(e.addEventListener("dispose",E),n.__image__webglTextureCube=m.createTexture(),v.textures++),f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var i=e&&e.isCompressedTexture,r=e.image[0]&&e.image[0].isDataTexture,a=[],o=0;o<6;o++)a[o]=i||r?r?e.image[o].image:e.image[o]:b(e.image[o],_.maxCubemapSize);var s=w(a[0]),u=y.convert(e.format),l=y.convert(e.type);for(L(m.TEXTURE_CUBE_MAP,e,s),o=0;o<6;o++)if(i)for(var c,d=a[o].mipmaps,h=0,p=d.length;h<p;h++)c=d[h],e.format!==We&&e.format!==Ve?-1<f.getCompressedTextureFormats().indexOf(u)?f.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,h,u,c.width,c.height,0,c.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):f.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,h,u,c.width,c.height,0,u,l,c.data);else r?f.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,a[o].width,a[o].height,0,u,l,a[o].data):f.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,u,l,a[o]);x(e,s)&&m.generateMipmap(m.TEXTURE_CUBE_MAP),n.__version=e.version,e.onUpdate&&e.onUpdate(e)}else f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){f.activeTexture(m.TEXTURE0+t),f.bindTexture(m.TEXTURE_CUBE_MAP,g.get(e).__webglTexture)},this.setupRenderTarget=function(e){var t=g.get(e),n=g.get(e.texture);e.addEventListener("dispose",o),n.__webglTexture=m.createTexture(),v.textures++;var i=!0===e.isWebGLRenderTargetCube,r=w(e);if(i){t.__webglFramebuffer=[];for(var a=0;a<6;a++)t.__webglFramebuffer[a]=m.createFramebuffer()}else t.__webglFramebuffer=m.createFramebuffer();if(i){for(f.bindTexture(m.TEXTURE_CUBE_MAP,n.__webglTexture),L(m.TEXTURE_CUBE_MAP,e.texture,r),a=0;a<6;a++)c(t.__webglFramebuffer[a],e,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+a);x(e.texture,r)&&m.generateMipmap(m.TEXTURE_CUBE_MAP),f.bindTexture(m.TEXTURE_CUBE_MAP,null)}else f.bindTexture(m.TEXTURE_2D,n.__webglTexture),L(m.TEXTURE_2D,e.texture,r),c(t.__webglFramebuffer,e,m.COLOR_ATTACHMENT0,m.TEXTURE_2D),x(e.texture,r)&&m.generateMipmap(m.TEXTURE_2D),f.bindTexture(m.TEXTURE_2D,null);e.depthBuffer&&h(e)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(x(t,w(e))){var n=e.isWebGLRenderTargetCube?m.TEXTURE_CUBE_MAP:m.TEXTURE_2D,i=g.get(t).__webglTexture;f.bindTexture(n,i),m.generateMipmap(n),f.bindTexture(n,null)}}}function va(){var r={};return{get:function(e){var t=e.uuid,n=r[t];return void 0===n&&(n={},r[t]=n),n},remove:function(e){delete r[e.uuid]},update:function(e,t,n){var i=e.uuid;r[i][t]=n},dispose:function(){r={}}}}function Ma(c,n,u){var i=new function(){var t=!1,a=new Ut,n=null,o=new Ut(0,0,0,0);return{setMask:function(e){n===e||t||(c.colorMask(e,e,e,e),n=e)},setLocked:function(e){t=e},setClear:function(e,t,n,i,r){!0===r&&(e*=i,t*=i,n*=i),a.set(e,t,n,i),!1===o.equals(a)&&(c.clearColor(e,t,n,i),o.copy(a))},reset:function(){t=!1,n=null,o.set(-1,0,0,0)}}},r=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){e?z(c.DEPTH_TEST):R(c.DEPTH_TEST)},setMask:function(e){n===e||t||(c.depthMask(e),n=e)},setFunc:function(e){if(i!==e){if(e)switch(e){case ee:c.depthFunc(c.NEVER);break;case te:c.depthFunc(c.ALWAYS);break;case ne:c.depthFunc(c.LESS);break;case ie:c.depthFunc(c.LEQUAL);break;case re:c.depthFunc(c.EQUAL);break;case ae:c.depthFunc(c.GEQUAL);break;case oe:c.depthFunc(c.GREATER);break;case se:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}else c.depthFunc(c.LEQUAL);i=e}},setLocked:function(e){t=e},setClear:function(e){r!==e&&(c.clearDepth(e),r=e)},reset:function(){t=!1,r=i=n=null}}},t=new function(){var t=!1,n=null,i=null,r=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){e?z(c.STENCIL_TEST):R(c.STENCIL_TEST)},setMask:function(e){n===e||t||(c.stencilMask(e),n=e)},setFunc:function(e,t,n){i===e&&r===t&&a===n||(c.stencilFunc(e,t,n),i=e,r=t,a=n)},setOp:function(e,t,n){o===e&&s===t&&u===n||(c.stencilOp(e,t,n),o=e,s=t,u=n)},setLocked:function(e){t=e},setClear:function(e){l!==e&&(c.clearStencil(e),l=e)},reset:function(){t=!1,l=u=s=o=a=r=i=n=null}}},e=c.getParameter(c.MAX_VERTEX_ATTRIBS),a=new Uint8Array(e),o=new Uint8Array(e),s=new Uint8Array(e),l={},d=null,h=null,p=null,m=null,f=null,g=null,_=null,y=null,v=null,M=!1,A=null,b=null,w=null,x=null,E=null,L=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS),T=!1,D=0,S=c.getParameter(c.VERSION);-1!==S.indexOf("WebGL")?(D=parseFloat(/^WebGL\ ([0-9])/.exec(S)[1]),T=1<=D):-1!==S.indexOf("OpenGL ES")&&(D=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(S)[1]),T=2<=D);var C=null,N={},k=new Ut,I=new Ut;function j(e,t,n){var i=new Uint8Array(4),r=c.createTexture();c.bindTexture(e,r),c.texParameteri(e,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(e,c.TEXTURE_MAG_FILTER,c.NEAREST);for(var a=0;a<n;a++)c.texImage2D(t+a,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,i);return r}var O={};function z(e){!0!==l[e]&&(c.enable(e),l[e]=!0)}function R(e){!1!==l[e]&&(c.disable(e),l[e]=!1)}function P(e,t,n,i,r,a,o,s){if(e!==W?z(c.BLEND):R(c.BLEND),e!==$){if(e!==p||s!==M)switch(e){case q:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.SRC_ALPHA,c.ONE));break;case J:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_COLOR));break;case K:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA)):(c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.SRC_COLOR));break;default:s?(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA)):(c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA))}v=y=_=g=f=m=null}else r=r||t,a=a||n,o=o||i,t===m&&r===_||(c.blendEquationSeparate(u.convert(t),u.convert(r)),m=t,_=r),n===f&&i===g&&a===y&&o===v||(c.blendFuncSeparate(u.convert(n),u.convert(i),u.convert(a),u.convert(o)),f=n,g=i,y=a,v=o);p=e,M=s}function Y(e){A!==e&&(e?c.frontFace(c.CW):c.frontFace(c.CCW),A=e)}function B(e){e!==F?(z(c.CULL_FACE),e!==b&&(e===G?c.cullFace(c.BACK):e===V?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):R(c.CULL_FACE),b=e}function U(e,t,n){e?(z(c.POLYGON_OFFSET_FILL),x===t&&E===n||(c.polygonOffset(t,n),x=t,E=n)):R(c.POLYGON_OFFSET_FILL)}function H(e){void 0===e&&(e=c.TEXTURE0+L-1),C!==e&&(c.activeTexture(e),C=e)}return O[c.TEXTURE_2D]=j(c.TEXTURE_2D,c.TEXTURE_2D,1),O[c.TEXTURE_CUBE_MAP]=j(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),i.setClear(0,0,0,1),r.setClear(1),t.setClear(0),z(c.DEPTH_TEST),r.setFunc(ie),Y(!1),B(G),z(c.CULL_FACE),z(c.BLEND),P(Q),{buffers:{color:i,depth:r,stencil:t},initAttributes:function(){for(var e=0,t=a.length;e<t;e++)a[e]=0},enableAttribute:function(e){a[e]=1,0===o[e]&&(c.enableVertexAttribArray(e),o[e]=1),0!==s[e]&&(n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(e,0),s[e]=0)},enableAttributeAndDivisor:function(e,t){a[e]=1,0===o[e]&&(c.enableVertexAttribArray(e),o[e]=1),s[e]!==t&&(n.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(e,t),s[e]=t)},disableUnusedAttributes:function(){for(var e=0,t=o.length;e!==t;++e)o[e]!==a[e]&&(c.disableVertexAttribArray(e),o[e]=0)},enable:z,disable:R,getCompressedTextureFormats:function(){if(null===d&&(d=[],n.get("WEBGL_compressed_texture_pvrtc")||n.get("WEBGL_compressed_texture_s3tc")||n.get("WEBGL_compressed_texture_etc1")||n.get("WEBGL_compressed_texture_astc")))for(var e=c.getParameter(c.COMPRESSED_TEXTURE_FORMATS),t=0;t<e.length;t++)d.push(e[t]);return d},useProgram:function(e){return h!==e&&(c.useProgram(e),h=e,!0)},setBlending:P,setMaterial:function(e,t){e.side===X?R(c.CULL_FACE):z(c.CULL_FACE);var n=e.side===Z;t&&(n=!n),Y(n),!0===e.transparent?P(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):P(W),r.setFunc(e.depthFunc),r.setTest(e.depthTest),r.setMask(e.depthWrite),i.setMask(e.colorWrite),U(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Y,setCullFace:B,setLineWidth:function(e){e!==w&&(T&&c.lineWidth(e),w=e)},setPolygonOffset:U,setScissorTest:function(e){e?z(c.SCISSOR_TEST):R(c.SCISSOR_TEST)},activeTexture:H,bindTexture:function(e,t){null===C&&H();var n=N[C];void 0===n&&(n={type:void 0,texture:void 0},N[C]=n),n.type===e&&n.texture===t||(c.bindTexture(e,t||O[e]),n.type=e,n.texture=t)},compressedTexImage2D:function(){try{c.compressedTexImage2D.apply(c,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{c.texImage2D.apply(c,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===k.equals(e)&&(c.scissor(e.x,e.y,e.z,e.w),k.copy(e))},viewport:function(e){!1===I.equals(e)&&(c.viewport(e.x,e.y,e.z,e.w),I.copy(e))},reset:function(){for(var e=0;e<o.length;e++)1===o[e]&&(c.disableVertexAttribArray(e),o[e]=0);l={},N={},b=A=p=h=C=d=null,i.reset(),r.reset(),t.reset()}}}function Aa(t,n,e){var i;function r(e){if("highp"===e){if(0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision?"mediump":"lowp"}var a=void 0!==e.precision?e.precision:"highp",o=r(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);var s=!0===e.logarithmicDepthBuffer,u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),h=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),f=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=0<l,_=!!n.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==i)return i;var e=n.get("EXT_texture_filter_anisotropic");return i=null!==e?t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:s,maxTextures:u,maxVertexTextures:l,maxTextureSize:c,maxCubemapSize:d,maxAttributes:h,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:f,vertexTextures:g,floatFragmentTextures:_,floatVertexTextures:g&&_}}function ba(e,t,n,i){zi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function wa(e){ba.call(this),this.cameras=e||[]}function xa(i){var s=this,u=null,l=null,c=null,d=new It,h=new It;"undefined"!=typeof window&&"VRFrameData"in window&&(l=new window.VRFrameData);var p=new It,m=new jt,f=new Ot,g=new ba;g.bounds=new Ut(0,0,.5,1),g.layers.enable(1);var _=new ba;_.bounds=new Ut(.5,0,.5,1),_.layers.enable(2);var r,a,y=new wa([g,_]);function e(){if(null!==u&&u.isPresenting){var e=u.getEyeParameters("left"),t=e.renderWidth,n=e.renderHeight;a=i.getPixelRatio(),r=i.getSize(),i.setDrawingBufferSize(2*t,n,1)}else s.enabled&&i.setDrawingBufferSize(r.width,r.height,a)}y.layers.enable(1),y.layers.enable(2),"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",e,!1),this.enabled=!1,this.userHeight=1.6,this.getDevice=function(){return u},this.setDevice=function(e){void 0!==e&&(u=e)},this.setPoseTarget=function(e){void 0!==e&&(c=e)},this.getCamera=function(e){if(null===u)return e;u.depthNear=e.near,u.depthFar=e.far,u.getFrameData(l);var t=u.stageParameters;t?d.fromArray(t.sittingToStandingTransform):d.makeTranslation(0,s.userHeight,0);var n=l.pose,i=null!==c?c:e;if(i.matrix.copy(d),i.matrix.decompose(i.position,i.quaternion,i.scale),null!==n.orientation&&(m.fromArray(n.orientation),i.quaternion.multiply(m)),null!==n.position&&(m.setFromRotationMatrix(d),f.fromArray(n.position),f.applyQuaternion(m),i.position.add(f)),i.updateMatrixWorld(),!1===u.isPresenting)return e;g.near=e.near,_.near=e.near,g.far=e.far,_.far=e.far,y.matrixWorld.copy(e.matrixWorld),y.matrixWorldInverse.copy(e.matrixWorldInverse),g.matrixWorldInverse.fromArray(l.leftViewMatrix),_.matrixWorldInverse.fromArray(l.rightViewMatrix),h.getInverse(d),g.matrixWorldInverse.multiply(h),_.matrixWorldInverse.multiply(h);var r=i.parent;null!==r&&(p.getInverse(r.matrixWorld),g.matrixWorldInverse.multiply(p),_.matrixWorldInverse.multiply(p)),g.matrixWorld.getInverse(g.matrixWorldInverse),_.matrixWorld.getInverse(_.matrixWorldInverse),g.projectionMatrix.fromArray(l.leftProjectionMatrix),_.projectionMatrix.fromArray(l.rightProjectionMatrix),y.projectionMatrix.copy(g.projectionMatrix);var a=u.getLayers();if(a.length){var o=a[0];null!==o.leftBounds&&4===o.leftBounds.length&&g.bounds.fromArray(o.leftBounds),null!==o.rightBounds&&4===o.rightBounds.length&&_.bounds.fromArray(o.rightBounds)}return y},this.getStandingMatrix=function(){return d},this.submitFrame=function(){u&&u.isPresenting&&u.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",e)}}function Ea(n){var i={};return{get:function(e){if(void 0!==i[e])return i[e];var t;switch(e){case"WEBGL_depth_texture":t=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":t=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":t=n.getExtension("WEBGL_compressed_texture_etc1");break;default:t=n.getExtension(e)}return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),i[e]=t}}}function La(){var c=this,d=null,h=0,p=!1,m=!1,f=new li,g=new zt,_={value:null,needsUpdate:!1};function y(){_.value!==d&&(_.value=d,_.needsUpdate=0<h),c.numPlanes=h,c.numIntersection=0}function v(e,t,n,i){var r=null!==e?e.length:0,a=null;if(0!==r){if(a=_.value,!0!==i||null===a){var o=n+4*r,s=t.matrixWorldInverse;g.getNormalMatrix(s),(null===a||a.length<o)&&(a=new Float32Array(o));for(var u=0,l=n;u!==r;++u,l+=4)f.copy(e[u]).applyMatrix4(s,g),f.normal.toArray(a,l),a[l+3]=f.constant}_.value=a,_.needsUpdate=!0}return c.numPlanes=r,a}this.uniform=_,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,n){var i=0!==e.length||t||0!==h||p;return p=t,d=v(e,n,0),h=e.length,i},this.beginShadows=function(){m=!0,v(null)},this.endShadows=function(){m=!1,y()},this.setState=function(e,t,n,i,r,a){if(!p||null===e||0===e.length||m&&!n)m?v(null):y();else{var o=m?0:h,s=4*o,u=r.clippingState||null;_.value=u,u=v(e,i,s,a);for(var l=0;l!==s;++l)u[l]=d[l];r.clippingState=u,this.numIntersection=t?this.numPlanes:0,this.numPlanes+=o}}}function Ta(n,i){return{convert:function(e){var t;if(e===Ae)return n.REPEAT;if(e===be)return n.CLAMP_TO_EDGE;if(e===we)return n.MIRRORED_REPEAT;if(e===xe)return n.NEAREST;if(e===Ee)return n.NEAREST_MIPMAP_NEAREST;if(e===De)return n.NEAREST_MIPMAP_LINEAR;if(e===Se)return n.LINEAR;if(e===Ce)return n.LINEAR_MIPMAP_NEAREST;if(e===Ne)return n.LINEAR_MIPMAP_LINEAR;if(e===ke)return n.UNSIGNED_BYTE;if(e===Be)return n.UNSIGNED_SHORT_4_4_4_4;if(e===Ue)return n.UNSIGNED_SHORT_5_5_5_1;if(e===He)return n.UNSIGNED_SHORT_5_6_5;if(e===Ie)return n.BYTE;if(e===je)return n.SHORT;if(e===Oe)return n.UNSIGNED_SHORT;if(e===ze)return n.INT;if(e===Re)return n.UNSIGNED_INT;if(e===Pe)return n.FLOAT;if(e===Ye&&null!==(t=i.get("OES_texture_half_float")))return t.HALF_FLOAT_OES;if(e===Ge)return n.ALPHA;if(e===Ve)return n.RGB;if(e===We)return n.RGBA;if(e===Qe)return n.LUMINANCE;if(e===qe)return n.LUMINANCE_ALPHA;if(e===Xe)return n.DEPTH_COMPONENT;if(e===Je)return n.DEPTH_STENCIL;if(e===w)return n.FUNC_ADD;if(e===x)return n.FUNC_SUBTRACT;if(e===E)return n.FUNC_REVERSE_SUBTRACT;if(e===D)return n.ZERO;if(e===S)return n.ONE;if(e===C)return n.SRC_COLOR;if(e===N)return n.ONE_MINUS_SRC_COLOR;if(e===k)return n.SRC_ALPHA;if(e===I)return n.ONE_MINUS_SRC_ALPHA;if(e===j)return n.DST_ALPHA;if(e===z)return n.ONE_MINUS_DST_ALPHA;if(e===Y)return n.DST_COLOR;if(e===B)return n.ONE_MINUS_DST_COLOR;if(e===U)return n.SRC_ALPHA_SATURATE;if((e===Ke||e===$e||e===et||e===tt)&&null!==(t=i.get("WEBGL_compressed_texture_s3tc"))){if(e===Ke)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===$e)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===et)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===tt)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===nt||e===it||e===rt||e===at)&&null!==(t=i.get("WEBGL_compressed_texture_pvrtc"))){if(e===nt)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===it)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===rt)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===at)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ot&&null!==(t=i.get("WEBGL_compressed_texture_etc1")))return t.COMPRESSED_RGB_ETC1_WEBGL;if((e===st||e===ut||e===lt||e===ct||e===dt||e===ht||e===pt||e===mt||e===ft||e===gt||e===_t||e===yt||e===vt||e===Mt)&&null!==(t=i.get("WEBGL_compressed_texture_astc")))return e;if((e===L||e===T)&&null!==(t=i.get("EXT_blend_minmax"))){if(e===L)return t.MIN_EXT;if(e===T)return t.MAX_EXT}return e===Fe&&null!==(t=i.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:0}}}function Da(){var n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":t={direction:new Ot,color:new In,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"SpotLight":t={position:new Ot,direction:new Ot,color:new In,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new kt};break;case"PointLight":t={position:new Ot,color:new In,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new kt,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":t={direction:new Ot,skyColor:new In,groundColor:new In};break;case"RectAreaLight":t={color:new In,position:new Ot,halfWidth:new Ot,halfHeight:new Ot}}return n[e.id]=t}}}ba.prototype=Object.assign(Object.create(zi.prototype),{constructor:ba,isPerspectiveCamera:!0,copy:function(e,t){return zi.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Nt.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Nt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Nt.RAD2DEG*Math.atan(Math.tan(.5*Nt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Nt.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,t-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(r+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far)},toJSON:function(e){var t=Oi.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),wa.prototype=Object.assign(Object.create(ba.prototype),{constructor:wa,isArrayCamera:!0});var Sa,Ca,Na,ka,Ia,ja,Oa,za,Ra,Pa,Ya,Ba,Ua,Ha,Fa,Ga,Va,Wa,Qa=0;function qa(){var A=new Da,b={id:Qa++,hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},w=new Ot,x=new It,E=new It;return{setup:function(e,t,n){for(var i=0,r=0,a=0,o=0,s=0,u=0,l=0,c=0,d=n.matrixWorldInverse,h=0,p=e.length;h<p;h++){var m=e[h],f=m.color,g=m.intensity,_=m.distance,y=m.shadow&&m.shadow.map?m.shadow.map.texture:null;if(m.isAmbientLight)i+=f.r*g,r+=f.g*g,a+=f.b*g;else if(m.isDirectionalLight){if((M=A.get(m)).color.copy(m.color).multiplyScalar(m.intensity),M.direction.setFromMatrixPosition(m.matrixWorld),w.setFromMatrixPosition(m.target.matrixWorld),M.direction.sub(w),M.direction.transformDirection(d),M.shadow=m.castShadow,m.castShadow){var v=m.shadow;M.shadowBias=v.bias,M.shadowRadius=v.radius,M.shadowMapSize=v.mapSize}b.directionalShadowMap[o]=y,b.directionalShadowMatrix[o]=m.shadow.matrix,b.directional[o]=M,o++}else if(m.isSpotLight)(M=A.get(m)).position.setFromMatrixPosition(m.matrixWorld),M.position.applyMatrix4(d),M.color.copy(f).multiplyScalar(g),M.distance=_,M.direction.setFromMatrixPosition(m.matrixWorld),w.setFromMatrixPosition(m.target.matrixWorld),M.direction.sub(w),M.direction.transformDirection(d),M.coneCos=Math.cos(m.angle),M.penumbraCos=Math.cos(m.angle*(1-m.penumbra)),M.decay=0===m.distance?0:m.decay,M.shadow=m.castShadow,m.castShadow&&(v=m.shadow,M.shadowBias=v.bias,M.shadowRadius=v.radius,M.shadowMapSize=v.mapSize),b.spotShadowMap[u]=y,b.spotShadowMatrix[u]=m.shadow.matrix,b.spot[u]=M,u++;else if(m.isRectAreaLight)(M=A.get(m)).color.copy(f).multiplyScalar(g),M.position.setFromMatrixPosition(m.matrixWorld),M.position.applyMatrix4(d),E.identity(),x.copy(m.matrixWorld),x.premultiply(d),E.extractRotation(x),M.halfWidth.set(.5*m.width,0,0),M.halfHeight.set(0,.5*m.height,0),M.halfWidth.applyMatrix4(E),M.halfHeight.applyMatrix4(E),b.rectArea[l]=M,l++;else if(m.isPointLight)(M=A.get(m)).position.setFromMatrixPosition(m.matrixWorld),M.position.applyMatrix4(d),M.color.copy(m.color).multiplyScalar(m.intensity),M.distance=m.distance,M.decay=0===m.distance?0:m.decay,M.shadow=m.castShadow,m.castShadow&&(v=m.shadow,M.shadowBias=v.bias,M.shadowRadius=v.radius,M.shadowMapSize=v.mapSize,M.shadowCameraNear=v.camera.near,M.shadowCameraFar=v.camera.far),b.pointShadowMap[s]=y,b.pointShadowMatrix[s]=m.shadow.matrix,b.point[s]=M,s++;else if(m.isHemisphereLight){var M;(M=A.get(m)).direction.setFromMatrixPosition(m.matrixWorld),M.direction.transformDirection(d),M.direction.normalize(),M.skyColor.copy(m.color).multiplyScalar(g),M.groundColor.copy(m.groundColor).multiplyScalar(g),b.hemi[c]=M,c++}}b.ambient[0]=i,b.ambient[1]=r,b.ambient[2]=a,b.directional.length=o,b.spot.length=u,b.rectArea.length=l,b.point.length=s,b.hemi.length=c,b.hash=b.id+","+o+","+s+","+u+","+l+","+c+","+t.length},state:b}}function Za(){var t=new qa,n=[],i=[],r=[];return{init:function(){n.length=0,i.length=0,r.length=0},state:{lightsArray:n,shadowsArray:i,spritesArray:r,lights:t},setupLights:function(e){t.setup(n,i,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)},pushSprite:function(e){r.push(e)}}}function Xa(){var r={};return{get:function(e,t){var n=e.id+","+t.id,i=r[n];return void 0===i&&(i=new Za,r[n]=i),i},dispose:function(){r={}}}}function Ja(e){console.log("THREE.WebGLRenderer","90");var r=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",p=null,O=null;this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Te,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var z,x,R,P,Y,c,E,L,m,g,d,h,f,T,D,S,_,y,B=this,v=!1,M=null,A=null,U=-1,C="",H=null,F=null,b=new Ut,w=new Ut,N=null,G=0,k=r.width,V=r.height,W=1,I=new Ut(0,0,k,V),j=new Ut(0,0,k,V),Q=!1,q=new ci,Z=new La,X=!1,J=!1,K=new It,$=new Ot,ee={geometries:0,textures:0},te={frame:0,calls:0,vertices:0,faces:0,points:0};function ne(){return null===M?W:1}this.info={render:te,memory:ee,programs:null,autoReset:!0,reset:function(){te.frame++,te.calls=0,te.vertices=0,te.faces=0,te.points=0}};try{var ie={alpha:n,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l};if(r.addEventListener("webglcontextlost",se,!1),r.addEventListener("webglcontextrestored",ue,!1),null===(z=t||r.getContext("webgl",ie)||r.getContext("experimental-webgl",ie)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===z.getShaderPrecisionFormat&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("THREE.WebGLRenderer: "+e.message)}function re(){(x=new Ea(z)).get("WEBGL_depth_texture"),x.get("OES_texture_float"),x.get("OES_texture_float_linear"),x.get("OES_texture_half_float"),x.get("OES_texture_half_float_linear"),x.get("OES_standard_derivatives"),x.get("OES_element_index_uint"),x.get("ANGLE_instanced_arrays"),y=new Ta(z,x),R=new Aa(z,x,e),(P=new Ma(z,x,y)).scissor(w.copy(j).multiplyScalar(W)),P.viewport(b.copy(I).multiplyScalar(W)),Y=new va,c=new ya(z,x,P,Y,R,y,ee,te),E=new hi(z),L=new aa(z,E,ee),m=new oa(L,te),T=new na(z),g=new _a(B,x,R),d=new ea,h=new Xa,f=new Xr(B,P,L,s),D=new ra(z,x,te),S=new ia(z,x,te),_=new Yn(B,z,P,c,R),B.info.programs=g.programs,B.context=z,B.capabilities=R,B.extensions=x,B.properties=Y,B.renderLists=d,B.state=P}re();var ae=new xa(B);this.vr=ae;var oe=new di(B,m,R.maxTextureSize);function se(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1,re()}function le(e){var t,n=e.target;n.removeEventListener("dispose",le),ce(t=n),Y.remove(t)}function ce(e){var t=Y.get(e).program;(e.program=void 0)!==t&&g.releaseProgram(t)}this.shadowMap=oe,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){var e=x.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=x.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(e){void 0!==e&&(W=e,this.setSize(k,V,!1))},this.getSize=function(){return{width:k,height:V}},this.setSize=function(e,t,n){var i=ae.getDevice();i&&i.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=e,V=t,r.width=e*W,r.height=t*W,!1!==n&&(r.style.width=e+"px",r.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:k*W,height:V*W}},this.setDrawingBufferSize=function(e,t,n){k=e,V=t,W=n,r.width=e*n,r.height=t*n,this.setViewport(0,0,e,t)},this.getCurrentViewport=function(){return b},this.setViewport=function(e,t,n,i){I.set(e,V-t-i,n,i),P.viewport(b.copy(I).multiplyScalar(W))},this.setScissor=function(e,t,n,i){j.set(e,V-t-i,n,i),P.scissor(w.copy(j).multiplyScalar(W))},this.setScissorTest=function(e){P.setScissorTest(Q=e)},this.getClearColor=function(){return f.getClearColor()},this.setClearColor=function(){f.setClearColor.apply(f,arguments)},this.getClearAlpha=function(){return f.getClearAlpha()},this.setClearAlpha=function(){f.setClearAlpha.apply(f,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=z.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=z.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=z.STENCIL_BUFFER_BIT),z.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,i){this.setRenderTarget(e),this.clear(t,n,i)},this.dispose=function(){r.removeEventListener("webglcontextlost",se,!1),r.removeEventListener("webglcontextrestored",ue,!1),d.dispose(),h.dispose(),Y.dispose(),m.dispose(),ae.dispose(),ge()},this.renderBufferImmediate=function(e,t,n){P.initAttributes();var i=Y.get(e);e.hasPositions&&!i.position&&(i.position=z.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=z.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=z.createBuffer()),e.hasColors&&!i.color&&(i.color=z.createBuffer());var r=t.getAttributes();if(e.hasPositions&&(z.bindBuffer(z.ARRAY_BUFFER,i.position),z.bufferData(z.ARRAY_BUFFER,e.positionArray,z.DYNAMIC_DRAW),P.enableAttribute(r.position),z.vertexAttribPointer(r.position,3,z.FLOAT,!1,0,0)),e.hasNormals){if(z.bindBuffer(z.ARRAY_BUFFER,i.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&!0===n.flatShading)for(var a=0,o=3*e.count;a<o;a+=9){var s=e.normalArray,u=(s[a+0]+s[a+3]+s[a+6])/3,l=(s[a+1]+s[a+4]+s[a+7])/3,c=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=u,s[a+1]=l,s[a+2]=c,s[a+3]=u,s[a+4]=l,s[a+5]=c,s[a+6]=u,s[a+7]=l,s[a+8]=c}z.bufferData(z.ARRAY_BUFFER,e.normalArray,z.DYNAMIC_DRAW),P.enableAttribute(r.normal),z.vertexAttribPointer(r.normal,3,z.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(z.bindBuffer(z.ARRAY_BUFFER,i.uv),z.bufferData(z.ARRAY_BUFFER,e.uvArray,z.DYNAMIC_DRAW),P.enableAttribute(r.uv),z.vertexAttribPointer(r.uv,2,z.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Le&&(z.bindBuffer(z.ARRAY_BUFFER,i.color),z.bufferData(z.ARRAY_BUFFER,e.colorArray,z.DYNAMIC_DRAW),P.enableAttribute(r.color),z.vertexAttribPointer(r.color,3,z.FLOAT,!1,0,0)),P.disableUnusedAttributes(),z.drawArrays(z.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,a){var o=r.isMesh&&r.matrixWorld.determinant()<0;P.setMaterial(i,o);var s=be(e,t,i,r),u=n.id+"_"+s.id+"_"+(!0===i.wireframe),l=!1;u!==C&&(C=u,l=!0),r.morphTargetInfluences&&(T.update(r,n,i,s),l=!0);var c,d=n.index,h=n.attributes.position,p=1;!0===i.wireframe&&(d=L.getWireframeAttribute(n),p=2);var m=D;null!==d&&(c=E.get(d),(m=S).setIndex(c)),l&&(!function(e,t,n,i){if(n&&n.isInstancedBufferGeometry&&null===x.get("ANGLE_instanced_arrays"))return console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===i&&(i=0);P.initAttributes();var r=n.attributes,a=t.getAttributes(),o=e.defaultAttributeValues;for(var s in a){var u=a[s];if(0<=u){var l=r[s];if(void 0!==l){var c=l.normalized,d=l.itemSize,h=E.get(l);if(void 0===h)continue;var p=h.buffer,m=h.type,f=h.bytesPerElement;if(l.isInterleavedBufferAttribute){var g=l.data,_=g.stride,y=l.offset;g&&g.isInstancedInterleavedBuffer?(P.enableAttributeAndDivisor(u,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):P.enableAttribute(u),z.bindBuffer(z.ARRAY_BUFFER,p),z.vertexAttribPointer(u,d,m,c,_*f,(i*_+y)*f)}else l.isInstancedBufferAttribute?(P.enableAttributeAndDivisor(u,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):P.enableAttribute(u),z.bindBuffer(z.ARRAY_BUFFER,p),z.vertexAttribPointer(u,d,m,c,0,i*d*f)}else if(void 0!==o){var v=o[s];if(void 0!==v)switch(v.length){case 2:z.vertexAttrib2fv(u,v);break;case 3:z.vertexAttrib3fv(u,v);break;case 4:z.vertexAttrib4fv(u,v);break;default:z.vertexAttrib1fv(u,v)}}}}P.disableUnusedAttributes()}(i,s,n),null!==d&&z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,c.buffer));var f=1/0;null!==d?f=d.count:void 0!==h&&(f=h.count);var g=n.drawRange.start*p,_=n.drawRange.count*p,y=null!==a?a.start*p:0,v=null!==a?a.count*p:1/0,M=Math.max(g,y),A=Math.min(f,g+_,y+v)-1,b=Math.max(0,A-M+1);if(0!==b){if(r.isMesh)if(!0===i.wireframe)P.setLineWidth(i.wireframeLinewidth*ne()),m.setMode(z.LINES);else switch(r.drawMode){case At:m.setMode(z.TRIANGLES);break;case 1:m.setMode(z.TRIANGLE_STRIP);break;case 2:m.setMode(z.TRIANGLE_FAN)}else if(r.isLine){var w=i.linewidth;void 0===w&&(w=1),P.setLineWidth(w*ne()),r.isLineSegments?m.setMode(z.LINES):r.isLineLoop?m.setMode(z.LINE_LOOP):m.setMode(z.LINE_STRIP)}else r.isPoints&&m.setMode(z.POINTS);n&&n.isInstancedBufferGeometry?0<n.maxInstancedCount&&m.renderInstances(n,M,b):m.render(M,b)}};var de,he,pe,me=!(this.compile=function(n,e){(O=h.get(n,e)).init(),n.traverse(function(e){e.isLight&&(O.pushLight(e),e.castShadow&&O.pushShadow(e))}),O.setupLights(e),n.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var t=0;t<e.material.length;t++)Ae(e.material[t],n.fog,e);else Ae(e.material,n.fog,e)})}),fe=null;function ge(){me=!1}function _e(){var e=ae.getDevice();e&&e.isPresenting?e.requestAnimationFrame(ye):window.requestAnimationFrame(ye)}function ye(e){!1!==me&&(fe(e),_e())}function ve(e,t,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,u=o.geometry,l=void 0===i?o.material:i,c=o.group;if(n.isArrayCamera)for(var d=(F=n).cameras,h=0,p=d.length;h<p;h++){var m=d[h];if(s.layers.test(m.layers)){var f=m.bounds,g=f.x*k,_=f.y*V,y=f.z*k,v=f.w*V;P.viewport(b.set(g,_,y,v).multiplyScalar(W)),Me(s,t,m,u,l,c)}}else F=null,Me(s,t,n,u,l,c)}}function Me(e,t,n,i,r,a){if(e.onBeforeRender(B,t,n,i,r,a),O=h.get(t,F||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=e.isMesh&&e.matrixWorld.determinant()<0;P.setMaterial(r,o);var s=be(n,t.fog,r,e);C="",u=s,l=r,e.render(function(e){B.renderBufferImmediate(e,u,l)})}else B.renderBufferDirect(n,t.fog,i,r,e,a);var u,l;e.onAfterRender(B,t,n,i,r,a),O=h.get(t,F||n)}function Ae(e,t,n){var i=Y.get(e),r=O.state.lights,a=O.state.shadowsArray,o=g.getParameters(e,r.state,a,t,Z.numPlanes,Z.numIntersection,n),s=g.getProgramCode(e,o),u=i.program,l=!0;if(void 0===u)e.addEventListener("dispose",le);else if(u.code!==s)ce(e);else if(i.lightsHash!==r.state.hash)Y.update(e,"lightsHash",r.state.hash),l=!1;else{if(void 0!==o.shaderID)return;l=!1}if(l){if(o.shaderID){var c=Rn[o.shaderID];i.shader={name:e.type,uniforms:On.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader),u=g.acquireProgram(e,i.shader,o,s),i.program=u,e.program=u}var d=u.getAttributes();if(e.morphTargets)for(var h=e.numSupportedMorphTargets=0;h<B.maxMorphTargets;h++)0<=d["morphTarget"+h]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(h=e.numSupportedMorphNormals=0;h<B.maxMorphNormals;h++)0<=d["morphNormal"+h]&&e.numSupportedMorphNormals++;var p=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=Z.numPlanes,i.numIntersection=Z.numIntersection,p.clippingPlanes=Z.uniform),i.fog=t,i.lightsHash=r.state.hash,e.lights&&(p.ambientLightColor.value=r.state.ambient,p.directionalLights.value=r.state.directional,p.spotLights.value=r.state.spot,p.rectAreaLights.value=r.state.rectArea,p.pointLights.value=r.state.point,p.hemisphereLights.value=r.state.hemi,p.directionalShadowMap.value=r.state.directionalShadowMap,p.directionalShadowMatrix.value=r.state.directionalShadowMatrix,p.spotShadowMap.value=r.state.spotShadowMap,p.spotShadowMatrix.value=r.state.spotShadowMatrix,p.pointShadowMap.value=r.state.pointShadowMap,p.pointShadowMatrix.value=r.state.pointShadowMatrix);var m=i.program.getUniforms(),f=Nn.seqWithValue(m.seq,p);i.uniformsList=f}function be(e,t,n,i){G=0;var r=Y.get(n),a=O.state.lights;if(X&&(J||e!==H)){var o=e===H&&n.id===U;Z.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,o)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:n.lights&&r.lightsHash!==a.state.hash?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===Z.numPlanes&&r.numIntersection===Z.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(Ae(n,t,i),n.needsUpdate=!1);var s,u,l,c,d,h,p,m,f,g,_,y,v,M,A,b,w=!1,x=!1,E=!1,L=r.program,T=L.getUniforms(),D=r.shader.uniforms;if(P.useProgram(L.program)&&(E=x=w=!0),n.id!==U&&(U=n.id,x=!0),w||e!==H){if(T.setValue(z,"projectionMatrix",e.projectionMatrix),R.logarithmicDepthBuffer&&T.setValue(z,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),H!==(F||e)&&(H=F||e,E=x=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var S=T.map.cameraPosition;void 0!==S&&S.setValue(z,$.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&T.setValue(z,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){T.setOptional(z,i,"bindMatrix"),T.setOptional(z,i,"bindMatrixInverse");var C=i.skeleton;if(C){var N=C.bones;if(R.floatVertexTextures){if(void 0===C.boneTexture){var k=Math.sqrt(4*N.length);k=Nt.ceilPowerOfTwo(k),k=Math.max(k,4);var I=new Float32Array(k*k*4);I.set(C.boneMatrices);var j=new Gt(I,k,k,We,Pe);j.needsUpdate=!0,C.boneMatrices=I,C.boneTexture=j,C.boneTextureSize=k}T.setValue(z,"boneTexture",C.boneTexture),T.setValue(z,"boneTextureSize",C.boneTextureSize)}else T.setOptional(z,C,"boneMatrices")}}return x&&(T.setValue(z,"toneMappingExposure",B.toneMappingExposure),T.setValue(z,"toneMappingWhitePoint",B.toneMappingWhitePoint),n.lights&&(b=E,(A=D).ambientLightColor.needsUpdate=b,A.directionalLights.needsUpdate=b,A.pointLights.needsUpdate=b,A.spotLights.needsUpdate=b,A.rectAreaLights.needsUpdate=b,A.hemisphereLights.needsUpdate=b),t&&n.fog&&(M=t,(v=D).fogColor.value=M.color,M.isFog?(v.fogNear.value=M.near,v.fogFar.value=M.far):M.isFogExp2&&(v.fogDensity.value=M.density)),n.isMeshBasicMaterial?we(D,n):n.isMeshLambertMaterial?(we(D,n),_=D,(y=n).emissiveMap&&(_.emissiveMap.value=y.emissiveMap)):n.isMeshPhongMaterial?(we(D,n),n.isMeshToonMaterial?(xe(f=D,g=n),g.gradientMap&&(f.gradientMap.value=g.gradientMap)):xe(D,n)):n.isMeshStandardMaterial?(we(D,n),n.isMeshPhysicalMaterial?(m=n,(p=D).clearCoat.value=m.clearCoat,p.clearCoatRoughness.value=m.clearCoatRoughness,Ee(p,m)):Ee(D,n)):n.isMeshDepthMaterial?(we(D,n),d=D,(h=n).displacementMap&&(d.displacementMap.value=h.displacementMap,d.displacementScale.value=h.displacementScale,d.displacementBias.value=h.displacementBias)):n.isMeshDistanceMaterial?(we(D,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(D,n)):n.isMeshNormalMaterial?(we(D,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(D,n)):n.isLineBasicMaterial?(c=n,(l=D).diffuse.value=c.color,l.opacity.value=c.opacity,n.isLineDashedMaterial&&(u=n,(s=D).dashSize.value=u.dashSize,s.totalSize.value=u.dashSize+u.gapSize,s.scale.value=u.scale)):n.isPointsMaterial?function(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*W,e.scale.value=.5*V,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var n=t.map.offset,i=t.map.repeat,r=t.map.rotation,a=t.map.center;t.map.matrix.setUvTransform(n.x,n.y,i.x,i.y,r,a.x,a.y)}e.uvTransform.value.copy(t.map.matrix)}}(D,n):n.isShadowMaterial&&(D.color.value=n.color,D.opacity.value=n.opacity),void 0!==D.ltc_1&&(D.ltc_1.value=jn.LTC_1),void 0!==D.ltc_2&&(D.ltc_2.value=jn.LTC_2),Nn.upload(z,r.uniformsList,D,B)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Nn.upload(z,r.uniformsList,D,B),n.uniformsNeedUpdate=!1),T.setValue(z,"modelViewMatrix",i.modelViewMatrix),T.setValue(z,"normalMatrix",i.normalMatrix),T.setValue(z,"modelMatrix",i.matrixWorld),L}function we(e,t){var n;if(e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){if(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate){var i=n.offset,r=n.repeat,a=n.rotation,o=n.center;n.matrix.setUvTransform(i.x,i.y,r.x,r.y,a,o.x,o.y)}e.uvTransform.value.copy(n.matrix)}}function xe(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ee(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}this.animate=function(e){null!==(fe=e)?me||(_e(),me=!0):ge()},this.render=function(e,t,n,i){if(t&&t.isCamera){if(!v){C="",U=-1,!(H=null)===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ae.enabled&&(t=ae.getCamera(t)),(O=h.get(e,t)).init(),e.onBeforeRender(B,e,t,n),K.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),q.setFromMatrix(K),J=this.localClippingEnabled,X=Z.init(this.clippingPlanes,J,t),(p=d.get(e,t)).init(),function e(t,n,i){if(!1===t.visible)return;var r=t.layers.test(n.layers);if(r)if(t.isLight)O.pushLight(t),t.castShadow&&O.pushShadow(t);else if(t.isSprite)t.frustumCulled&&!q.intersectsSprite(t)||O.pushSprite(t);else if(t.isImmediateRenderObject)i&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K),p.push(t,null,t.material,$.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||q.intersectsObject(t))){i&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(K);var a=m.update(t),o=t.material;if(Array.isArray(o))for(var s=a.groups,u=0,l=s.length;u<l;u++){var c=s[u],d=o[c.materialIndex];d&&d.visible&&p.push(t,a,d,$.z,c)}else o.visible&&p.push(t,a,o,$.z,null)}var h=t.children;for(var u=0,l=h.length;u<l;u++)e(h[u],n,i)}(e,t,B.sortObjects),!0===B.sortObjects&&p.sort(),X&&Z.beginShadows();var r=O.state.shadowsArray;oe.render(r,e,t),O.setupLights(t),X&&Z.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),f.render(p,e,t,i);var a=p.opaque,o=p.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&ve(a,e,t,s),o.length&&ve(o,e,t,s)}else a.length&&ve(a,e,t),o.length&&ve(o,e,t);var u=O.state.spritesArray;_.render(u,e,t),n&&c.updateRenderTargetMipmap(n),P.buffers.depth.setTest(!0),P.buffers.depth.setMask(!0),P.buffers.color.setMask(!0),P.setPolygonOffset(!1),e.onAfterRender(B,e,t),ae.enabled&&ae.submitFrame(),O=p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=G;return e>=R.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+R.maxTextures),G+=1,e},this.setTexture2D=(de=!1,function(e,t){e&&e.isWebGLRenderTarget&&(de||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),de=!0),e=e.texture),c.setTexture2D(e,t)}),this.setTexture=(he=!1,function(e,t){he||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),he=!0),c.setTexture2D(e,t)}),this.setTextureCube=(pe=!1,function(e,t){e&&e.isWebGLRenderTargetCube&&(pe||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),pe=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?c.setTextureCube(e,t):c.setTextureCubeDynamic(e,t)}),this.getRenderTarget=function(){return M},this.setRenderTarget=function(e){(M=e)&&void 0===Y.get(e).__webglFramebuffer&&c.setupRenderTarget(e);var t=null,n=!1;if(e){var i=Y.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=i[e.activeCubeFace],n=!0):t=i,b.copy(e.viewport),w.copy(e.scissor),N=e.scissorTest}else b.copy(I).multiplyScalar(W),w.copy(j).multiplyScalar(W),N=Q;if(A!==t&&(z.bindFramebuffer(z.FRAMEBUFFER,t),A=t),P.viewport(b),P.scissor(w),P.setScissorTest(N),n){var r=Y.get(e.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,r,a){if(e&&e.isWebGLRenderTarget){var o=Y.get(e).__webglFramebuffer;if(o){var s=!1;o!==A&&(z.bindFramebuffer(z.FRAMEBUFFER,o),s=!0);try{var u=e.texture,l=u.format,c=u.type;if(l!==We&&y.convert(l)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===ke||y.convert(c)===z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)||c===Pe&&(x.get("OES_texture_float")||x.get("WEBGL_color_buffer_float"))||c===Ye&&x.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");z.checkFramebufferStatus(z.FRAMEBUFFER)===z.FRAMEBUFFER_COMPLETE?0<=t&&t<=e.width-i&&0<=n&&n<=e.height-r&&z.readPixels(t,n,i,r,y.convert(l),y.convert(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&z.bindFramebuffer(z.FRAMEBUFFER,A)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var i=t.image.width,r=t.image.height,a=y.convert(t.format);this.setTexture2D(t,0),z.copyTexImage2D(z.TEXTURE_2D,n||0,a,e.x,e.y,i,r,0)}}function Ka(e,t){this.name="",this.color=new In(e),this.density=void 0!==t?t:25e-5}function $a(e,t,n){this.name="",this.color=new In(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function eo(){Oi.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function to(e){ri.call(this),this.type="SpriteMaterial",this.color=new In(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function no(e){Oi.call(this),this.type="Sprite",this.material=void 0!==e?e:new to,this.center=new kt(.5,.5)}function io(){Oi.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ro(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new It)}}function ao(){Oi.call(this),this.type="Bone"}function oo(e,t){Zr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new It,this.bindMatrixInverse=new It;var n=new ro(this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function so(e){ri.call(this),this.type="LineBasicMaterial",this.color=new In(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function uo(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new lo(e,t);Oi.call(this),this.type="Line",this.geometry=void 0!==e?e:new Yr,this.material=void 0!==t?t:new so({color:16777215*Math.random()})}function lo(e,t){uo.call(this,e,t),this.type="LineSegments"}function co(e,t){uo.call(this,e,t),this.type="LineLoop"}function ho(e){ri.call(this),this.type="PointsMaterial",this.color=new In(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function po(e,t){Oi.call(this),this.type="Points",this.geometry=void 0!==e?e:new Yr,this.material=void 0!==t?t:new ho({color:16777215*Math.random()})}function mo(){Oi.call(this),this.type="Group"}function fo(e,t,n,i,r,a,o,s,u){Bt.call(this,e,t,n,i,r,a,o,s,u),this.generateMipmaps=!1}function go(e,t,n,i,r,a,o,s,u,l,c,d){Bt.call(this,null,a,o,s,u,l,i,r,c,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function _o(e,t,n,i,r,a,o,s,u,l){if((l=void 0!==l?l:Xe)!==Xe&&l!==Je)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Xe&&(n=Oe),void 0===n&&l===Je&&(n=Fe),Bt.call(this,null,i,r,a,o,s,l,n,u),this.image={width:e,height:t},this.magFilter=void 0!==o?o:xe,this.minFilter=void 0!==s?s:xe,this.flipY=!1,this.generateMipmaps=!1}function yo(e){Yr.call(this),this.type="WireframeGeometry";var t,n,i,r,a,o,s,u,l,c,d=[],h=[0,0],p={},m=["a","b","c"];if(e&&e.isGeometry){var f=e.faces;for(t=0,i=f.length;t<i;t++){var g=f[t];for(n=0;n<3;n++)s=g[m[n]],u=g[m[(n+1)%3]],h[0]=Math.min(s,u),h[1]=Math.max(s,u),void 0===p[l=h[0]+","+h[1]]&&(p[l]={index1:h[0],index2:h[1]})}for(l in p)o=p[l],c=e.vertices[o.index1],d.push(c.x,c.y,c.z),c=e.vertices[o.index2],d.push(c.x,c.y,c.z)}else if(e&&e.isBufferGeometry){var _,y,v,M,A,b;if(c=new Ot,null!==e.index){for(_=e.attributes.position,y=e.index,0===(v=e.groups).length&&(v=[{start:0,count:y.count,materialIndex:0}]),r=0,a=v.length;r<a;++r)for(i=(t=(M=v[r]).start)+M.count;t<i;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),u=y.getX(t+(n+1)%3),h[0]=Math.min(s,u),h[1]=Math.max(s,u),void 0===p[l=h[0]+","+h[1]]&&(p[l]={index1:h[0],index2:h[1]});for(l in p)o=p[l],c.fromBufferAttribute(_,o.index1),d.push(c.x,c.y,c.z),c.fromBufferAttribute(_,o.index2),d.push(c.x,c.y,c.z)}else for(t=0,i=(_=e.attributes.position).count/3;t<i;t++)for(n=0;n<3;n++)A=3*t+n,c.fromBufferAttribute(_,A),d.push(c.x,c.y,c.z),b=3*t+(n+1)%3,c.fromBufferAttribute(_,b),d.push(c.x,c.y,c.z)}this.addAttribute("position",new tr(d,3))}function vo(e,t,n){Wi.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Mo(e,t,n)),this.mergeVertices()}function Mo(e,t,n){Yr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,a=[],o=[],s=[],u=[],l=new Ot,c=new Ot,d=new Ot,h=new Ot,p=new Ot,m=t+1;for(i=0;i<=n;i++){var f=i/n;for(r=0;r<=t;r++){var g=r/t;c=e(g,f,c),o.push(c.x,c.y,c.z),0<=g-1e-5?(d=e(g-1e-5,f,d),h.subVectors(c,d)):(d=e(g+1e-5,f,d),h.subVectors(d,c)),0<=f-1e-5?(d=e(g,f-1e-5,d),p.subVectors(c,d)):(d=e(g,f+1e-5,d),p.subVectors(d,c)),l.crossVectors(h,p).normalize(),s.push(l.x,l.y,l.z),u.push(g,f)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var _=i*m+r,y=i*m+r+1,v=(i+1)*m+r+1,M=(i+1)*m+r;a.push(_,y,M),a.push(y,v,M)}this.setIndex(a),this.addAttribute("position",new tr(o,3)),this.addAttribute("normal",new tr(s,3)),this.addAttribute("uv",new tr(u,2))}function Ao(e,t,n,i){Wi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new bo(e,t,n,i)),this.mergeVertices()}function bo(i,a,e,t){Yr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:i,indices:a,radius:e,detail:t},e=e||1;var c=[],d=[];function o(e,t,n,i){var r,a,o=Math.pow(2,i),s=[];for(r=0;r<=o;r++){s[r]=[];var u=e.clone().lerp(n,r/o),l=t.clone().lerp(n,r/o),c=o-r;for(a=0;a<=c;a++)s[r][a]=0===a&&r===o?u:u.clone().lerp(l,a/c)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2==0?(h(s[r][d+1]),h(s[r+1][d]),h(s[r][d])):(h(s[r][d+1]),h(s[r+1][d+1]),h(s[r+1][d]))}}function h(e){c.push(e.x,e.y,e.z)}function s(e,t){var n=3*e;t.x=i[n+0],t.y=i[n+1],t.z=i[n+2]}function p(e,t,n,i){i<0&&1===e.x&&(d[t]=e.x-1),0===n.x&&0===n.z&&(d[t]=i/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}!function(e){for(var t=new Ot,n=new Ot,i=new Ot,r=0;r<a.length;r+=3)s(a[r+0],t),s(a[r+1],n),s(a[r+2],i),o(t,n,i,e)}(t=t||0),function(e){for(var t=new Ot,n=0;n<c.length;n+=3)t.x=c[n+0],t.y=c[n+1],t.z=c[n+2],t.normalize().multiplyScalar(e),c[n+0]=t.x,c[n+1]=t.y,c[n+2]=t.z}(e),function(){for(var e=new Ot,t=0;t<c.length;t+=3){e.x=c[t+0],e.y=c[t+1],e.z=c[t+2];var n=m(e)/2/Math.PI+.5,i=(r=e,Math.atan2(-r.y,Math.sqrt(r.x*r.x+r.z*r.z))/Math.PI+.5);d.push(n,1-i)}var r;(function(){for(var e=new Ot,t=new Ot,n=new Ot,i=new Ot,r=new kt,a=new kt,o=new kt,s=0,u=0;s<c.length;s+=9,u+=6){e.set(c[s+0],c[s+1],c[s+2]),t.set(c[s+3],c[s+4],c[s+5]),n.set(c[s+6],c[s+7],c[s+8]),r.set(d[u+0],d[u+1]),a.set(d[u+2],d[u+3]),o.set(d[u+4],d[u+5]),i.copy(e).add(t).add(n).divideScalar(3);var l=m(i);p(r,u+0,e,l),p(a,u+2,t,l),p(o,u+4,n,l)}})(),function(){for(var e=0;e<d.length;e+=6){var t=d[e+0],n=d[e+2],i=d[e+4],r=Math.max(t,n,i),a=Math.min(t,n,i);.9<r&&a<.1&&(t<.2&&(d[e+0]+=1),n<.2&&(d[e+2]+=1),i<.2&&(d[e+4]+=1))}}()}(),this.addAttribute("position",new tr(c,3)),this.addAttribute("normal",new tr(c.slice(),3)),this.addAttribute("uv",new tr(d,2)),0===t?this.computeVertexNormals():this.normalizeNormals()}function wo(e,t){Wi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new xo(e,t)),this.mergeVertices()}function xo(e,t){bo.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Eo(e,t){Wi.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Lo(e,t)),this.mergeVertices()}function Lo(e,t){bo.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function To(e,t){Wi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Do(e,t)),this.mergeVertices()}function Do(e,t){var n=(1+Math.sqrt(5))/2;bo.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function So(e,t){Wi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Co(e,t)),this.mergeVertices()}function Co(e,t){var n=(1+Math.sqrt(5))/2,i=1/n;bo.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function No(e,t,n,i,r,a){Wi.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new ko(e,t,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function ko(o,s,u,l,e){Yr.call(this),this.type="TubeBufferGeometry",this.parameters={path:o,tubularSegments:s,radius:u,radialSegments:l,closed:e},s=s||64,u=u||1,l=l||8,e=e||!1;var c=o.computeFrenetFrames(s,e);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var r,d,h=new Ot,p=new Ot,t=new kt,m=new Ot,f=[],g=[],n=[],a=[];function i(e){m=o.getPointAt(e/s,m);var t=c.normals[e],n=c.binormals[e];for(d=0;d<=l;d++){var i=d/l*Math.PI*2,r=Math.sin(i),a=-Math.cos(i);p.x=a*t.x+r*n.x,p.y=a*t.y+r*n.y,p.z=a*t.z+r*n.z,p.normalize(),g.push(p.x,p.y,p.z),h.x=m.x+u*p.x,h.y=m.y+u*p.y,h.z=m.z+u*p.z,f.push(h.x,h.y,h.z)}}!function(){for(r=0;r<s;r++)i(r);i(!1===e?s:0),function(){for(r=0;r<=s;r++)for(d=0;d<=l;d++)t.x=r/s,t.y=d/l,n.push(t.x,t.y)}(),function(){for(d=1;d<=s;d++)for(r=1;r<=l;r++){var e=(l+1)*(d-1)+(r-1),t=(l+1)*d+(r-1),n=(l+1)*d+r,i=(l+1)*(d-1)+r;a.push(e,t,i),a.push(t,n,i)}}()}(),this.setIndex(a),this.addAttribute("position",new tr(f,3)),this.addAttribute("normal",new tr(g,3)),this.addAttribute("uv",new tr(n,2))}function Io(e,t,n,i,r,a,o){Wi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new jo(e,t,n,i,r,a)),this.mergeVertices()}function jo(e,t,n,i,r,a){Yr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,a=a||3;var o,s,u=[],l=[],c=[],d=[],h=new Ot,p=new Ot,m=new Ot,f=new Ot,g=new Ot,_=new Ot,y=new Ot;for(o=0;o<=n;++o){var v=o/n*r*Math.PI*2;for(T(v,r,a,e,m),T(v+.01,r,a,e,f),_.subVectors(f,m),y.addVectors(f,m),g.crossVectors(_,y),y.crossVectors(g,_),g.normalize(),y.normalize(),s=0;s<=i;++s){var M=s/i*Math.PI*2,A=-t*Math.cos(M),b=t*Math.sin(M);h.x=m.x+(A*y.x+b*g.x),h.y=m.y+(A*y.y+b*g.y),h.z=m.z+(A*y.z+b*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),d.push(o/n),d.push(s/i)}}for(s=1;s<=n;s++)for(o=1;o<=i;o++){var w=(i+1)*(s-1)+(o-1),x=(i+1)*s+(o-1),E=(i+1)*s+o,L=(i+1)*(s-1)+o;u.push(w,x,L),u.push(x,E,L)}function T(e,t,n,i,r){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);r.x=i*(2+u)*.5*a,r.y=i*(2+u)*o*.5,r.z=i*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new tr(l,3)),this.addAttribute("normal",new tr(c,3)),this.addAttribute("uv",new tr(d,2))}function Oo(e,t,n,i,r){Wi.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new zo(e,t,n,i,r)),this.mergeVertices()}function zo(e,t,n,i,r){Yr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var a,o,s=[],u=[],l=[],c=[],d=new Ot,h=new Ot,p=new Ot;for(a=0;a<=n;a++)for(o=0;o<=i;o++){var m=o/i*r,f=a/n*Math.PI*2;h.x=(e+t*Math.cos(f))*Math.cos(m),h.y=(e+t*Math.cos(f))*Math.sin(m),h.z=t*Math.sin(f),u.push(h.x,h.y,h.z),d.x=e*Math.cos(m),d.y=e*Math.sin(m),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(o/i),c.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=i;o++){var g=(i+1)*a+o-1,_=(i+1)*(a-1)+o-1,y=(i+1)*(a-1)+o,v=(i+1)*a+o;s.push(g,_,v),s.push(_,y,v)}this.setIndex(s),this.addAttribute("position",new tr(u,3)),this.addAttribute("normal",new tr(l,3)),this.addAttribute("uv",new tr(c,2))}Ka.prototype.isFogExp2=!0,Ka.prototype.clone=function(){return new Ka(this.color.getHex(),this.density)},Ka.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},$a.prototype.isFog=!0,$a.prototype.clone=function(){return new $a(this.color.getHex(),this.near,this.far)},$a.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},eo.prototype=Object.assign(Object.create(Oi.prototype),{constructor:eo,copy:function(e,t){return Oi.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Oi.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),((to.prototype=Object.create(ri.prototype)).constructor=to).prototype.isSpriteMaterial=!0,to.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},no.prototype=Object.assign(Object.create(Oi.prototype),{constructor:no,isSprite:!0,raycast:(Sa=new Ot,Ca=new Ot,Na=new Ot,function(e,t){Ca.setFromMatrixPosition(this.matrixWorld),e.ray.closestPointToPoint(Ca,Sa),Na.setFromMatrixScale(this.matrixWorld);var n=Na.x*Na.y/4;if(!(Ca.distanceToSquared(Sa)>n)){var i=e.ray.origin.distanceTo(Sa);i<e.near||i>e.far||t.push({distance:i,point:Sa.clone(),face:null,object:this})}}),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Oi.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),io.prototype=Object.assign(Object.create(Oi.prototype),{constructor:io,copy:function(e){Oi.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);n.splice(i,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:(ja=new Ot,function(e,t){ja.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(ja);this.getObjectForDistance(n).raycast(e,t)}),update:(ka=new Ot,Ia=new Ot,function(e){var t=this.levels;if(1<t.length){ka.setFromMatrixPosition(e.matrixWorld),Ia.setFromMatrixPosition(this.matrixWorld);var n=ka.distanceTo(Ia);t[0].object.visible=!0;for(var i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(;i<r;i++)t[i].object.visible=!1}}),toJSON:function(e){var t=Oi.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Object.assign(ro.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new It;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(Oa=new It,za=new It,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=e.length;r<a;r++){var o=e[r]?e[r].matrixWorld:za;Oa.multiplyMatrices(o,t[r]),Oa.toArray(n,16*r)}void 0!==i&&(i.needsUpdate=!0)}),clone:function(){return new ro(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}}),ao.prototype=Object.assign(Object.create(Oi.prototype),{constructor:ao,isBone:!0}),oo.prototype=Object.assign(Object.create(Zr.prototype),{constructor:oo,isSkinnedMesh:!0,initBones:function(){var e,t,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)t=this.geometry.bones[n],e=new ao,r.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==r[t.parent]?r[t.parent].add(r[n]):this.add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];(e=1/n.manhattanLength())!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new Ut,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++)i.x=r.getX(t),i.y=r.getY(t),i.z=r.getZ(t),i.w=r.getW(t),(e=1/i.manhattanLength())!==1/0?i.multiplyScalar(e):i.set(1,0,0,0),r.setXYZW(t,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(e){Zr.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),((so.prototype=Object.create(ri.prototype)).constructor=so).prototype.isLineBasicMaterial=!0,so.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},uo.prototype=Object.assign(Object.create(Oi.prototype),{constructor:uo,isLine:!0,computeLineDistances:(Ba=new Ot,Ua=new Ot,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)Ba.fromBufferAttribute(t,i-1),Ua.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Ba.distanceTo(Ua);e.addAttribute("lineDistance",new THREE.Float32BufferAttribute(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;for((n=e.lineDistances)[0]=0,i=1,r=a.length;i<r;i++)n[i]=n[i-1],n[i]+=a[i-1].distanceTo(a[i])}return this}),raycast:(Ra=new It,Pa=new Wr,Ya=new ui,function(e,t){var n=e.linePrecision,i=n*n,r=this.geometry,a=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),Ya.copy(r.boundingSphere),Ya.applyMatrix4(a),!1!==e.ray.intersectsSphere(Ya)){Ra.getInverse(a),Pa.copy(e.ray).applyMatrix4(Ra);var o=new Ot,s=new Ot,u=new Ot,l=new Ot,c=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var d=r.index,h=r.attributes.position.array;if(null!==d)for(var p=d.array,m=0,f=p.length-1;m<f;m+=c){var g=p[m],_=p[m+1];o.fromArray(h,3*g),s.fromArray(h,3*_),i<Pa.distanceSqToSegment(o,s,l,u)||(l.applyMatrix4(this.matrixWorld),(M=e.ray.origin.distanceTo(l))<e.near||M>e.far||t.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else for(m=0,f=h.length/3-1;m<f;m+=c)o.fromArray(h,3*m),s.fromArray(h,3*m+3),i<Pa.distanceSqToSegment(o,s,l,u)||(l.applyMatrix4(this.matrixWorld),(M=e.ray.origin.distanceTo(l))<e.near||M>e.far||t.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else if(r.isGeometry){var y=r.vertices,v=y.length;for(m=0;m<v-1;m+=c){var M;i<Pa.distanceSqToSegment(y[m],y[m+1],l,u)||(l.applyMatrix4(this.matrixWorld),(M=e.ray.origin.distanceTo(l))<e.near||M>e.far||t.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),lo.prototype=Object.assign(Object.create(uo.prototype),{constructor:lo,isLineSegments:!0,computeLineDistances:(Ha=new Ot,Fa=new Ot,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)Ha.fromBufferAttribute(t,i),Fa.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Ha.distanceTo(Fa);e.addAttribute("lineDistance",new THREE.Float32BufferAttribute(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices;for(n=e.lineDistances,i=0,r=a.length;i<r;i+=2)Ha.copy(a[i]),Fa.copy(a[i+1]),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Ha.distanceTo(Fa)}return this})}),co.prototype=Object.assign(Object.create(uo.prototype),{constructor:co,isLineLoop:!0}),((ho.prototype=Object.create(ri.prototype)).constructor=ho).prototype.isPointsMaterial=!0,ho.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},po.prototype=Object.assign(Object.create(Oi.prototype),{constructor:po,isPoints:!0,raycast:(Ga=new It,Va=new Wr,Wa=new ui,function(a,o){var s=this,e=this.geometry,u=this.matrixWorld,t=a.params.Points.threshold;if(null===e.boundingSphere&&e.computeBoundingSphere(),Wa.copy(e.boundingSphere),Wa.applyMatrix4(u),Wa.radius+=t,!1!==a.ray.intersectsSphere(Wa)){Ga.getInverse(u),Va.copy(a.ray).applyMatrix4(Ga);var n=t/((this.scale.x+this.scale.y+this.scale.z)/3),l=n*n,i=new Ot;if(e.isBufferGeometry){var r=e.index,c=e.attributes.position.array;if(null!==r)for(var d=r.array,h=0,p=d.length;h<p;h++){var m=d[h];i.fromArray(c,3*m),_(i,m)}else{h=0;for(var f=c.length/3;h<f;h++)i.fromArray(c,3*h),_(i,h)}}else{var g=e.vertices;for(h=0,f=g.length;h<f;h++)_(g[h],h)}}function _(e,t){var n=Va.distanceSqToPoint(e);if(n<l){var i=Va.closestPointToPoint(e);i.applyMatrix4(u);var r=a.ray.origin.distanceTo(i);if(r<a.near||r>a.far)return;o.push({distance:r,distanceToRay:Math.sqrt(n),point:i.clone(),index:t,face:null,object:s})}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),mo.prototype=Object.assign(Object.create(Oi.prototype),{constructor:mo,isGroup:!0}),fo.prototype=Object.assign(Object.create(Bt.prototype),{constructor:fo,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((go.prototype=Object.create(Bt.prototype)).constructor=go).prototype.isCompressedTexture=!0,((_o.prototype=Object.create(Bt.prototype)).constructor=_o).prototype.isDepthTexture=!0,(yo.prototype=Object.create(Yr.prototype)).constructor=yo,(vo.prototype=Object.create(Wi.prototype)).constructor=vo,(Mo.prototype=Object.create(Yr.prototype)).constructor=Mo,(Ao.prototype=Object.create(Wi.prototype)).constructor=Ao,(bo.prototype=Object.create(Yr.prototype)).constructor=bo,(wo.prototype=Object.create(Wi.prototype)).constructor=wo,(xo.prototype=Object.create(bo.prototype)).constructor=xo,(Eo.prototype=Object.create(Wi.prototype)).constructor=Eo,(Lo.prototype=Object.create(bo.prototype)).constructor=Lo,(To.prototype=Object.create(Wi.prototype)).constructor=To,(Do.prototype=Object.create(bo.prototype)).constructor=Do,(So.prototype=Object.create(Wi.prototype)).constructor=So,(Co.prototype=Object.create(bo.prototype)).constructor=Co,(No.prototype=Object.create(Wi.prototype)).constructor=No,(ko.prototype=Object.create(Yr.prototype)).constructor=ko,(Io.prototype=Object.create(Wi.prototype)).constructor=Io,(jo.prototype=Object.create(Yr.prototype)).constructor=jo,(Oo.prototype=Object.create(Wi.prototype)).constructor=Oo,(zo.prototype=Object.create(Yr.prototype)).constructor=zo;var Ro=function(e,t,n){n=n||2;var i,r,a,o,s,u,l,c=t&&t.length,d=c?t[0]*n:e.length,h=Po(e,0,d,n,!0),p=[];if(!h)return p;if(c&&(h=function(e,t,n,i){var r,a,o,s,u,l=[];for(r=0,a=t.length;r<a;r++)o=t[r]*i,s=r<a-1?t[r+1]*i:e.length,(u=Po(e,o,s,i,!1))===u.next&&(u.steiner=!0),l.push(qo(u));for(l.sort(Vo),r=0;r<l.length;r++)Wo(l[r],n),n=Yo(n,n.next);return n}(e,t,h,n)),e.length>80*n){i=a=e[0],r=o=e[1];for(var m=n;m<d;m+=n)(s=e[m])<i&&(i=s),(u=e[m+1])<r&&(r=u),a<s&&(a=s),o<u&&(o=u);l=0!==(l=Math.max(a-i,o-r))?1/l:0}return Bo(h,p,n,i,r,l),p};function Po(e,t,n,i,r){var a,o;if(r===0<function(e,t,n,i){for(var r=0,a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i))for(a=t;a<n;a+=i)o=ts(a,e[a],e[a+1],o);else for(a=n-i;t<=a;a-=i)o=ts(a,e[a],e[a+1],o);return o&&Jo(o,o.next)&&(ns(o),o=o.next),o}function Yo(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Jo(i,i.next)&&0!==Xo(i.prev,i,i.next))i=i.next;else{if(ns(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Bo(e,t,n,i,r,a,o){if(e){!o&&a&&function(e,t,n,i){var r=e;for(;null===r.z&&(r.z=Qo(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next,r!==e;);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,a,o,s,u,l=1;do{for(n=e,a=e=null,o=0;n;){for(o++,i=n,t=s=0;t<l&&(s++,i=i.nextZ);t++);for(u=l;0<s||0<u&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(n=(r=n).nextZ,s--):(i=(r=i).nextZ,u--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;n=i}a.nextZ=null,l*=2}while(1<o)}(r)}(e,i,r,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Ho(e,i,r,a):Uo(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),ns(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Bo(e=Fo(e,t,n),t,n,i,r,a,2):2===o&&Go(e,t,n,i,r,a):Bo(Yo(e),t,n,i,r,a,1);break}}}function Uo(e){var t=e.prev,n=e,i=e.next;if(0<=Xo(t,n,i))return!1;for(var r=e.next.next;r!==e.prev;){if(Zo(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&0<=Xo(r.prev,r,r.next))return!1;r=r.next}return!0}function Ho(e,t,n,i){var r=e.prev,a=e,o=e.next;if(0<=Xo(r,a,o))return!1;for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,u=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,l=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,c=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,d=Qo(s,u,t,n,i),h=Qo(l,c,t,n,i),p=e.nextZ;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Zo(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=Xo(p.prev,p,p.next))return!1;p=p.nextZ}for(p=e.prevZ;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&Zo(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=Xo(p.prev,p,p.next))return!1;p=p.prevZ}return!0}function Fo(e,t,n){var i=e;do{var r=i.prev,a=i.next.next;!Jo(r,a)&&Ko(r,i,i.next,a)&&$o(r,a)&&$o(a,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(a.i/n),ns(i),ns(i.next),i=e=a),i=i.next}while(i!==e);return i}function Go(e,t,n,i,r,a){var o,s,u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&(s=l,(o=u).next.i!==s.i&&o.prev.i!==s.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ko(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(o,s)&&$o(o,s)&&$o(s,o)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;for(;n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next,n!==e;);return i}(o,s))){var c=es(u,l);return u=Yo(u,u.next),c=Yo(c,c.next),Bo(u,t,n,i,r,a),void Bo(c,t,n,i,r,a)}l=l.next}u=u.next}while(u!==e)}function Vo(e,t){return e.x-t.x}function Wo(e,t){if(t=function(e,t){var n,i=t,r=e.x,a=e.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&o<s){if((o=s)===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===o)return n.prev;var u,l=n,c=n.x,d=n.y,h=1/0;i=n.next;for(;i!==l;)r>=i.x&&i.x>=c&&r!==i.x&&Zo(a<d?r:o,a,c,d,a<d?o:r,a,i.x,i.y)&&((u=Math.abs(a-i.y)/(r-i.x))<h||u===h&&i.x>n.x)&&$o(i,e)&&(n=i,h=u),i=i.next;return n}(e,t)){var n=es(t,e);Yo(n,n.next)}}function Qo(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function qo(e){for(var t=e,n=e;t.x<n.x&&(n=t),(t=t.next)!==e;);return n}function Zo(e,t,n,i,r,a,o,s){return 0<=(r-o)*(t-s)-(e-o)*(a-s)&&0<=(e-o)*(i-s)-(n-o)*(t-s)&&0<=(n-o)*(a-s)-(r-o)*(i-s)}function Xo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Jo(e,t){return e.x===t.x&&e.y===t.y}function Ko(e,t,n,i){return!!(Jo(e,t)&&Jo(n,i)||Jo(e,i)&&Jo(n,t))||0<Xo(e,t,n)!=0<Xo(e,t,i)&&0<Xo(n,i,e)!=0<Xo(n,i,t)}function $o(e,t){return Xo(e.prev,e,e.next)<0?0<=Xo(e,t,e.next)&&0<=Xo(e,e.prev,t):Xo(e,t,e.prev)<0||Xo(e,e.next,t)<0}function es(e,t){var n=new is(e.i,e.x,e.y),i=new is(t.i,t.x,t.y),r=e.next,a=t.prev;return(e.next=t).prev=e,(n.next=r).prev=n,(i.next=n).prev=i,(a.next=i).prev=a,i}function ts(e,t,n,i){var r=new is(e,t,n);return i?(r.next=i.next,(r.prev=i).next.prev=r,i.next=r):(r.prev=r).next=r,r}function ns(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function is(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var rs={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return rs.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];as(e),os(n,e);var a=e.length;t.forEach(as);for(var o=0;o<t.length;o++)i.push(a),a+=t[o].length,os(n,t[o]);var s=Ro(n,i);for(o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function as(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function os(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function ss(e,t){Wi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new us(e,t)),this.mergeVertices()}function us(e,t){void 0!==e&&(Yr.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function ls(e,t){Wi.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new cs(e,t)),this.mergeVertices()}function cs(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Wi;var i=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),us.call(this,i,t),this.type="TextBufferGeometry"}function ds(e,t,n,i,r,a,o){Wi.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new hs(e,t,n,i,r,a,o)),this.mergeVertices()}function hs(e,t,n,i,r,a,o){Yr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var s,u,l=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),c=0,d=[],h=new Ot,p=new Ot,m=[],f=[],g=[],_=[];for(u=0;u<=n;u++){var y=[],v=u/n;for(s=0;s<=t;s++){var M=s/t;h.x=-e*Math.cos(i+M*r)*Math.sin(a+v*o),h.y=e*Math.cos(a+v*o),h.z=e*Math.sin(i+M*r)*Math.sin(a+v*o),f.push(h.x,h.y,h.z),p.set(h.x,h.y,h.z).normalize(),g.push(p.x,p.y,p.z),_.push(M,1-v),y.push(c++)}d.push(y)}for(u=0;u<n;u++)for(s=0;s<t;s++){var A=d[u][s+1],b=d[u][s],w=d[u+1][s],x=d[u+1][s+1];(0!==u||0<a)&&m.push(A,b,x),(u!==n-1||l<Math.PI)&&m.push(b,w,x)}this.setIndex(m),this.addAttribute("position",new tr(f,3)),this.addAttribute("normal",new tr(g,3)),this.addAttribute("uv",new tr(_,2))}function ps(e,t,n,i,r,a){Wi.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new ms(e,t,n,i,r,a)),this.mergeVertices()}function ms(e,t,n,i,r,a){Yr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},e=e||.5,t=t||1,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,u,l=[],c=[],d=[],h=[],p=e,m=(t-e)/(i=void 0!==i?Math.max(1,i):1),f=new Ot,g=new kt;for(s=0;s<=i;s++){for(u=0;u<=n;u++)o=r+u/n*a,f.x=p*Math.cos(o),f.y=p*Math.sin(o),c.push(f.x,f.y,f.z),d.push(0,0,1),g.x=(f.x/t+1)/2,g.y=(f.y/t+1)/2,h.push(g.x,g.y);p+=m}for(s=0;s<i;s++){var _=s*(n+1);for(u=0;u<n;u++){var y=o=u+_,v=o+n+1,M=o+n+2,A=o+1;l.push(y,v,A),l.push(v,M,A)}}this.setIndex(l),this.addAttribute("position",new tr(c,3)),this.addAttribute("normal",new tr(d,3)),this.addAttribute("uv",new tr(h,2))}function fs(e,t,n,i){Wi.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new gs(e,t,n,i)),this.mergeVertices()}function gs(e,t,n,i){Yr.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=Nt.clamp(i,0,2*Math.PI);var r,a,o,s=[],u=[],l=[],c=1/t,d=new Ot,h=new kt;for(a=0;a<=t;a++){var p=n+a*c*i,m=Math.sin(p),f=Math.cos(p);for(o=0;o<=e.length-1;o++)d.x=e[o].x*m,d.y=e[o].y,d.z=e[o].x*f,u.push(d.x,d.y,d.z),h.x=a/t,h.y=o/(e.length-1),l.push(h.x,h.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var g=r=o+a*e.length,_=r+e.length,y=r+e.length+1,v=r+1;s.push(g,_,v),s.push(_,y,v)}if(this.setIndex(s),this.addAttribute("position",new tr(u,3)),this.addAttribute("uv",new tr(l,2)),this.computeVertexNormals(),i===2*Math.PI){var M=this.attributes.normal.array,A=new Ot,b=new Ot,w=new Ot;for(r=t*e.length*3,o=a=0;a<e.length;a++,o+=3)A.x=M[o+0],A.y=M[o+1],A.z=M[o+2],b.x=M[r+o+0],b.y=M[r+o+1],b.z=M[r+o+2],w.addVectors(A,b).normalize(),M[o+0]=M[r+o+0]=w.x,M[o+1]=M[r+o+1]=w.y,M[o+2]=M[r+o+2]=w.z}}function _s(e,t){Wi.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new ys(e,t)),this.mergeVertices()}function ys(e,m){Yr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:m},m=m||12;var f=[],g=[],_=[],y=[],t=0,v=0;if(!1===Array.isArray(e))i(e);else for(var n=0;n<e.length;n++)i(e[n]),this.addGroup(t,v,n),t+=v,v=0;function i(e){var t,n,i,r=g.length/3,a=e.extractPoints(m),o=a.shape,s=a.holes;if(!1===rs.isClockWise(o))for(o=o.reverse(),t=0,n=s.length;t<n;t++)i=s[t],!0===rs.isClockWise(i)&&(s[t]=i.reverse());var u=rs.triangulateShape(o,s);for(t=0,n=s.length;t<n;t++)i=s[t],o=o.concat(i);for(t=0,n=o.length;t<n;t++){var l=o[t];g.push(l.x,l.y,0),_.push(0,0,1),y.push(l.x,l.y)}for(t=0,n=u.length;t<n;t++){var c=u[t],d=c[0]+r,h=c[1]+r,p=c[2]+r;f.push(d,h,p),v+=3}}this.setIndex(f),this.addAttribute("position",new tr(g,3)),this.addAttribute("normal",new tr(_,3)),this.addAttribute("uv",new tr(y,2))}function vs(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function Ms(e,t){Yr.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,a,o=[],s=Math.cos(Nt.DEG2RAD*t),u=[0,0],l={},c=["a","b","c"];e.isBufferGeometry?(a=new Wi).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var d=a.vertices,h=a.faces,p=0,m=h.length;p<m;p++)for(var f=h[p],g=0;g<3;g++)n=f[c[g]],i=f[c[(g+1)%3]],u[0]=Math.min(n,i),u[1]=Math.max(n,i),void 0===l[r=u[0]+","+u[1]]?l[r]={index1:u[0],index2:u[1],face1:p,face2:void 0}:l[r].face2=p;for(r in l){var _=l[r];if(void 0===_.face2||h[_.face1].normal.dot(h[_.face2].normal)<=s){var y=d[_.index1];o.push(y.x,y.y,y.z),y=d[_.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new tr(o,3))}function As(e,t,n,i,r,a,o,s){Wi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new bs(e,t,n,i,r,a,o,s)),this.mergeVertices()}function bs(_,y,v,M,A,e,b,w){Yr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:_,radiusBottom:y,height:v,radialSegments:M,heightSegments:A,openEnded:e,thetaStart:b,thetaLength:w};var x=this;_=void 0!==_?_:1,y=void 0!==y?y:1,v=v||1,M=Math.floor(M)||8,A=Math.floor(A)||1,e=void 0!==e&&e,b=void 0!==b?b:0,w=void 0!==w?w:2*Math.PI;var E=[],L=[],T=[],D=[],S=0,C=[],N=v/2,k=0;function t(e){var t,n,i,r=new kt,a=new Ot,o=0,s=!0===e?_:y,u=!0===e?1:-1;for(n=S,t=1;t<=M;t++)L.push(0,N*u,0),T.push(0,u,0),D.push(.5,.5),S++;for(i=S,t=0;t<=M;t++){var l=t/M*w+b,c=Math.cos(l),d=Math.sin(l);a.x=s*d,a.y=N*u,a.z=s*c,L.push(a.x,a.y,a.z),T.push(0,u,0),r.x=.5*c+.5,r.y=.5*d*u+.5,D.push(r.x,r.y),S++}for(t=0;t<M;t++){var h=n+t,p=i+t;!0===e?E.push(p,p+1,h):E.push(p+1,p,h),o+=3}x.addGroup(k,o,!0===e?1:2),k+=o}!function(){var e,t,n=new Ot,i=new Ot,r=0,a=(y-_)/v;for(t=0;t<=A;t++){var o=[],s=t/A,u=s*(y-_)+_;for(e=0;e<=M;e++){var l=e/M,c=l*w+b,d=Math.sin(c),h=Math.cos(c);i.x=u*d,i.y=-s*v+N,i.z=u*h,L.push(i.x,i.y,i.z),n.set(d,a,h).normalize(),T.push(n.x,n.y,n.z),D.push(l,1-s),o.push(S++)}C.push(o)}for(e=0;e<M;e++)for(t=0;t<A;t++){var p=C[t][e],m=C[t+1][e],f=C[t+1][e+1],g=C[t][e+1];E.push(p,m,g),E.push(m,f,g),r+=6}x.addGroup(k,r,0),k+=r}(),!1===e&&(0<_&&t(!0),0<y&&t(!1)),this.setIndex(E),this.addAttribute("position",new tr(L,3)),this.addAttribute("normal",new tr(T,3)),this.addAttribute("uv",new tr(D,2))}function ws(e,t,n,i,r,a,o){As.call(this,0,e,t,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function xs(e,t,n,i,r,a,o){bs.call(this,0,e,t,n,i,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function Es(e,t,n,i){Wi.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Ls(e,t,n,i)),this.mergeVertices()}function Ls(e,t,n,i){Yr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,a,o=[],s=[],u=[],l=[],c=new Ot,d=new kt;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,r=3;a<=t;a++,r+=3){var h=n+a/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),u.push(0,0,1),d.x=(s[r]/e+1)/2,d.y=(s[r+1]/e+1)/2,l.push(d.x,d.y)}for(r=1;r<=t;r++)o.push(r,r+1,0);this.setIndex(o),this.addAttribute("position",new tr(s,3)),this.addAttribute("normal",new tr(u,3)),this.addAttribute("uv",new tr(l,2))}(ss.prototype=Object.create(Wi.prototype)).constructor=ss,((us.prototype=Object.create(Yr.prototype)).constructor=us).prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],n=this.getAttribute("uv"),i=n?Array.prototype.slice.call(n.array):[],r=this.index;return{position:t,uv:i,index:r?Array.prototype.slice.call(r.array):[]}},us.prototype.addShapeList=function(e,t){var n=e.length;t.arrays=this.getArrays();for(var i=0;i<n;i++){var r=e[i];this.addShape(r,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new tr(t.arrays.position,3)),this.addAttribute("uv",new tr(t.arrays.uv,2))},us.prototype.addShape=function(e,i){var t,n,r,a,o,s,u,l,c=i.arrays?i.arrays:this.getArrays(),d=c.position,h=c.index,p=c.uv,m=[],f=void 0!==i.amount?i.amount:100,g=void 0!==i.bevelThickness?i.bevelThickness:6,_=void 0!==i.bevelSize?i.bevelSize:g-2,y=void 0!==i.bevelSegments?i.bevelSegments:3,v=void 0===i.bevelEnabled||i.bevelEnabled,M=void 0!==i.curveSegments?i.curveSegments:12,A=void 0!==i.steps?i.steps:1,b=i.extrudePath,w=!1,x=void 0!==i.UVGenerator?i.UVGenerator:ss.WorldUVGenerator;b&&(t=b.getSpacedPoints(A),v=!(w=!0),n=void 0!==i.frames?i.frames:b.computeFrenetFrames(A,!1),r=new Ot,a=new Ot,o=new Ot),v||(_=g=y=0);var E=this,L=e.extractPoints(M),T=L.shape,D=L.holes;if(!rs.isClockWise(T))for(T=T.reverse(),u=0,l=D.length;u<l;u++)s=D[u],rs.isClockWise(s)&&(D[u]=s.reverse());var S=rs.triangulateShape(T,D),C=T;for(u=0,l=D.length;u<l;u++)s=D[u],T=T.concat(s);function N(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var k,I,j,O,z,R,P=T.length,Y=S.length;function B(e,t,n){var i,r,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,d=o*l-s*u;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(c),p=Math.sqrt(u*u+l*l),m=t.x-s/h,f=t.y+o/h,g=((n.x-l/p-m)*l-(n.y+u/p-f)*u)/(o*l-s*u),_=(i=m+o*g-e.x)*i+(r=f+s*g-e.y)*r;if(_<=2)return new kt(i,r);a=Math.sqrt(_/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(i=-s,r=o,a=Math.sqrt(c)):(i=o,r=s,a=Math.sqrt(c/2))}return new kt(i/a,r/a)}for(var U=[],H=0,F=C.length,G=F-1,V=H+1;H<F;H++,G++,V++)G===F&&(G=0),V===F&&(V=0),U[H]=B(C[H],C[G],C[V]);var W,Q,q=[],Z=U.concat();for(u=0,l=D.length;u<l;u++){for(s=D[u],W=[],H=0,G=(F=s.length)-1,V=H+1;H<F;H++,G++,V++)G===F&&(G=0),V===F&&(V=0),W[H]=B(s[H],s[G],s[V]);q.push(W),Z=Z.concat(W)}for(k=0;k<y;k++){for(j=k/y,O=g*Math.cos(j*Math.PI/2),I=_*Math.sin(j*Math.PI/2),H=0,F=C.length;H<F;H++)J((z=N(C[H],U[H],I)).x,z.y,-O);for(u=0,l=D.length;u<l;u++)for(s=D[u],W=q[u],H=0,F=s.length;H<F;H++)J((z=N(s[H],W[H],I)).x,z.y,-O)}for(I=_,H=0;H<P;H++)z=v?N(T[H],Z[H],I):T[H],w?(a.copy(n.normals[0]).multiplyScalar(z.x),r.copy(n.binormals[0]).multiplyScalar(z.y),o.copy(t[0]).add(a).add(r),J(o.x,o.y,o.z)):J(z.x,z.y,0);for(Q=1;Q<=A;Q++)for(H=0;H<P;H++)z=v?N(T[H],Z[H],I):T[H],w?(a.copy(n.normals[Q]).multiplyScalar(z.x),r.copy(n.binormals[Q]).multiplyScalar(z.y),o.copy(t[Q]).add(a).add(r),J(o.x,o.y,o.z)):J(z.x,z.y,f/A*Q);for(k=y-1;0<=k;k--){for(j=k/y,O=g*Math.cos(j*Math.PI/2),I=_*Math.sin(j*Math.PI/2),H=0,F=C.length;H<F;H++)J((z=N(C[H],U[H],I)).x,z.y,f+O);for(u=0,l=D.length;u<l;u++)for(s=D[u],W=q[u],H=0,F=s.length;H<F;H++)z=N(s[H],W[H],I),w?J(z.x,z.y+t[A-1].y,t[A-1].x+O):J(z.x,z.y,f+O)}function X(e,t){var n,i;for(H=e.length;0<=--H;){(i=(n=H)-1)<0&&(i=e.length-1);var r=0,a=A+2*y;for(r=0;r<a;r++){var o=P*r,s=P*(r+1);$(t+n+o,t+i+o,t+i+s,t+n+s)}}}function J(e,t,n){m.push(e),m.push(t),m.push(n)}function K(e,t,n){ee(e),ee(t),ee(n);var i=d.length/3,r=x.generateTopUV(E,d,i-3,i-2,i-1);te(r[0]),te(r[1]),te(r[2])}function $(e,t,n,i){ee(e),ee(t),ee(i),ee(t),ee(n),ee(i);var r=d.length/3,a=x.generateSideWallUV(E,d,r-6,r-3,r-2,r-1);te(a[0]),te(a[1]),te(a[3]),te(a[1]),te(a[2]),te(a[3])}function ee(e){h.push(d.length/3),d.push(m[3*e+0]),d.push(m[3*e+1]),d.push(m[3*e+2])}function te(e){p.push(e.x),p.push(e.y)}!function(){var e=d.length/3;if(v){var t=0,n=P*t;for(H=0;H<Y;H++)K((R=S[H])[2]+n,R[1]+n,R[0]+n);for(n=P*(t=A+2*y),H=0;H<Y;H++)K((R=S[H])[0]+n,R[1]+n,R[2]+n)}else{for(H=0;H<Y;H++)K((R=S[H])[2],R[1],R[0]);for(H=0;H<Y;H++)K((R=S[H])[0]+P*A,R[1]+P*A,R[2]+P*A)}E.addGroup(e,d.length/3-e,void 0!==i.material?i.material:0)}(),function(){var e=d.length/3,t=0;for(X(C,t),t+=C.length,u=0,l=D.length;u<l;u++)X(s=D[u],t),t+=s.length;E.addGroup(e,d.length/3-e,void 0!==i.extrudeMaterial?i.extrudeMaterial:1)}(),i.arrays||(this.setIndex(h),this.addAttribute("position",new tr(d,3)),this.addAttribute("uv",new tr(p,2)))},ss.WorldUVGenerator={generateTopUV:function(e,t,n,i,r){var a=t[3*n],o=t[3*n+1],s=t[3*i],u=t[3*i+1],l=t[3*r],c=t[3*r+1];return[new kt(a,o),new kt(s,u),new kt(l,c)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*i],c=t[3*i+1],d=t[3*i+2],h=t[3*r],p=t[3*r+1],m=t[3*r+2],f=t[3*a],g=t[3*a+1],_=t[3*a+2];return Math.abs(s-c)<.01?[new kt(o,1-u),new kt(l,1-d),new kt(h,1-m),new kt(f,1-_)]:[new kt(s,1-u),new kt(c,1-d),new kt(p,1-m),new kt(g,1-_)]}},(ls.prototype=Object.create(Wi.prototype)).constructor=ls,(cs.prototype=Object.create(us.prototype)).constructor=cs,(ds.prototype=Object.create(Wi.prototype)).constructor=ds,(hs.prototype=Object.create(Yr.prototype)).constructor=hs,(ps.prototype=Object.create(Wi.prototype)).constructor=ps,(ms.prototype=Object.create(Yr.prototype)).constructor=ms,(fs.prototype=Object.create(Wi.prototype)).constructor=fs,(gs.prototype=Object.create(Yr.prototype)).constructor=gs,((_s.prototype=Object.create(Wi.prototype)).constructor=_s).prototype.toJSON=function(){var e=Wi.prototype.toJSON.call(this);return vs(this.parameters.shapes,e)},((ys.prototype=Object.create(Yr.prototype)).constructor=ys).prototype.toJSON=function(){var e=Yr.prototype.toJSON.call(this);return vs(this.parameters.shapes,e)},(Ms.prototype=Object.create(Yr.prototype)).constructor=Ms,(As.prototype=Object.create(Wi.prototype)).constructor=As,(bs.prototype=Object.create(Yr.prototype)).constructor=bs,(ws.prototype=Object.create(As.prototype)).constructor=ws,(xs.prototype=Object.create(bs.prototype)).constructor=xs,(Es.prototype=Object.create(Wi.prototype)).constructor=Es,(Ls.prototype=Object.create(Yr.prototype)).constructor=Ls;var Ts=Object.freeze({WireframeGeometry:yo,ParametricGeometry:vo,ParametricBufferGeometry:Mo,TetrahedronGeometry:wo,TetrahedronBufferGeometry:xo,OctahedronGeometry:Eo,OctahedronBufferGeometry:Lo,IcosahedronGeometry:To,IcosahedronBufferGeometry:Do,DodecahedronGeometry:So,DodecahedronBufferGeometry:Co,PolyhedronGeometry:Ao,PolyhedronBufferGeometry:bo,TubeGeometry:No,TubeBufferGeometry:ko,TorusKnotGeometry:Io,TorusKnotBufferGeometry:jo,TorusGeometry:Oo,TorusBufferGeometry:zo,TextGeometry:ls,TextBufferGeometry:cs,SphereGeometry:ds,SphereBufferGeometry:hs,RingGeometry:ps,RingBufferGeometry:ms,PlaneGeometry:Hr,PlaneBufferGeometry:Fr,LatheGeometry:fs,LatheBufferGeometry:gs,ShapeGeometry:_s,ShapeBufferGeometry:ys,ExtrudeGeometry:ss,ExtrudeBufferGeometry:us,EdgesGeometry:Ms,ConeGeometry:ws,ConeBufferGeometry:xs,CylinderGeometry:As,CylinderBufferGeometry:bs,CircleGeometry:Es,CircleBufferGeometry:Ls,BoxGeometry:Br,BoxBufferGeometry:Ur});function Ds(e){ri.call(this),this.type="ShadowMaterial",this.color=new In(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function Ss(e){Vr.call(this,e),this.type="RawShaderMaterial"}function Cs(e){ri.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new In(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ns(e){Cs.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function ks(e){ri.call(this),this.type="MeshPhongMaterial",this.color=new In(16777215),this.specular=new In(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=H,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Is(e){ks.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function js(e){ri.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new kt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Os(e){ri.call(this),this.type="MeshLambertMaterial",this.color=new In(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new In(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=H,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function zs(e){so.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}((Ds.prototype=Object.create(ri.prototype)).constructor=Ds).prototype.isShadowMaterial=!0,((Ss.prototype=Object.create(Vr.prototype)).constructor=Ss).prototype.isRawShaderMaterial=!0,((Cs.prototype=Object.create(ri.prototype)).constructor=Cs).prototype.isMeshStandardMaterial=!0,Cs.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Ns.prototype=Object.create(Cs.prototype)).constructor=Ns).prototype.isMeshPhysicalMaterial=!0,Ns.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},((ks.prototype=Object.create(ri.prototype)).constructor=ks).prototype.isMeshPhongMaterial=!0,ks.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Is.prototype=Object.create(ks.prototype)).constructor=Is).prototype.isMeshToonMaterial=!0,Is.prototype.copy=function(e){return ks.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},((js.prototype=Object.create(ri.prototype)).constructor=js).prototype.isMeshNormalMaterial=!0,js.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((Os.prototype=Object.create(ri.prototype)).constructor=Os).prototype.isMeshLambertMaterial=!0,Os.prototype.copy=function(e){return ri.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},((zs.prototype=Object.create(so.prototype)).constructor=zs).prototype.isLineDashedMaterial=!0,zs.prototype.copy=function(e){return so.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Rs=Object.freeze({ShadowMaterial:Ds,SpriteMaterial:to,RawShaderMaterial:Ss,ShaderMaterial:Vr,PointsMaterial:ho,MeshPhysicalMaterial:Ns,MeshStandardMaterial:Cs,MeshPhongMaterial:ks,MeshToonMaterial:Is,MeshNormalMaterial:js,MeshLambertMaterial:Os,MeshDepthMaterial:ai,MeshDistanceMaterial:oi,MeshBasicMaterial:Gr,LineDashedMaterial:zs,LineBasicMaterial:so,Material:ri}),Ps={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Ys(e,t,n){var i=this,r=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var Bs=new Ys,Us={};function Hs(e){this.manager=void 0!==e?e:Bs}function Fs(e){this.manager=void 0!==e?e:Bs,this._parser=null}function Gs(e){this.manager=void 0!==e?e:Bs,this._parser=null}function Vs(e){this.manager=void 0!==e?e:Bs}function Ws(e){this.manager=void 0!==e?e:Bs}function Qs(e){this.manager=void 0!==e?e:Bs}function qs(){this.type="Curve",this.arcLengthDivisions=200}function Zs(e,t,n,i,r,a,o,s){qs.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Xs(e,t,n,i,r,a){Zs.call(this,e,t,n,n,i,r,a),this.type="ArcCurve"}function Js(){var r=0,a=0,o=0,s=0;function l(e,t,n,i){o=-3*(r=e)+3*t-2*(a=n)-i,s=2*e-2*t+n+i}return{initCatmullRom:function(e,t,n,i,r){l(t,n,r*(n-e),r*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,r,a,o){var s=(t-e)/r-(n-e)/(r+a)+(n-t)/a,u=(n-t)/a-(i-t)/(a+o)+(i-n)/o;l(t,n,s*=a,u*=a)},calc:function(e){var t=e*e;return r+a*e+o*t+s*(t*e)}}}Object.assign(Hs.prototype,{load:function(o,e,t,n){void 0===o&&(o=""),void 0!==this.path&&(o=this.path+o),o=this.manager.resolveURL(o);var s=this,i=Ps.get(o);if(void 0!==i)return s.manager.itemStart(o),setTimeout(function(){e&&e(i),s.manager.itemEnd(o)},0),i;if(void 0===Us[o]){var r=o.match(/^data:(.*?)(;base64)?,(.*)$/);if(r){var a=r[1],u=!!r[2],l=r[3];l=window.decodeURIComponent(l),u&&(l=window.atob(l));try{var c,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);c="blob"===d?new Blob([h.buffer],{type:a}):h.buffer;break;case"document":var m=new DOMParser;c=m.parseFromString(l,a);break;case"json":c=JSON.parse(l);break;default:c=l}window.setTimeout(function(){e&&e(c),s.manager.itemEnd(o)},0)}catch(e){window.setTimeout(function(){n&&n(e),s.manager.itemEnd(o),s.manager.itemError(o)},0)}}else{Us[o]=[],Us[o].push({onLoad:e,onProgress:t,onError:n});var f=new XMLHttpRequest;for(var g in f.open("GET",o,!0),f.addEventListener("load",function(e){var t=this.response;Ps.add(o,t);var n=Us[o];if(delete Us[o],200===this.status){for(var i=0,r=n.length;i<r;i++){(a=n[i]).onLoad&&a.onLoad(t)}s.manager.itemEnd(o)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");for(i=0,r=n.length;i<r;i++){(a=n[i]).onLoad&&a.onLoad(t)}s.manager.itemEnd(o)}else{for(i=0,r=n.length;i<r;i++){var a;(a=n[i]).onError&&a.onError(e)}s.manager.itemEnd(o),s.manager.itemError(o)}},!1),f.addEventListener("progress",function(e){for(var t=Us[o],n=0,i=t.length;n<i;n++){var r=t[n];r.onProgress&&r.onProgress(e)}},!1),f.addEventListener("error",function(e){var t=Us[o];delete Us[o];for(var n=0,i=t.length;n<i;n++){var r=t[n];r.onError&&r.onError(e)}s.manager.itemEnd(o),s.manager.itemError(o)},!1),void 0!==this.responseType&&(f.responseType=this.responseType),void 0!==this.withCredentials&&(f.withCredentials=this.withCredentials),f.overrideMimeType&&f.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)f.setRequestHeader(g,this.requestHeader[g]);f.send(null)}return s.manager.itemStart(o),f}Us[o].push({onLoad:e,onProgress:t,onError:n})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Fs.prototype,{load:function(e,a,t,i){var o=this,s=[],u=new go;u.image=s;var r=new Hs(this.manager);function n(n){r.load(e[n],function(e){var t=o._parser(e,!0);s[n]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps},6===(l+=1)&&(1===t.mipmapCount&&(u.minFilter=Se),u.format=t.format,u.needsUpdate=!0,a&&a(u))},t,i)}if(r.setPath(this.path),r.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,c=0,d=e.length;c<d;++c)n(c);else r.load(e,function(e){var t=o._parser(e,!0);if(t.isCubemap)for(var n=t.mipmaps.length/t.mipmapCount,i=0;i<n;i++){s[i]={mipmaps:[]};for(var r=0;r<t.mipmapCount;r++)s[i].mipmaps.push(t.mipmaps[i*t.mipmapCount+r]),s[i].format=t.format,s[i].width=t.width,s[i].height=t.height}else u.image.width=t.width,u.image.height=t.height,u.mipmaps=t.mipmaps;1===t.mipmapCount&&(u.minFilter=Se),u.format=t.format,u.needsUpdate=!0,a&&a(u)},t,i);return u},setPath:function(e){return this.path=e,this}}),Object.assign(Gs.prototype,{load:function(e,n,t,i){var r=this,a=new Gt,o=new Hs(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){var t=r._parser(e);t&&(void 0!==t.image?a.image=t.image:void 0!==t.data&&(a.image.width=t.width,a.image.height=t.height,a.image.data=t.data),a.wrapS=void 0!==t.wrapS?t.wrapS:be,a.wrapT=void 0!==t.wrapT?t.wrapT:be,a.magFilter=void 0!==t.magFilter?t.magFilter:Se,a.minFilter=void 0!==t.minFilter?t.minFilter:Ne,a.anisotropy=void 0!==t.anisotropy?t.anisotropy:1,void 0!==t.format&&(a.format=t.format),void 0!==t.type&&(a.type=t.type),void 0!==t.mipmaps&&(a.mipmaps=t.mipmaps),1===t.mipmapCount&&(a.minFilter=Se),a.needsUpdate=!0,n&&n(a,t))},t,i),a}}),Object.assign(Vs.prototype,{crossOrigin:"Anonymous",load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Ps.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){Ps.add(t,this),e&&e(this),r.manager.itemEnd(t)},!1),o.addEventListener("error",function(e){i&&i(e),r.manager.itemEnd(t),r.manager.itemError(t)},!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ws.prototype,{crossOrigin:"Anonymous",load:function(e,n,t,i){var r=new Vt,a=new Vs(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(t){a.load(e[t],function(e){r.images[t]=e,6===++o&&(r.needsUpdate=!0,n&&n(r))},void 0,i)}for(var u=0;u<e.length;++u)s(u);return r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Qs.prototype,{crossOrigin:"Anonymous",load:function(n,i,e,t){var r=new Bt,a=new Vs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(n,function(e){r.image=e;var t=0<n.search(/\.(jpg|jpeg)$/)||0===n.search(/^data\:image\/jpeg/);r.format=t?Ve:We,r.needsUpdate=!0,void 0!==i&&i(r)},e,t),r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(qs.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),a=0;for(i.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(r),i.push(a),r=t;return this.cacheArcLengths=i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,a=i.length;n=t||e*i[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=i[r=Math.floor(s+(u-s)/2)]-n)<0)s=r+1;else{if(!(0<o)){u=r;break}u=r-1}if(i[r=u]===n)return r/(a-1);var l=i[r];return(r+(n-l)/(i[r+1]-l))/(a-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),1<n&&(n=1);var i=this.getPoint(t);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r,a=new Ot,o=[],s=[],u=[],l=new Ot,c=new It;for(n=0;n<=e;n++)i=n/e,o[n]=this.getTangentAt(i),o[n].normalize();s[0]=new Ot,u[0]=new Ot;var d=Number.MAX_VALUE,h=Math.abs(o[0].x),p=Math.abs(o[0].y),m=Math.abs(o[0].z);for(h<=d&&(d=h,a.set(1,0,0)),p<=d&&(d=p,a.set(0,1,0)),m<=d&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),l.crossVectors(o[n-1],o[n]),l.length()>Number.EPSILON&&(l.normalize(),r=Math.acos(Nt.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(l,r))),u[n].crossVectors(o[n],s[n]);if(!0===t)for(r=Math.acos(Nt.clamp(s[0].dot(s[e]),-1,1)),r/=e,0<o[0].dot(l.crossVectors(s[0],s[e]))&&(r=-r),n=1;n<=e;n++)s[n].applyMatrix4(c.makeRotationAxis(o[n],r*n)),u[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),((Zs.prototype=Object.create(qs.prototype)).constructor=Zs).prototype.isEllipseCurve=!0,Zs.prototype.getPoint=function(e,t){for(var n=t||new kt,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;i<r;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0!==this.aClockwise||a||(r===i?r=-i:r-=i);var o=this.aStartAngle+e*r,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,h=u-this.aY;s=d*l-h*c+this.aX,u=d*c+h*l+this.aY}return n.set(s,u)},Zs.prototype.copy=function(e){return qs.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Zs.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Zs.prototype.fromJSON=function(e){return qs.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},((Xs.prototype=Object.create(Zs.prototype)).constructor=Xs).prototype.isArcCurve=!0;var Ks=new Ot,$s=new Js,eu=new Js,tu=new Js;function nu(e,t,n,i){qs.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function iu(e,t,n,i,r){var a=.5*(i-t),o=.5*(r-n),s=e*e;return(2*n-2*i+a+o)*(e*s)+(-3*n+3*i-2*a-o)*s+a*e+n}function ru(e,t,n,i){return(o=1-e)*o*t+2*(1-(a=e))*a*n+(r=e)*r*i;var r,a,o}function au(e,t,n,i,r){return(l=1-e)*l*l*t+3*(u=1-(s=e))*u*s*n+3*(1-(o=e))*o*o*i+(a=e)*a*a*r;var a,o,s,u,l}function ou(e,t,n,i){qs.call(this),this.type="CubicBezierCurve",this.v0=e||new kt,this.v1=t||new kt,this.v2=n||new kt,this.v3=i||new kt}function su(e,t,n,i){qs.call(this),this.type="CubicBezierCurve3",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=n||new Ot,this.v3=i||new Ot}function uu(e,t){qs.call(this),this.type="LineCurve",this.v1=e||new kt,this.v2=t||new kt}function lu(e,t){qs.call(this),this.type="LineCurve3",this.v1=e||new Ot,this.v2=t||new Ot}function cu(e,t,n){qs.call(this),this.type="QuadraticBezierCurve",this.v0=e||new kt,this.v1=t||new kt,this.v2=n||new kt}function du(e,t,n){qs.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Ot,this.v1=t||new Ot,this.v2=n||new Ot}function hu(e){qs.call(this),this.type="SplineCurve",this.points=e||[]}((nu.prototype=Object.create(qs.prototype)).constructor=nu).prototype.isCatmullRomCurve3=!0,nu.prototype.getPoint=function(e,t){var n,i,r,a,o=t||new Ot,s=this.points,u=s.length,l=(u-(this.closed?0:1))*e,c=Math.floor(l),d=l-c;if(this.closed?c+=0<c?0:(Math.floor(Math.abs(c)/s.length)+1)*s.length:0===d&&c===u-1&&(c=u-2,d=1),this.closed||0<c?n=s[(c-1)%u]:(Ks.subVectors(s[0],s[1]).add(s[0]),n=Ks),i=s[c%u],r=s[(c+1)%u],this.closed||c+2<u?a=s[(c+2)%u]:(Ks.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=Ks),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(r),h),f=Math.pow(r.distanceToSquared(a),h);m<1e-4&&(m=1),p<1e-4&&(p=m),f<1e-4&&(f=m),$s.initNonuniformCatmullRom(n.x,i.x,r.x,a.x,p,m,f),eu.initNonuniformCatmullRom(n.y,i.y,r.y,a.y,p,m,f),tu.initNonuniformCatmullRom(n.z,i.z,r.z,a.z,p,m,f)}else"catmullrom"===this.curveType&&($s.initCatmullRom(n.x,i.x,r.x,a.x,this.tension),eu.initCatmullRom(n.y,i.y,r.y,a.y,this.tension),tu.initCatmullRom(n.z,i.z,r.z,a.z,this.tension));return o.set($s.calc(d),eu.calc(d),tu.calc(d)),o},nu.prototype.copy=function(e){qs.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},nu.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},nu.prototype.fromJSON=function(e){qs.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Ot).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},((ou.prototype=Object.create(qs.prototype)).constructor=ou).prototype.isCubicBezierCurve=!0,ou.prototype.getPoint=function(e,t){var n=t||new kt,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(au(e,i.x,r.x,a.x,o.x),au(e,i.y,r.y,a.y,o.y)),n},ou.prototype.copy=function(e){return qs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},ou.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},ou.prototype.fromJSON=function(e){return qs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},((su.prototype=Object.create(qs.prototype)).constructor=su).prototype.isCubicBezierCurve3=!0,su.prototype.getPoint=function(e,t){var n=t||new Ot,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(au(e,i.x,r.x,a.x,o.x),au(e,i.y,r.y,a.y,o.y),au(e,i.z,r.z,a.z,o.z)),n},su.prototype.copy=function(e){return qs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},su.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},su.prototype.fromJSON=function(e){return qs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},((uu.prototype=Object.create(qs.prototype)).constructor=uu).prototype.isLineCurve=!0,uu.prototype.getPoint=function(e,t){var n=t||new kt;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},uu.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},uu.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},uu.prototype.copy=function(e){return qs.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},uu.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},uu.prototype.fromJSON=function(e){return qs.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((lu.prototype=Object.create(qs.prototype)).constructor=lu).prototype.isLineCurve3=!0,lu.prototype.getPoint=function(e,t){var n=t||new Ot;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},lu.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},lu.prototype.copy=function(e){return qs.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},lu.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},lu.prototype.fromJSON=function(e){return qs.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((cu.prototype=Object.create(qs.prototype)).constructor=cu).prototype.isQuadraticBezierCurve=!0,cu.prototype.getPoint=function(e,t){var n=t||new kt,i=this.v0,r=this.v1,a=this.v2;return n.set(ru(e,i.x,r.x,a.x),ru(e,i.y,r.y,a.y)),n},cu.prototype.copy=function(e){return qs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},cu.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},cu.prototype.fromJSON=function(e){return qs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((du.prototype=Object.create(qs.prototype)).constructor=du).prototype.isQuadraticBezierCurve3=!0,du.prototype.getPoint=function(e,t){var n=t||new Ot,i=this.v0,r=this.v1,a=this.v2;return n.set(ru(e,i.x,r.x,a.x),ru(e,i.y,r.y,a.y),ru(e,i.z,r.z,a.z)),n},du.prototype.copy=function(e){return qs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},du.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},du.prototype.fromJSON=function(e){return qs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},((hu.prototype=Object.create(qs.prototype)).constructor=hu).prototype.isSplineCurve=!0,hu.prototype.getPoint=function(e,t){var n=t||new kt,i=this.points,r=(i.length-1)*e,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],u=i[a],l=i[a>i.length-2?i.length-1:a+1],c=i[a>i.length-3?i.length-1:a+2];return n.set(iu(o,s.x,u.x,l.x,c.x),iu(o,s.y,u.y,l.y,c.y)),n},hu.prototype.copy=function(e){qs.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},hu.prototype.toJSON=function(){var e=qs.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e},hu.prototype.fromJSON=function(e){qs.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new kt).fromArray(i))}return this};var pu=Object.freeze({ArcCurve:Xs,CatmullRomCurve3:nu,CubicBezierCurve:ou,CubicBezierCurve3:su,EllipseCurve:Zs,LineCurve:uu,LineCurve3:lu,QuadraticBezierCurve:cu,QuadraticBezierCurve3:du,SplineCurve:hu});function mu(){qs.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function fu(e){mu.call(this),this.type="Path",this.currentPoint=new kt,e&&this.setFromPoints(e)}function gu(e){fu.call(this,e),this.uuid=Nt.generateUUID(),this.type="Shape",this.holes=[]}function _u(e,t){Oi.call(this),this.type="Light",this.color=new In(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function yu(e,t,n){_u.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Oi.DefaultUp),this.updateMatrix(),this.groundColor=new In(t)}function vu(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new kt(512,512),this.map=null,this.matrix=new It}function Mu(){vu.call(this,new ba(50,1,.5,500))}function Au(e,t,n,i,r,a){_u.call(this,e,t),this.type="SpotLight",this.position.copy(Oi.DefaultUp),this.updateMatrix(),this.target=new Oi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Mu}function bu(e,t,n,i){_u.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new vu(new ba(90,1,.5,500))}function wu(){vu.call(this,new Ri(-5,5,5,-5,.5,500))}function xu(e,t){_u.call(this,e,t),this.type="DirectionalLight",this.position.copy(Oi.DefaultUp),this.updateMatrix(),this.target=new Oi,this.shadow=new wu}function Eu(e,t){_u.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Lu(e,t,n,i){_u.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function Tu(e,t,n,i){Pu.call(this,e,t,n,i)}function Du(e,t,n){Pu.call(this,e,t,n)}function Su(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Cu(e,t,n,i){Su.call(this,e,t,n,i)}function Nu(e,t,n,i){Pu.call(this,e,t,n,i)}function ku(e,t,n,i){Pu.call(this,e,t,n,i)}function Iu(e,t,n,i){Pu.call(this,e,t,n,i)}function ju(e,t,n,i){Su.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ou(e,t,n,i){Su.call(this,e,t,n,i)}function zu(e,t,n,i){Su.call(this,e,t,n,i)}mu.prototype=Object.assign(Object.create(qs.prototype),{constructor:mu,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new uu(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,a=this.curves[i],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a&&a.isEllipseCurve?2*e:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){qs.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=qs.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){qs.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new pu[i.type]).fromJSON(i))}return this}}),fu.prototype=Object.assign(Object.create(mu.prototype),{constructor:fu,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new uu(this.currentPoint.clone(),new kt(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var r=new cu(this.currentPoint.clone(),new kt(e,t),new kt(n,i));this.curves.push(r),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,r,a){var o=new ou(this.currentPoint.clone(),new kt(e,t),new kt(n,i),new kt(r,a));this.curves.push(o),this.currentPoint.set(r,a)},splineThru:function(e){var t=new hu([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,n,i,r,a)},absarc:function(e,t,n,i,r,a){this.absellipse(e,t,n,n,i,r,a)},ellipse:function(e,t,n,i,r,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+u,t+l,n,i,r,a,o,s)},absellipse:function(e,t,n,i,r,a,o,s){var u=new Zs(e,t,n,i,r,a,o,s);if(0<this.curves.length){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)},copy:function(e){return mu.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=mu.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return mu.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),gu.prototype=Object.assign(Object.create(fu.prototype),{constructor:gu,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){fu.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=fu.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){fu.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new fu).fromJSON(i))}return this}}),_u.prototype=Object.assign(Object.create(Oi.prototype),{constructor:_u,isLight:!0,copy:function(e){return Oi.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Oi.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),yu.prototype=Object.assign(Object.create(_u.prototype),{constructor:yu,isHemisphereLight:!0,copy:function(e){return _u.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(vu.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Mu.prototype=Object.assign(Object.create(vu.prototype),{constructor:Mu,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Nt.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix())}}),Au.prototype=Object.assign(Object.create(_u.prototype),{constructor:Au,isSpotLight:!0,copy:function(e){return _u.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),bu.prototype=Object.assign(Object.create(_u.prototype),{constructor:bu,isPointLight:!0,copy:function(e){return _u.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),wu.prototype=Object.assign(Object.create(vu.prototype),{constructor:wu}),xu.prototype=Object.assign(Object.create(_u.prototype),{constructor:xu,isDirectionalLight:!0,copy:function(e){return _u.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Eu.prototype=Object.assign(Object.create(_u.prototype),{constructor:Eu,isAmbientLight:!0}),Lu.prototype=Object.assign(Object.create(_u.prototype),{constructor:Lu,isRectAreaLight:!0,copy:function(e){return _u.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=_u.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Tu.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Tu,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Du.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Du,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(Su.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var a;n:{i:if(!(e<i)){for(var o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,e<(i=t[++n]))break t}a=t.length;break n}if(r<=e)break e;var s=t[1];e<s&&(n=2,r=s);for(o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,(r=t[--n-1])<=e)break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,a=0;a!==i;++a)t[a]=n[r+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Su.prototype,{beforeStart_:Su.prototype.copySampleValue_,afterEnd_:Su.prototype.copySampleValue_}),Cu.prototype=Object.assign(Object.create(Su.prototype),{constructor:Cu,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=(n-t)/(i-t),l=s+o;s!==l;s+=4)jt.slerpFlat(r,0,a,s-o,a,s,u);return r}}),Nu.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Nu,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Cu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ku.prototype=Object.assign(Object.create(Pu.prototype),{constructor:ku,ValueTypeName:"color"}),Iu.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Iu,ValueTypeName:"number"}),ju.prototype=Object.assign(Object.create(Su.prototype),{constructor:ju,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:s=n+i[a=1]-i[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=r*l,this._offsetNext=a*l},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),m=p*p,f=m*p,g=-d*f+2*d*m-d*p,_=(1+d)*f+(-1.5-2*d)*m+(-.5+d)*p+1,y=(-1-h)*f+(1.5+h)*m+.5*p,v=h*f-h*m,M=0;M!==o;++M)r[M]=g*a[l+M]+_*a[u+M]+y*a[s+M]+v*a[c+M];return r}}),Ou.prototype=Object.assign(Object.create(Su.prototype),{constructor:Ou,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(i-t),c=1-l,d=0;d!==o;++d)r[d]=a[u+d]*c+a[s+d]*l;return r}}),zu.prototype=Object.assign(Object.create(Su.prototype),{constructor:zu,interpolate_:function(e){return this.copySampleValue_(e-1)}});var Ru={arraySlice:function(e,t,n){return Ru.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(n){for(var e=n.length,t=new Array(e),i=0;i!==e;++i)t[i]=i;return t.sort(function(e,t){return n[e]-n[t]}),t},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*t,u=0;u!==t;++u)r[o++]=e[s+u];return r},flattenJSON:function(e,t,n,i){for(var r=1,a=e[0];void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[i])&&(t.push(a.time),n.push.apply(n,o)),void 0!==(a=e[r++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[i])&&(t.push(a.time),o.toArray(n,n.length)),void 0!==(a=e[r++]););else for(;void 0!==(o=a[i])&&(t.push(a.time),n.push(o)),void 0!==(a=e[r++]););}}};function Pu(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ru.convertArray(t,this.TimeBufferType),this.values=Ru.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation),this.validate(),this.optimize()}function Yu(e,t,n,i){Pu.call(this,e,t,n,i)}function Bu(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Nt.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Uu(e){this.manager=void 0!==e?e:Bs,this.textures={}}function Hu(e){this.manager=void 0!==e?e:Bs}Object.assign(Pu,{parse:function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=Pu._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],i=[];Ru.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ru.convertArray(e.times,Array),values:Ru.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Iu;case"vector":case"vector2":case"vector3":case"vector4":return Yu;case"color":return ku;case"quaternion":return Nu;case"bool":case"boolean":return Du;case"string":return Tu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}}),Object.assign(Pu.prototype,{constructor:Pu,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new zu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Ou(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ju(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<e;)++r;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==r||a!==i){a<=r&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ru.arraySlice(n,r,a),this.values=Ru.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&s<a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==i&&Ru.isTypedArray(i)){o=0;for(var u=i.length;o!==u;++o){var l=i[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=2302===this.getInterpolation(),r=1,a=e.length-1,o=1;o<a;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==u[0]))if(i)s=!0;else for(var l=o*n,c=l-n,d=l+n,h=0;h!==n;++h){var p=t[l+h];if(p!==t[c+h]||p!==t[d+h]){s=!0;break}}if(s){if(o!==r){e[r]=e[o];var m=o*n,f=r*n;for(h=0;h!==n;++h)t[f+h]=t[m+h]}++r}}if(0<a){e[r]=e[a];for(m=a*n,f=r*n,h=0;h!==n;++h)t[f+h]=t[m+h];++r}return r!==e.length&&(this.times=Ru.arraySlice(e,0,r),this.values=Ru.arraySlice(t,0,r*n)),this}}),Yu.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Yu,ValueTypeName:"vector"}),Object.assign(Bu,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,a=n.length;r!==a;++r)t.push(Pu.parse(n[r]).scale(i));return new Bu(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t},r=0,a=n.length;r!==a;++r)t.push(Pu.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,a=[],o=0;o<r;o++){var s=[],u=[];s.push((o+r-1)%r,o,(o+1)%r),u.push(0,1,0);var l=Ru.getKeyframeOrder(s);s=Ru.sortedArray(s,1,l),u=Ru.sortedArray(u,1,l),i||0!==s[0]||(s.push(r),u.push(u[0])),a.push(new Iu(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new Bu(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(r);if(u&&1<u.length){var l=i[d=u[1]];l||(i[d]=l=[]),l.push(s)}}var c=[];for(var d in i)c.push(Bu.CreateFromMorphTargetSequence(d,i[d],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var a=[],o=[];Ru.flattenJSON(n,a,o,i),0!==a.length&&r.push(new e(t,a,o))}},i=[],r=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},d=0;d<l.length;d++)if(l[d].morphTargets)for(var h=0;h<l[d].morphTargets.length;h++)c[l[d].morphTargets[h]]=-1;for(var p in c){var m=[],f=[];for(h=0;h!==l[d].morphTargets.length;++h){var g=l[d];m.push(g.time),f.push(g.morphTarget===p?1:0)}i.push(new Iu(".morphTargetInfluence["+p+"]",m,f))}a=c.length*(o||1)}else{var _=".bones["+t[u].name+"]";n(Yu,_+".position",l,"pos",i),n(Nu,_+".quaternion",l,"rot",i),n(Yu,_+".scale",l,"scl",i)}}return 0===i.length?null:new Bu(r,a,i)}}),Object.assign(Bu.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(Uu.prototype,{load:function(e,t,n,i){var r=this;new Hs(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},setTextures:function(e){this.textures=e},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=new Rs[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalScale){var r=e.normalScale;!1===Array.isArray(r)&&(r=[r,r]),i.normalScale=(new kt).fromArray(r)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),i}}),Object.assign(Hu.prototype,{load:function(e,t,n,i){var r=this;new Hs(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new Yr,n=e.data.index;if(void 0!==n){var i=new Qu[n.type](n.array);t.setIndex(new Qi(i,1))}var r=e.data.attributes;for(var a in r){var o=r[a];i=new Qu[o.type](o.array);t.addAttribute(a,new Qi(i,o.itemSize,o.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u=0,l=s.length;u!==l;++u){var c=s[u];t.addGroup(c.start,c.count,c.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var h=new Ot;void 0!==d.center&&h.fromArray(d.center),t.boundingSphere=new ui(h,d.radius)}return t}});var Fu,Gu,Vu,Wu,Qu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function qu(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}qu.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n],a=t[n+1];if(r.test(e))return a}return null}},Object.assign(qu.prototype,{crossOrigin:void 0,initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:(Fu={NoBlending:W,NormalBlending:Q,AdditiveBlending:q,SubtractiveBlending:J,MultiplyBlending:K,CustomBlending:$},Gu=new In,Vu=new Qs,Wu=new Uu,function(e,l,c){var d={};function t(e,t,n,i,r){var a,o=l+e,s=qu.Handlers.get(o);null!==s?a=s.load(o):(Vu.setCrossOrigin(c),a=Vu.load(o)),void 0!==t&&(a.repeat.fromArray(t),1!==t[0]&&(a.wrapS=Ae),1!==t[1]&&(a.wrapT=Ae)),void 0!==n&&a.offset.fromArray(n),void 0!==i&&("repeat"===i[0]&&(a.wrapS=Ae),"mirror"===i[0]&&(a.wrapS=we),"repeat"===i[1]&&(a.wrapT=Ae),"mirror"===i[1]&&(a.wrapT=we)),void 0!==r&&(a.anisotropy=r);var u=Nt.generateUUID();return d[u]=a,u}var n={uuid:Nt.generateUUID(),type:"MeshLambertMaterial"};for(var i in e){var r=e[i];switch(i){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":n.name=r;break;case"blending":n.blending=Fu[r];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",i,"is no longer supported.");break;case"colorDiffuse":n.color=Gu.fromArray(r).getHex();break;case"colorSpecular":n.specular=Gu.fromArray(r).getHex();break;case"colorEmissive":n.emissive=Gu.fromArray(r).getHex();break;case"specularCoef":n.shininess=r;break;case"shading":"basic"===r.toLowerCase()&&(n.type="MeshBasicMaterial"),"phong"===r.toLowerCase()&&(n.type="MeshPhongMaterial"),"standard"===r.toLowerCase()&&(n.type="MeshStandardMaterial");break;case"mapDiffuse":n.map=t(r,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":n.emissiveMap=t(r,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":n.lightMap=t(r,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":n.aoMap=t(r,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":n.bumpMap=t(r,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":n.bumpScale=r;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":n.normalMap=t(r,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":n.normalScale=[r,r];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":n.specularMap=t(r,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":n.metalnessMap=t(r,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":n.roughnessMap=t(r,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":n.alphaMap=t(r,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":n.side=Z;break;case"doubleSided":n.side=X;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),n.opacity=r;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":n[i]=r;break;case"vertexColors":!0===r&&(n.vertexColors=b),"face"===r&&(n.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",i,r)}}return"MeshBasicMaterial"===n.type&&delete n.emissive,"MeshPhongMaterial"!==n.type&&delete n.specular,n.opacity<1&&(n.transparent=!0),Wu.setTextures(d),Wu.parse(n)})});var Zu={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")}};function Xu(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:Bs,this.withCredentials=!1}function Ju(e){this.manager=void 0!==e?e:Bs,this.texturePath=""}Object.assign(Xu.prototype,{load:function(a,o,e,t){var s=this,u=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Zu.extractUrlBase(a),n=new Hs(this.manager);n.setWithCredentials(this.withCredentials),n.load(a,function(e){var t=JSON.parse(e),n=t.metadata;if(void 0!==n){var i=n.type;if(void 0!==i){if("object"===i.toLowerCase())return void console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");if("scene"===i.toLowerCase())return void console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.")}}var r=s.parse(t,u);o(r.geometry,r.materials)},e,t)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){void 0!==e.data&&(e=e.data),void 0!==e.scale?e.scale=1/e.scale:e.scale=1;var n=new Wi;return function(e,t){function n(e,t){return e&1<<t}var i,r,a,o,s,u,l,c,d,h,p,m,f,g,_,y,v,M,A,b,w,x,E,L,T,D=e.faces,S=e.vertices,C=e.normals,N=e.colors,k=e.scale,I=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&I++;for(i=0;i<I;i++)t.faceVertexUvs[i]=[]}for(o=0,s=S.length;o<s;)(M=new Ot).x=S[o++]*k,M.y=S[o++]*k,M.z=S[o++]*k,t.vertices.push(M);for(o=0,s=D.length;o<s;)if(p=n(h=D[o++],0),m=n(h,1),f=n(h,3),g=n(h,4),_=n(h,5),y=n(h,6),v=n(h,7),p){if((b=new Pi).a=D[o],b.b=D[o+1],b.c=D[o+3],(w=new Pi).a=D[o+1],w.b=D[o+2],w.c=D[o+3],o+=4,m&&(d=D[o++],b.materialIndex=d,w.materialIndex=d),a=t.faces.length,f)for(i=0;i<I;i++)for(L=e.uvs[i],t.faceVertexUvs[i][a]=[],t.faceVertexUvs[i][a+1]=[],r=0;r<4;r++)T=new kt(L[2*(c=D[o++])],L[2*c+1]),2!==r&&t.faceVertexUvs[i][a].push(T),0!==r&&t.faceVertexUvs[i][a+1].push(T);if(g&&(l=3*D[o++],b.normal.set(C[l++],C[l++],C[l]),w.normal.copy(b.normal)),_)for(i=0;i<4;i++)l=3*D[o++],E=new Ot(C[l++],C[l++],C[l]),2!==i&&b.vertexNormals.push(E),0!==i&&w.vertexNormals.push(E);if(y&&(x=N[u=D[o++]],b.color.setHex(x),w.color.setHex(x)),v)for(i=0;i<4;i++)x=N[u=D[o++]],2!==i&&b.vertexColors.push(new In(x)),0!==i&&w.vertexColors.push(new In(x));t.faces.push(b),t.faces.push(w)}else{if((A=new Pi).a=D[o++],A.b=D[o++],A.c=D[o++],m&&(d=D[o++],A.materialIndex=d),a=t.faces.length,f)for(i=0;i<I;i++)for(L=e.uvs[i],t.faceVertexUvs[i][a]=[],r=0;r<3;r++)T=new kt(L[2*(c=D[o++])],L[2*c+1]),t.faceVertexUvs[i][a].push(T);if(g&&(l=3*D[o++],A.normal.set(C[l++],C[l++],C[l])),_)for(i=0;i<3;i++)l=3*D[o++],E=new Ot(C[l++],C[l++],C[l]),A.vertexNormals.push(E);if(y&&(u=D[o++],A.color.setHex(N[u])),v)for(i=0;i<3;i++)u=D[o++],A.vertexColors.push(new In(N[u]));t.faces.push(A)}}(e,n),function(e,t){var n=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var i=0,r=e.skinWeights.length;i<r;i+=n){var a=e.skinWeights[i],o=1<n?e.skinWeights[i+1]:0,s=2<n?e.skinWeights[i+2]:0,u=3<n?e.skinWeights[i+3]:0;t.skinWeights.push(new Ut(a,o,s,u))}if(e.skinIndices)for(i=0,r=e.skinIndices.length;i<r;i+=n){var l=e.skinIndices[i],c=1<n?e.skinIndices[i+1]:0,d=2<n?e.skinIndices[i+2]:0,h=3<n?e.skinIndices[i+3]:0;t.skinIndices.push(new Ut(l,c,d,h))}t.bones=e.bones,t.bones&&0<t.bones.length&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}(e,n),function(e,t){var n=e.scale;if(void 0!==e.morphTargets)for(var i=0,r=e.morphTargets.length;i<r;i++){t.morphTargets[i]={},t.morphTargets[i].name=e.morphTargets[i].name,t.morphTargets[i].vertices=[];for(var a=t.morphTargets[i].vertices,o=e.morphTargets[i].vertices,s=0,u=o.length;s<u;s+=3){var l=new Ot;l.x=o[s]*n,l.y=o[s+1]*n,l.z=o[s+2]*n,a.push(l)}}if(void 0!==e.morphColors&&0<e.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var c=t.faces,d=e.morphColors[0].colors;for(i=0,r=c.length;i<r;i++)c[i].color.fromArray(d,3*i)}}(e,n),function(e,t){var n=[],i=[];void 0!==e.animation&&i.push(e.animation),void 0!==e.animations&&(e.animations.length?i=i.concat(e.animations):i.push(e.animations));for(var r=0;r<i.length;r++){var a=Bu.parseAnimation(i[r],t.bones);a&&n.push(a)}if(t.morphTargets){var o=Bu.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(o)}0<n.length&&(t.animations=n)}(e,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===e.materials||0===e.materials.length?{geometry:n}:{geometry:n,materials:qu.prototype.initMaterials(e.materials,t,this.crossOrigin)}}}),Object.assign(Ju.prototype,{load:function(i,r,e,a){""===this.texturePath&&(this.texturePath=i.substring(0,i.lastIndexOf("/")+1));var o=this;new Hs(o.manager).load(i,function(e){var t=null;try{t=JSON.parse(e)}catch(e){return void 0!==a&&a(e),void console.error("THREE:ObjectLoader: Can't parse "+i+".",e.message)}var n=t.metadata;void 0!==n&&void 0!==n.type&&"geometry"!==n.type.toLowerCase()?o.parse(t,r):console.error("THREE.ObjectLoader: Can't load "+i+". Use THREE.JSONLoader instead.")},e,a)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){void 0!==t&&t(s)}),a=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,i,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new gu).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new Xu,r=new Hu,a=0,o=e.length;a<o;a++){var s,u=e[a];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Ts[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Ts[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Ts[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Ts[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Ts[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Ts[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Ts[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Ts[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Ts[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Ts[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Ts[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Ts[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":var l=[];for(a=0,o=u.shapes.length;a<o;a++){var c=t[u.shapes[a]];l.push(c)}s=new Ts[u.type](l,u.curveSegments);break;case"BufferGeometry":s=r.parse(u);break;case"Geometry":s=i.parse(u,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),n[u.uuid]=s}return n},parseMaterials:function(e,t){var n={};if(void 0!==e){var i=new Uu;i.setTextures(t);for(var r=0,a=e.length;r<a;r++){var o=e[r];if("MultiMaterial"===o.type){for(var s=[],u=0;u<o.materials.length;u++)s.push(i.parse(o.materials[u]));n[o.uuid]=s}else n[o.uuid]=i.parse(o)}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=Bu.parse(e[n]);t.push(i)}return t},parseImages:function(e,t){var n=this,i={};function r(e){return n.manager.itemStart(e),a.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemEnd(e),n.manager.itemError(e)})}if(void 0!==e&&0<e.length){var a=new Vs(new Ys(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var u=e[o],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;i[u.uuid]=r(l)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,a=e.length;r<a;r++){var o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=new Bt(t[o.image]);s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,$u)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],el),s.wrapT=n(o.wrap[1],el)),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,tl)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,tl)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),i[o.uuid]=s}return i},parseObject:function(e,t,a){var n;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function r(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];void 0===a[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(a[r])}return t}return void 0===a[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),a[e]}}switch(e.type){case"Scene":n=new eo,void 0!==e.background&&Number.isInteger(e.background)&&(n.background=new In(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?n.fog=new $a(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(n.fog=new Ka(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new ba(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(n.focus=e.focus),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.filmGauge&&(n.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(n.filmOffset=e.filmOffset),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new Ri(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":n=new Eu(e.color,e.intensity);break;case"DirectionalLight":n=new xu(e.color,e.intensity);break;case"PointLight":n=new bu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new Lu(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new Au(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new yu(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=i(e.geometry),s=r(e.material);n=o.bones&&0<o.bones.length?new oo(o,s):new Zr(o,s);break;case"LOD":n=new io;break;case"Line":n=new uo(i(e.geometry),r(e.material),e.mode);break;case"LineLoop":n=new co(i(e.geometry),r(e.material));break;case"LineSegments":n=new lo(i(e.geometry),r(e.material));break;case"PointCloud":case"Points":n=new po(i(e.geometry),r(e.material));break;case"Sprite":n=new no(r(e.material));break;case"Group":n=new mo;break;default:n=new Oi}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(n.matrix.fromArray(e.matrix),n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.quaternion&&n.quaternion.fromArray(e.quaternion),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(n.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(n.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&n.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(n.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.children)for(var u=e.children,l=0;l<u.length;l++)n.add(this.parseObject(u[l],t,a));if("LOD"===e.type)for(var c=e.levels,d=0;d<c.length;d++){var h=c[d],p=n.getObjectByProperty("uuid",h.object);void 0!==p&&n.addLevel(p,h.distance)}return n}});var Ku,$u={UVMapping:300,CubeReflectionMapping:me,CubeRefractionMapping:fe,EquirectangularReflectionMapping:ge,EquirectangularRefractionMapping:_e,SphericalReflectionMapping:ye,CubeUVReflectionMapping:ve,CubeUVRefractionMapping:Me},el={RepeatWrapping:Ae,ClampToEdgeWrapping:be,MirroredRepeatWrapping:we},tl={NearestFilter:xe,NearestMipMapNearestFilter:Ee,NearestMipMapLinearFilter:De,LinearFilter:Se,LinearMipMapNearestFilter:Ce,LinearMipMapLinearFilter:Ne};function nl(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Bs,this.options=void 0}function il(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function rl(e){this.type="Font",this.data=e}function al(e,t,n,i,r,a){var o=a.glyphs[e]||a.glyphs["?"];if(o){var s,u,l,c,d,h,p,m,f=new il;if(o.o)for(var g=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),_=0,y=g.length;_<y;){switch(g[_++]){case"m":s=g[_++]*n+i,u=g[_++]*n+r,f.moveTo(s,u);break;case"l":s=g[_++]*n+i,u=g[_++]*n+r,f.lineTo(s,u);break;case"q":l=g[_++]*n+i,c=g[_++]*n+r,d=g[_++]*n+i,h=g[_++]*n+r,f.quadraticCurveTo(d,h,l,c);break;case"b":l=g[_++]*n+i,c=g[_++]*n+r,d=g[_++]*n+i,h=g[_++]*n+r,p=g[_++]*n+i,m=g[_++]*n+r,f.bezierCurveTo(d,h,p,m,l,c)}}return{offsetX:o.ha*n,path:f}}}function ol(e){this.manager=void 0!==e?e:Bs}nl.prototype={constructor:nl,setOptions:function(e){return this.options=e,this},load:function(t,n,e,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var r=this,a=Ps.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){n&&n(a),r.manager.itemEnd(t)},0),a;fetch(t).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,r.options)}).then(function(e){Ps.add(t,e),n&&n(e),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemEnd(t),r.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(il.prototype,{moveTo:function(e,t){this.currentPath=new fu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,a){this.currentPath.bezierCurveTo(e,t,n,i,r,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],a=new gu;a.curves=r.curves,t.push(a)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=t[r],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[r],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return i}var r=rs.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new gu).curves=s.curves,l.push(u),l;var c=!r(a[0].getPoints());c=e?!c:c;var d,h,p=[],m=[],f=[],g=0;m[g]=void 0,f[g]=[];for(var _=0,y=a.length;_<y;_++)o=r(d=(s=a[_]).getPoints()),(o=e?!o:o)?(!c&&m[g]&&g++,m[g]={s:new gu,p:d},m[g].s.curves=s.curves,c&&g++,f[g]=[]):f[g].push({h:s,p:d[0]});if(!m[0])return n(a);if(1<m.length){for(var v=!1,M=[],A=0,b=m.length;A<b;A++)p[A]=[];for(A=0,b=m.length;A<b;A++)for(var w=f[A],x=0;x<w.length;x++){for(var E=w[x],L=!0,T=0;T<m.length;T++)i(E.p,m[T].p)&&(A!==T&&M.push({froms:A,tos:T,hole:x}),L?(L=!1,p[T].push(E)):v=!0);L&&p[A].push(E)}0<M.length&&(v||(f=p))}_=0;for(var D=m.length;_<D;_++){u=m[_].s,l.push(u);for(var S=0,C=(h=f[_]).length;S<C;S++)u.holes.push(h[S].h)}return l}}),Object.assign(rl.prototype,{isFont:!0,generateShapes:function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=4);for(var i=[],r=function(e,t,n,i){for(var r=String(e).split(""),a=t/i.resolution,o=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*a,s=[],u=0,l=0,c=0;c<r.length;c++){var d=r[c];if("\n"===d)u=0,l-=o;else{var h=al(d,n,a,u,l,i);u+=h.offsetX,s.push(h.path)}}return s}(e,t,n,this.data),a=0,o=r.length;a<o;a++)Array.prototype.push.apply(i,r[a].toShapes());return i}}),Object.assign(ol.prototype,{load:function(e,i,t,n){var r=this,a=new Hs(this.manager);a.setPath(this.path),a.load(e,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var e=r.parse(n);i&&i(e)},t,n)},parse:function(e){return new rl(e)},setPath:function(e){return this.path=e,this}});var sl,ul,ll,cl,dl,hl,pl,ml,fl,gl,_l,yl,vl,Ml,Al,bl={getContext:function(){return void 0===Ku&&(Ku=new(window.AudioContext||window.webkitAudioContext)),Ku},setContext:function(e){Ku=e}};function wl(e){this.manager=void 0!==e?e:Bs}function xl(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ba,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ba,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function El(e,t,n){Oi.call(this),this.type="CubeCamera";var r=new ba(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new Ot(1,0,0)),this.add(r);var a=new ba(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new Ot(-1,0,0)),this.add(a);var o=new ba(90,1,e,t);o.up.set(0,0,1),o.lookAt(new Ot(0,1,0)),this.add(o);var s=new ba(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new Ot(0,-1,0)),this.add(s);var u=new ba(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new Ot(0,0,1)),this.add(u);var l=new ba(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new Ot(0,0,-1)),this.add(l);var i={format:Ve,magFilter:Se,minFilter:Se};this.renderTarget=new Ft(n,n,i),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,r,n),n.activeCubeFace=1,e.render(t,a,n),n.activeCubeFace=2,e.render(t,o,n),n.activeCubeFace=3,e.render(t,s,n),n.activeCubeFace=4,e.render(t,u,n),n.texture.generateMipmaps=i,n.activeCubeFace=5,e.render(t,l,n),e.setRenderTarget(null)},this.clear=function(e,t,n,i){for(var r=this.renderTarget,a=0;a<6;a++)r.activeCubeFace=a,e.setRenderTarget(r),e.clear(t,n,i);e.setRenderTarget(null)}}function Ll(){Oi.call(this),this.type="AudioListener",this.context=bl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Tl(e){Oi.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Dl(e){Tl.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Sl(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Cl(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(wl.prototype,{load:function(e,t,n,i){var r=new Hs(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){bl.getContext().decodeAudioData(e,function(e){t(e)})},n,i)}}),Object.assign(xl.prototype,{update:(fl=new It,gl=new It,function(e){if(sl!==this||ul!==e.focus||ll!==e.fov||cl!==e.aspect*this.aspect||dl!==e.near||hl!==e.far||pl!==e.zoom||ml!==this.eyeSep){sl=this,ul=e.focus,ll=e.fov,cl=e.aspect*this.aspect,dl=e.near,hl=e.far,pl=e.zoom;var t,n,i=e.projectionMatrix.clone(),r=(ml=this.eyeSep/2)*dl/ul,a=dl*Math.tan(Nt.DEG2RAD*ll*.5)/pl;gl.elements[12]=-ml,fl.elements[12]=ml,t=-a*cl+r,n=a*cl+r,i.elements[0]=2*dl/(n-t),i.elements[8]=(n+t)/(n-t),this.cameraL.projectionMatrix.copy(i),t=-a*cl-r,n=a*cl-r,i.elements[0]=2*dl/(n-t),i.elements[8]=(n+t)/(n-t),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(gl),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(fl)})}),(El.prototype=Object.create(Oi.prototype)).constructor=El,Ll.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Ll,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:(_l=new Ot,yl=new jt,vl=new Ot,Ml=new Ot,function(e){Oi.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;this.matrixWorld.decompose(_l,yl,vl),Ml.set(0,0,-1).applyQuaternion(yl),t.positionX?(t.positionX.setValueAtTime(_l.x,this.context.currentTime),t.positionY.setValueAtTime(_l.y,this.context.currentTime),t.positionZ.setValueAtTime(_l.z,this.context.currentTime),t.forwardX.setValueAtTime(Ml.x,this.context.currentTime),t.forwardY.setValueAtTime(Ml.y,this.context.currentTime),t.forwardZ.setValueAtTime(Ml.z,this.context.currentTime),t.upX.setValueAtTime(n.x,this.context.currentTime),t.upY.setValueAtTime(n.y,this.context.currentTime),t.upZ.setValueAtTime(n.z,this.context.currentTime)):(t.setPosition(_l.x,_l.y,_l.z),t.setOrientation(Ml.x,Ml.y,Ml.z,n.x,n.y,n.z))})}),Tl.prototype=Object.assign(Object.create(Oi.prototype),{constructor:Tl,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Dl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Dl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:(Al=new Ot,function(e){Oi.prototype.updateMatrixWorld.call(this,e),Al.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(Al.x,Al.y,Al.z)})}),Object.assign(Sl.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Cl.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*t;this._mixBufferRegion(n,i,o,1-r,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){a.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(.5<=i)for(var a=0;a!==r;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,i){jt.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}}});var Nl,kl,Il,jl,Ol,zl,Rl,Pl,Yl,Bl,Ul,Hl,Fl,Gl,Vl,Wl,Ql,ql,Zl,Xl,Jl,Kl,$l,ec,tc,nc,ic,rc,ac,oc,sc,uc,lc,cc="\\[\\]\\.:\\/";function dc(e,t,n){var i=n||hc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function hc(e,t,n){this.path=t,this.parsedPath=n||hc.parseTrackName(t),this.node=hc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function pc(){this.uuid=Nt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function mc(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,a=new Array(r),o={endingStart:2400,endingEnd:2400},s=0;s!==r;++s){var u=i[s].createInterpolant(null);(a[s]=u).settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function fc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function gc(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function _c(){Yr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function yc(e,t,n,i){this.uuid=Nt.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function vc(e,t){this.uuid=Nt.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Mc(e,t,n){vc.call(this,e,t),this.meshPerAttribute=n||1}function Ac(e,t,n){Qi.call(this,e,t),this.meshPerAttribute=n||1}function bc(e,t,n,i){this.ray=new Wr(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function wc(e,t){return e.distance-t.distance}function xc(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,a=0,o=r.length;a<o;a++)xc(r[a],t,n,!0)}function Ec(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Lc(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Tc(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function Dc(e,t){this.min=void 0!==e?e:new kt(1/0,1/0),this.max=void 0!==t?t:new kt(-1/0,-1/0)}function Sc(e){Oi.call(this),this.material=e,this.render=function(){}}function Cc(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,a=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new Yr,l=new tr(2*o*3,3);u.addAttribute("position",l),lo.call(this,u,new so({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Nc(e,t){Oi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Yr,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1;r<32;r++,a++){var o=r/32*Math.PI*2,s=a/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new tr(i,3));var u=new so({fog:!1});this.cone=new lo(n,u),this.add(this.cone),this.update()}function kc(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var i=0;i<t.children.length;i++)n.push.apply(n,e(t.children[i]));return n}(e),n=new Yr,i=[],r=[],a=new In(0,0,1),o=new In(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new tr(i,3)),n.addAttribute("color",new tr(r,3));var l=new so({vertexColors:b,depthTest:!1,depthWrite:!1,transparent:!0});lo.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ic(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new hs(t,4,2),r=new Gr({wireframe:!0,fog:!1});Zr.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function jc(e,t){Oi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var n=new so({fog:!1}),i=new Yr;i.addAttribute("position",new Qi(new Float32Array(15),3)),this.line=new uo(i,n),this.add(this.line),this.update()}function Oc(e,t,n){Oi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new Lo(t);i.rotateY(.5*Math.PI),this.material=new Gr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=b);var r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.addAttribute("color",new Qi(a,3)),this.add(new Zr(i,this.material)),this.update()}function zc(e,t,n,i){e=e||10,t=t||10,n=new In(void 0!==n?n:4473924),i=new In(void 0!==i?i:8947848);for(var r=t/2,a=e/t,o=e/2,s=[],u=[],l=0,c=0,d=-o;l<=t;l++,d+=a){s.push(-o,0,d,o,0,d),s.push(d,0,-o,d,0,o);var h=l===r?n:i;h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3}var p=new Yr;p.addAttribute("position",new tr(s,3)),p.addAttribute("color",new tr(u,3));var m=new so({vertexColors:b});lo.call(this,p,m)}function Rc(e,t,n,i,r,a){e=e||10,t=t||16,n=n||8,i=i||64,r=new In(void 0!==r?r:4473924),a=new In(void 0!==a?a:8947848);var o,s,u,l,c,d,h,p=[],m=[];for(l=0;l<=t;l++)u=l/t*(2*Math.PI),o=Math.sin(u)*e,s=Math.cos(u)*e,p.push(0,0,0),p.push(o,0,s),h=1&l?r:a,m.push(h.r,h.g,h.b),m.push(h.r,h.g,h.b);for(l=0;l<=n;l++)for(h=1&l?r:a,d=e-e/n*l,c=0;c<i;c++)u=c/i*(2*Math.PI),o=Math.sin(u)*d,s=Math.cos(u)*d,p.push(o,0,s),m.push(h.r,h.g,h.b),u=(c+1)/i*(2*Math.PI),o=Math.sin(u)*d,s=Math.cos(u)*d,p.push(o,0,s),m.push(h.r,h.g,h.b);var f=new Yr;f.addAttribute("position",new tr(p,3)),f.addAttribute("color",new tr(m,3));var g=new so({vertexColors:b});lo.call(this,f,g)}function Pc(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,a=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Yr,l=new tr(2*o*3,3);u.addAttribute("position",l),lo.call(this,u,new so({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Yc(e,t,n){Oi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new Yr;i.addAttribute("position",new tr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new so({fog:!1});this.lightPlane=new uo(i,r),this.add(this.lightPlane),(i=new Yr).addAttribute("position",new tr([0,0,0,0,0,1],3)),this.targetLine=new uo(i,r),this.add(this.targetLine),this.update()}function Bc(e){var t=new Yr,n=new so({color:16777215,vertexColors:1}),i=[],r=[],a={},o=new In(16755200),s=new In(16711680),u=new In(43775),l=new In(16777215),c=new In(3355443);function d(e,t,n){h(e,n),h(t,n)}function h(e,t){i.push(0,0,0),r.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(i.length/3-1)}d("n1","n2",o),d("n2","n4",o),d("n4","n3",o),d("n3","n1",o),d("f1","f2",o),d("f2","f4",o),d("f4","f3",o),d("f3","f1",o),d("n1","f1",o),d("n2","f2",o),d("n3","f3",o),d("n4","f4",o),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",u),d("u2","u3",u),d("u3","u1",u),d("c","t",l),d("p","c",c),d("cn1","cn2",c),d("cn3","cn4",c),d("cf1","cf2",c),d("cf3","cf4",c),t.addAttribute("position",new tr(i,3)),t.addAttribute("color",new tr(r,3)),lo.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Uc(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Yr;r.setIndex(new Qi(n,1)),r.addAttribute("position",new Qi(i,3)),lo.call(this,r,new so({color:t})),this.matrixAutoUpdate=!1,this.update()}function Hc(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Yr;r.setIndex(new Qi(i,1)),r.addAttribute("position",new tr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),lo.call(this,r,new so({color:n})),this.geometry.computeBoundingSphere()}function Fc(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new Yr;r.addAttribute("position",new tr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),uo.call(this,r,new so({color:i}));var a=new Yr;a.addAttribute("position",new tr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Zr(a,new Gr({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function Gc(e,t,n,i,r,a){Oi.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===a&&(a=.2*r),void 0===oc&&((oc=new Yr).addAttribute("position",new tr([0,0,0,0,1,0],3)),(sc=new bs(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new uo(oc,new so({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Zr(sc,new Gr({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,a)}function Vc(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Yr;n.addAttribute("position",new tr(t,3)),n.addAttribute("color",new tr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new so({vertexColors:b});lo.call(this,n,i)}Object.assign(dc.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(hc,{Composite:dc,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new hc.Composite(e,t,n):new hc(e,t,n)},sanitizeNodeName:(Yl=new RegExp("["+cc+"]","g"),function(e){return e.replace(/\s/g,"_").replace(Yl,"")}),parseTrackName:(Nl="[^"+cc+"]",kl="[^"+cc.replace("\\.","")+"]",Il=/((?:WC+[\/:])*)/.source.replace("WC",Nl),jl=/(WCOD+)?/.source.replace("WCOD",kl),Ol=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Nl),zl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Nl),Rl=new RegExp("^"+Il+jl+Ol+zl+"$"),Pl=["material","materials","bones"],function(e){var t=Rl.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==Pl.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,r){if(!r||""===r||"root"===r||"."===r||-1===r||r===e.name||r===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(r);if(void 0!==t)return t}if(e.children){var a=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name===r||n.uuid===r)return n;var i=a(n.children);if(i)return i}return null},n=a(e.children);if(n)return n}return null}}),Object.assign(hc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=hc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[i];if(void 0!==s){var u=this.Versioning.None;void 0!==e.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(hc.prototype,{_getValue_unbound:hc.prototype.getValue,_setValue_unbound:hc.prototype.setValue}),Object.assign(pc.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=void 0,l=0,c=arguments.length;l!==c;++l){var d=arguments[l],h=d.uuid,p=i[h];if(void 0===p){p=t++,i[h]=p,e.push(d);for(var m=0,f=s;m!==f;++m)o[m].push(new hc(d,r[m],a[m]))}else if(p<n){u=e[p];var g=--n,_=e[g];e[i[_.uuid]=p]=_,e[i[h]=g]=d;for(m=0,f=s;m!==f;++m){var y=o[m],v=y[g],M=y[p];y[p]=v,void 0===M&&(M=new hc(d,r[m],a[m])),y[g]=M}}else e[p]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=n[u];if(void 0!==l&&t<=l){var c=t++,d=e[c];e[n[d.uuid]=l]=d,e[n[u]=c]=s;for(var h=0,p=r;h!==p;++h){var m=i[h],f=m[c],g=m[l];m[l]=f,m[c]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=i[u];if(void 0!==l)if(delete i[u],l<n){var c=--n,d=e[c],h=e[_=--t];e[i[d.uuid]=l]=d,e[i[h.uuid]=c]=h,e.pop();for(var p=0,m=a;p!==m;++p){var f=(y=r[p])[c],g=y[_];y[l]=f,y[c]=g,y.pop()}}else{var _;e[i[(h=e[_=--t]).uuid]=l]=h,e.pop();for(p=0,m=a;p!==m;++p){var y;(y=r[p])[l]=y[_],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);i=r.length,n[e]=i,a.push(e),o.push(t),r.push(c);for(var d=l,h=s.length;d!==h;++d){var p=s[d];c[d]=new hc(p,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];a[t[e[o]]=n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(mc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,a=r/i,o=i/r;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=r,s[1]=r+n,u[0]=e/o,u[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(e-r)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(0<s)for(var u=this._interpolants,l=this._propertyBindings,c=0,d=u.length;c!==d;++c)u[c].evaluate(o),l[c].accumulate(i,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,i=this.loop,r=this._loopCount;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n<=t)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var a=2202===i;if(-1===r&&(0<=e?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),n<=t||t<0){var o=Math.floor(t/n);t-=n*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1});else{if(0===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&r))return n-(this.time=t)}return this.time=t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=t,o[1]=r+e,s[1]=n,this}}),fc.prototype=Object.assign(Object.create(t.prototype),{constructor:fc,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==r;++c){var d=i[c],h=d.name,p=l[h];if(void 0!==p)a[c]=p;else{if(void 0!==(p=a[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}var m=t&&t._propertyBindings[c].binding.parsedPath;++(p=new Cl(hc.create(n,h,m),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,h),a[c]=p}o[c].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;t[n._cacheIndex=i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;s[u._byClipCacheIndex=l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],a=this._bindings;void 0===r&&(r={},i[t]=r),(r[n]=e)._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=t[t.length-1],u=e._cacheIndex;t[s._cacheIndex=u]=s,t.pop(),delete o[r];e:{for(var l in o)break e;delete a[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(e[(n=new Ou(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];t[e.__cacheIndex=i]=e,t[r.__cacheIndex=n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Bu.findByName(n,e):e,a=null!==r?r.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[i];if(void 0!==u)return u;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var l=new mc(this,r,t);return this._bindAction(l,s),this._addInactiveAction(l,a,i),l},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Bu.findByName(n,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0;for(var r=this._nActiveBindings=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(i,e,r,a)}var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,t[c._cacheIndex=l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),gc.prototype.clone=function(){return new gc(void 0===this.value.clone?this.value:this.value.clone())},_c.prototype=Object.assign(Object.create(Yr.prototype),{constructor:_c,isInstancedBufferGeometry:!0,copy:function(e){return Yr.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(yc.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(yc.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),Object.defineProperty(vc.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(vc.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Mc.prototype=Object.assign(Object.create(vc.prototype),{constructor:Mc,isInstancedInterleavedBuffer:!0,copy:function(e){return vc.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Ac.prototype=Object.assign(Object.create(Qi.prototype),{constructor:Ac,isInstancedBufferAttribute:!0,copy:function(e){return Qi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(bc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var i=n||[];return xc(e,this,i,t),i.sort(wc),i},intersectObjects:function(e,t,n){var i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=e.length;r<a;r++)xc(e[r],this,i,t);return i.sort(wc),i}}),Object.assign(Ec.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(Lc.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Nt.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(Tc.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),Object.assign(Dc.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(Ul=new kt,function(e,t){var n=Ul.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new kt;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new kt;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new kt).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new kt).copy(e).clamp(this.min,this.max)},distanceToPoint:(Bl=new kt,function(e){return Bl.copy(e).clamp(this.min,this.max).sub(e).length()}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),((Sc.prototype=Object.create(Oi.prototype)).constructor=Sc).prototype.isImmediateRenderObject=!0,((Cc.prototype=Object.create(lo.prototype)).constructor=Cc).prototype.update=(Hl=new Ot,Fl=new Ot,Gl=new zt,function(){var e=["a","b","c"];this.object.updateMatrixWorld(!0),Gl.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,n=this.geometry.attributes.position,i=this.object.geometry;if(i&&i.isGeometry)for(var r=i.vertices,a=i.faces,o=0,s=0,u=a.length;s<u;s++)for(var l=a[s],c=0,d=l.vertexNormals.length;c<d;c++){var h=r[l[e[c]]],p=l.vertexNormals[c];Hl.copy(h).applyMatrix4(t),Fl.copy(p).applyMatrix3(Gl).normalize().multiplyScalar(this.size).add(Hl),n.setXYZ(o,Hl.x,Hl.y,Hl.z),o+=1,n.setXYZ(o,Fl.x,Fl.y,Fl.z),o+=1}else if(i&&i.isBufferGeometry){var m=i.attributes.position,f=i.attributes.normal;for(c=o=0,d=m.count;c<d;c++)Hl.set(m.getX(c),m.getY(c),m.getZ(c)).applyMatrix4(t),Fl.set(f.getX(c),f.getY(c),f.getZ(c)),Fl.applyMatrix3(Gl).normalize().multiplyScalar(this.size).add(Hl),n.setXYZ(o,Hl.x,Hl.y,Hl.z),o+=1,n.setXYZ(o,Fl.x,Fl.y,Fl.z),o+=1}n.needsUpdate=!0}),((Nc.prototype=Object.create(Oi.prototype)).constructor=Nc).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Nc.prototype.update=(Vl=new Ot,Wl=new Ot,function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Vl.setFromMatrixPosition(this.light.matrixWorld),Wl.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Wl.sub(Vl)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}),((kc.prototype=Object.create(lo.prototype)).constructor=kc).prototype.updateMatrixWorld=(Ql=new Ot,ql=new It,Zl=new It,function(e){var t=this.bones,n=this.geometry,i=n.getAttribute("position");Zl.getInverse(this.root.matrixWorld);for(var r=0,a=0;r<t.length;r++){var o=t[r];o.parent&&o.parent.isBone&&(ql.multiplyMatrices(Zl,o.matrixWorld),Ql.setFromMatrixPosition(ql),i.setXYZ(a,Ql.x,Ql.y,Ql.z),ql.multiplyMatrices(Zl,o.parent.matrixWorld),Ql.setFromMatrixPosition(ql),i.setXYZ(a+1,Ql.x,Ql.y,Ql.z),a+=2)}n.getAttribute("position").needsUpdate=!0,Oi.prototype.updateMatrixWorld.call(this,e)}),((Ic.prototype=Object.create(Zr.prototype)).constructor=Ic).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ic.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},((jc.prototype=Object.create(Oi.prototype)).constructor=jc).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},jc.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=e,i[1]=-t,i[2]=0,i[3]=e,i[4]=t,i[5]=0,i[6]=-e,i[7]=t,i[8]=0,i[9]=-e,i[10]=-t,i[11]=0,i[12]=e,i[13]=-t,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},((Oc.prototype=Object.create(Oi.prototype)).constructor=Oc).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Oc.prototype.update=(Xl=new Ot,Jl=new In,Kl=new In,function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Jl.copy(this.light.color),Kl.copy(this.light.groundColor);for(var n=0,i=t.count;n<i;n++){var r=n<i/2?Jl:Kl;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(Xl.setFromMatrixPosition(this.light.matrixWorld).negate())}),(zc.prototype=Object.create(lo.prototype)).constructor=zc,(Rc.prototype=Object.create(lo.prototype)).constructor=Rc,((Pc.prototype=Object.create(lo.prototype)).constructor=Pc).prototype.update=($l=new Ot,ec=new Ot,tc=new zt,function(){this.object.updateMatrixWorld(!0),tc.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,i=n.vertices,r=n.faces,a=0,o=0,s=r.length;o<s;o++){var u=r[o],l=u.normal;$l.copy(i[u.a]).add(i[u.b]).add(i[u.c]).divideScalar(3).applyMatrix4(e),ec.copy(l).applyMatrix3(tc).normalize().multiplyScalar(this.size).add($l),t.setXYZ(a,$l.x,$l.y,$l.z),a+=1,t.setXYZ(a,ec.x,ec.y,ec.z),a+=1}t.needsUpdate=!0}),((Yc.prototype=Object.create(Oi.prototype)).constructor=Yc).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Yc.prototype.update=(nc=new Ot,ic=new Ot,rc=new Ot,function(){nc.setFromMatrixPosition(this.light.matrixWorld),ic.setFromMatrixPosition(this.light.target.matrixWorld),rc.subVectors(ic,nc),this.lightPlane.lookAt(rc),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rc),this.targetLine.scale.z=rc.length()}),((Bc.prototype=Object.create(lo.prototype)).constructor=Bc).prototype.update=function(){var u,l,c=new Ot,d=new zi;function e(e,t,n,i){c.set(t,n,i).unproject(d);var r=l[e];if(void 0!==r)for(var a=u.getAttribute("position"),o=0,s=r.length;o<s;o++)a.setXYZ(r[o],c.x,c.y,c.z)}return function(){u=this.geometry,l=this.pointMap;d.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),u.getAttribute("position").needsUpdate=!0}}(),((Uc.prototype=Object.create(lo.prototype)).constructor=Uc).prototype.update=(ac=new si,function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&ac.setFromObject(this.object),!ac.isEmpty()){var t=ac.min,n=ac.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),Uc.prototype.setFromObject=function(e){return this.object=e,this.update(),this},((Hc.prototype=Object.create(lo.prototype)).constructor=Hc).prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Oi.prototype.updateMatrixWorld.call(this,e))},((Fc.prototype=Object.create(uo.prototype)).constructor=Fc).prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.lookAt(this.plane.normal),Oi.prototype.updateMatrixWorld.call(this,e)},((Gc.prototype=Object.create(Oi.prototype)).constructor=Gc).prototype.setDirection=(lc=new Ot,function(e){.99999<e.y?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(lc.set(e.z,0,-e.x).normalize(),uc=Math.acos(e.y),this.quaternion.setFromAxisAngle(lc,uc))}),Gc.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Gc.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},(Vc.prototype=Object.create(lo.prototype)).constructor=Vc;var Wc;function Qc(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),nu.call(this,e),this.type="catmullrom",this.closed=!0}function qc(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),nu.call(this,e),this.type="catmullrom"}function Zc(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),nu.call(this,e),this.type="catmullrom"}qs.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(qs.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Object.assign(mu.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Wi,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new Ot(r.x,r.y,r.z||0))}return t}}),Object.assign(fu.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Qc.prototype=Object.create(nu.prototype),qc.prototype=Object.create(nu.prototype),Zc.prototype=Object.create(nu.prototype),Object.assign(Zc.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),zc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},kc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(qu.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Zu.extractUrlBase(e)}}),Object.assign(Dc.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(si.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Qr.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Nt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Nt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Nt.ceilPowerOfTwo(e)}}),Object.assign(zt.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(It.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return void 0===Wc&&(Wc=new Ot),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),Wc.setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)}}),li.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},jt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Wr.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(gu.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ss(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new _s(this,e)}}),Object.assign(kt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ot.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ut.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Wi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Oi.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(Oi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(io.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ro.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(qs.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),ba.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(_u.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Qi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Yr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Yr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(gc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ri.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new In}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(ks.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Vr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Ja.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Ja.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(di.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ht.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(xa.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),Tl.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new wl).load(e,function(e){t.setBuffer(e)}),this},Sl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},El.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Xc={merge:function(e,t,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},Jc={crossOrigin:void 0,loadTexture:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Qs;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a},loadTextureCube:function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Ws;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,n,void 0,i);return t&&(a.mapping=t),a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};var Kc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};e.WebGLRenderTargetCube=Ft,e.WebGLRenderTarget=Ht,e.WebGLRenderer=Ja,e.ShaderLib=Rn,e.UniformsLib=jn,e.UniformsUtils=On,e.ShaderChunk=zn,e.FogExp2=Ka,e.Fog=$a,e.Scene=eo,e.Sprite=no,e.LOD=io,e.SkinnedMesh=oo,e.Skeleton=ro,e.Bone=ao,e.Mesh=Zr,e.LineSegments=lo,e.LineLoop=co,e.Line=uo,e.Points=po,e.Group=mo,e.VideoTexture=fo,e.DataTexture=Gt,e.CompressedTexture=go,e.CubeTexture=Vt,e.CanvasTexture=Pn,e.DepthTexture=_o,e.Texture=Bt,e.CompressedTextureLoader=Fs,e.DataTextureLoader=Gs,e.CubeTextureLoader=Ws,e.TextureLoader=Qs,e.ObjectLoader=Ju,e.MaterialLoader=Uu,e.BufferGeometryLoader=Hu,e.DefaultLoadingManager=Bs,e.LoadingManager=Ys,e.JSONLoader=Xu,e.ImageLoader=Vs,e.ImageBitmapLoader=nl,e.FontLoader=ol,e.FileLoader=Hs,e.Loader=qu,e.LoaderUtils=Zu,e.Cache=Ps,e.AudioLoader=wl,e.SpotLightShadow=Mu,e.SpotLight=Au,e.PointLight=bu,e.RectAreaLight=Lu,e.HemisphereLight=yu,e.DirectionalLightShadow=wu,e.DirectionalLight=xu,e.AmbientLight=Eu,e.LightShadow=vu,e.Light=_u,e.StereoCamera=xl,e.PerspectiveCamera=ba,e.OrthographicCamera=Ri,e.CubeCamera=El,e.ArrayCamera=wa,e.Camera=zi,e.AudioListener=Ll,e.PositionalAudio=Dl,e.AudioContext=bl,e.AudioAnalyser=Sl,e.Audio=Tl,e.VectorKeyframeTrack=Yu,e.StringKeyframeTrack=Tu,e.QuaternionKeyframeTrack=Nu,e.NumberKeyframeTrack=Iu,e.ColorKeyframeTrack=ku,e.BooleanKeyframeTrack=Du,e.PropertyMixer=Cl,e.PropertyBinding=hc,e.KeyframeTrack=Pu,e.AnimationUtils=Ru,e.AnimationObjectGroup=pc,e.AnimationMixer=fc,e.AnimationClip=Bu,e.Uniform=gc,e.InstancedBufferGeometry=_c,e.BufferGeometry=Yr,e.Geometry=Wi,e.InterleavedBufferAttribute=yc,e.InstancedInterleavedBuffer=Mc,e.InterleavedBuffer=vc,e.InstancedBufferAttribute=Ac,e.Face3=Pi,e.Object3D=Oi,e.Raycaster=bc,e.Layers=mi,e.EventDispatcher=t,e.Clock=Ec,e.QuaternionLinearInterpolant=Cu,e.LinearInterpolant=Ou,e.DiscreteInterpolant=zu,e.CubicInterpolant=ju,e.Interpolant=Su,e.Triangle=qr,e.Math=Nt,e.Spherical=Lc,e.Cylindrical=Tc,e.Plane=li,e.Frustum=ci,e.Sphere=ui,e.Ray=Wr,e.Matrix4=It,e.Matrix3=zt,e.Box3=si,e.Box2=Dc,e.Line3=Qr,e.Euler=pi,e.Vector4=Ut,e.Vector3=Ot,e.Vector2=kt,e.Quaternion=jt,e.Color=In,e.ImmediateRenderObject=Sc,e.VertexNormalsHelper=Cc,e.SpotLightHelper=Nc,e.SkeletonHelper=kc,e.PointLightHelper=Ic,e.RectAreaLightHelper=jc,e.HemisphereLightHelper=Oc,e.GridHelper=zc,e.PolarGridHelper=Rc,e.FaceNormalsHelper=Pc,e.DirectionalLightHelper=Yc,e.CameraHelper=Bc,e.BoxHelper=Uc,e.Box3Helper=Hc,e.PlaneHelper=Fc,e.ArrowHelper=Gc,e.AxesHelper=Vc,e.Shape=gu,e.Path=fu,e.ShapePath=il,e.Font=rl,e.CurvePath=mu,e.Curve=qs,e.ShapeUtils=rs,e.WebGLUtils=Ta,e.WireframeGeometry=yo,e.ParametricGeometry=vo,e.ParametricBufferGeometry=Mo,e.TetrahedronGeometry=wo,e.TetrahedronBufferGeometry=xo,e.OctahedronGeometry=Eo,e.OctahedronBufferGeometry=Lo,e.IcosahedronGeometry=To,e.IcosahedronBufferGeometry=Do,e.DodecahedronGeometry=So,e.DodecahedronBufferGeometry=Co,e.PolyhedronGeometry=Ao,e.PolyhedronBufferGeometry=bo,e.TubeGeometry=No,e.TubeBufferGeometry=ko,e.TorusKnotGeometry=Io,e.TorusKnotBufferGeometry=jo,e.TorusGeometry=Oo,e.TorusBufferGeometry=zo,e.TextGeometry=ls,e.TextBufferGeometry=cs,e.SphereGeometry=ds,e.SphereBufferGeometry=hs,e.RingGeometry=ps,e.RingBufferGeometry=ms,e.PlaneGeometry=Hr,e.PlaneBufferGeometry=Fr,e.LatheGeometry=fs,e.LatheBufferGeometry=gs,e.ShapeGeometry=_s,e.ShapeBufferGeometry=ys,e.ExtrudeGeometry=ss,e.ExtrudeBufferGeometry=us,e.EdgesGeometry=Ms,e.ConeGeometry=ws,e.ConeBufferGeometry=xs,e.CylinderGeometry=As,e.CylinderBufferGeometry=bs,e.CircleGeometry=Es,e.CircleBufferGeometry=Ls,e.BoxGeometry=Br,e.BoxBufferGeometry=Ur,e.ShadowMaterial=Ds,e.SpriteMaterial=to,e.RawShaderMaterial=Ss,e.ShaderMaterial=Vr,e.PointsMaterial=ho,e.MeshPhysicalMaterial=Ns,e.MeshStandardMaterial=Cs,e.MeshPhongMaterial=ks,e.MeshToonMaterial=Is,e.MeshNormalMaterial=js,e.MeshLambertMaterial=Os,e.MeshDepthMaterial=ai,e.MeshDistanceMaterial=oi,e.MeshBasicMaterial=Gr,e.LineDashedMaterial=zs,e.LineBasicMaterial=so,e.Material=ri,e.Float64BufferAttribute=nr,e.Float32BufferAttribute=tr,e.Uint32BufferAttribute=er,e.Int32BufferAttribute=$i,e.Uint16BufferAttribute=Ki,e.Int16BufferAttribute=Ji,e.Uint8ClampedBufferAttribute=Xi,e.Uint8BufferAttribute=Zi,e.Int8BufferAttribute=qi,e.BufferAttribute=Qi,e.ArcCurve=Xs,e.CatmullRomCurve3=nu,e.CubicBezierCurve=ou,e.CubicBezierCurve3=su,e.EllipseCurve=Zs,e.LineCurve=uu,e.LineCurve3=lu,e.QuadraticBezierCurve=cu,e.QuadraticBezierCurve3=du,e.SplineCurve=hu,e.REVISION="90",e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},e.CullFaceNone=F,e.CullFaceBack=G,e.CullFaceFront=V,e.CullFaceFrontBack=3,e.FrontFaceDirectionCW=0,e.FrontFaceDirectionCCW=1,e.BasicShadowMap=0,e.PCFShadowMap=R,e.PCFSoftShadowMap=P,e.FrontSide=O,e.BackSide=Z,e.DoubleSide=X,e.FlatShading=1,e.SmoothShading=2,e.NoColors=Le,e.FaceColors=1,e.VertexColors=b,e.NoBlending=W,e.NormalBlending=Q,e.AdditiveBlending=q,e.SubtractiveBlending=J,e.MultiplyBlending=K,e.CustomBlending=$,e.AddEquation=w,e.SubtractEquation=x,e.ReverseSubtractEquation=E,e.MinEquation=L,e.MaxEquation=T,e.ZeroFactor=D,e.OneFactor=S,e.SrcColorFactor=C,e.OneMinusSrcColorFactor=N,e.SrcAlphaFactor=k,e.OneMinusSrcAlphaFactor=I,e.DstAlphaFactor=j,e.OneMinusDstAlphaFactor=z,e.DstColorFactor=Y,e.OneMinusDstColorFactor=B,e.SrcAlphaSaturateFactor=U,e.NeverDepth=ee,e.AlwaysDepth=te,e.LessDepth=ne,e.LessEqualDepth=ie,e.EqualDepth=re,e.GreaterEqualDepth=ae,e.GreaterDepth=oe,e.NotEqualDepth=se,e.MultiplyOperation=H,e.MixOperation=ue,e.AddOperation=le,e.NoToneMapping=ce,e.LinearToneMapping=Te,e.ReinhardToneMapping=de,e.Uncharted2ToneMapping=he,e.CineonToneMapping=pe,e.UVMapping=300,e.CubeReflectionMapping=me,e.CubeRefractionMapping=fe,e.EquirectangularReflectionMapping=ge,e.EquirectangularRefractionMapping=_e,e.SphericalReflectionMapping=ye,e.CubeUVReflectionMapping=ve,e.CubeUVRefractionMapping=Me,e.RepeatWrapping=Ae,e.ClampToEdgeWrapping=be,e.MirroredRepeatWrapping=we,e.NearestFilter=xe,e.NearestMipMapNearestFilter=Ee,e.NearestMipMapLinearFilter=De,e.LinearFilter=Se,e.LinearMipMapNearestFilter=Ce,e.LinearMipMapLinearFilter=Ne,e.UnsignedByteType=ke,e.ByteType=Ie,e.ShortType=je,e.UnsignedShortType=Oe,e.IntType=ze,e.UnsignedIntType=Re,e.FloatType=Pe,e.HalfFloatType=Ye,e.UnsignedShort4444Type=Be,e.UnsignedShort5551Type=Ue,e.UnsignedShort565Type=He,e.UnsignedInt248Type=Fe,e.AlphaFormat=Ge,e.RGBFormat=Ve,e.RGBAFormat=We,e.LuminanceFormat=Qe,e.LuminanceAlphaFormat=qe,e.RGBEFormat=Ze,e.DepthFormat=Xe,e.DepthStencilFormat=Je,e.RGB_S3TC_DXT1_Format=Ke,e.RGBA_S3TC_DXT1_Format=$e,e.RGBA_S3TC_DXT3_Format=et,e.RGBA_S3TC_DXT5_Format=tt,e.RGB_PVRTC_4BPPV1_Format=nt,e.RGB_PVRTC_2BPPV1_Format=it,e.RGBA_PVRTC_4BPPV1_Format=rt,e.RGBA_PVRTC_2BPPV1_Format=at,e.RGB_ETC1_Format=ot,e.RGBA_ASTC_4x4_Format=st,e.RGBA_ASTC_5x4_Format=ut,e.RGBA_ASTC_5x5_Format=lt,e.RGBA_ASTC_6x5_Format=ct,e.RGBA_ASTC_6x6_Format=dt,e.RGBA_ASTC_8x5_Format=ht,e.RGBA_ASTC_8x6_Format=pt,e.RGBA_ASTC_8x8_Format=mt,e.RGBA_ASTC_10x5_Format=ft,e.RGBA_ASTC_10x6_Format=gt,e.RGBA_ASTC_10x8_Format=_t,e.RGBA_ASTC_10x10_Format=yt,e.RGBA_ASTC_12x10_Format=vt,e.RGBA_ASTC_12x12_Format=Mt,e.LoopOnce=2200,e.LoopRepeat=2201,e.LoopPingPong=2202,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.ZeroCurvatureEnding=2400,e.ZeroSlopeEnding=2401,e.WrapAroundEnding=2402,e.TrianglesDrawMode=At,e.TriangleStripDrawMode=1,e.TriangleFanDrawMode=2,e.LinearEncoding=bt,e.sRGBEncoding=wt,e.GammaEncoding=xt,e.RGBEEncoding=Et,e.LogLuvEncoding=3003,e.RGBM7Encoding=Lt,e.RGBM16Encoding=Tt,e.RGBDEncoding=Dt,e.BasicDepthPacking=St,e.RGBADepthPacking=Ct,e.CubeGeometry=Br,e.Face4=function(e,t,n,i,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Pi(e,t,n,r,a,o)},e.LineStrip=0,e.LinePieces=1,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,(e.materials=e).clone=function(){return e.slice()},e},e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new po(e,t)},e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new no(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new po(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ho(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ho(e)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ho(e)},e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ot(e,t,n)},e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Qi(e,t).setDynamic(!0)},e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new qi(e,t)},e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Zi(e,t)},e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Xi(e,t)},e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ji(e,t)},e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ki(e,t)},e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new $i(e,t)},e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new er(e,t)},e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new tr(e,t)},e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new nr(e,t)},e.ClosedSplineCurve3=Qc,e.SplineCurve3=qc,e.Spline=Zc,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Vc(e)},e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Uc(e,t)},e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new lo(new Ms(e.geometry),new so({color:void 0!==t?t:16777215}))},e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new lo(new yo(e.geometry),new so({color:void 0!==t?t:16777215}))},e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Hs(e)},e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Gs(e)},e.GeometryUtils=Xc,e.ImageUtils=Jc,e.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},e.SceneUtils=Kc,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof n&&void 0!==t?n:i.THREE={})},{}],41:[function(e,t,n){THREE.ColladaLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"Anonymous",load:function(e,t,n,i){var r=this,a=void 0===r.path?THREE.LoaderUtils.extractUrlBase(e):r.path;new THREE.FileLoader(r.manager).load(e,function(e){t(r.parse(e,a))},n,i)},setPath:function(e){this.path=e},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){function s(e,t){for(var n=[],i=e.childNodes,r=0,a=i.length;r<a;r++){var o=i[r];o.nodeName===t&&n.push(o)}return n}function a(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=t[i];return n}function _(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=parseFloat(t[i]);return n}function u(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=parseInt(t[i]);return n}function l(e){return e.substring(1)}function p(e){return 0===Object.keys(e).length}function n(e,t,n,i){var r=s(e,t)[0];if(void 0!==r)for(var a=s(r,n),o=0;o<a.length;o++)i(a[o])}function i(e,t){for(var n in e){e[n].build=t(e[n])}}function L(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function o(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=l(r.getAttribute("source")),o=r.getAttribute("semantic");t.inputs[o]=a}}return t}function c(e){var t={},n=e.getAttribute("target").split("/"),i=n.shift(),r=n.shift(),a=-1!==r.indexOf("("),o=-1!==r.indexOf(".");if(o)r=(n=r.split(".")).shift(),t.member=n.shift();else if(a){var s=r.split("(");r=s.shift();for(var u=0;u<s.length;u++)s[u]=parseInt(s[u].replace(/\)/,""));t.indices=s}return t.id=i,t.sid=r,t.arraySyntax=a,t.memberSyntax=o,t.sampler=l(e.getAttribute("source")),t}function r(e){var t=[],n=e.channels,i=e.samplers,r=e.sources;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a],s=i[o.sampler],u=s.inputs.INPUT,l=s.inputs.OUTPUT;y(h(o,r[u],r[l]),t)}return t}function d(e){return L(Re.animations[e],r)}function h(e,t,n){var i,r,a,o,s,u,l=Re.nodes[e.id],c=we(l.id),d=l.transforms[e.sid],h=l.matrix.clone().transpose(),p={};switch(d){case"matrix":for(a=0,o=t.array.length;a<o;a++)if(i=t.array[a],r=a*n.stride,void 0===p[i]&&(p[i]={}),!0===e.arraySyntax){var m=n.array[r],f=e.indices[0]+4*e.indices[1];p[i][f]=m}else for(s=0,u=n.stride;s<u;s++)p[i][s]=n.array[r+s];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',d)}var g=function(e,t){var n=[];for(var i in e)n.push({time:parseFloat(i),value:e[i]});n.sort(function(e,t){return e.time-t.time});for(var r=0;r<16;r++)v(n,r,t.elements[r]);return n}(p,h);return{name:c.uuid,keyframes:g}}var m=new THREE.Vector3,f=new THREE.Vector3,g=new THREE.Quaternion;function y(e,t){for(var n=e.keyframes,i=e.name,r=[],a=[],o=[],s=[],u=0,l=n.length;u<l;u++){var c=n[u],d=c.time,h=c.value;me.fromArray(h).transpose(),me.decompose(m,g,f),r.push(d),a.push(m.x,m.y,m.z),o.push(g.x,g.y,g.z,g.w),s.push(f.x,f.y,f.z)}return 0<a.length&&t.push(new THREE.VectorKeyframeTrack(i+".position",r,a)),0<o.length&&t.push(new THREE.QuaternionKeyframeTrack(i+".quaternion",r,o)),0<s.length&&t.push(new THREE.VectorKeyframeTrack(i+".scale",r,s)),t}function v(e,t,n){var i,r,a,o=!0;for(r=0,a=e.length;r<a;r++)void 0===(i=e[r]).value[t]?i.value[t]=null:o=!1;if(!0===o)for(r=0,a=e.length;r<a;r++)(i=e[r]).value[t]=n;else!function(e,t){for(var n,i,r=0,a=e.length;r<a;r++){var o=e[r];if(null===o.value[t]){if(n=M(e,r,t),i=A(e,r,t),null===n){o.value[t]=i.value[t];continue}if(null===i){o.value[t]=n.value[t];continue}b(o,n,i,t)}}}(e,t)}function M(e,t,n){for(;0<=t;){var i=e[t];if(null!==i.value[n])return i;t--}return null}function A(e,t,n){for(;t<e.length;){var i=e[t];if(null!==i.value[n])return i;t++}return null}function b(e,t,n,i){n.time-t.time!=0?e.value[i]=(e.time-t.time)*(n.value[i]-t.value[i])/(n.time-t.time)+t.value[i]:e.value[i]=t.value[i]}function w(e){for(var t=[],n=e.name,i=e.end-e.start||-1,r=e.animations,a=0,o=r.length;a<o;a++)for(var s=d(r[a]),u=0,l=s.length;u<l;u++)t.push(s[u]);return new THREE.AnimationClip(n,i,t)}function x(e){for(var t={sources:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=_(r.textContent);break;case"source":var a=r.getAttribute("id");t.sources[a]=K(r);break;case"joints":t.joints=E(r);break;case"vertex_weights":t.vertexWeights=T(r)}}return t}function E(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=r.getAttribute("semantic"),o=l(r.getAttribute("source"));t.inputs[a]=o}}return t}function T(e){for(var t={inputs:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=r.getAttribute("semantic"),o=l(r.getAttribute("source")),s=parseInt(r.getAttribute("offset"));t.inputs[a]={id:o,offset:s};break;case"vcount":t.vcount=u(r.textContent);break;case"v":t.v=u(r.textContent)}}return t}function D(e){var t={id:e.id},n=Re.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){var t,n,i,r={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},a=e.sources,o=e.vertexWeights,s=o.vcount,u=o.v,l=o.inputs.JOINT.offset,c=o.inputs.WEIGHT.offset,d=e.sources[e.joints.inputs.JOINT],h=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=a[o.inputs.WEIGHT.id].array,m=0;for(t=0,i=s.length;t<i;t++){var f=s[t],g=[];for(n=0;n<f;n++){var _=u[m+l],y=u[m+c],v=p[y];g.push({index:_,weight:v}),m+=2}for(g.sort(w),n=0;n<4;n++){var M=g[n];void 0!==M?(r.indices.array.push(M.index),r.weights.array.push(M.weight)):(r.indices.array.push(0),r.weights.array.push(0))}}for(r.bindMatrix=(new THREE.Matrix4).fromArray(e.bindShapeMatrix).transpose(),t=0,i=d.array.length;t<i;t++){var A=d.array[t],b=(new THREE.Matrix4).fromArray(h.array,t*h.stride).transpose();r.joints.push({name:A,boneInverse:b})}return r;function w(e,t){return t.weight-e.weight}}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function S(e){return void 0!==e.build?e.build:e.init_from}function C(e){return L(Re.images[e],S)}function N(e){for(var t={surfaces:{},samplers:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"newparam":k(r,t);break;case"technique":t.technique=O(r);break;case"extra":t.extra=U(r)}}return t}function k(e,t){for(var n=e.getAttribute("sid"),i=0,r=e.childNodes.length;i<r;i++){var a=e.childNodes[i];if(1===a.nodeType)switch(a.nodeName){case"surface":t.surfaces[n]=I(a);break;case"sampler2D":t.samplers[n]=j(a)}}}function I(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"init_from":t.init_from=r.textContent}}return t}function j(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"source":t.source=r.textContent}}return t}function O(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName,t.parameters=z(r)}}return t}function z(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"shininess":case"transparency":t[r.nodeName]=R(r);break;case"transparent":t[r.nodeName]={opaque:r.getAttribute("opaque"),data:R(r)}}}return t}function R(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":t[r.nodeName]=_(r.textContent);break;case"float":t[r.nodeName]=parseFloat(r.textContent);break;case"texture":t[r.nodeName]={id:r.getAttribute("texture"),extra:P(r)}}}return t}function P(e){for(var t={technique:{}},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"extra":Y(r,t)}}return t}function Y(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique":B(r,t)}}}function B(e,t){for(var n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent)}}}function U(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique":t.technique=H(r)}}return t}function H(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"double_sided":t[r.nodeName]=parseInt(r.textContent)}}return t}function F(e){return e}function G(e){var t,n,o=(t=e.url,L(Re.effects[t],F)),i=o.profile.technique,r=o.profile.extra;switch(i.type){case"phong":case"blinn":n=new THREE.MeshPhongMaterial;break;case"lambert":n=new THREE.MeshLambertMaterial;break;default:n=new THREE.MeshBasicMaterial}function a(e){var t,n=o.profile.samplers[e.id];void 0!==n?t=C(o.profile.surfaces[n.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),t=C(e.id));if(void 0!==t){var i=Ie.load(t),r=e.extra;if(void 0!==r&&void 0!==r.technique&&!1===p(r.technique)){var a=r.technique;i.wrapS=a.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,i.wrapT=a.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,i.offset.set(a.offsetU||0,a.offsetV||0),i.repeat.set(a.repeatU||1,a.repeatV||1)}else i.wrapS=THREE.RepeatWrapping,i.wrapT=THREE.RepeatWrapping;return i}return console.error("THREE.ColladaLoader: Unable to load texture with ID:",e.id),null}n.name=e.name;var s=i.parameters;for(var u in s){var l=s[u];switch(u){case"diffuse":l.color&&n.color.fromArray(l.color),l.texture&&(n.map=a(l.texture));break;case"specular":l.color&&n.specular&&n.specular.fromArray(l.color),l.texture&&(n.specularMap=a(l.texture));break;case"shininess":l.float&&n.shininess&&(n.shininess=l.float);break;case"emission":l.color&&n.emissive&&n.emissive.fromArray(l.color)}}var c=s.transparent,d=s.transparency;if(void 0===d&&c&&(d={float:1}),void 0===c&&d&&(c={opaque:"A_ONE",data:{color:[1,1,1,1]}}),c&&d)if(c.data.texture)n.alphaMap=a(c.data.texture),n.transparent=!0;else{var h=c.data.color;switch(c.opaque){case"A_ONE":n.opacity=h[3]*d.float;break;case"RGB_ZERO":n.opacity=1-h[0]*d.float;break;case"A_ZERO":n.opacity=1-h[3]*d.float;break;case"RGB_ONE":n.opacity=h[0]*d.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',c.opaque)}n.opacity<1&&(n.transparent=!0)}return void 0!==r&&void 0!==r.technique&&1===r.technique.double_sided&&(n.side=THREE.DoubleSide),n}function V(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"technique_common":return W(n)}}return{}}function W(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"perspective":case"orthographic":t.technique=i.nodeName,t.parameters=Q(i)}}return t}function Q(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[i.nodeName]=parseFloat(i.textContent)}}return t}function q(e){var t;switch(e.optics.technique){case"perspective":t=new THREE.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag,i=e.optics.parameters.xmag,r=e.optics.parameters.aspect_ratio;i=void 0===i?n*r:i,n=void 0===n?i/r:n,i*=.5,n*=.5,t=new THREE.OrthographicCamera(-i,i,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=e.name,t}function Z(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName,t.parameters=X(r)}}return t}function X(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":var a=_(r.textContent);t.color=(new THREE.Color).fromArray(a);break;case"falloff_angle":t.falloffAngle=parseFloat(r.textContent);break;case"quadratic_attenuation":var o=parseFloat(r.textContent);t.distance=o?Math.sqrt(1/o):0}}return t}function J(e){var t;switch(e.technique){case"directional":t=new THREE.DirectionalLight;break;case"point":t=new THREE.PointLight;break;case"spot":t=new THREE.SpotLight;break;case"ambient":t=new THREE.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function K(e){for(var t={array:[],stride:3},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"float_array":t.array=_(i.textContent);break;case"Name_array":t.array=a(i.textContent);break;case"technique_common":var r=s(i,"accessor")[0];void 0!==r&&(t.stride=parseInt(r.getAttribute("stride")))}}return t}function $(e){for(var t={},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];1===i.nodeType&&(t[i.getAttribute("semantic")]=l(i.getAttribute("source")))}return t}function ee(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":var a=l(r.getAttribute("source")),o=r.getAttribute("semantic"),s=parseInt(r.getAttribute("offset"));t.inputs[o]={id:a,offset:s},t.stride=Math.max(t.stride,s+1);break;case"vcount":t.vcount=u(r.textContent);break;case"p":t.p=u(r.textContent)}}return t}function te(e){var t={},n=e.sources,i=e.vertices,r=e.primitives;if(0===r.length)return{};var a=function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];void 0===t[i.type]&&(t[i.type]=[]),t[i.type].push(i)}return t}(r);for(var o in a)t[o]=ne(a[o],n,i);return t}function ne(e,t,n){for(var i={},r={array:[],stride:0},a={array:[],stride:0},o={array:[],stride:0},s={array:[],stride:0},u=[],l=4,c=[],d=4,h=new THREE.BufferGeometry,p=[],m=0,f=0,g=0;g<e.length;g++){var _=e[g],y=_.inputs,v=1;for(var M in _.vcount&&4===_.vcount[0]&&(v=2),f="lines"===_.type||"linestrips"===_.type?2*_.count:3*_.count*v,h.addGroup(m,f,g),m+=f,_.material&&p.push(_.material),y){var A=y[M];switch(M){case"VERTEX":for(var b in n){var w=n[b];switch(b){case"POSITION":ie(_,t[w],A.offset,r.array),r.stride=t[w].stride,t.skinWeights&&t.skinIndices&&(ie(_,t.skinIndices,A.offset,u),ie(_,t.skinWeights,A.offset,c));break;case"NORMAL":ie(_,t[w],A.offset,a.array),a.stride=t[w].stride;break;case"COLOR":ie(_,t[w],A.offset,s.array),s.stride=t[w].stride;break;case"TEXCOORD":ie(_,t[w],A.offset,o.array),o.stride=t[w].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',b)}}break;case"NORMAL":ie(_,t[A.id],A.offset,a.array),a.stride=t[A.id].stride;break;case"COLOR":ie(_,t[A.id],A.offset,s.array),s.stride=t[A.id].stride;break;case"TEXCOORD":ie(_,t[A.id],A.offset,o.array),o.stride=t[A.id].stride}}}return 0<r.array.length&&h.addAttribute("position",new THREE.Float32BufferAttribute(r.array,r.stride)),0<a.array.length&&h.addAttribute("normal",new THREE.Float32BufferAttribute(a.array,a.stride)),0<s.array.length&&h.addAttribute("color",new THREE.Float32BufferAttribute(s.array,s.stride)),0<o.array.length&&h.addAttribute("uv",new THREE.Float32BufferAttribute(o.array,o.stride)),0<u.length&&h.addAttribute("skinIndex",new THREE.Float32BufferAttribute(u,l)),0<c.length&&h.addAttribute("skinWeight",new THREE.Float32BufferAttribute(c,d)),i.data=h,i.type=e[0].type,i.materialKeys=p,i}function ie(e,t,i,r){var a=e.p,n=e.stride,o=e.vcount;function s(e){for(var t=a[e+i]*c,n=t+c;t<n;t++)r.push(l[t])}var u=0,l=t.array,c=t.stride;if(void 0!==e.vcount){for(var d=0,h=0,p=o.length;h<p;h++){var m=o[h];if(4===m){var f=d+1*n,g=d+2*n,_=d+3*n;s(d+0*n),s(f),s(_),s(f),s(g),s(_)}else if(3===m){f=d+1*n,g=d+2*n;s(d+0*n),s(f),s(g)}else u=Math.max(u,m);d+=n*m}0<u&&console.log("THREE.ColladaLoader: Geometry has faces with more than 4 vertices.")}else for(h=0,p=a.length;h<p;h+=n)s(h)}function re(e){return L(Re.geometries[e],te)}function ae(e){return void 0!==e.build?e.build:e}function oe(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"joint":t.joints[i.getAttribute("sid")]=se(i);break;case"link":t.links.push(le(i))}}}function se(e){for(var t,n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"prismatic":case"revolute":t=ue(i)}}return t}function ue(e,t){t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"axis":var r=_(i.textContent);t.axis.fromArray(r);break;case"limits":var a=i.getElementsByTagName("max")[0],o=i.getElementsByTagName("min")[0];t.limits.max=parseFloat(a.textContent),t.limits.min=parseFloat(o.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function le(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"attachment_full":t.attachments.push(ce(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(de(i))}}return t}function ce(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"link":t.links.push(le(i));break;case"matrix":case"translate":case"rotate":t.transforms.push(de(i))}}return t}function de(e){var t={type:e.nodeName},n=_(e.textContent);switch(t.type){case"matrix":t.obj=new THREE.Matrix4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new THREE.Vector3,t.obj.fromArray(n);break;case"rotate":t.obj=new THREE.Vector3,t.obj.fromArray(n),t.angle=THREE.Math.degToRad(n[3])}return t}function he(e){for(var t={target:e.getAttribute("target").split("/").pop()},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"axis":var r=i.getElementsByTagName("param")[0];t.axis=r.textContent;var a=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=a.substr(0,a.length-1)}}return t}function pe(e){return void 0!==e.build?e.build:e}var me=new THREE.Matrix4,fe=new THREE.Vector3;function ge(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"node":t.nodes.push(i.getAttribute("id")),ge(i);break;case"instance_camera":t.instanceCameras.push(l(i.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(_e(i));break;case"instance_light":t.instanceLights.push(l(i.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(_e(i));break;case"instance_node":t.instanceNodes.push(l(i.getAttribute("url")));break;case"matrix":var r=_(i.textContent);t.matrix.multiply(me.fromArray(r).transpose()),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"translate":r=_(i.textContent);fe.fromArray(r),t.matrix.multiply(me.makeTranslation(fe.x,fe.y,fe.z)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"rotate":r=_(i.textContent);var a=THREE.Math.degToRad(r[3]);t.matrix.multiply(me.makeRotationAxis(fe.fromArray(r),a)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"scale":r=_(i.textContent);t.matrix.scale(fe.fromArray(r)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"extra":break;default:console.log(i)}}return Re.nodes[t.id]=t}function _e(e){for(var t={id:l(e.getAttribute("url")),materials:{},skeletons:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];switch(i.nodeName){case"bind_material":for(var r=i.getElementsByTagName("instance_material"),a=0;a<r.length;a++){var o=r[a],s=o.getAttribute("symbol"),u=o.getAttribute("target");t.materials[s]=l(u)}break;case"skeleton":t.skeletons.push(l(i.textContent))}}return t}function ye(e,t){var n,i,r,a=[],o=[];for(n=0;n<e.length;n++){ve(we(e[n]),t,a)}for(n=0;n<t.length;n++)for(i=0;i<a.length;i++)if((r=a[i]).bone.name===t[n].name){(o[n]=r).processed=!0;break}for(n=0;n<a.length;n++)!1===(r=a[n]).processed&&(o.push(r),r.processed=!0);var s=[],u=[];for(n=0;n<o.length;n++)r=o[n],s.push(r.bone),u.push(r.boneInverse);return new THREE.Skeleton(s,u)}function ve(e,r,a){e.traverse(function(e){if(!0===e.isBone){for(var t,n=0;n<r.length;n++){var i=r[n];if(i.name===e.name){t=i.boneInverse;break}}void 0===t&&(t=new THREE.Matrix4),a.push({bone:e,boneInverse:t,processed:!1})}})}function Me(e){for(var t,n,i,r,a,o=[],s=e.matrix,u=e.nodes,l=e.type,c=e.instanceCameras,d=e.instanceControllers,h=e.instanceLights,p=e.instanceGeometries,m=e.instanceNodes,f=0,g=u.length;f<g;f++)o.push(we(u[f]));for(f=0,g=c.length;f<g;f++){var _=(t=c[f],void 0!==(n=Re.cameras[t])?L(n,q):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",t),null));null!==_&&o.push(_.clone())}for(f=0,g=d.length;f<g;f++)for(var y=d[f],v=(i=y.id,L(Re.controllers[i],D)),M=be(re(v.id),y.materials),A=ye(y.skeletons,v.skin.joints),b=0,w=M.length;b<w;b++){var x;(x=M[b]).isSkinnedMesh&&(x.bind(A,v.skin.bindMatrix),x.normalizeSkinWeights()),o.push(x)}for(f=0,g=h.length;f<g;f++){var E=(r=h[f],void 0!==(a=Re.lights[r])?L(a,J):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",r),null));null!==E&&o.push(E.clone())}for(f=0,g=p.length;f<g;f++)for(b=0,w=(M=be(re((y=p[f]).id),y.materials)).length;b<w;b++)o.push(M[b]);for(f=0,g=m.length;f<g;f++)o.push(we(m[f]).clone());if(0===u.length&&1===o.length)x=o[0];else{x="JOINT"===l?new THREE.Bone:new THREE.Group;for(f=0;f<o.length;f++)x.add(o[f])}return x.name="JOINT"===l?e.sid:e.name,x.matrix.copy(s),x.matrix.decompose(x.position,x.quaternion,x.scale),x}function Ae(e,t){for(var n,i=[],r=0,a=e.length;r<a;r++){var o=t[e[r]];i.push((n=o,L(Re.materials[n],G)))}return i}function be(e,t){var n=[];for(var i in e){var r=e[i],a=Ae(r.materialKeys,t);0===a.length&&("lines"===i||"linestrips"===i?a.push(new THREE.LineBasicMaterial):a.push(new THREE.MeshPhongMaterial));var o=void 0!==r.data.attributes.skinIndex;if(o)for(var s=0,u=a.length;s<u;s++)a[s].skinning=!0;var l,c=1===a.length?a[0]:a;switch(i){case"lines":l=new THREE.LineSegments(r.data,c);break;case"linestrips":l=new THREE.Line(r.data,c);break;case"triangles":case"polylist":l=o?new THREE.SkinnedMesh(r.data,c):new THREE.Mesh(r.data,c)}n.push(l)}return n}function we(e){return L(Re.nodes[e],Me)}function xe(e){var t=new THREE.Group;t.name=e.name;for(var n=e.children,i=0;i<n.length;i++){var r=n[i];null===r.id?t.add(Me(r)):t.add(we(r.id))}return t}function Ee(e){return L(Re.visualScenes[e],xe)}if(console.time("THREE.ColladaLoader"),0===e.length)return{scene:new THREE.Scene};console.time("THREE.ColladaLoader: DOMParser");var Le=(new DOMParser).parseFromString(e,"application/xml");console.timeEnd("THREE.ColladaLoader: DOMParser");var Te=s(Le,"COLLADA")[0],De=Te.getAttribute("version");console.log("THREE.ColladaLoader: File version",De);var Se,Ce,Ne,ke=(Se=s(Te,"asset")[0],{unit:(Ne=s(Se,"unit")[0],void 0!==Ne?parseFloat(Ne.getAttribute("meter")):1),upAxis:(Ce=s(Se,"up_axis")[0],void 0!==Ce?Ce.textContent:"Y_UP")}),Ie=new THREE.TextureLoader(this.manager);Ie.setPath(t).setCrossOrigin(this.crossOrigin);var je=[],Oe={},ze=0,Re={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},kinematicsScenes:{}};console.time("THREE.ColladaLoader: Parse"),n(Te,"library_animations","animation",function(e){for(var t={sources:{},samplers:{},channels:{}},n=0,i=e.childNodes.length;n<i;n++){var r,a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"source":r=a.getAttribute("id"),t.sources[r]=K(a);break;case"sampler":r=a.getAttribute("id"),t.samplers[r]=o(a);break;case"channel":r=a.getAttribute("target"),t.channels[r]=c(a);break;default:console.log(a)}}Re.animations[e.getAttribute("id")]=t}),n(Te,"library_animation_clips","animation_clip",function(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"instance_animation":t.animations.push(l(r.getAttribute("url")))}}Re.clips[e.getAttribute("id")]=t}),n(Te,"library_controllers","controller",function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"skin":t.id=l(r.getAttribute("source")),t.skin=x(r);break;case"morph":t.id=l(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}Re.controllers[e.getAttribute("id")]=t}),n(Te,"library_images","image",function(e){var t={init_from:s(e,"init_from")[0].textContent};Re.images[e.getAttribute("id")]=t}),n(Te,"library_effects","effect",function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"profile_COMMON":t.profile=N(r)}}Re.effects[e.getAttribute("id")]=t}),n(Te,"library_materials","material",function(e){for(var t={name:e.getAttribute("name")},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"instance_effect":t.url=l(r.getAttribute("url"))}}Re.materials[e.getAttribute("id")]=t}),n(Te,"library_cameras","camera",function(e){for(var t={name:e.getAttribute("name")},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"optics":t.optics=V(r)}}Re.cameras[e.getAttribute("id")]=t}),n(Te,"library_lights","light",function(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":t=Z(r)}}Re.lights[e.getAttribute("id")]=t}),n(Te,"library_geometries","geometry",function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},n=s(e,"mesh")[0];if(void 0!==n){for(var i=0;i<n.childNodes.length;i++){var r=n.childNodes[i];if(1===r.nodeType){var a=r.getAttribute("id");switch(r.nodeName){case"source":t.sources[a]=K(r);break;case"vertices":t.vertices=$(r);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",r.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ee(r));break;default:console.log(r)}}}Re.geometries[e.getAttribute("id")]=t}}),n(Te,"library_nodes","node",ge),n(Te,"library_visual_scenes","visual_scene",function(e){var t={name:e.getAttribute("name"),children:[]};!function(e){for(var t=e.getElementsByTagName("node"),n=0;n<t.length;n++){var i=t[n];!1===i.hasAttribute("id")&&i.setAttribute("id","three_default_"+ze++)}}(e);for(var n=s(e,"node"),i=0;i<n.length;i++)t.children.push(ge(n[i]));Re.visualScenes[e.getAttribute("id")]=t}),n(Te,"library_kinematics_models","kinematics_model",function(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique_common":oe(i,t)}}Re.kinematicsModels[e.getAttribute("id")]=t}),n(Te,"scene","instance_kinematics_scene",function(e){for(var t={bindJointAxis:[]},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"bind_joint_axis":t.bindJointAxis.push(he(i))}}Re.kinematicsScenes[l(e.getAttribute("url"))]=t}),console.timeEnd("THREE.ColladaLoader: Parse"),console.time("THREE.ColladaLoader: Build"),i(Re.animations,r),i(Re.clips,w),i(Re.controllers,D),i(Re.images,S),i(Re.effects,F),i(Re.materials,G),i(Re.cameras,q),i(Re.lights,J),i(Re.geometries,te),i(Re.visualScenes,xe),console.timeEnd("THREE.ColladaLoader: Build"),function(){var e,t=Re.clips;if(!0===p(t)){if(!1===p(Re.animations)){var n=[];for(var i in Re.animations)for(var r=d(i),a=0,o=r.length;a<o;a++)n.push(r[a]);je.push(new THREE.AnimationClip("default",-1,n))}}else for(var i in t)je.push((e=i,L(Re.clips[e],w)))}(),function(){var e=Object.keys(Re.kinematicsModels)[0],t=Object.keys(Re.kinematicsScenes)[0],n=Object.keys(Re.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var i,r,a=(i=e,L(Re.kinematicsModels[i],ae)),o=(r=t,L(Re.kinematicsScenes[r],pe)),s=Ee(n),u=o.bindJointAxis,l={},c=0,d=u.length;c<d;c++){var h=u[c],p=Te.querySelector('[sid="'+h.target+'"]');if(p){var m=p.parentElement;g(h.jointIndex,m)}}var f=new THREE.Matrix4;Oe={joints:a&&a.joints,getJointValue:function(e){var t=l[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var n=l[e];if(n){var i=n.joint;if(t>i.limits.max||t<i.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+i.limits.min+", max: "+i.limits.max+").");else if(i.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var r=n.object,a=i.axis,o=n.transforms;me.identity();for(var s=0;s<o.length;s++){var u=o[s];if(u.sid&&-1!==u.sid.indexOf(e))switch(i.type){case"revolute":me.multiply(f.makeRotationAxis(a,THREE.Math.degToRad(t)));break;case"prismatic":me.multiply(f.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+i.type)}else switch(u.type){case"matrix":me.multiply(u.obj);break;case"translate":me.multiply(f.makeTranslation(u.obj.x,u.obj.y,u.obj.z));break;case"scale":me.scale(u.obj);break;case"rotate":me.multiply(f.makeRotationAxis(u.obj,u.angle))}}r.matrix.copy(me),r.matrix.decompose(r.position,r.quaternion,r.scale),l[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function g(t,n){var i=n.getAttribute("name"),r=a.joints[t];s.traverse(function(e){e.name===i&&(l[t]={object:e,transforms:function(e){for(var t=[],n=Te.querySelector('[id="'+e.id+'"]'),i=0;i<n.childNodes.length;i++){var r=n.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"matrix":var a=_(r.textContent),o=(new THREE.Matrix4).fromArray(a).transpose();t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:o});break;case"translate":case"scale":var a=_(r.textContent),s=(new THREE.Vector3).fromArray(a);t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:s});break;case"rotate":var a=_(r.textContent),s=(new THREE.Vector3).fromArray(a),u=THREE.Math.degToRad(a[3]);t.push({sid:r.getAttribute("sid"),type:r.nodeName,obj:s,angle:u})}}return t}(n),joint:r,position:r.zeroPosition})})}}();var Pe=Ee(l(s(s(Te,"scene")[0],"instance_visual_scene")[0].getAttribute("url")));return"Z_UP"===ke.upAxis&&(Pe.rotation.x=-Math.PI/2),Pe.scale.multiplyScalar(ke.unit),console.timeEnd("THREE.ColladaLoader"),{animations:je,kinematics:Oe,library:Re,scene:Pe}}}},{}],42:[function(e,t,n){THREE.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function i(){var n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}e.prototype={constructor:e,crossOrigin:"Anonymous",load:function(e,t,n,i){var r=this,a=void 0!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(e),o=new THREE.FileLoader(r.manager);o.setResponseType("arraybuffer"),o.load(e,function(e){try{r.parse(e,a,t,i)}catch(e){if(void 0===i)throw e;i(e)}},n,i)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},parse:function(e,t,a,n){var i,r={};if("string"==typeof e)i=e;else if(THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4))===u){try{r[A.KHR_BINARY_GLTF]=new d(e)}catch(e){return void(n&&n(e))}i=r[A.KHR_BINARY_GLTF].content}else i=THREE.LoaderUtils.decodeText(new Uint8Array(e));var o=JSON.parse(i);void 0===o.asset||o.asset.version[0]<2?n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.")):(o.extensionsUsed&&(0<=o.extensionsUsed.indexOf(A.KHR_LIGHTS)&&(r[A.KHR_LIGHTS]=new s(o)),0<=o.extensionsUsed.indexOf(A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS)&&(r[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]=new h)),console.time("GLTFLoader"),new R(o,r,{path:t||this.path||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(function(e,t,n,i,r){console.timeEnd("GLTFLoader"),a({scene:e,scenes:t,cameras:n,animations:i,asset:r})},n))}};var A={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_LIGHTS:"KHR_lights",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness"};function s(e){this.name=A.KHR_LIGHTS,this.lights={};var t=(e.extensions&&e.extensions[A.KHR_LIGHTS]||{}).lights||{};for(var n in t){var i,r=t[n],a=(new THREE.Color).fromArray(r.color);switch(r.type){case"directional":(i=new THREE.DirectionalLight(a)).position.set(0,0,1);break;case"point":i=new THREE.PointLight(a);break;case"spot":(i=new THREE.SpotLight(a)).position.set(0,0,1);break;case"ambient":i=new THREE.AmbientLight(a)}i&&(void 0!==r.constantAttenuation&&(i.intensity=r.constantAttenuation),void 0!==r.linearAttenuation&&(i.distance=1/r.linearAttenuation),void 0!==r.quadraticAttenuation&&(i.decay=r.quadraticAttenuation),void 0!==r.fallOffAngle&&(i.angle=r.fallOffAngle),void 0!==r.fallOffExponent&&console.warn("THREE.GLTFLoader:: light.fallOffExponent not currently supported."),i.name=r.name||"light_"+n,this.lights[n]=i)}}var u="glTF",l=12,c={JSON:1313821514,BIN:5130562};function d(e){this.name=A.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,l);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(e,l),i=0;i<n.byteLength;){var r=n.getUint32(i,!0);i+=4;var a=n.getUint32(i,!0);if(i+=4,a===c.JSON){var o=new Uint8Array(e,l+i,r);this.content=THREE.LoaderUtils.decodeText(o)}else if(a===c.BIN){var s=l+i;this.body=e.slice(s,s+r)}i+=r}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function h(){return{name:A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(e,t,n){var i=t.extensions[this.name],r=THREE.ShaderLib.standard,a=THREE.UniformsUtils.clone(r.uniforms),o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),u=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),d=r.fragmentShader.replace("#include <specularmap_fragment>","").replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",u).replace("#include <metalnessmap_fragment>",l).replace("#include <lights_physical_fragment>",c);delete a.roughness,delete a.metalness,delete a.roughnessMap,delete a.metalnessMap,a.specular={value:(new THREE.Color).setHex(1118481)},a.glossiness={value:.5},a.specularMap={value:null},a.glossinessMap={value:null},e.vertexShader=r.vertexShader,e.fragmentShader=d,e.uniforms=a,e.defines={STANDARD:""},e.color=new THREE.Color(1,1,1),e.opacity=1;var h=[];if(Array.isArray(i.diffuseFactor)){var p=i.diffuseFactor;e.color.fromArray(p),e.opacity=p[3]}if(void 0!==i.diffuseTexture&&h.push(n.assignTexture(e,"map",i.diffuseTexture.index)),e.emissive=new THREE.Color(0,0,0),e.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var m=i.specularGlossinessTexture.index;h.push(n.assignTexture(e,"glossinessMap",m)),h.push(n.assignTexture(e,"specularMap",m))}return Promise.all(h)},createMaterial:function(e){var t=new THREE.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,i=0,r=n.length;i<r;i++)t[n[i]]=e[n[i]];return t},refreshUniforms:function(e,t,n,i,r,a){if(!0===r.isGLTFSpecularGlossinessMaterial){var o,s,u,l=r.uniforms,c=r.defines;if(l.opacity.value=r.opacity,l.diffuse.value.copy(r.color),l.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),l.map.value=r.map,l.specularMap.value=r.specularMap,l.alphaMap.value=r.alphaMap,l.lightMap.value=r.lightMap,l.lightMapIntensity.value=r.lightMapIntensity,l.aoMap.value=r.aoMap,l.aoMapIntensity.value=r.aoMapIntensity,r.map?o=r.map:r.specularMap?o=r.specularMap:r.displacementMap?o=r.displacementMap:r.normalMap?o=r.normalMap:r.bumpMap?o=r.bumpMap:r.glossinessMap?o=r.glossinessMap:r.alphaMap?o=r.alphaMap:r.emissiveMap&&(o=r.emissiveMap),void 0!==o)if(o.isWebGLRenderTarget&&(o=o.texture),void 0!==o.matrix){if(!0===o.matrixAutoUpdate){s=o.offset,u=o.repeat;var d=o.rotation,h=o.center;o.matrix.setUvTransform(s.x,s.y,u.x,u.y,d,h.x,h.y)}l.uvTransform.value.copy(o.matrix)}else s=o.offset,u=o.repeat,l.offsetRepeat.value.set(s.x,s.y,u.x,u.y);l.envMap.value=r.envMap,l.envMapIntensity.value=r.envMapIntensity,l.flipEnvMap.value=r.envMap&&r.envMap.isCubeTexture?-1:1,l.refractionRatio.value=r.refractionRatio,l.specular.value.copy(r.specular),l.glossiness.value=r.glossiness,l.glossinessMap.value=r.glossinessMap,l.emissiveMap.value=r.emissiveMap,l.bumpMap.value=r.bumpMap,l.normalMap.value=r.normalMap,l.displacementMap.value=r.displacementMap,l.displacementScale.value=r.displacementScale,l.displacementBias.value=r.displacementBias,null!==l.glossinessMap.value&&void 0===c.USE_GLOSSINESSMAP&&(c.USE_GLOSSINESSMAP="",c.USE_ROUGHNESSMAP=""),null===l.glossinessMap.value&&void 0!==c.USE_GLOSSINESSMAP&&(delete c.USE_GLOSSINESSMAP,delete c.USE_ROUGHNESSMAP)}}}}function b(e,t,n,i){THREE.Interpolant.call(this,e,t,n,i)}((b.prototype=Object.create(THREE.Interpolant.prototype)).constructor=b).prototype.interpolate_=function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=i-t,c=(n-t)/l,d=c*c,h=d*c,p=e*u,m=p-u,f=2*h-3*d+1,g=h-2*d+c,_=-2*h+3*d,y=h-d,v=0;v!==o;v++){var M=a[m+v+o],A=a[m+v+s]*l,b=a[p+v+o],w=a[p+v]*l;r[v]=f*M+g*A+_*b+y*w}return r};var w=0,x=1,E=2,L=3,T=4,D=5,S=6,C=(Number,THREE.Matrix3,THREE.Matrix4,THREE.Vector2,THREE.Vector3,THREE.Vector4,THREE.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),p={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},m={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},f={6406:THREE.AlphaFormat,6407:THREE.RGBFormat,6408:THREE.RGBAFormat,6409:THREE.LuminanceFormat,6410:THREE.LuminanceAlphaFormat},g={5121:THREE.UnsignedByteType,32819:THREE.UnsignedShort4444Type,32820:THREE.UnsignedShort5551Type,33635:THREE.UnsignedShort565Type},N=(THREE.BackSide,THREE.FrontSide,THREE.NeverDepth,THREE.LessDepth,THREE.EqualDepth,THREE.LessEqualDepth,THREE.GreaterEqualDepth,THREE.NotEqualDepth,THREE.GreaterEqualDepth,THREE.AlwaysDepth,THREE.AddEquation,THREE.SubtractEquation,THREE.ReverseSubtractEquation,THREE.ZeroFactor,THREE.OneFactor,THREE.SrcColorFactor,THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE.OneMinusSrcAlphaFactor,THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE.DstColorFactor,THREE.OneMinusDstColorFactor,THREE.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),k={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},I={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},_="OPAQUE",y="MASK",v="BLEND";function M(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function j(e,t,n,i){var r=e.geometry,a=e.material,o=n.targets,s=r.morphAttributes;s.position=[],s.normal=[],a.morphTargets=!0;for(var u=0,l=o.length;u<l;u++){var c,d,h=o[u],p="morphTarget"+u;if(void 0!==h.POSITION){c=z(i[h.POSITION]);for(var m=r.attributes.position,f=0,g=c.count;f<g;f++)c.setXYZ(f,c.getX(f)+m.getX(f),c.getY(f)+m.getY(f),c.getZ(f)+m.getZ(f))}else r.attributes.position&&(c=z(r.attributes.position));if(void 0!==c&&(c.name=p,s.position.push(c)),void 0!==h.NORMAL){a.morphNormals=!0,d=z(i[h.NORMAL]);var _=r.attributes.normal;for(f=0,g=d.count;f<g;f++)d.setXYZ(f,d.getX(f)+_.getX(f),d.getY(f)+_.getY(f),d.getZ(f)+_.getZ(f))}else void 0!==r.attributes.normal&&(d=z(r.attributes.normal));void 0!==d&&(d.name=p,s.normal.push(d))}if(e.updateMorphTargets(),void 0!==t.weights)for(u=0,l=t.weights.length;u<l;u++)e.morphTargetInfluences[u]=t.weights[u]}function a(e,t){if(e.indices!==t.indices)return!1;var n=e.attributes||{},i=t.attributes||{},r=Object.keys(n),a=Object.keys(i);if(r.length!==a.length)return!1;for(var o=0,s=r.length;o<s;o++){var u=r[o];if(n[u]!==i[u])return!1}return!0}function O(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(a(r.primitive,t))return r.geometry}return null}function z(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,n=e.itemSize,i=e.array.slice(0,t*n),r=0;r<t;++r)i[r]=e.getX(r),2<=n&&(i[r+1]=e.getY(r)),3<=n&&(i[r+2]=e.getZ(r)),4<=n&&(i[r+3]=e.getW(r));return new THREE.BufferAttribute(i,n,e.normalized)}return e.clone()}function R(e,t,n){this.json=e||{},this.extensions=t||{},this.options=n||{},this.cache=new i,this.primitiveCache=[],this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}return R.prototype.parse=function(o,e){var s=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(e){var t=e.scenes||[],n=t[s.scene||0],i=e.animations||[],r=s.asset,a=e.cameras||[];o(n,t,a,i,r)}).catch(e)},R.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i={},r={},a=0,o=t.length;a<o;a++)for(var s=t[a].joints,u=0,l=s.length;u<l;u++)e[s[u]].isBone=!0;for(var c=0,d=e.length;c<d;c++){var h=e[c];void 0!==h.mesh&&(void 0===i[h.mesh]&&(i[h.mesh]=r[h.mesh]=0),i[h.mesh]++,void 0!==h.skin&&(n[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=r},R.prototype.getDependency=function(e,t){var n=e+":"+t,i=this.cache.get(n);i||(i=this["load"+e.charAt(0).toUpperCase()+e.slice(1)](t),this.cache.add(n,i));return i},R.prototype.getDependencies=function(n){var e=this.cache.get(n);if(!e){var i=this,t=this.json[n+("mesh"===n?"es":"s")]||[];e=Promise.all(t.map(function(e,t){return i.getDependency(n,t)})),this.cache.add(n,e)}return e},R.prototype.getMultiDependencies=function(e){for(var n={},t=[],i=0,r=e.length;i<r;i++){var a=e[i],o=this.getDependencies(a);o=o.then(function(e,t){n[e]=t}.bind(this,a+("mesh"===a?"es":"s"))),t.push(o)}return Promise.all(t).then(function(){return n})},R.prototype.loadBuffer=function(e){var n=this.json.buffers[e],i=this.fileLoader;if(n.type&&"arraybuffer"!==n.type)throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(void 0===n.uri&&0===e)return Promise.resolve(this.extensions[A.KHR_BINARY_GLTF].body);var r=this.options;return new Promise(function(e,t){i.load(M(n.uri,r.path),e,void 0,function(){t(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})},R.prototype.loadBufferView=function(e){var i=this.json.bufferViews[e];return this.getDependency("buffer",i.buffer).then(function(e){var t=i.byteLength||0,n=i.byteOffset||0;return e.slice(n,n+t)})},R.prototype.loadAccessor=function(e){var b=this,w=this.json,x=this.json.accessors[e],t=[];return void 0!==x.bufferView?t.push(this.getDependency("bufferView",x.bufferView)):t.push(null),void 0!==x.sparse&&(t.push(this.getDependency("bufferView",x.sparse.indices.bufferView)),t.push(this.getDependency("bufferView",x.sparse.values.bufferView))),Promise.all(t).then(function(e){var t,n,i=e[0],r=N[x.type],a=C[x.componentType],o=a.BYTES_PER_ELEMENT,s=o*r,u=x.byteOffset||0,l=w.bufferViews[x.bufferView].byteStride,c=!0===x.normalized;if(l&&l!==s){var d="InterleavedBuffer:"+x.bufferView+":"+x.componentType,h=b.cache.get(d);h||(t=new a(i),h=new THREE.InterleavedBuffer(t,l/o),b.cache.add(d,h)),n=new THREE.InterleavedBufferAttribute(h,r,u/o,c)}else t=null===i?new a(x.count*r):new a(i,u,x.count*r),n=new THREE.BufferAttribute(t,r,c);if(void 0!==x.sparse){var p=N.SCALAR,m=C[x.sparse.indices.componentType],f=x.sparse.indices.byteOffset||0,g=x.sparse.values.byteOffset||0,_=new m(e[1],f,x.sparse.count*p),y=new a(e[2],g,x.sparse.count*r);null!==i&&n.setArray(n.array.slice());for(var v=0,M=_.length;v<M;v++){var A=_[v];if(n.setX(A,y[v*r]),2<=r&&n.setY(A,y[v*r+1]),3<=r&&n.setZ(A,y[v*r+2]),4<=r&&n.setW(A,y[v*r+3]),5<=r)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return n})},R.prototype.loadTexture=function(e){var n=this.json,r=this.options,t=this.textureLoader,i=window.URL||window.webkitURL,a=n.textures[e],o=n.images[a.source],s=o.uri,u=!1;return void 0!==o.bufferView&&(s=this.getDependency("bufferView",o.bufferView).then(function(e){u=!0;var t=new Blob([e],{type:o.mimeType});return s=i.createObjectURL(t)})),Promise.resolve(s).then(function(n){var i=THREE.Loader.Handlers.get(n)||t;return new Promise(function(e,t){i.load(M(n,r.path),e,void 0,t)})}).then(function(e){!0===u&&i.revokeObjectURL(s),e.flipY=!1,void 0!==a.name&&(e.name=a.name),e.format=void 0!==a.format?f[a.format]:THREE.RGBAFormat,void 0!==a.internalFormat&&e.format!==f[a.internalFormat]&&console.warn("THREE.GLTFLoader: Three.js does not support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format."),e.type=void 0!==a.type?g[a.type]:THREE.UnsignedByteType;var t=(n.samplers||{})[a.sampler]||{};return e.magFilter=p[t.magFilter]||THREE.LinearFilter,e.minFilter=p[t.minFilter]||THREE.LinearMipMapLinearFilter,e.wrapS=m[t.wrapS]||THREE.RepeatWrapping,e.wrapT=m[t.wrapT]||THREE.RepeatWrapping,e})},R.prototype.assignTexture=function(t,n,e){return this.getDependency("texture",e).then(function(e){t[n]=e})},R.prototype.loadMaterial=function(e){this.json;var t,n=this.extensions,i=this.json.materials[e],r={},a=[];if((i.extensions||{})[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var o=n[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=o.getMaterialType(i),a.push(o.extendParams(r,i,this))}else if(void 0!==i.pbrMetallicRoughness){t=THREE.MeshStandardMaterial;var s=i.pbrMetallicRoughness;if(r.color=new THREE.Color(1,1,1),r.opacity=1,Array.isArray(s.baseColorFactor)){var u=s.baseColorFactor;r.color.fromArray(u),r.opacity=u[3]}if(void 0!==s.baseColorTexture&&a.push(this.assignTexture(r,"map",s.baseColorTexture.index)),r.metalness=void 0!==s.metallicFactor?s.metallicFactor:1,r.roughness=void 0!==s.roughnessFactor?s.roughnessFactor:1,void 0!==s.metallicRoughnessTexture){var l=s.metallicRoughnessTexture.index;a.push(this.assignTexture(r,"metalnessMap",l)),a.push(this.assignTexture(r,"roughnessMap",l))}}else t=THREE.MeshPhongMaterial;!0===i.doubleSided&&(r.side=THREE.DoubleSide);var c=i.alphaMode||_;return c===v?r.transparent=!0:(r.transparent=!1,c===y&&(r.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&(a.push(this.assignTexture(r,"normalMap",i.normalTexture.index)),r.normalScale=new THREE.Vector2(1,1),void 0!==i.normalTexture.scale&&r.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&(a.push(this.assignTexture(r,"aoMap",i.occlusionTexture.index)),void 0!==i.occlusionTexture.strength&&(r.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&(t===THREE.MeshBasicMaterial?r.color=(new THREE.Color).fromArray(i.emissiveFactor):r.emissive=(new THREE.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&(t===THREE.MeshBasicMaterial?a.push(this.assignTexture(r,"map",i.emissiveTexture.index)):a.push(this.assignTexture(r,"emissiveMap",i.emissiveTexture.index))),Promise.all(a).then(function(){var e;return e=t===THREE.ShaderMaterial?n[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(r):new t(r),void 0!==i.name&&(e.name=i.name),e.normalScale&&(e.normalScale.x=-e.normalScale.x),e.map&&(e.map.encoding=THREE.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=THREE.sRGBEncoding),i.extras&&(e.userData=i.extras),e})},R.prototype.loadGeometries=function(c){var d=this.primitiveCache;return this.getDependencies("accessor").then(function(e){for(var t=[],n=0,i=c.length;n<i;n++){var r=c[n],a=O(d,r);if(a)t.push(a);else{var o=new THREE.BufferGeometry,s=r.attributes;for(var u in s){var l=e[s[u]];switch(u){case"POSITION":o.addAttribute("position",l);break;case"NORMAL":o.addAttribute("normal",l);break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":o.addAttribute("uv",l);break;case"TEXCOORD_1":o.addAttribute("uv2",l);break;case"COLOR_0":case"COLOR0":case"COLOR":o.addAttribute("color",l);break;case"WEIGHTS_0":case"WEIGHT":o.addAttribute("skinWeight",l);break;case"JOINTS_0":case"JOINT":o.addAttribute("skinIndex",l)}}void 0!==r.indices&&o.setIndex(e[r.indices]),d.push({primitive:r,geometry:o}),t.push(o)}}return t})},R.prototype.loadMesh=function(_){var y=this,v=(this.json,this.extensions),M=this.json.meshes[_];return this.getMultiDependencies(["accessor","material"]).then(function(m){var f=new THREE.Group,g=M.primitives;return y.loadGeometries(g).then(function(e){for(var t=0,n=g.length;t<n;t++){var i=g[t],r=e[t],a=void 0===i.material?new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide}):m.materials[i.material];a.aoMap&&void 0===r.attributes.uv2&&void 0!==r.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),r.addAttribute("uv2",new THREE.BufferAttribute(r.attributes.uv.array,2)));var o,s=void 0!==r.attributes.color,u=void 0===r.attributes.normal,l=!0===M.isSkinnedMesh,c=void 0!==i.targets;if(s||u||l||c)if(a.isGLTFSpecularGlossinessMaterial)a=v[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(a);else a=a.clone();if(s&&(a.vertexColors=THREE.VertexColors,a.needsUpdate=!0),u&&(a.flatShading=!0),i.mode===T||i.mode===D||i.mode===S||void 0===i.mode)l?(o=new THREE.SkinnedMesh(r,a),a.skinning=!0):o=new THREE.Mesh(r,a),i.mode===D?o.drawMode=THREE.TriangleStripDrawMode:i.mode===S&&(o.drawMode=THREE.TriangleFanDrawMode);else if(i.mode===x||i.mode===L||i.mode===E){var d="LineBasicMaterial:"+a.uuid,h=y.cache.get(d);h||(h=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(h,a),h.color.copy(a.color),h.lights=!1,y.cache.add(d,h)),a=h,o=i.mode===x?new THREE.LineSegments(r,a):i.mode===L?new THREE.Line(r,a):new THREE.LineLoop(r,a)}else{if(i.mode!==w)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+i.mode);d="PointsMaterial:"+a.uuid;var p=y.cache.get(d);p||(p=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(p,a),p.color.copy(a.color),p.map=a.map,p.lights=!1,y.cache.add(d,p)),a=p,o=new THREE.Points(r,a)}if(o.name=M.name||"mesh_"+_,c&&j(o,M,i,m.accessors),void 0!==M.extras&&(o.userData=M.extras),void 0!==i.extras&&(o.geometry.userData=i.extras),!0===a.isGLTFSpecularGlossinessMaterial&&(o.onBeforeRender=v[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),!(1<g.length))return o;o.name+="_"+t,f.add(o)}return f})})},R.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],i=n[n.type];if(i){if("perspective"===n.type){var r=i.aspectRatio||1,a=i.yfov*r;t=new THREE.PerspectiveCamera(THREE.Math.radToDeg(a),r,i.znear||1,i.zfar||2e6)}else"orthographic"===n.type&&(t=new THREE.OrthographicCamera(i.xmag/-2,i.xmag/2,i.ymag/2,i.ymag/-2,i.znear,i.zfar));return void 0!==n.name&&(t.name=n.name),n.extras&&(t.userData=n.extras),Promise.resolve(t)}console.warn("THREE.GLTFLoader: Missing camera parameters.")},R.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return n.inverseBindMatrices=e,n})},R.prototype.loadAnimation=function(M){this.json;var A=this.json.animations[M];return this.getMultiDependencies(["accessor","node"]).then(function(e){for(var t=[],n=0,i=A.channels.length;n<i;n++){var r=A.channels[n],a=A.samplers[r.sampler];if(a){var o=r.target,s=void 0!==o.node?o.node:o.id,u=void 0!==A.parameters?A.parameters[a.input]:a.input,l=void 0!==A.parameters?A.parameters[a.output]:a.output,c=e.accessors[u],d=e.accessors[l],h=e.nodes[s];if(h){var p;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,k[o.path]){case k.weights:p=THREE.NumberKeyframeTrack;break;case k.rotation:p=THREE.QuaternionKeyframeTrack;break;case k.position:case k.scale:default:p=THREE.VectorKeyframeTrack}var m=h.name?h.name:h.uuid,f=void 0!==a.interpolation?I[a.interpolation]:THREE.InterpolateLinear,g=[];k[o.path]===k.weights?h.traverse(function(e){!0===e.isMesh&&!0===e.material.morphTargets&&g.push(e.name?e.name:e.uuid)}):g.push(m);for(var _=0,y=g.length;_<y;_++){var v=new p(g[_]+"."+k[o.path],THREE.AnimationUtils.arraySlice(c.array,0),THREE.AnimationUtils.arraySlice(d.array,0),f);"CUBICSPLINE"===a.interpolation&&(v.createInterpolant=function(e){return new b(this.times,this.values,this.getValueSize()/3,e)}),t.push(v)}}}}s=void 0!==A.name?A.name:"animation_"+M;return new THREE.AnimationClip(s,void 0,t)})},R.prototype.loadNode=function(e){this.json;var s=this.extensions,u=this.json.meshReferences,l=this.json.meshUses,c=this.json.nodes[e];return this.getMultiDependencies(["mesh","skin","camera"]).then(function(e){var t;if(!0===c.isBone)t=new THREE.Bone;else if(void 0!==c.mesh){var n=e.meshes[c.mesh];if(t=n.clone(),!0===n.isGroup)for(var i=0,r=n.children.length;i<r;i++){var a=n.children[i];a.material&&!0===a.material.isGLTFSpecularGlossinessMaterial&&(t.children[i].onBeforeRender=a.onBeforeRender)}else n.material&&!0===n.material.isGLTFSpecularGlossinessMaterial&&(t.onBeforeRender=n.onBeforeRender);1<u[c.mesh]&&(t.name+="_instance_"+l[c.mesh]++)}else if(void 0!==c.camera)t=e.cameras[c.camera];else if(c.extensions&&c.extensions[A.KHR_LIGHTS]&&void 0!==c.extensions[A.KHR_LIGHTS].light){t=s[A.KHR_LIGHTS].lights[c.extensions[A.KHR_LIGHTS].light]}else t=new THREE.Object3D;if(void 0!==c.name&&(t.name=THREE.PropertyBinding.sanitizeNodeName(c.name)),c.extras&&(t.userData=c.extras),void 0!==c.matrix){var o=new THREE.Matrix4;o.fromArray(c.matrix),t.applyMatrix(o)}else void 0!==c.translation&&t.position.fromArray(c.translation),void 0!==c.rotation&&t.quaternion.fromArray(c.rotation),void 0!==c.scale&&t.scale.fromArray(c.scale);return t})},R.prototype.loadScene=function(){function M(e,t,n,i,r){var a=i[e],o=n.nodes[e];if(void 0!==o.skin)for(var s=!0===a.isGroup?a.children:[a],u=0,l=s.length;u<l;u++){for(var c=s[u],d=r[o.skin],h=[],p=[],m=0,f=d.joints.length;m<f;m++){var g=d.joints[m],_=i[g];if(_){h.push(_);var y=new THREE.Matrix4;void 0!==d.inverseBindMatrices&&y.fromArray(d.inverseBindMatrices.array,16*m),p.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',g)}c.bind(new THREE.Skeleton(h,p),c.matrixWorld)}if(t.add(a),o.children){var v=o.children;for(u=0,l=v.length;u<l;u++){M(v[u],a,n,i,r)}}}return function(e){var o=this.json,s=this.extensions,u=this.json.scenes[e];return this.getMultiDependencies(["node","skin"]).then(function(e){var t=new THREE.Scene;void 0!==u.name&&(t.name=u.name),u.extras&&(t.userData=u.extras);for(var n=u.nodes||[],i=0,r=n.length;i<r;i++)M(n[i],t,o,e.nodes,e.skins);if(u.extensions&&u.extensions[A.KHR_LIGHTS]&&void 0!==u.extensions[A.KHR_LIGHTS].light){var a=s[A.KHR_LIGHTS].lights;t.add(a[u.extensions[A.KHR_LIGHTS].light])}return t})}}(),e}()},{}],43:[function(e,t,n){THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,n,i){var r=this,a=new THREE.FileLoader(this.manager);a.setPath(this.path),a.load(e,function(e){t(r.parse(e))},n,i)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),n={},i=/\s+/,r={},a=0;a<t.length;a++){var o=t[a];if(0!==(o=o.trim()).length&&"#"!==o.charAt(0)){var s=o.indexOf(" "),u=0<=s?o.substring(0,s):o;u=u.toLowerCase();var l=0<=s?o.substring(s+1):"";if(l=l.trim(),"newmtl"===u)n={name:l},r[l]=n;else if(n)if("ka"===u||"kd"===u||"ks"===u){var c=l.split(i,3);n[u]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else n[u]=l}}var d=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return d.setCrossOrigin(this.crossOrigin),d.setManager(this.manager),d.setMaterials(r),d}},THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var i=e[n],r={};for(var a in t[n]=r,i){var o=!0,s=i[a],u=a.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(o=!1)}o&&(r[u]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var o=this,t=this.materialsInfo[e],s={name:e,side:this.side};function n(e,t){if(!s[e]){var n,i,r=o.getTextureParams(t,s),a=o.loadTexture((n=o.baseUrl,"string"!=typeof(i=r.url)||""===i?"":/^https?:\/\//i.test(i)?i:n+i));a.repeat.copy(r.scale),a.offset.copy(r.offset),a.wrapS=o.wrap,a.wrapT=o.wrap,s[e]=a}}for(var i in t){var r,a=t[i];if(""!==a)switch(i.toLowerCase()){case"kd":s.color=(new THREE.Color).fromArray(a);break;case"ks":s.specular=(new THREE.Color).fromArray(a);break;case"map_kd":n("map",a);break;case"map_ks":n("specularMap",a);break;case"norm":n("normalMap",a);break;case"map_bump":case"bump":n("bumpMap",a);break;case"ns":s.shininess=parseFloat(a);break;case"d":(r=parseFloat(a))<1&&(s.opacity=r,s.transparent=!0);break;case"tr":r=parseFloat(a),this.options&&this.options.invertTrProperty&&(r=1-r),r<1&&(s.opacity=r,s.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(s),this.materials[e]},getTextureParams:function(e,t){var n,i={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},r=e.split(/\s+/);return 0<=(n=r.indexOf("-bm"))&&(t.bumpScale=parseFloat(r[n+1]),r.splice(n,2)),0<=(n=r.indexOf("-s"))&&(i.scale.set(parseFloat(r[n+1]),parseFloat(r[n+2])),r.splice(n,4)),0<=(n=r.indexOf("-o"))&&(i.offset.set(parseFloat(r[n+1]),parseFloat(r[n+2])),r.splice(n,4)),i.url=r.join(" ").trim(),i},loadTexture:function(e,t,n,i,r){var a,o=THREE.Loader.Handlers.get(e),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===o&&(o=new THREE.TextureLoader(s)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin),a=o.load(e,n,i,r),void 0!==t&&(a.mapping=t),a}}},{}],44:[function(e,t,n){THREE.OBJLoader=function(){var G=/^[og]\s*(.+)?/,V=/^mtllib /,W=/^usemtl /;function Q(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var i={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&0<t.length?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(i),i},currentMaterial:function(){if(0<this.materials.length)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&1<this.materials.length)for(var n=this.materials.length-1;0<=n;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var i=n.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(0<=n?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(0<=n?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(0<=n?n-1:n+t/2)},addVertex:function(e,t,n){var i=this.vertices,r=this.object.geometry.vertices;r.push(i[e+0],i[e+1],i[e+2]),r.push(i[t+0],i[t+1],i[t+2]),r.push(i[n+0],i[n+1],i[n+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){var i=this.normals,r=this.object.geometry.normals;r.push(i[e+0],i[e+1],i[e+2]),r.push(i[t+0],i[t+1],i[t+2]),r.push(i[n+0],i[n+1],i[n+2])},addColor:function(e,t,n){var i=this.colors,r=this.object.geometry.colors;r.push(i[e+0],i[e+1],i[e+2]),r.push(i[t+0],i[t+1],i[t+2]),r.push(i[n+0],i[n+1],i[n+2])},addUV:function(e,t,n){var i=this.uvs,r=this.object.geometry.uvs;r.push(i[e+0],i[e+1]),r.push(i[t+0],i[t+1]),r.push(i[n+0],i[n+1])},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,i,r,a,o,s,u){var l=this.vertices.length,c=this.parseVertexIndex(e,l),d=this.parseVertexIndex(t,l),h=this.parseVertexIndex(n,l);if(this.addVertex(c,d,h),void 0!==i){var p=this.uvs.length;c=this.parseUVIndex(i,p),d=this.parseUVIndex(r,p),h=this.parseUVIndex(a,p),this.addUV(c,d,h)}if(void 0!==o){var m=this.normals.length;c=this.parseNormalIndex(o,m),d=o===s?c:this.parseNormalIndex(s,m),h=o===u?c:this.parseNormalIndex(u,m),this.addNormal(c,d,h)}0<this.colors.length&&this.addColor(c,d,h)},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,n=0,i=e.length;n<i;n++)this.addVertexPoint(this.parseVertexIndex(e[n],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,i=this.uvs.length,r=0,a=e.length;r<a;r++)this.addVertexLine(this.parseVertexIndex(e[r],n));var o=0;for(a=t.length;o<a;o++)this.addUVLine(this.parseUVIndex(t[o],i))}};return e.startObject("",!1),e}function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null}return e.prototype={constructor:e,load:function(e,t,n,i){var r=this,a=new THREE.FileLoader(r.manager);a.setPath(this.path),a.load(e,function(e){t(r.parse(e))},n,i)},setPath:function(e){this.path=e},setMaterials:function(e){return this.materials=e,this},parse:function(e){console.time("OBJLoader");var t=new Q;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),i="",r="",a=[],o="function"==typeof"".trimLeft,s=0,u=n.length;s<u;s++)if(i=n[s],0!==(i=o?i.trimLeft():i.trim()).length&&"#"!==(r=i.charAt(0)))if("v"===r){var l=i.split(/\s+/);switch(l[0]){case"v":t.vertices.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])),8===l.length&&t.colors.push(parseFloat(l[4]),parseFloat(l[5]),parseFloat(l[6]));break;case"vn":t.normals.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]));break;case"vt":t.uvs.push(parseFloat(l[1]),parseFloat(l[2]))}}else if("f"===r){for(var c=i.substr(1).trim().split(/\s+/),d=[],h=0,p=c.length;h<p;h++){var m=c[h];if(0<m.length){var f=m.split("/");d.push(f)}}var g=d[0];for(h=1,p=d.length-1;h<p;h++){var _=d[h],y=d[h+1];t.addFace(g[0],_[0],y[0],g[1],_[1],y[1],g[2],_[2],y[2])}}else if("l"===r){var v=i.substring(1).trim().split(" "),M=[],A=[];if(-1===i.indexOf("/"))M=v;else for(var b=0,w=v.length;b<w;b++){var x=v[b].split("/");""!==x[0]&&M.push(x[0]),""!==x[1]&&A.push(x[1])}t.addLineGeometry(M,A)}else if("p"===r){var E=i.substr(1).trim().split(" ");t.addPointGeometry(E)}else if(null!==(a=G.exec(i))){var L=(" "+a[0].substr(1).trim()).substr(1);t.startObject(L)}else if(W.test(i))t.object.startMaterial(i.substring(7).trim(),t.materialLibraries);else if(V.test(i))t.materialLibraries.push(i.substring(7).trim());else{if("s"!==r){if("\0"===i)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+i+'"')}if(1<(a=i.split(" ")).length){var T=a[1].trim().toLowerCase();t.object.smooth="0"!==T&&"off"!==T}else t.object.smooth=!0;(U=t.object.currentMaterial())&&(U.smooth=t.object.smooth)}t.finalize();var D=new THREE.Group;D.materialLibraries=[].concat(t.materialLibraries);for(s=0,u=t.objects.length;s<u;s++){var S=t.objects[s],C=S.geometry,N=S.materials,k="Line"===C.type,I="Points"===C.type,j=!1;if(0!==C.vertices.length){var O=new THREE.BufferGeometry;O.addAttribute("position",new THREE.Float32BufferAttribute(C.vertices,3)),0<C.normals.length?O.addAttribute("normal",new THREE.Float32BufferAttribute(C.normals,3)):O.computeVertexNormals(),0<C.colors.length&&(j=!0,O.addAttribute("color",new THREE.Float32BufferAttribute(C.colors,3))),0<C.uvs.length&&O.addAttribute("uv",new THREE.Float32BufferAttribute(C.uvs,2));for(var z,R=[],P=0,Y=N.length;P<Y;P++){var B=N[P],U=void 0;if(null!==this.materials)if(U=this.materials.create(B.name),!k||!U||U instanceof THREE.LineBasicMaterial){if(I&&U&&!(U instanceof THREE.PointsMaterial)){var H=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});F.copy(U),U=H}}else{var F=new THREE.LineBasicMaterial;F.copy(U),F.lights=!1,U=F}U||((U=k?new THREE.LineBasicMaterial:I?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial).name=B.name),U.flatShading=!B.smooth,U.vertexColors=j?THREE.VertexColors:THREE.NoColors,R.push(U)}if(1<R.length){for(P=0,Y=N.length;P<Y;P++){B=N[P];O.addGroup(B.groupStart,B.groupCount,P)}z=k?new THREE.LineSegments(O,R):I?new THREE.Points(O,R):new THREE.Mesh(O,R)}else z=k?new THREE.LineSegments(O,R[0]):I?new THREE.Points(O,R[0]):new THREE.Mesh(O,R[0]);z.name=S.name,D.add(z)}}return console.timeEnd("OBJLoader"),D}},e}()},{}],45:[function(e,t,n){(n=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],46:[function(e,n,i){(function(d){var e,t;e=this,t=function(){"use strict";var Ee="undefined"!=typeof window?window:void 0!==d?d:"undefined"!=typeof self?self:{};var e,t,n=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},r=function(e,t){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]},i=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},a=(function(e,t){e.exports=function(){var n,e,t,i,r,a,o,s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(e,t,n){return e+(t-e)*n},d=(o=/iPad|iPhone|iPod/.test(navigator.platform),function(){return o}),h=(a=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome"),function(){return a}),l=(/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android"),function(){return r}),c=(t=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),i=t?parseInt(t[1],10):null,function(){return i}),p=function(){var e=!1;if(65===c()){var t=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(t){var n=t[1].split("."),i=u(n,4),r=(i[0],i[1],i[2]),a=i[3];e=3325===parseInt(r,10)&&parseInt(a,10)<148}}return function(){return e}}(),m=(e=-1!==navigator.userAgent.indexOf("R7 Build"),function(){return e}),f=function(){var e=90==window.orientation||-90==window.orientation;return m()?!e:e},g=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},_=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},y=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},v=function(e,t,n,i){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);var a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(a,n),e.compileShader(a);var o=e.createProgram();for(var s in e.attachShader(o,r),e.attachShader(o,a),i)e.bindAttribLocation(o,i[s],s);return e.linkProgram(o),e.deleteShader(r),e.deleteShader(a),o},M=function(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r="",a=0;a<i;a++){var o=e.getActiveUniform(t,a);r=o.name.replace("[0]",""),n[r]=e.getUniformLocation(t,r)}return n},A=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},w=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},x=function(e){if(d()){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(n)+"px",setTimeout(function(){e.style.width=t,e.style.height=n},100)}window.canvas=e},E=function(){var ke=Math.PI/180,Ie=.25*Math.PI,je=new Float32Array([0,0,0,1]),Oe=new Float32Array([0,0,0]);function i(e,t,n,i,r,a){var o,s,u,l,c,d,h,p,m,f;o=e,s=i||null,u=a.depthNear,l=a.depthFar,c=Math.tan(s?s.upDegrees*ke:Ie),d=Math.tan(s?s.downDegrees*ke:Ie),h=Math.tan(s?s.leftDegrees*ke:Ie),p=Math.tan(s?s.rightDegrees*ke:Ie),m=2/(h+p),f=2/(c+d),o[0]=m,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=f,o[6]=0,o[7]=0,o[8]=-(h-p)*m*.5,o[9]=(c-d)*f*.5,o[10]=l/(u-l),o[11]=-1,o[12]=0,o[13]=0,o[14]=l*u/(u-l),o[15]=0;var g,_,y,v,M,A,b,w,x,E,L,T,D,S,C,N,k,I,j,O,z,R,P,Y,B,U,H,F,G,V,W,Q,q,Z,X,J,K,$,ee,te,ne,ie,re,ae,oe,se,ue,le,ce,de,he,pe,me,fe,ge,_e,ye,ve,Me,Ae,be,we,xe,Ee,Le,Te,De,Se,Ce=n.orientation||je,Ne=n.position||Oe;g=t,y=Ne,v=(_=Ce)[0],M=_[1],A=_[2],b=_[3],L=v*(w=v+v),T=v*(x=M+M),D=v*(E=A+A),S=M*x,C=M*E,N=A*E,k=b*w,I=b*x,j=b*E,g[0]=1-(S+N),g[1]=T+j,g[2]=D-I,g[3]=0,g[4]=T-j,g[5]=1-(L+N),g[6]=C+k,g[7]=0,g[8]=D+I,g[9]=C-k,g[10]=1-(L+S),g[11]=0,g[12]=y[0],g[13]=y[1],g[14]=y[2],g[15]=1,r&&(z=O=t,X=(R=r)[0],J=R[1],K=R[2],z===O?(O[12]=z[0]*X+z[4]*J+z[8]*K+z[12],O[13]=z[1]*X+z[5]*J+z[9]*K+z[13],O[14]=z[2]*X+z[6]*J+z[10]*K+z[14],O[15]=z[3]*X+z[7]*J+z[11]*K+z[15]):(P=z[0],Y=z[1],B=z[2],U=z[3],H=z[4],F=z[5],G=z[6],V=z[7],W=z[8],Q=z[9],q=z[10],Z=z[11],O[0]=P,O[1]=Y,O[2]=B,O[3]=U,O[4]=H,O[5]=F,O[6]=G,O[7]=V,O[8]=W,O[9]=Q,O[10]=q,O[11]=Z,O[12]=P*X+H*J+W*K+z[12],O[13]=Y*X+F*J+Q*K+z[13],O[14]=B*X+G*J+q*K+z[14],O[15]=U*X+V*J+Z*K+z[15])),te=(ee=$=t)[0],ne=ee[1],ie=ee[2],re=ee[3],ae=ee[4],oe=ee[5],se=ee[6],ue=ee[7],le=ee[8],ce=ee[9],de=ee[10],he=ee[11],pe=ee[12],me=ee[13],fe=ee[14],ge=ee[15],(Se=(_e=te*oe-ne*ae)*(De=de*ge-he*fe)-(ye=te*se-ie*ae)*(Te=ce*ge-he*me)+(ve=te*ue-re*ae)*(Le=ce*fe-de*me)+(Me=ne*se-ie*oe)*(Ee=le*ge-he*pe)-(Ae=ne*ue-re*oe)*(xe=le*fe-de*pe)+(be=ie*ue-re*se)*(we=le*me-ce*pe))&&(Se=1/Se,$[0]=(oe*De-se*Te+ue*Le)*Se,$[1]=(ie*Te-ne*De-re*Le)*Se,$[2]=(me*be-fe*Ae+ge*Me)*Se,$[3]=(de*Ae-ce*be-he*Me)*Se,$[4]=(se*Ee-ae*De-ue*xe)*Se,$[5]=(te*De-ie*Ee+re*xe)*Se,$[6]=(fe*ve-pe*be-ge*ye)*Se,$[7]=(le*be-de*ve+he*ye)*Se,$[8]=(ae*Te-oe*Ee+ue*we)*Se,$[9]=(ne*Ee-te*Te-re*we)*Se,$[10]=(pe*Ae-me*ve+ge*_e)*Se,$[11]=(ce*ve-le*Ae-he*_e)*Se,$[12]=(oe*xe-ae*Le-se*we)*Se,$[13]=(te*Le-ne*xe+ie*we)*Se,$[14]=(me*ye-pe*Me-fe*_e)*Se,$[15]=(le*Me-ce*ye+de*_e)*Se)}return function(e,t,n){return!(!e||!t||(e.pose=t,e.timestamp=t.timestamp,i(e.leftProjectionMatrix,e.leftViewMatrix,t,n._getFieldOfView("left"),n._getEyeOffset("left"),n),i(e.rightProjectionMatrix,e.rightViewMatrix,t,n._getFieldOfView("right"),n._getEyeOffset("right"),n),0))}}(),L=function(e){var t,n=e.indexOf("://");t=-1!==n?n+3:0;var i=e.indexOf("/",t);return-1===i&&(i=e.length),e.substring(0,i)},T=(n={},function(e,t){void 0===n[e]&&(console.warn("webvr-polyfill: "+t),n[e]=!0)}),D=function(e,t){var n=t?"Please use "+t+" instead.":"";T(e,e+" has been deprecated. This may not work on native WebVR displays. "+n)},S=function(e,t,n){if(t){for(var i=[],r=null,a=0;a<t.length;++a){var o=t[a];switch(o){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++a];if(s<e.TEXTURE0||s>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),i.push(null,null);break}r||(r=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(s),i.push(e.getParameter(o),null);break;case e.ACTIVE_TEXTURE:r=e.getParameter(e.ACTIVE_TEXTURE),i.push(null);break;default:i.push(e.getParameter(o))}}n(e);for(var a=0;a<t.length;++a){var o=t[a],u=i[a];switch(o){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,u);break;case e.COLOR_CLEAR_VALUE:e.clearColor(u[0],u[1],u[2],u[3]);break;case e.COLOR_WRITEMASK:e.colorMask(u[0],u[1],u[2],u[3]);break;case e.CURRENT_PROGRAM:e.useProgram(u);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,u);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,u);break;case e.TEXTURE_BINDING_2D:var s=t[++a];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_2D,u);break;case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++a];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_CUBE_MAP,u);break;case e.VIEWPORT:e.viewport(u[0],u[1],u[2],u[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:u?e.enable(o):e.disable(o);break;default:console.log("No GL restore behavior for 0x"+o.toString(16))}r&&e.activeTexture(r)}}else n(e)},C=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),N=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function k(e,t,n,i){this.gl=e,this.cardboardUI=t,this.bufferScale=n,this.dirtySubmitFrameBindings=i,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,d()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=v(e,C,N,this.attribs),this.uniforms=M(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize()}k.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},k.prototype.onResize=function(){var e=this.gl,t=this,n=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];S(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},k.prototype.patch=function(){if(!this.isPatched){var r=this,t=this.gl.canvas,a=this.gl;d()||(t.width=g()*this.bufferScale,t.height=_()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return r.bufferWidth},set:function(e){r.bufferWidth=e,r.realCanvasWidth.set.call(t,e),r.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return r.bufferHeight},set:function(e){r.bufferHeight=e,r.realCanvasHeight.set.call(t,e),r.onResize()}})),this.lastBoundFramebuffer=a.getParameter(a.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(e,t){r.lastBoundFramebuffer=t||r.framebuffer,r.realBindFramebuffer.call(a,e,r.lastBoundFramebuffer)},this.cullFace=a.getParameter(a.CULL_FACE),this.depthTest=a.getParameter(a.DEPTH_TEST),this.blend=a.getParameter(a.BLEND),this.scissorTest=a.getParameter(a.SCISSOR_TEST),this.stencilTest=a.getParameter(a.STENCIL_TEST),a.enable=function(e){switch(e){case a.CULL_FACE:r.cullFace=!0;break;case a.DEPTH_TEST:r.depthTest=!0;break;case a.BLEND:r.blend=!0;break;case a.SCISSOR_TEST:r.scissorTest=!0;break;case a.STENCIL_TEST:r.stencilTest=!0}r.realEnable.call(a,e)},a.disable=function(e){switch(e){case a.CULL_FACE:r.cullFace=!1;break;case a.DEPTH_TEST:r.depthTest=!1;break;case a.BLEND:r.blend=!1;break;case a.SCISSOR_TEST:r.scissorTest=!1;break;case a.STENCIL_TEST:r.stencilTest=!1}r.realDisable.call(a,e)},this.colorMask=a.getParameter(a.COLOR_WRITEMASK),a.colorMask=function(e,t,n,i){r.colorMask[0]=e,r.colorMask[1]=t,r.colorMask[2]=n,r.colorMask[3]=i,r.realColorMask.call(a,e,t,n,i)},this.clearColor=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor=function(e,t,n,i){r.clearColor[0]=e,r.clearColor[1]=t,r.clearColor[2]=n,r.clearColor[3]=i,r.realClearColor.call(a,e,t,n,i)},this.viewport=a.getParameter(a.VIEWPORT),a.viewport=function(e,t,n,i){r.viewport[0]=e,r.viewport[1]=t,r.viewport[2]=n,r.viewport[3]=i,r.realViewport.call(a,e,t,n,i)},this.isPatched=!0,x(t)}},k.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;d()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){x(t)},1)}},k.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},k.prototype.submitFrame=function(){var e=this.gl,t=this,n=[];if(this.dirtySubmitFrameBindings||n.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),S(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||d())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),t.dirtySubmitFrameBindings||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),d()){var i=e.canvas;i.width==t.bufferWidth&&i.height==t.bufferHeight||(t.bufferWidth=i.width,t.bufferHeight=i.height,t.onResize())}},k.prototype.updateDeviceInfo=function(i){var e=this.gl,r=this,t=[e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING];S(e,t,function(e){var t=r.computeMeshVertices_(r.meshWidth,r.meshHeight,i);if(e.bindBuffer(e.ARRAY_BUFFER,r.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),!r.indexCount){var n=r.computeMeshIndices_(r.meshWidth,r.meshHeight);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW),r.indexCount=n.length}})},k.prototype.computeMeshVertices_=function(e,t,n){for(var i=new Float32Array(2*e*t*5),r=n.getLeftEyeVisibleTanAngles(),a=n.getLeftEyeNoLensTanAngles(),o=n.getLeftEyeVisibleScreenRect(a),s=0,u=0;u<2;u++){for(var l=0;l<t;l++)for(var c=0;c<e;c++,s++){var d=c/(e-1),h=l/(t-1),p=d,m=h,f=b(r[0],r[2],d),g=b(r[3],r[1],h),_=Math.sqrt(f*f+g*g),y=n.distortion.distortInverse(_),v=f*y/_,M=g*y/_;d=(v-a[0])/(a[2]-a[0]),h=(M-a[3])/(a[1]-a[3]),d=2*(o.x+d*o.width-.5),h=2*(o.y+h*o.height-.5),i[5*s+0]=d,i[5*s+1]=h,i[5*s+2]=p,i[5*s+3]=m,i[5*s+4]=u}var A=r[2]-r[0];r[0]=-(A+r[0]),r[2]=A-r[2],A=a[2]-a[0],a[0]=-(A+a[0]),a[2]=A-a[2],o.x=1-(o.x+o.width)}return i},k.prototype.computeMeshIndices_=function(e,t){for(var n=new Uint16Array(2*(e-1)*(t-1)*6),i=e/2,r=t/2,a=0,o=0,s=0;s<2;s++)for(var u=0;u<t;u++)for(var l=0;l<e;l++,a++)0!=l&&0!=u&&(l<=i==u<=r?(n[o++]=a,n[o++]=a-e-1,n[o++]=a-e,n[o++]=a-e-1,n[o++]=a,n[o++]=a-1):(n[o++]=a-1,n[o++]=a-e,n[o++]=a,n[o++]=a-e,n[o++]=a-1,n[o++]=a-e-1));return n},k.prototype.getOwnPropertyDescriptor_=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return void 0!==n.get&&void 0!==n.set||(n.configurable=!0,n.enumerable=!0,n.get=function(){return this.getAttribute(t)},n.set=function(e){this.setAttribute(t,e)}),n};var I=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),j=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),O=Math.PI/180;function z(e){this.gl=e,this.attribs={position:0},this.program=v(e,I,j,this.attribs),this.uniforms=M(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function R(e){this.coefficients=e}z.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},z.prototype.listen=function(n,i){var r=this.gl.canvas;this.listener=function(e){var t=r.clientWidth/2;e.clientX>t-42&&e.clientX<t+42&&e.clientY>r.clientHeight-42?n(e):e.clientX<42&&e.clientY<42&&i(e)},r.addEventListener("click",this.listener,!1)},z.prototype.onResize=function(){var e=this.gl,f=this,t=[e.ARRAY_BUFFER_BINDING];S(e,t,function(n){var a=[],o=n.drawingBufferWidth/2,e=Math.max(screen.width,screen.height)*window.devicePixelRatio,t=n.drawingBufferWidth/e,i=t*window.devicePixelRatio,r=4*i/2,s=42*i,u=28*i/2,l=14*i;function c(e,t){var n=(90-e)*O,i=Math.cos(n),r=Math.sin(n);a.push(.3125*i*u+o,.3125*r*u+u),a.push(t*i*u+o,t*r*u+u)}a.push(o-r,s),a.push(o-r,n.drawingBufferHeight),a.push(o+r,s),a.push(o+r,n.drawingBufferHeight),f.gearOffset=a.length/2;for(var d=0;d<=6;d++){var h=60*d;c(h,1),c(h+12,1),c(h+20,.75),c(h+40,.75),c(h+48,1)}function p(e,t){a.push(l+e,n.drawingBufferHeight-l-t)}f.gearVertexCount=a.length/2-f.gearOffset,f.arrowOffset=a.length/2;var m=r/Math.sin(45*O);p(0,u),p(u,0),p(u+m,m),p(m,u+m),p(m,u-m),p(0,u),p(u,2*u),p(u+m,2*u-m),p(m,u-m),p(0,u),p(m,u-r),p(28*i,u-r),p(m,u+r),p(28*i,u+r),f.arrowVertexCount=a.length/2-f.arrowOffset,n.bindBuffer(n.ARRAY_BUFFER,f.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(a),n.STATIC_DRAW)})},z.prototype.render=function(){var e=this.gl,t=this,n=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];S(e,n,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},z.prototype.renderNoState=function(){var e,t,n,i,r,a,o,s,u,l,c=this.gl;c.useProgram(this.program),c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),c.enableVertexAttribArray(this.attribs.position),c.vertexAttribPointer(this.attribs.position,2,c.FLOAT,!1,8,0),c.uniform4f(this.uniforms.color,1,1,1,1),e=this.projMat,t=0,n=c.drawingBufferWidth,i=0,r=c.drawingBufferHeight,s=1/(t-n),u=1/(i-r),l=1/((a=.1)-(o=1024)),e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*u,e[14]=(o+a)*l,e[15]=1,c.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),c.drawArrays(c.TRIANGLE_STRIP,0,4),c.drawArrays(c.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),c.drawArrays(c.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},R.prototype.distortInverse=function(e){for(var t=0,n=1,i=e-this.distort(t);1e-4<Math.abs(n-t);){var r=e-this.distort(n),a=n-r*((n-t)/(r-i));t=n,n=a,i=r}return n},R.prototype.distort=function(e){for(var t=e*e,n=0,i=0;i<this.coefficients.length;i++)n=t*(n+this.coefficients[i]);return(n+1)*e};var P=Math.PI/180,Y=180/Math.PI,B=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0};B.prototype={constructor:B,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*i-o*n,l=s*n+o*t-r*i,c=s*i+r*n-a*t,d=-r*t-a*n-o*i;return this.x=u*s+d*-r+l*-o-c*-a,this.y=l*s+d*-a+c*-r-u*-o,this.z=c*s+d*-o+u*-a-l*-r,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}};var U,H,F=function(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1};function G(e){this.width=e.width||g(),this.height=e.height||_(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}F.prototype={constructor:F,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,n){var i=Math.cos(e/2),r=Math.cos(t/2),a=Math.cos(n/2),o=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=o*r*a+i*s*u,this.y=i*s*a-o*r*u,this.z=i*r*u+o*s*a,this.w=i*r*a-o*s*u,this},setFromEulerYXZ:function(e,t,n){var i=Math.cos(e/2),r=Math.cos(t/2),a=Math.cos(n/2),o=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=o*r*a+i*s*u,this.y=i*s*a-o*r*u,this.z=i*r*u-o*s*a,this.w=i*r*a+o*s*u,this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(n),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e.x,i=e.y,r=e.z,a=e.w,o=t.x,s=t.y,u=t.z,l=t.w;return this.x=n*l+a*o+i*u-r*s,this.y=i*l+a*s+r*o-n*u,this.z=r*l+a*u+n*s-i*o,this.w=a*l-n*o-i*s-r*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this.x,i=this.y,r=this.z,a=this.w,o=a*e.w+n*e.x+i*e.y+r*e.z;if(o<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,o=-o):this.copy(e),1<=o)return this.w=a,this.x=n,this.y=i,this.z=r,this;var s=Math.acos(o),u=Math.sqrt(1-o*o);if(Math.abs(u)<.001)return this.w=.5*(a+this.w),this.x=.5*(n+this.x),this.y=.5*(i+this.y),this.z=.5*(r+this.z),this;var l=Math.sin((1-t)*s)/u,c=Math.sin(t*s)/u;return this.w=a*l+this.w*c,this.x=n*l+this.x*c,this.y=i*l+this.y*c,this.z=r*l+this.z*c,this},setFromUnitVectors:function(e,t){return void 0===U&&(U=new B),(H=e.dot(t)+1)<1e-6?(H=0,Math.abs(e.x)>Math.abs(e.z)?U.set(-e.y,e.x,0):U.set(0,-e.z,e.y)):U.crossVectors(e,t),this.x=U.x,this.y=U.y,this.z=U.z,this.w=H,this.normalize(),this}};var V=new G({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),W=new G({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),Q={CardboardV1:new Z({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new Z({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function q(e){this.viewer=Q.CardboardV2,this.updateDeviceParams(e),this.distortion=new R(this.viewer.distortionCoefficients)}function Z(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}q.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},q.prototype.getDevice=function(){return this.device},q.prototype.setViewer=function(e){this.viewer=e,this.distortion=new R(this.viewer.distortionCoefficients)},q.prototype.determineDevice_=function(e){if(!e)return d()?(console.warn("Using fallback iOS device measurements."),W):(console.warn("Using fallback Android device measurements."),V);var t=.0254/e.xdpi,n=.0254/e.ydpi,i=g(),r=_();return new G({widthMeters:t*i,heightMeters:n*r,bevelMeters:.001*e.bevelMm})},q.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,n=this.distortion,i=e.screenLensDistance,r=(t.widthMeters-e.interLensDistance)/2,a=e.interLensDistance/2,o=e.baselineLensDistance-t.bevelMeters,s=t.heightMeters-o,u=Y*Math.atan(n.distort(r/i)),l=Y*Math.atan(n.distort(a/i)),c=Y*Math.atan(n.distort(o/i)),d=Y*Math.atan(n.distort(s/i));return{leftDegrees:Math.min(u,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(c,e.fov),upDegrees:Math.min(d,e.fov)}},q.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,i=Math.tan(-P*e.fov),r=Math.tan(P*e.fov),a=Math.tan(P*e.fov),o=Math.tan(-P*e.fov),s=t.widthMeters/4,u=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-u,c=e.interLensDistance/2-s,d=-l,h=e.screenLensDistance,p=n.distort((c-s)/h),m=n.distort((d+u)/h),f=n.distort((c+s)/h),g=n.distort((d-u)/h),_=new Float32Array(4);return _[0]=Math.max(i,p),_[1]=Math.min(r,m),_[2]=Math.min(a,f),_[3]=Math.max(o,g),_},q.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,i=new Float32Array(4),r=n.distortInverse(Math.tan(-P*e.fov)),a=n.distortInverse(Math.tan(P*e.fov)),o=n.distortInverse(Math.tan(P*e.fov)),s=n.distortInverse(Math.tan(-P*e.fov)),u=t.widthMeters/4,l=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-l,d=e.interLensDistance/2-u,h=-c,p=e.screenLensDistance,m=(d-u)/p,f=(h+l)/p,g=(d+u)/p,_=(h-l)/p;return i[0]=Math.max(r,m),i[1]=Math.min(a,f),i[2]=Math.min(o,g),i[3]=Math.max(s,_),i},q.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,n=this.device,i=t.screenLensDistance,r=(n.widthMeters-t.interLensDistance)/2,a=t.baselineLensDistance-n.bevelMeters,o=(e[0]*i+r)/n.widthMeters,s=(e[1]*i+a)/n.heightMeters,u=(e[2]*i+r)/n.widthMeters,l=(e[3]*i+a)/n.heightMeters;return{x:o,y:l,width:u-o,height:s-l}},q.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},q.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},q.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:Y*Math.atan(e.outerDist),rightDegrees:Y*Math.atan(e.innerDist),downDegrees:Y*Math.atan(e.bottomDist),upDegrees:Y*Math.atan(e.topDist)}},q.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,n=this.device,i=t.screenLensDistance,r=n.widthMeters/i,a=n.heightMeters/i,o=n.width/r,s=n.height/a,u=Math.round((e.eyePosX-e.outerDist)*o),l=Math.round((e.eyePosY-e.bottomDist)*s);return{x:u,y:l,width:Math.round((e.eyePosX+e.innerDist)*o)-u,height:Math.round((e.eyePosY+e.topDist)*s)-l}},q.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,n=this.distortion,i=e.screenLensDistance,r=e.interLensDistance/2/i,a=t.widthMeters/i,o=t.heightMeters/i,s=a/2-r,u=(e.baselineLensDistance-t.bevelMeters)/i,l=e.fov,c=n.distortInverse(Math.tan(P*l)),d=Math.min(s,c),h=Math.min(r,c),p=Math.min(u,c),m=Math.min(o-u,c);return{outerDist:d,innerDist:h,topDist:m,bottomDist:p,eyePosX:s,eyePosY:u}},q.Viewers=Q;var X={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function J(e,t){if(this.dpdb=X,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var n=new XMLHttpRequest,i=this;n.open("GET",e,!0),n.addEventListener("load",function(){i.loading=!1,200<=n.status&&n.status<=299?(i.dpdb=JSON.parse(n.response),i.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),n.send()}}function K(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}function $(e,t){this.set(e,t)}function ee(e,t){this.kFilter=e,this.isDebug=t,this.currentAccelMeasurement=new $,this.currentGyroMeasurement=new $,this.previousGyroMeasurement=new $,d()?this.filterQ=new F(-1,0,0,1):this.filterQ=new F(1,0,0,1),this.previousFilterQ=new F,this.previousFilterQ.copy(this.filterQ),this.accelQ=new F,this.isOrientationInitialized=!1,this.estimatedGravity=new B,this.measuredGravity=new B,this.gyroIntegralQ=new F}function te(e,t){this.predictionTimeS=e,this.isDebug=t,this.previousQ=new F,this.previousTimestampS=null,this.deltaQ=new F,this.outQ=new F}function ne(e,t,n,i){this.yawOnly=n,this.accelerometer=new B,this.gyroscope=new B,this.filter=new ee(e,i),this.posePredictor=new te(t,i),this.isFirefoxAndroid=l(),this.isIOS=d();var r=c();this.isDeviceMotionInRadians=!this.isIOS&&r&&r<66,this.isWithoutDeviceMotion=p(),this.filterToWorldQ=new F,d()?this.filterToWorldQ.setFromAxisAngle(new B(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new B(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new F,this.worldToScreenQ=new F,this.originalPoseAdjustQ=new F,this.originalPoseAdjustQ.setFromAxisAngle(new B(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),f()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new F,this.orientationOut_=new Float32Array(4),this.start()}J.prototype.getDeviceParams=function(){return this.deviceParams},J.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},J.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,n=g(),i=_();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var r=0;r<e.devices.length;r++){var a=e.devices[r];if(a.rules)if("ios"==a.type||"android"==a.type){if(d()==("ios"==a.type)){for(var o=!1,s=0;s<a.rules.length;s++){var u=a.rules[s];if(this.matchRule_(u,t,n,i)){o=!0;break}}if(o){var l=a.dpi[0]||a.dpi,c=a.dpi[1]||a.dpi;return new K({xdpi:l,ydpi:c,bevelMm:a.bw})}}}else console.warn("Device["+r+"] has invalid type.");else console.warn("Device["+r+"] has no rules section.")}return console.warn("No DPDB device match."),null},J.prototype.matchRule_=function(e,t,n,i){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var r=e.res[0],a=e.res[1];if(Math.min(n,i)!=Math.min(r,a)||Math.max(n,i)!=Math.max(r,a))return!1}return!0},$.prototype.set=function(e,t){this.sample=e,this.timestampS=t},$.prototype.copy=function(e){this.set(e.sample,e.timestampS)},ee.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},ee.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var n,i=t-this.previousGyroMeasurement.timestampS;n=i,!(isNaN(n)||n<=.001||1<n)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},ee.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var n=new F;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var i,r=new F;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",Y*(1<(i=r).w?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(i.w)),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var a=new F;a.copy(this.filterQ),a.multiply(r),this.filterQ.slerp(a,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},ee.prototype.getOrientation=function(){return this.filterQ},ee.prototype.accelToQuaternion_=function(e){var t=new B;t.copy(e),t.normalize();var n=new F;return n.setFromUnitVectors(new B(0,0,-1),t),n.inverse(),n},ee.prototype.gyroToQuaternionDelta_=function(e,t){var n=new F,i=new B;return i.copy(e),i.normalize(),n.setFromAxisAngle(i,e.length()*t),n},te.prototype.getPrediction=function(e,t,n){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=n,e;var i=new B;i.copy(t),i.normalize();var r=t.length();if(r<20*P)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(Y*r).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var a=r*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(i,a),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=n,this.outQ},ne.prototype.getPosition=function(){return null},ne.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||(i=(new F).setFromAxisAngle(new B(0,0,-1),0),r=new F,-90===window.orientation?r.setFromAxisAngle(new B(0,1,0),Math.PI/-2):r.setFromAxisAngle(new B(0,1,0),Math.PI/2),i.multiply(r)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||((n=new F).setFromAxisAngle(new B(1,0,0),-Math.PI/2),n),e=this._deviceOrientationQ;var t=new F;return t.copy(e),t.multiply(this.deviceOrientationFilterToWorldQ),t.multiply(this.resetQ),t.multiply(this.worldToScreenQ),t.multiplyQuaternions(this.deviceOrientationFixQ,t),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_}var n,i,r,a=this.filter.getOrientation();e=this.posePredictor.getPrediction(a,this.gyroscope,this.previousTimestampS);var t=new F;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(e),t.multiply(this.worldToScreenQ),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},ne.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),f()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},ne.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new F;var t=e.alpha,n=e.beta,i=e.gamma;t=(t||0)*Math.PI/180,n=(n||0)*Math.PI/180,i=(i||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(n,t,-i)},ne.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},ne.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,n=e.rotationRate,i=e.timeStamp/1e3,r=i-this.previousTimestampS;return r<0?T("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"):r<=.001||1<r?T("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."):(this.accelerometer.set(-t.x,-t.y,-t.z),m()?this.gyroscope.set(-n.beta,n.alpha,n.gamma):this.gyroscope.set(n.alpha,n.beta,n.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,i),this.filter.addGyroMeasurement(this.gyroscope,i)),void(this.previousTimestampS=i)},ne.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},ne.prototype.onMessage_=function(e){var t=e.data;if(t&&t.type){var n=t.type.toLowerCase();"devicemotion"===n&&this.updateDeviceMotion_(t.deviceMotionEvent)}},ne.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new B(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new B(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},ne.prototype.start=function(){var e,t,n;this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),d()&&(e=window.self!==window.top,t=L(document.referrer),n=L(window.location.href),e&&t!==n)&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},ne.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var ie=new B(1,0,0),re=new B(0,0,1),ae={};screen.orientation?ae=screen.orientation:screen.msOrientation?ae=screen.msOrientation:Object.defineProperty(ae,"angle",{get:function(){return window.orientation||0}});var oe=new F;oe.setFromAxisAngle(ie,-Math.PI/2),oe.multiply((new F).setFromAxisAngle(re,Math.PI/2));var se=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new F,this._worldToScreenQ=new F,this._outQ=new F,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onOrientationChange(),this.init()}return s(t,[{key:"init",value:function(){var e=null;try{(e=new RelativeOrientationSensor({frequency:60})).addEventListener("error",this._onSensorError)}catch(e){this.errors.push(e),"SecurityError"===e.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===e.name?this.useDeviceMotion():console.error(e)}e&&(this.api="sensor",this.sensor=e,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start()),window.addEventListener("orientationchange",this._onOrientationChange)}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new ne(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var e=this.sensor.quaternion;this._sensorQ.set(e[0],e[1],e[2],e[3]);var t=this._outQ;return t.copy(oe),t.multiply(this._sensorQ),t.multiply(this._worldToScreenQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:"_onSensorError",value:function(e){this.errors.push(e.error),"NotAllowedError"===e.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===e.error.name?console.error("Sensor could not be read"):console.error(e.error)}},{key:"_onSensorRead",value:function(){}},{key:"_onOrientationChange",value:function(){var e=-ae.angle*Math.PI/180;this._worldToScreenQ.setFromAxisAngle(re,e)}}]),t}();function ue(){this.loadIcon_();var e=document.createElement("div"),t=e.style;t.position="fixed",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor="gray",t.fontFamily="sans-serif",t.zIndex=1e6;var n=document.createElement("img");n.src=this.icon;var t=n.style;t.marginLeft="25%",t.marginTop="25%",t.width="50%",e.appendChild(n);var i=document.createElement("div"),t=i.style;t.textAlign="center",t.fontSize="16px",t.lineHeight="24px",t.margin="24px 25%",t.width="50%",i.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(i);var r=document.createElement("div"),t=r.style;t.backgroundColor="#CFD8DC",t.position="fixed",t.bottom=0,t.width="100%",t.height="48px",t.padding="14px 24px",t.boxSizing="border-box",t.color="#656A6B",e.appendChild(r);var a=document.createElement("div");a.style.float="left",a.innerHTML="No Cardboard viewer?";var o=document.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="_blank";var t=o.style;t.float="right",t.fontWeight=600,t.textTransform="uppercase",t.borderLeft="1px solid gray",t.paddingLeft="24px",t.textDecoration="none",t.color="#656A6B",r.appendChild(a),r.appendChild(o),this.overlay=e,this.text=i,this.hide()}ue.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img"),n=t.style;f()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},ue.prototype.hide=function(){this.overlay.style.display="none"},ue.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},ue.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},ue.prototype.update=function(){this.disableShowTemporarily(),!f()&&A()?this.show():this.hide()},ue.prototype.loadIcon_=function(){this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"};var le="CardboardV1",ce="WEBVR_CARDBOARD_VIEWER";function de(){try{this.selectedKey=localStorage.getItem(ce)}catch(e){console.error("Failed to load viewer profile: %s",e)}this.selectedKey||(this.selectedKey=le),this.dialog=this.createDialog_(q.Viewers),this.root=null,this.onChangeCallbacks_=[]}de.prototype.show=function(e){(this.root=e).appendChild(this.dialog);var t=this.dialog.querySelector("#"+this.selectedKey);t.checked=!0,this.dialog.style.display="block"},de.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},de.prototype.getCurrentViewer=function(){return q.Viewers[this.selectedKey]},de.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},de.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},de.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},de.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&q.Viewers[this.selectedKey]){this.fireOnChange_(q.Viewers[this.selectedKey]);try{localStorage.setItem(ce,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},de.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add("webvr-polyfill-viewer-selector"),t.style.display="none";var n=document.createElement("div"),i=n.style;i.position="fixed",i.left=0,i.top=0,i.width="100%",i.height="100%",i.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var r=document.createElement("div"),i=r.style;for(var a in i.boxSizing="border-box",i.position="fixed",i.top="24px",i.left="50%",i.marginLeft="-140px",i.width="280px",i.padding="24px",i.overflow="hidden",i.background="#fafafa",i.fontFamily="'Roboto', sans-serif",i.boxShadow="0px 5px 20px #666",r.appendChild(this.createH1_("Select your viewer")),e)r.appendChild(this.createChoice_(a,e[a].label));return r.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(n),t.appendChild(r),t},de.prototype.createH1_=function(e){var t=document.createElement("h1"),n=t.style;return n.color="black",n.fontSize="20px",n.fontWeight="bold",n.marginTop=0,n.marginBottom="24px",t.innerHTML=e,t},de.prototype.createChoice_=function(e,t){var n=document.createElement("div");n.style.marginTop="8px",n.style.color="black";var i=document.createElement("input");i.style.fontSize="30px",i.setAttribute("id",e),i.setAttribute("type","radio"),i.setAttribute("value",e),i.setAttribute("name","field");var r=document.createElement("label");return r.style.marginLeft="4px",r.setAttribute("for",e),r.innerHTML=t,n.appendChild(i),n.appendChild(r),n},de.prototype.createButton_=function(e,t){var n=document.createElement("button");n.innerHTML=e;var i=n.style;return i.float="right",i.textTransform="uppercase",i.color="#1094f7",i.fontSize="14px",i.letterSpacing=0,i.border=0,i.background="none",i.marginTop="16px",n.addEventListener("click",t),n},"undefined"!=typeof window?window:void 0!==Ee||"undefined"!=typeof self&&self;var he,pe,me=(function(e,t){var n;n=function(){return function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=n(1),a="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",r),this.noSleepVideo.addEventListener("timeupdate",function(e){.5<this.noSleepVideo.currentTime&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return i(e,[{key:"enable",value:function(){a?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){a?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=o},function(e,t,n){e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},e.exports=n()}(pe={exports:{}},pe.exports),(he=pe.exports)&&he.__esModule?he.default:he),fe=1e3,ge=[0,0,.5,1],_e=[.5,0,.5,1],ye=window.requestAnimationFrame,ve=window.cancelAnimationFrame;function Me(e){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:e.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:e.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:e.canPresent},maxLayers:{writable:!1,enumerable:!0,value:e.maxLayers},hasOrientation:{enumerable:!0,get:function(){return D("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),e.hasOrientation}}})}function Ae(e){var t=!("wakelock"in(e=e||{}))||e.wakelock;this.isPolyfilled=!0,this.displayId=fe++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return D("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Me({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,t&&A()&&(this.wakelock_=new me)}Ae.prototype.getFrameData=function(e){return E(e,this._getPose(),this)},Ae.prototype.getPose=function(){return D("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Ae.prototype.resetPose=function(){return D("VRDisplay.prototype.resetPose"),this._resetPose()},Ae.prototype.getImmediatePose=function(){return D("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Ae.prototype.requestAnimationFrame=function(e){return ye(e)},Ae.prototype.cancelAnimationFrame=function(e){return ve(e)},Ae.prototype.wrapForFullscreen=function(e){if(d())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=e,this.originalParent_=e.parentElement,this.originalParent_||document.body.appendChild(e),!this.fullscreenWrapper_.parentElement){var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),n.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var i=this;return function(){if(i.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];i.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}(),this.fullscreenWrapper_},Ae.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),this.originalParent_===t?t.insertBefore(e,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(e),t.removeChild(this.fullscreenWrapper_),e}},Ae.prototype.requestPresent=function(u){var l=this.isPresenting,c=this;return u instanceof Array||(D("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),u=[u]),new Promise(function(t,e){if(c.capabilities.canPresent)if(0==u.length||u.length>c.capabilities.maxLayers)e(new Error("Invalid number of layers."));else{var n=u[0];if(n.source){var i=n.leftBounds||ge,r=n.rightBounds||_e;if(l){var a=c.layer_;a.source!==n.source&&(a.source=n.source);for(var o=0;o<4;o++)a.leftBounds[o]=i[o],a.rightBounds[o]=r[o];return c.wrapForFullscreen(c.layer_.source),c.updatePresent_(),void t()}if(c.layer_={predistorted:n.predistorted,source:n.source,leftBounds:i.slice(0),rightBounds:r.slice(0)},c.waitingForPresent_=!1,c.layer_&&c.layer_.source){var s=c.wrapForFullscreen(c.layer_.source);c.addFullscreenListeners_(s,function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;c.isPresenting=s===e,c.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),c.waitingForPresent_=!1,c.beginPresent_(),t()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),c.removeFullscreenWrapper(),c.disableWakeLock(),c.endPresent_(),c.removeFullscreenListeners_()),c.fireVRDisplayPresentChange_()},function(){c.waitingForPresent_&&(c.removeFullscreenWrapper(),c.removeFullscreenListeners_(),c.disableWakeLock(),c.waitingForPresent_=!1,c.isPresenting=!1,e(new Error("Unable to present.")))}),function(e){if(h())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0}(s)?(c.enableWakeLock(),c.waitingForPresent_=!0):(d()||h())&&(c.enableWakeLock(),c.isPresenting=!0,c.beginPresent_(),c.fireVRDisplayPresentChange_(),t())}c.waitingForPresent_||d()||(y(),e(new Error("Unable to present.")))}else t()}else e(new Error("VRDisplay is not capable of presenting."))})},Ae.prototype.exitPresent=function(){var n=this.isPresenting,i=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(e,t){n?(!y()&&d()&&(i.endPresent_(),i.fireVRDisplayPresentChange_()),h()&&(i.removeFullscreenWrapper(),i.removeFullscreenListeners_(),i.endPresent_(),i.fireVRDisplayPresentChange_()),e()):t(new Error("Was not presenting to VRDisplay."))})},Ae.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Ae.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},Ae.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(e)},Ae.prototype.addFullscreenListeners_=function(e,t,n){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=n,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),n&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",n,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",n,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",n,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",n,!1))},Ae.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var n=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",n,!1),e.removeEventListener("webkitfullscreenerror",n,!1),document.removeEventListener("mozfullscreenerror",n,!1),e.removeEventListener("msfullscreenerror",n,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Ae.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Ae.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Ae.prototype.beginPresent_=function(){},Ae.prototype.endPresent_=function(){},Ae.prototype.submitFrame=function(e){};var be={MOBILE_WAKE_LOCK:!0,DEBUG:!(Ae.prototype.getEyeParameters=function(e){return null}),DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},we={LEFT:"left",RIGHT:"right"};function xe(e){var t=w({},be);e=w(t,e||{}),Ae.call(this,{wakelock:e.MOBILE_WAKE_LOCK}),this.config=e,this.displayName="Cardboard VRDisplay",this.capabilities=new Me({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new se(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new J(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new q(this.dpdb_.getDeviceParams()),this.viewerSelector_=new de,this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new ue),d()&&window.addEventListener("resize",this.onResize_.bind(this))}return(xe.prototype=Object.create(Ae.prototype))._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},xe.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},xe.prototype._getFieldOfView=function(e){var t;if(e==we.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=we.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},xe.prototype._getEyeOffset=function(e){var t;if(e==we.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=we.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},xe.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),n=this._getFieldOfView(e),i={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(i,"fieldOfView",{enumerable:!0,get:function(){return D("VRFieldOfView","VRFrameData's projection matrices"),n}}),i},xe.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},xe.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},xe.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=g()*this.bufferScale_,e.canvas.height=_()*this.bufferScale_,this.cardboardUI_=new z(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new z(e)),this.distorter_=new k(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(f()&&A()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},xe.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},xe.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},xe.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},xe.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},xe.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl");t.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),x(t.canvas)}},xe.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},xe.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},xe.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},xe.VRDisplay=Ae,xe}()}(e={exports:{}},e.exports),e.exports),o=(t=a)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,s={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function u(e){this.config=i(i({},s),e),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&n())&&(this.enable(),this.getVRDisplays().then(function(e){e&&e[0]&&e[0].fireVRDisplayConnect_&&e[0].fireVRDisplayConnect_()}))}u.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(n()){var e=new o({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(e)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},u.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,n=new this.native.VRFrameData,i=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(e){e instanceof t?i.call(this,e):(i.call(this,n),e.pose=n.pose,r(n.leftProjectionMatrix,e.leftProjectionMatrix),r(n.rightProjectionMatrix,e.rightProjectionMatrix),r(n.leftViewMatrix,e.leftViewMatrix),r(n.rightViewMatrix,e.rightViewMatrix))}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=o.VRDisplay,window.VRFrameData=o.VRFrameData},u.prototype.getVRDisplays=function(){var t,n=this,i=this.config;if(!this.hasNative)return Promise.resolve(this.getPolyfillDisplays());var r,e=this.native.getVRDisplays.call(navigator),a=new Promise(function(e){t=setTimeout(function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),e([])},i.GET_VR_DISPLAYS_TIMEOUT)});return(r=[e,a],Promise.race?Promise.race(r):new Promise(function(e,t){for(var n=0;n<r.length;n++)r[n].then(e,t)})).then(function(e){return clearTimeout(t),0<e.length?e:n.getPolyfillDisplays()})},u.version="0.10.5",u.VRFrameData=o.VRFrameData,u.VRDisplay=o.VRDisplay;var l=Object.freeze({default:u}),c=l&&u||l;return void 0!==Ee&&Ee.window&&(Ee.document||(Ee.document=Ee.window.document),Ee.navigator||(Ee.navigator=Ee.window.navigator)),c},"object"==typeof i&&void 0!==n?n.exports=t():e.WebVRPolyfill=t()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,n,t){var h=/\n/,i=/\s/;function p(e,t,n,i){var r=e.indexOf(t,n);return-1===r||i<r?i:r}function m(e){return i.test(e)}function s(e,t,n,i){return{start:t,end:t+Math.min(i,n-t)}}n.exports=function(t,e){return n.exports.lines(t,e).map(function(e){return t.substring(e.start,e.end)}).join("\n")},n.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var n="number"==typeof t.width?t.width:Number.MAX_VALUE,i=Math.max(0,t.start||0),r="number"==typeof t.end?t.end:e.length,a=t.mode,o=t.measure||s;return"pre"===a?function(e,t,n,i,r){for(var a=[],o=n,s=n;s<i&&s<t.length;s++){var u=t.charAt(s),l=h.test(u);if(l||s===i-1){var c=l?s:s+1,d=e(t,o,c,r);a.push(d),o=s+1}}return a}(o,e,i,r,n):function(e,t,n,i,r,a){var o=[],s=r;"nowrap"===a&&(s=Number.MAX_VALUE);for(;n<i&&n<t.length;){for(var u=p(t,"\n",n,i);n<u&&m(t.charAt(n));)n++;var l=e(t,n,u,s),c=n+(l.end-l.start),d=c+"\n".length;if(c<u){for(;n<c&&!m(t.charAt(c));)c--;if(c===n)n+"\n".length<d&&d--,c=d;else for(d=c;n<c&&m(t.charAt(c-"\n".length));)c--}if(n<=c){var h=e(t,n,c,s);o.push(h)}n=d}return o}(o,e,i,r,n,a)}},{}],48:[function(e,t,n){"use strict";var i=e("global/window"),r=e("is-function"),g=e("parse-headers"),a=e("xtend");function o(e,t,n){var i=e;return r(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=a(t,{uri:e}),i.callback=n,i}function _(e,t,n){return s(t=o(e,t,n))}function s(i){if(void 0===i.callback)throw new Error("callback argument missing");var r=!1,a=function(e,t,n){r||(r=!0,i.callback(e,t,n))};function t(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,f)}function e(){if(!o){var e;clearTimeout(u),e=i.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=f,n=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(s),m)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:c,headers:{},url:l,rawRequest:s},s.getAllResponseHeaders&&(t.headers=g(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),a(n,t,t.body)}}var n,o,s=i.xhr||null;s||(s=i.cors||i.useXDR?new _.XDomainRequest:new _.XMLHttpRequest);var u,l=s.url=i.uri||i.url,c=s.method=i.method||"GET",d=i.body||i.data,h=s.headers=i.headers||{},p=!!i.sync,m=!1,f={body:void 0,headers:{},statusCode:0,method:c,url:l,rawRequest:s};if("json"in i&&!1!==i.json&&(m=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(!0===i.json?d:i.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){o=!0},s.ontimeout=t,s.open(c,l,!p,i.username,i.password),p||(s.withCredentials=!!i.withCredentials),!p&&0<i.timeout&&(u=setTimeout(function(){if(!o){o=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},i.timeout)),s.setRequestHeader)for(n in h)h.hasOwnProperty(n)&&s.setRequestHeader(n,h[n]);else if(i.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(i.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in i&&(s.responseType=i.responseType),"beforeSend"in i&&"function"==typeof i.beforeSend&&i.beforeSend(s),s.send(d||null),s}(t.exports=_).XMLHttpRequest=i.XMLHttpRequest||function(){},_.XDomainRequest="withCredentials"in new _.XMLHttpRequest?_.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(i){_["delete"===i?"del":i]=function(e,t,n){return(t=o(e,t,n)).method=i.toUpperCase(),s(t)}})},{"global/window":17,"is-function":21,"parse-headers":31,xtend:50}],49:[function(e,t,n){t.exports=void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{}],50:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},{}],51:[function(e,t,n){t.exports={name:"aframe",version:"0.8.2",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"shx mkdir -p build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-v0.8.2.js.map > dist/aframe-v0.8.2.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-v0.8.2.min.js.map --output dist/aframe-v0.8.2.min.js.map] -o dist/aframe-v0.8.2.min.js",docs:"markserv --dir docs --port 9001",preghpages:"node ./scripts/preghpages.js",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy","lint:fix":"semistandard --fix",precommit:"npm run lint",prepush:"node scripts/testOnlyCheck.js",prerelease:"node scripts/release.js 0.7.1 0.8.0",start:"npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:node":"mocha --ui tdd tests/node"},repository:"aframevr/aframe",license:"MIT",dependencies:{"@tweenjs/tween.js":"^16.8.0","browserify-css":"^0.8.2",debug:"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7",envify:"^3.4.1","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","style-attr":"^1.0.2",three:"github:supermedium/three.js#r90fixMTLLoader","three-bmfont-text":"^2.1.0","webvr-polyfill":"^0.10.5"},devDependencies:{browserify:"^13.1.0","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^5.0.1",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",jsdom:"^9.11.0",karma:"1.4.1","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.0.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"1.2.4",lolex:"^1.5.1",markserv:"github:sukima/markserv#feature/fix-broken-websoketio-link",minifyify:"^7.3.3",mocha:"^3.0.2","mozilla-download":"^1.1.1","replace-in-file":"^2.5.3",semistandard:"^9.0.0",shelljs:"^0.7.7",shx:"^0.2.2",sinon:"^1.17.5","sinon-chai":"2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],52:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three");t.exports.Component=i("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var e,t=this.el;e=this.camera=new r.PerspectiveCamera,t.setObject3D("camera",e)},update:function(e){var t=this.data,n=this.camera;n.aspect=t.aspect||window.innerWidth/window.innerHeight,n.far=t.far,n.fov=t.fov,n.near=t.near,n.zoom=t.zoom,n.updateProjectionMatrix(),this.updateActiveCamera(e),this.updateSpectatorCamera(e)},updateActiveCamera:function(e){var t=this.data,n=this.el,i=this.system;e&&e.active===t.active||t.spectator||(t.active&&i.activeCameraEl!==n?i.setActiveCamera(n):t.active||i.activeCameraEl!==n||i.disableActiveCamera())},updateSpectatorCamera:function(e){var t=this.data,n=this.el,i=this.system;e&&e.spectator===t.spectator||(t.spectator&&i.spectatorCameraEl!==n?i.setSpectatorCamera(n):t.spectator||i.spectatorCameraEl!==n||i.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},{"../core/component":102,"../lib/three":150}],53:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three");t.exports.Component=i("collada-model",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new r.ColladaLoader,this.loader.options.convertUpAxis=!0},update:function(){var t=this,n=this.el,e=this.data;e&&(this.remove(),this.loader.load(e,function(e){t.model=e.scene,n.setObject3D("mesh",t.model),n.emit("model-loaded",{format:"collada",model:t.model})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":102,"../lib/three":150}],54:[function(e,t,n){var o,s,u,l,i=e("../core/component").registerComponent,r=e("../utils/"),a=r.bind,c="click",d="fusing",h="mouseenter",p="mousedown",m="mouseleave",f="mouseup",g="cursor-fusing",_="cursor-hovering",y="cursor-hovered",v={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]};t.exports.Component=i("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:r.device.isMobile()},fuseTimeout:{default:1500,min:0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity"]}},init:function(){var e=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.updateCanvasBounds=r.debounce(function(){e.canvasBounds=e.el.sceneEl.canvas.getBoundingClientRect()},1e3),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=a(this.onCursorDown,this),this.onCursorUp=a(this.onCursorUp,this),this.onIntersection=a(this.onIntersection,this),this.onIntersectionCleared=a(this.onIntersectionCleared,this),this.onMouseMove=a(this.onMouseMove,this)},update:function(e){this.data.rayOrigin!==e.rayOrigin&&this.updateMouseEventListeners()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var e=this.el;e.removeState(_),e.removeState(g),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(y),this.removeEventListeners()},addEventListeners:function(){var t,e=this.data,n=this.el,i=this;function r(){t=n.sceneEl.canvas,e.downEvents.length||e.upEvents.length||(v.DOWN.forEach(function(e){t.addEventListener(e,i.onCursorDown)}),v.UP.forEach(function(e){t.addEventListener(e,i.onCursorUp)}))}(t=n.sceneEl.canvas)?r():n.sceneEl.addEventListener("render-target-loaded",r),e.downEvents.forEach(function(e){n.addEventListener(e,i.onCursorDown)}),e.upEvents.forEach(function(e){n.addEventListener(e,i.onCursorUp)}),n.addEventListener("raycaster-intersection",this.onIntersection),n.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),window.addEventListener("resize",this.updateCanvasBounds)},removeEventListeners:function(){var t,e=this.data,n=this.el,i=this;!(t=n.sceneEl.canvas)||e.downEvents.length||e.upEvents.length||(v.DOWN.forEach(function(e){t.removeEventListener(e,i.onCursorDown)}),v.UP.forEach(function(e){t.removeEventListener(e,i.onCursorUp)})),e.downEvents.forEach(function(e){n.removeEventListener(e,i.onCursorDown)}),e.upEvents.forEach(function(e){n.removeEventListener(e,i.onCursorUp)}),n.removeEventListener("raycaster-intersection",this.onIntersection),n.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("touchstart",this.onMouseMove),t.removeEventListener("touchmove",this.onMouseMove),t.removeEventListener("resize",this.updateCanvasBounds)},updateMouseEventListeners:function(){var e,t=this.el;(e=t.sceneEl.canvas).removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),t.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(e.addEventListener("mousemove",this.onMouseMove,!1),e.addEventListener("touchmove",this.onMouseMove,!1),t.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:(o=new THREE.Vector3,s=new THREE.Vector2,u=new THREE.Vector3,l={origin:u,direction:o},function(e){var t,n,i,r=this.canvasBounds,a=this.el.sceneEl.camera;a.parent.updateMatrixWorld(),t=(n="touchmove"===e.type||"touchstart"===e.type?e.touches.item(0):e).clientX-r.left,i=n.clientY-r.top,s.x=t/r.width*2-1,s.y=-i/r.height*2+1,u.setFromMatrixPosition(a.matrixWorld),o.set(s.x,s.y,.5).unproject(a).sub(u).normalize(),this.el.setAttribute("raycaster",l),"touchmove"===e.type&&e.preventDefault()}),onCursorDown:function(e){"mouse"===this.data.rayOrigin&&"touchstart"===e.type&&(this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),e.preventDefault()),this.twoWayEmit(p),this.cursorDownEl=this.intersectedEl},onCursorUp:function(e){this.twoWayEmit(f),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(f,this.intersectedEventDetail)),!this.data.fuse&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(c),this.cursorDownEl=null,"touchend"===e.type&&e.preventDefault()},onIntersection:function(e){var t,n,i,r=this.el;t=e.detail.els[0]===r?1:0,i=e.detail.intersections[t],(n=e.detail.els[t])&&this.intersectedEl!==n&&(this.intersectedEl&&this.el.components.raycaster.getIntersection(this.intersectedEl).distance<=i.distance||(this.clearCurrentIntersection(!0),this.setIntersection(n,i)))},onIntersectionCleared:function(e){-1!==e.detail.clearedEls.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},setIntersection:function(e,t){var n=this.el,i=this.data,r=this;this.intersectedEl!==e&&(this.intersectedEl=e,n.addState(_),e.addState(y),this.twoWayEmit(h),0!==i.fuseTimeout&&i.fuse&&(n.addState(g),this.twoWayEmit(d),this.fuseTimeout=setTimeout(function(){n.removeState(g),r.twoWayEmit(c)},i.fuseTimeout)))},clearCurrentIntersection:function(e){var t,n,i=this.el;this.intersectedEl&&(this.intersectedEl.removeState(y),i.removeState(_),i.removeState(g),this.twoWayEmit(m),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==e&&0!==(n=this.el.components.raycaster.intersections).length&&(t=n[n[0].object.el===i?1:0])&&this.setIntersection(t.object.el,t))},twoWayEmit:function(e){var t,n=this.el,i=this.intersectedEl;t=this.el.components.raycaster.getIntersection(i),this.eventDetail.intersectedEl=i,this.eventDetail.intersection=t,n.emit(e,this.eventDetail),i&&(this.intersectedEventDetail.intersection=t,i.emit(e,this.intersectedEventDetail))}})},{"../core/component":102,"../utils/":172}],55:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/bind"),a=e("../utils/tracked-controls").checkControllerPresentAndSetup,o=e("../utils/tracked-controls"),s=o.emitIfAxesChanged,u=o.onButtonEvent,l="Daydream Controller";t.exports.Component=i("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this;this.animationActive="pointing",this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){u(e.detail.id,"down",t)},this.onButtonUp=function(e){u(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){u(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){u(e.detail.id,"touchend",t)},this.onAxisMoved=r(this.onAxisMoved,this),this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods(),this.checkControllerPresentAndSetup=a,this.emitIfAxesChanged=s},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,l,{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,hand:t.hand,idPrefix:l,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.obj",mtl:"https://cdn.aframe.io/controllers/google/vr_controller_daydream.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).menu=n.getObjectByName("AppButton_AppButton_Cylinder.004"),t.system=n.getObjectByName("HomeButton_HomeButton_Cylinder.005"),t.trackpad=n.getObjectByName("TouchPad_TouchPad_Cylinder.003"),n.position.set(0,0,-.04))},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping.axes,e)},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes;if(n&&n[e]){var i;switch(t){case"down":i=this.data.buttonHighlightColor;break;case"touchstart":i=this.data.buttonTouchedColor;break;default:i=this.data.buttonColor}n[e].material.color.set(i)}}})},{"../core/component":102,"../utils/bind":166,"../utils/tracked-controls":178}],56:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/bind"),a=e("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l="Gear VR|GearVR|Oculus Go";t.exports.Component=i("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this;this.animationActive="pointing",this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){u(e.detail.id,"down",t)},this.onButtonUp=function(e){u(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){u(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){u(e.detail.id,"touchend",t)},this.onAxisMoved=r(this.onAxisMoved,this),this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods(),this.checkControllerPresentAndSetup=o,this.emitIfAxesChanged=s},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,l,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,idPrefix:l,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.obj",mtl:"https://cdn.aframe.io/controllers/samsung/gear_vr_controller.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).trigger=n.children[2],t.trackpad=n.children[1])},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes;if(n&&n[e]){var i;switch(t){case"down":i=this.data.buttonHighlightColor;break;case"touchstart":i=this.data.buttonTouchedColor;break;default:i=this.data.buttonColor}n[e].material.color.set(i)}}})},{"../core/component":102,"../utils/bind":166,"../utils/tracked-controls":178}],57:[function(e,t,n){var r=e("../core/geometry").geometries,i=e("../core/geometry").geometryNames,a=e("../core/component").registerComponent,o=e("../lib/three"),s=new o.Geometry;t.exports.Component=a("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:i},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t,n=this.data,i=this.el,r=this.system;this.geometry&&(r.unuseGeometry(e),this.geometry=null),this.geometry=r.getOrCreateGeometry(n),(t=i.getObject3D("mesh"))?t.geometry=this.geometry:((t=new o.Mesh).geometry=this.geometry,i.setObject3D("mesh",t))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=s,this.geometry=null},updateSchema:function(e){var t=e.primitive,n=this.data&&this.data.primitive,i=r[t]&&r[t].schema;if(!i)throw new Error("Unknown geometry schema `"+t+"`");n&&n===t||this.extendSchema(i)}})},{"../core/component":102,"../core/geometry":103,"../lib/three":150}],58:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three"),a=e("../utils/").debug("components:gltf-model:warn");t.exports.Component=i("gltf-model",{schema:{type:"model"},init:function(){this.model=null,this.loader=new r.GLTFLoader},update:function(){var t=this,n=this.el,i=this.data;i&&(this.remove(),this.loader.load(i,function(e){t.model=e.scene||e.scenes[0],t.model.animations=e.animations,n.setObject3D("mesh",t.model),n.emit("model-loaded",{format:"gltf",model:t.model})},void 0,function(e){var t=e&&e.message?e.message:"Failed to load glTF model";a(t),n.emit("model-error",{format:"gltf",src:i})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":102,"../lib/three":150,"../utils/":172}],59:[function(e,t,n){var i=e("../core/component").registerComponent,r={left:"https://cdn.aframe.io/controllers/oculus-hands/v2/leftHand.json",right:"https://cdn.aframe.io/controllers/oculus-hands/v2/rightHand.json"},l={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},a={};function o(e,t){var n;if(e)return"grip"===(n=a[e])?n+(t?"close":"open"):"point"===n||"thumb"===n?n+(t?"up":"down"):"pointing"===n||"pistol"===n?n+(t?"start":"end"):void 0}a[l.fist]="grip",a[l.thumbUp]="pistol",a[l.point]="pointing",a[l.thumb]="thumb",t.exports.Component=i("hand-controls",{schema:{default:"left"},init:function(){var e=this,t=this.el;this.gesture=l.open,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.ObjectLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){e.handleButton("grip","down")},this.onGripUp=function(){e.handleButton("grip","up")},this.onTrackpadDown=function(){e.handleButton("trackpad","down")},this.onTrackpadUp=function(){e.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){e.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){e.handleButton("trackpad","touchend")},this.onTriggerDown=function(){e.handleButton("trigger","down")},this.onTriggerUp=function(){e.handleButton("trigger","up")},this.onTriggerTouchStart=function(){e.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){e.handleButton("trigger","touchend")},this.onGripTouchStart=function(){e.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){e.handleButton("grip","touchend")},this.onThumbstickDown=function(){e.handleButton("thumbstick","down")},this.onThumbstickUp=function(){e.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){e.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){e.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){e.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){e.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){e.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){e.handleButton("surface","touchend")},this.onControllerConnected=function(){e.setModelVisibility(!0)},this.onControllerDisconnected=function(){e.setModelVisibility(!1)},t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected)},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.mixer&&n.mixer.update(t/1e3)},addEventListeners:function(){var e=this.el;e.addEventListener("gripdown",this.onGripDown),e.addEventListener("gripup",this.onGripUp),e.addEventListener("trackpaddown",this.onTrackpadDown),e.addEventListener("trackpadup",this.onTrackpadUp),e.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.addEventListener("triggerdown",this.onTriggerDown),e.addEventListener("triggerup",this.onTriggerUp),e.addEventListener("triggertouchstart",this.onTriggerTouchStart),e.addEventListener("triggertouchend",this.onTriggerTouchEnd),e.addEventListener("griptouchstart",this.onGripTouchStart),e.addEventListener("griptouchend",this.onGripTouchEnd),e.addEventListener("thumbstickdown",this.onThumbstickDown),e.addEventListener("thumbstickup",this.onThumbstickUp),e.addEventListener("abuttontouchstart",this.onAorXTouchStart),e.addEventListener("abuttontouchend",this.onAorXTouchEnd),e.addEventListener("bbuttontouchstart",this.onBorYTouchStart),e.addEventListener("bbuttontouchend",this.onBorYTouchEnd),e.addEventListener("xbuttontouchstart",this.onAorXTouchStart),e.addEventListener("xbuttontouchend",this.onAorXTouchEnd),e.addEventListener("ybuttontouchstart",this.onBorYTouchStart),e.addEventListener("ybuttontouchend",this.onBorYTouchEnd),e.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var e=this.el;e.removeEventListener("gripdown",this.onGripDown),e.removeEventListener("gripup",this.onGripUp),e.removeEventListener("trackpaddown",this.onTrackpadDown),e.removeEventListener("trackpadup",this.onTrackpadUp),e.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.removeEventListener("triggerdown",this.onTriggerDown),e.removeEventListener("triggerup",this.onTriggerUp),e.removeEventListener("triggertouchstart",this.onTriggerTouchStart),e.removeEventListener("triggertouchend",this.onTriggerTouchEnd),e.removeEventListener("griptouchstart",this.onGripTouchStart),e.removeEventListener("griptouchend",this.onGripTouchEnd),e.removeEventListener("thumbstickdown",this.onThumbstickDown),e.removeEventListener("thumbstickup",this.onThumbstickUp),e.removeEventListener("abuttontouchstart",this.onAorXTouchStart),e.removeEventListener("abuttontouchend",this.onAorXTouchEnd),e.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),e.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),e.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),e.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),e.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),e.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),e.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(e){var n,i=this.el,t=this.data;n={hand:t,model:!1,orientationOffset:{x:0,y:0,z:"left"===t?90:-90}},t!==e&&this.loader.load(r[t],function(e){var t=e.getObjectByName("Hand");t.material.skinning=!0,t.mixer=new THREE.AnimationMixer(t),i.setObject3D("mesh",t),t.position.set(0,0,0),t.rotation.set(0,0,0),t.visible=!1,i.setAttribute("vive-controls",n),i.setAttribute("oculus-touch-controls",n),i.setAttribute("windows-motion-controls",n)})},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(e,t){var n,i="down"===t,r="touchstart"===t;if(0===t.indexOf("touch")){if(r===this.touchedButtons[e])return;this.touchedButtons[e]=r}else{if(i===this.pressedButtons[e])return;this.pressedButtons[e]=i}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture,n),this.emitGestureEvents(this.gesture,n))},determineGesture:function(){var e,t,n,i=this.pressedButtons.grip,r=this.pressedButtons.surface||this.touchedButtons.surface,a=this.pressedButtons.trackpad||this.touchedButtons.trackpad,o=this.pressedButtons.trigger||this.touchedButtons.trigger,s=this.touchedButtons.AorX||this.touchedButtons.BorY,u=(t=this.el.components["tracked-controls"],(n=t&&t.controller&&t.controller.id)&&0===n.indexOf("OpenVR "));return i?e=u?l.fist:r||s||a?o?l.fist:l.point:o?l.thumbUp:l.pointThumb:o?e=u?l.fist:l.hold:u&&a&&(e=l.point),e},animateGesture:function(e,t){e?this.playAnimation(e||l.open,t,!1):this.playAnimation(t,t,!0)},emitGestureEvents:function(e,t){var n,i=this.el;t!==e&&((n=o(t,!1))&&i.emit(n),(n=o(e,!0))&&i.emit(n))},playAnimation:function(e,t,n){var i,r,a=this.el.getObject3D("mesh");if(a){if((r=a.mixer.clipAction(e)).clampWhenFinished=!0,r.loop=THREE.LoopRepeat,r.repetitions=0,r.timeScale=n?-1:1,r.weight=1,!t||e===t)return a.mixer.stopAllAction(),void r.play();i=a.mixer.clipAction(t),a.mixer.stopAllAction(),i.weight=.15,i.play(),r.play(),i.crossFadeTo(r,.15,!0)}},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");t&&(t.visible=e)}})},{"../core/component":102}],60:[function(e,t,n){e("./camera"),e("./collada-model"),e("./cursor"),e("./daydream-controls"),e("./gearvr-controls"),e("./geometry"),e("./gltf-model"),e("./hand-controls"),e("./laser-controls"),e("./light"),e("./line"),e("./link"),e("./look-controls"),e("./material"),e("./obj-model"),e("./oculus-touch-controls"),e("./position"),e("./raycaster"),e("./rotation"),e("./scale"),e("./shadow"),e("./sound"),e("./text"),e("./tracked-controls"),e("./visible"),e("./vive-controls"),e("./wasd-controls"),e("./windows-motion-controls"),e("./scene/background"),e("./scene/debug"),e("./scene/embedded"),e("./scene/inspector"),e("./scene/fog"),e("./scene/keyboard-shortcuts"),e("./scene/pool"),e("./scene/renderer"),e("./scene/screenshot"),e("./scene/stats"),e("./scene/vr-mode-ui")},{"./camera":52,"./collada-model":53,"./cursor":54,"./daydream-controls":55,"./gearvr-controls":56,"./geometry":57,"./gltf-model":58,"./hand-controls":59,"./laser-controls":61,"./light":62,"./line":63,"./link":64,"./look-controls":65,"./material":66,"./obj-model":67,"./oculus-touch-controls":68,"./position":69,"./raycaster":70,"./rotation":71,"./scale":72,"./scene/background":73,"./scene/debug":74,"./scene/embedded":75,"./scene/fog":76,"./scene/inspector":77,"./scene/keyboard-shortcuts":78,"./scene/pool":79,"./scene/renderer":80,"./scene/screenshot":81,"./scene/stats":82,"./scene/vr-mode-ui":83,"./shadow":84,"./sound":85,"./text":86,"./tracked-controls":87,"./visible":88,"./vive-controls":89,"./wasd-controls":90,"./windows-motion-controls":91}],61:[function(e,t,n){var i=e("../core/component").registerComponent,o=e("../utils/");i("laser-controls",{schema:{hand:{default:"right"}},init:function(){var i=this.config,e=this.data,r=this.el,a=this;function t(e){var t=i[e.detail.name];if(t){var n=o.extend({showLine:!0},t.raycaster||{});e.detail.rayOrigin&&(n.origin=e.detail.rayOrigin.origin,n.direction=e.detail.rayOrigin.direction,n.showLine=!0),e.detail.rayOrigin||!a.modelReady?r.setAttribute("raycaster",n):r.setAttribute("raycaster","showLine",!0),r.setAttribute("cursor",o.extend({fuse:!1},t.cursor))}}r.setAttribute("daydream-controls",{hand:e.hand}),r.setAttribute("gearvr-controls",{hand:e.hand}),r.setAttribute("oculus-touch-controls",{hand:e.hand}),r.setAttribute("vive-controls",{hand:e.hand}),r.setAttribute("windows-motion-controls",{hand:e.hand}),r.addEventListener("controllerconnected",t),r.addEventListener("controllerdisconnected",function(){r.setAttribute("raycaster","showLine",!1)}),r.addEventListener("controllermodelready",function(e){t(e),a.modelReady=!0})},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown"],upEvents:["trackpadup"]}},"gearvr-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},{"../core/component":102,"../utils/":172}],62:[function(e,t,n){var c=e("../utils/bind"),o=e("../utils").diff,i=e("../utils/debug"),r=e("../core/component").registerComponent,d=e("../lib/three"),h=d.Math.degToRad,p=i("components:light:warn");t.exports.Component=r("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"]},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(e)},update:function(e){var n=this.data,t=o(n,e),i=this.light,r=this;if(!i||"type"in t)this.setLight(this.data),this.updateShadow();else{var a=!1;Object.keys(t).forEach(function(e){var t=n[e];switch(e){case"color":i.color.set(t);break;case"groundColor":i.groundColor.set(t);break;case"angle":i.angle=h(t);break;case"target":null===t?"spot"!==n.type&&"directional"!==n.type||(i.target=r.defaultTarget):t.hasLoaded?r.onSetTarget(t,i):t.addEventListener("loaded",c(r.onSetTarget,r,t,i));break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":a||(r.updateShadow(),a=!0);break;default:i[e]=t}})}},setLight:function(e){var t=this.el,n=this.getLight(e);n&&(this.light&&t.removeObject3D("light"),this.light=n,(this.light.el=t).setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||t.getObject3D("light").translateY(-1),"spot"===e.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)))},updateShadow:function(){var e=this.el,t=this.data,n=this.light;n.castShadow=t.castShadow;var i=e.getObject3D("cameraHelper");if(t.shadowCameraVisible&&!i?e.setObject3D("cameraHelper",new d.CameraHelper(n.shadow.camera)):!t.shadowCameraVisible&&i&&e.removeObject3D("cameraHelper"),!t.castShadow)return n;n.shadow.bias=t.shadowBias,n.shadow.mapSize.height=t.shadowMapHeight,n.shadow.mapSize.width=t.shadowMapWidth,n.shadow.camera.near=t.shadowCameraNear,n.shadow.camera.far=t.shadowCameraFar,n.shadow.camera instanceof d.OrthographicCamera?(n.shadow.camera.top=t.shadowCameraTop,n.shadow.camera.right=t.shadowCameraRight,n.shadow.camera.bottom=t.shadowCameraBottom,n.shadow.camera.left=t.shadowCameraLeft):n.shadow.camera.fov=t.shadowCameraFov,n.shadow.camera.updateProjectionMatrix(),i&&i.update()},getLight:function(e){var t=e.angle,n=new d.Color(e.color).getHex(),i=e.decay,r=e.distance,a=new d.Color(e.groundColor).getHex(),o=e.intensity,s=e.type,u=e.target,l=null;switch(s.toLowerCase()){case"ambient":return new d.AmbientLight(n,o);case"directional":return l=new d.DirectionalLight(n,o),this.defaultTarget=l.target,u&&(u.hasLoaded?this.onSetTarget(u,l):u.addEventListener("loaded",c(this.onSetTarget,this,u,l))),l;case"hemisphere":return new d.HemisphereLight(n,a,o);case"point":return new d.PointLight(n,o,r,i);case"spot":return l=new d.SpotLight(n,o,r,h(t),e.penumbra,i),this.defaultTarget=l.target,u&&(u.hasLoaded?this.onSetTarget(u,l):u.addEventListener("loaded",c(this.onSetTarget,this,u,l))),l;default:p("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",s)}},onSetTarget:function(e,t){t.target=e.object3D},remove:function(){var e=this.el;e.removeObject3D("light"),e.getObject3D("cameraHelper")&&e.removeObject3D("cameraHelper")}})},{"../core/component":102,"../lib/three":150,"../utils":172,"../utils/bind":166,"../utils/debug":168}],63:[function(e,t,n){var i=e("../core/component").registerComponent;function o(e,t){return!(!e||!t)&&(e.x===t.x&&e.y===t.y&&e.z===t.z)}t.exports.Component=i("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var e,t,n=this.data;t=this.material=new THREE.LineBasicMaterial({color:n.color,opacity:n.opacity,transparent:n.opacity<1,visible:n.visible}),(e=this.geometry=new THREE.BufferGeometry).addAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.line=new THREE.Line(e,t),this.el.setObject3D(this.attrName,this.line)},update:function(e){var t=this.data,n=this.geometry,i=!1,r=this.material,a=n.attributes.position.array;o(t.start,e.start)||(a[0]=t.start.x,a[1]=t.start.y,a[2]=t.start.z,i=!0),o(t.end,e.end)||(a[3]=t.end.x,a[4]=t.end.y,a[5]=t.end.z,i=!0),i&&(n.attributes.position.needsUpdate=!0,n.computeBoundingSphere()),r.color.setStyle(t.color),r.opacity=t.opacity,r.transparent=t.opacity<1,r.visible=t.visible},remove:function(){this.el.removeObject3D("line",this.line)}})},{"../core/component":102}],64:[function(e,t,n){var i,r,a,o,s,u,l,c,d=e("../core/component").registerComponent,h=e("../core/shader").registerShader,p=e("../lib/three");t.exports.Component=d("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!0}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new p.Quaternion,this.hiddenEls=[],this.initVisualAspect()},update:function(e){var t,n,i=this.data,r=this.el;t=i.highlighted?i.highlightedColor:i.backgroundColor,n=i.highlighted?i.highlightedColor:i.borderColor,r.setAttribute("material","backgroundColor",t),r.setAttribute("material","strokeColor",n),i.on!==e.on&&this.updateEventListener(),i.visualAspectEnabled&&void 0!==e.peekMode&&i.peekMode!==e.peekMode&&this.updatePeekMode(),i.image&&e.image!==i.image&&r.setAttribute("material","pano","string"==typeof i.image?i.image:i.image.src)},updatePeekMode:function(){var e=this.el,t=this.sphereEl;this.data.peekMode?(this.hideAll(),e.getObject3D("mesh").visible=!1,t.setAttribute("visible",!0)):(this.showAll(),e.getObject3D("mesh").visible=!0,t.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var e=this.el;e.isPlaying&&(this.removeEventListener(),e.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var e=this.data.on;e&&this.el.removeEventListener(e,this.navigate)},initVisualAspect:function(){var e,t,n,i=this.el;this.data.visualAspectEnabled&&(n=this.textEl=this.textEl||document.createElement("a-entity"),t=this.sphereEl=this.sphereEl||document.createElement("a-entity"),e=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),i.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),i.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),n.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),n.setAttribute("position","0 1.5 0"),i.appendChild(n),e.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("rotation","0 180 0"),e.setAttribute("position","0 0 0"),e.setAttribute("visible",!1),i.appendChild(e),t.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("visible",!1),i.appendChild(t))},navigate:function(){window.location=this.data.href},tick:(s=new p.Vector3,u=new p.Vector3,l=new p.Quaternion,c=new p.Vector3,function(){var e,t,n=this.el,i=n.object3D,r=n.sceneEl.camera,a=this.textEl;if(this.data.visualAspectEnabled)if(i.updateMatrixWorld(),r.parent.updateMatrixWorld(),r.updateMatrixWorld(),i.matrix.decompose(u,l,c),u.setFromMatrixPosition(i.matrixWorld),s.setFromMatrixPosition(r.matrixWorld),20<(t=u.distanceTo(s)))this.previousQuaternion||(this.quaternionClone.copy(l),this.previousQuaternion=this.quaternionClone),i.lookAt(s);else{if(e=this.calculateCameraPortalOrientation(),t<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;a.setAttribute("text","width",1.5),e<=0?(a.setAttribute("position","0 0 0.75"),a.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(a.setAttribute("position","0 0 -0.75"),a.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),n.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=e}else e<=0?a.setAttribute("rotation","0 180 0"):a.setAttribute("rotation","0 0 0"),a.setAttribute("text","width",5),a.setAttribute("position","0 1.5 0"),n.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(i.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}),hideAll:function(){var t=this.el,n=this.hiddenEls,i=this;0<n.length||t.sceneEl.object3D.traverse(function(e){e&&e.el&&e.el.hasAttribute("link-controls")||e.el&&e!==t.sceneEl.object3D&&e.el!==t&&e.el!==i.sphereEl&&e.el!==t.sceneEl.cameraEl&&!1!==e.el.getAttribute("visible")&&e.el!==i.textEl&&e.el!==i.semiSphereEl&&(e.el.setAttribute("visible",!1),n.push(e.el))})},showAll:function(){this.hiddenEls.forEach(function(e){e.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:(i=new p.Matrix4,r=new p.Vector3,a=new p.Vector3(0,0,1),o=new p.Vector3(0,0,0),function(){var e=this.el,t=e.sceneEl.camera;return r.set(0,0,0),a.set(0,0,1),o.set(0,0,0),e.object3D.matrixWorld.extractRotation(i),a.applyMatrix4(i),e.object3D.updateMatrixWorld(),e.object3D.localToWorld(o),t.parent.parent.updateMatrixWorld(),t.parent.updateMatrixWorld(),t.updateMatrixWorld(),t.localToWorld(r),r.sub(o).normalize(),a.normalize(),Math.sign(a.dot(r))}),remove:function(){this.removeEventListener()}}),h("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = saturate(direction.y * 0.5  + 0.5);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},{"../core/component":102,"../core/shader":111,"../lib/three":150}],65:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../lib/three"),a=e("../utils/"),o=a.bind,s=e("../utils").device.PolyfillControls,u="a-grabbing",l=Math.PI/2,c=a.device.checkHasPositionalTracking;t.exports.Component=i("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},touchEnabled:{default:!0}},init:function(){this.previousHMDPosition=new r.Vector3,this.hmdQuaternion=new r.Quaternion,this.hmdEuler=new r.Euler,this.position=new r.Vector3,this.savedRotation=new r.Vector3,this.savedPosition=new r.Vector3,this.polyfillObject=new r.Object3D,this.polyfillControls=new s(this.polyfillObject),this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.savedPose={position:new r.Vector3,rotation:new r.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR()},update:function(e){var t=this.data;t.enabled!==e.enabled&&this.updateGrabCursor(t.enabled),!e||t.hmdEnabled||e.hmdEnabled||(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),e&&!t.pointerLockEnabled!==e.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&document.exitPointerLock())},tick:function(e){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.removeEventListeners()},bindMethods:function(){this.onMouseDown=o(this.onMouseDown,this),this.onMouseMove=o(this.onMouseMove,this),this.onMouseUp=o(this.onMouseUp,this),this.onTouchStart=o(this.onTouchStart,this),this.onTouchMove=o(this.onTouchMove,this),this.onTouchEnd=o(this.onTouchEnd,this),this.onEnterVR=o(this.onEnterVR,this),this.onExitVR=o(this.onExitVR,this),this.onPointerLockChange=o(this.onPointerLockChange,this),this.onPointerLockError=o(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new r.Object3D,this.yawObject=new r.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.addEventListener("enter-vr",this.onEnterVR),e.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):e.addEventListener("render-target-loaded",o(this.addEventListeners,this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var e=this.el,t=this.hmdEuler,n=this.pitchObject,i=this.yawObject,r=this.el.sceneEl;r.is("vr-mode")&&r.checkHeadsetConnected()||(this.polyfillControls.update(),t.setFromQuaternion(this.polyfillObject.quaternion,"YXZ"),e.object3D.rotation.x=t.x+n.rotation.x,e.object3D.rotation.y=t.y+i.rotation.y,e.object3D.rotation.z=0)},onMouseMove:function(e){var t,n,i,r=this.pitchObject,a=this.previousMouseEvent,o=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(n=e.movementX||e.mozMovementX||0,i=e.movementY||e.mozMovementY||0):(n=e.screenX-a.screenX,i=e.screenY-a.screenY),this.previousMouseEvent=e,t=this.data.reverseMouseDrag?1:-1,o.rotation.y+=.002*n*t,r.rotation.x+=.002*i*t,r.rotation.x=Math.max(-l,Math.min(l,r.rotation.x)))},onMouseDown:function(e){if(this.data.enabled&&0===e.button){var t=this.el.sceneEl,n=t&&t.canvas;this.mouseDown=!0,this.previousMouseEvent=e,document.body.classList.add(u),this.data.pointerLockEnabled&&!this.pointerLocked&&(n.requestPointerLock?n.requestPointerLock():n.mozRequestPointerLock&&n.mozRequestPointerLock())}},onMouseUp:function(){this.mouseDown=!1,document.body.classList.remove(u)},onTouchStart:function(e){1===e.touches.length&&this.data.touchEnabled&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,n=this.el.sceneEl.canvas,i=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(t=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/n.clientWidth,i.rotation.y-=.5*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){this.saveCameraPose()},onExitVR:function(){this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0)},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},updateGrabCursor:function(e){var t=this.el.sceneEl;function n(){t.canvas.classList.add("a-grab-cursor")}function i(){t.canvas.classList.remove("a-grab-cursor")}t.canvas?e?n():i():e?t.addEventListener("render-target-loaded",n):t.addEventListener("render-target-loaded",i)},saveCameraPose:function(){var e=this.el,t=void 0!==this.hasPositionalTracking?this.hasPositionalTracking:c();!this.hasSavedPose&&t&&(this.savedPose.position.copy(e.object3D.position),this.savedPose.rotation.copy(e.object3D.rotation),this.hasSavedPose=!0)},restoreCameraPose:function(){var e=this.el,t=this.savedPose,n=void 0!==this.hasPositionalTracking?this.hasPositionalTracking:c();this.hasSavedPose&&n&&(e.object3D.position.copy(t.position),e.object3D.rotation.copy(t.rotation),this.hasSavedPose=!1)}})},{"../core/component":102,"../lib/three":150,"../utils":172,"../utils/":172}],66:[function(e,t,n){var i=e("../utils/"),r=e("../core/component"),a=e("../lib/three"),o=e("../core/shader"),s=i.debug("components:material:error"),u=r.registerComponent,l=o.shaders,c=o.shaderNames;function d(e,t){e.dispose(),t.unregisterMaterial(e)}t.exports.Component=u("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:c},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColors:{type:"string",default:"none",oneOf:["face","vertex"]},visible:{default:!0}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial(e)},updateSchema:function(e){var t=e.shader,n=this.data&&this.data.shader,i=t||n,r=l[i]&&l[i].schema;r||s("Unknown shader schema "+i),n&&t===n||(this.extendSchema(r),this.updateBehavior())},updateBehavior:function(){var t=this.schema,n=this,e=this.el.sceneEl,i={},r=function(t,e){Object.keys(i).forEach(function(e){i[e]=t}),n.shader.update(i)};this.tick=void 0,Object.keys(t).forEach(function(e){"time"===t[e].type&&(n.tick=r,i[e]=!0)}),e&&(this.tick?e.addBehavior(this):e.removeBehavior(this))},updateShader:function(e){var t,n=this.data,i=l[e]&&l[e].Shader;if(!i)throw new Error("Unknown shader "+e);(t=this.shader=new i).el=this.el,t.init(n),this.setMaterial(t.material),this.updateSchema(n)},updateMaterial:function(e){var t=this.data,n=this.material;n.alphaTest=t.alphaTest,n.depthTest=!1!==t.depthTest,n.depthWrite=!1!==t.depthWrite,n.opacity=t.opacity,n.flatShading=t.flatShading,n.side=function(e){switch(e){case"back":return a.BackSide;case"double":return a.DoubleSide;default:return a.FrontSide}}(t.side),n.transparent=!1!==t.transparent||t.opacity<1,n.vertexColors=function(e){switch(e){case"face":return a.FaceColors;case"vertex":return a.VertexColors;default:return a.NoColors}}(t.vertexColors),n.visible=t.visible,!Object.keys(e).length||e.alphaTest===t.alphaTest&&e.side===t.side&&e.vertexColors===t.vertexColors||(n.needsUpdate=!0)},remove:function(){var e=new a.MeshBasicMaterial,t=this.material,n=this.el.getObject3D("mesh");n&&(n.material=e),d(t,this.system)},setMaterial:function(n){var e,i=this.el,t=this.system;this.material&&d(this.material,t),this.material=n,t.registerMaterial(n),(e=i.getObject3D("mesh"))?e.material=n:i.addEventListener("object3dset",function e(t){"mesh"===t.detail.type&&t.target===i&&(i.getObject3D("mesh").material=n,i.removeEventListener("object3dset",e))})}})},{"../core/component":102,"../core/shader":111,"../lib/three":150,"../utils/":172}],67:[function(e,t,n){var i=e("../utils/debug"),r=e("../core/component").registerComponent,o=e("../lib/three"),s=i("components:obj-model:warn");t.exports.Component=r("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){this.model=null,this.objLoader=new o.OBJLoader,this.mtlLoader=new o.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin=""},update:function(){var e=this.data;e.obj&&(this.remove(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(t,e){var n=this,i=this.el,r=this.mtlLoader,a=this.objLoader;if(e)return i.hasAttribute("material")&&s("Material component properties are ignored when a .MTL is provided"),r.setTexturePath(e.substr(0,e.lastIndexOf("/")+1)),void r.load(e,function(e){e.preload(),a.setMaterials(e),a.load(t,function(e){n.model=e,i.setObject3D("mesh",e),i.emit("model-loaded",{format:"obj",model:e})})});a.load(t,function(e){var t=i.components.material;t&&e.traverse(function(e){e instanceof o.Mesh&&(e.material=t.material)}),n.model=e,i.setObject3D("mesh",e),i.emit("model-loaded",{format:"obj",model:e})})}})},{"../core/component":102,"../lib/three":150,"../utils/debug":168}],68:[function(e,t,n){var i=e("../utils/bind"),r=e("../core/component").registerComponent,a=e("../utils/tracked-controls"),o=e("../lib/three"),s=a.onButtonEvent,u=new o.Vector3(0,0,-.053),l={left:{origin:{x:.008,y:-.008,z:0},direction:{x:0,y:-.8,z:-1}},right:{origin:{x:-.008,y:-.008,z:0},direction:{x:0,y:-.8,z:-1}}};t.exports.Component=r("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:{left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var t=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(e){s(e.detail.id,"down",t,t.data.hand)},this.onButtonUp=function(e){s(e.detail.id,"up",t,t.data.hand)},this.onButtonTouchStart=function(e){s(e.detail.id,"touchstart",t,t.data.hand)},this.onButtonTouchEnd=function(e){s(e.detail.id,"touchend",t,t.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.emitIfAxesChanged=a.emitIfAxesChanged,this.checkControllerPresentAndSetup=a.checkControllerPresentAndSetup},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,"Oculus Touch",{hand:this.data.hand})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){var e,t;this.data.model&&("right"===this.data.hand?(e="url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-right.obj)",t="url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-right.mtl)"):(e="url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-left.obj)",t="url(https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-left.mtl)"),this.el.setAttribute("obj-model",{obj:e,mtl:t}))},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{id:"right"===e.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",controller:0,orientationOffset:e.orientationOffset}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id],i=this.buttonMeshes;n&&("trigger"!==n&&"grip"!==n||(t=e.detail.state.value),i&&("trigger"===n&&i.trigger&&(i.trigger.rotation.x=-t*(Math.PI/24)),"grip"===n&&i.grip&&(i.grip.rotation.y=("left"===this.data.hand?-1:1)*t*(Math.PI/60))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t,n=e.detail.model;if(this.data.model){var i="left"===this.data.hand;(t=this.buttonMeshes={}).grip=n.getObjectByName(i?"buttonHand_oculus-touch-controller-left.004":"buttonHand_oculus-touch-controller-right.005"),t.thumbstick=n.getObjectByName(i?"stick_oculus-touch-controller-left.007":"stick_oculus-touch-controller-right.004"),t.trigger=n.getObjectByName(i?"buttonTrigger_oculus-touch-controller-left.005":"buttonTrigger_oculus-touch-controller-right.006"),t.xbutton=n.getObjectByName("buttonX_oculus-touch-controller-left.002"),t.abutton=n.getObjectByName("buttonA_oculus-touch-controller-right.002"),t.ybutton=n.getObjectByName("buttonY_oculus-touch-controller-left.001"),t.bbutton=n.getObjectByName("buttonB_oculus-touch-controller-right.003"),n.position.copy(u),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:l[this.data.hand]})}},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping[this.data.hand].axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n="up"===t||"touchend"===t?this.data.buttonColor:"touchstart"===t?this.data.buttonTouchColor:this.data.buttonHighlightColor,i=this.buttonMeshes;this.data.model&&i&&i[e]&&i[e].material.color.set(n)}})},{"../core/component":102,"../lib/three":150,"../utils/bind":166,"../utils/tracked-controls":178}],69:[function(e,t,n){var i=e("../core/component").registerComponent;t.exports.Component=i("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},{"../core/component":102}],70:[function(e,t,n){var r,i,a,o=e("../core/component").registerComponent,s=e("../lib/three"),u=e("../utils/").debug("components:raycaster:warn"),l=/^[\w\s-.,[\]#]*$/,c={childList:!0,attributes:!0,subtree:!0};t.exports.Component=o("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},recursive:{default:!0},showLine:{default:!1},useWorldCoordinates:{default:!1}},init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new s.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new s.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new s.Vector3,this.otherLineEndVec3=new s.Vector3,this.lineData={end:this.lineEndVec3},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(e){var t=this.data,n=this.el,i=this.raycaster;i.far=t.far,i.near=t.near,!t.showLine||t.far===e.far&&t.origin===e.origin&&t.direction===e.direction&&e.showLine||(this.unitLineEndVec3.copy(t.origin).add(t.direction).normalize(),this.drawLine()),!t.showLine&&e.showLine&&n.removeAttribute("line"),t.objects===e.objects||l.test(t.objects)||u('Selector "'+t.objects+'" may not update automatically with DOM changes.'),t.autoRefresh!==e.autoRefresh&&n.isPlaying&&(t.autoRefresh?this.addEventListeners():this.removeEventListeners()),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line")},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,c),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var e,t=this.data;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.children,this.objects=this.flattenChildrenShallow(e),this.dirty=!1},tick:function(e){var t=this.data,n=this.prevCheckTime;n&&e-n<t.interval||(this.prevCheckTime=e,this.checkIntersections())},checkIntersections:function(){var e,t,n,i=this.clearedIntersectedEls,r=this.el,a=this.data,o=this.intersectedEls,s=this.intersections,u=this.newIntersectedEls,l=this.newIntersections,c=this.prevIntersectedEls,d=this.rawIntersections,h=this;if(this.data.enabled){for(this.dirty&&this.refreshObjects(),function(e,t){var n;for(e.length=t.length,n=0;n<t.length;n++)e[n]=t[n]}(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),d.length=0,this.raycaster.intersectObjects(this.objects,a.recursive,d),s.length=0,e=o.length=0;e<d.length;e++)t=d[e],a.showLine&&t.object===r.getObject3D("line")||t.object.el&&(s.push(t),o.push(t.object.el));for(l.length=0,e=u.length=0;e<s.length;e++)-1===c.indexOf(s[e].object.el)&&(l.push(s[e]),u.push(s[e].object.el));for(e=i.length=0;e<c.length;e++)-1===o.indexOf(c[e])&&(c[e].emit("raycaster-intersected-cleared",this.intersectedClearedDetail),i.push(c[e]));for(i.length&&r.emit("raycaster-intersection-cleared",this.intersectionClearedDetail),e=0;e<u.length;e++)u[e].emit("raycaster-intersected",{el:r,intersection:l[e]});l.length&&(this.intersectionDetail.els=u,this.intersectionDetail.intersections=l,r.emit("raycaster-intersection",this.intersectionDetail)),setTimeout(function(){h.data.showLine&&(s.length&&(n=s[0].object.el===r&&s[1]?s[1].distance:s[0].distance),h.drawLine(n))})}},getIntersection:function(e){var t,n;for(t=0;t<this.intersections.length;t++)if((n=this.intersections[t]).object.el===e)return n;return null},updateOriginDirection:(i=new s.Vector3,a=new s.Vector3,function(){var e=this.el,t=this.data;t.useWorldCoordinates?this.raycaster.set(t.origin,t.direction):(e.object3D.updateMatrixWorld(),e.object3D.getWorldPosition(a),0===t.origin.x&&0===t.origin.y&&0===t.origin.z||(a=e.object3D.localToWorld(a.copy(t.origin))),i.copy(t.direction).transformDirection(e.object3D.matrixWorld).normalize(),this.raycaster.set(a,i))}),drawLine:function(e){var t,n=this.data,i=this.el;t=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===e&&(e=n.far===1/0?1e3:n.far),this.lineData.start=n.origin,this.lineData.end=t.copy(this.unitLineEndVec3).multiplyScalar(e),i.setAttribute("line",this.lineData)},flattenChildrenShallow:(r=[],function(e){var t,n,i=this.objects;for(n=r.length=0;n<e.length;n++)e[n].object3D&&r.push(e[n].object3D);for(n=i.length=0;n<r.length;n++)(t=r[n].children)&&t.length&&i.push.apply(i,t);return i})})},{"../core/component":102,"../lib/three":150,"../utils/":172}],71:[function(e,t,n){var i=e("../lib/three").Math.degToRad,r=e("../core/component").registerComponent;t.exports.Component=r("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,t=this.el.object3D;t.rotation.set(i(e.x),i(e.y),i(e.z)),t.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},{"../core/component":102,"../lib/three":150}],72:[function(e,t,n){var i=e("../core/component").registerComponent;t.exports.Component=i("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data,t=this.el.object3D,n=0===e.x?1e-5:e.x,i=0===e.y?1e-5:e.y,r=0===e.z?1e-5:e.z;t.scale.set(n,i,r)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},{"../core/component":102}],73:[function(e,t,n){var i=e("../../core/component").registerComponent;t.exports.Component=i("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var e=this.data,t=this.el.object3D;e.transparent?t.background=null:t.background=new THREE.Color(e.color)}})},{"../../core/component":102}],74:[function(e,t,n){var i=e("../../core/component").registerComponent;t.exports.Component=i("debug",{schema:{default:!0}})},{"../../core/component":102}],75:[function(e,t,n){var i=e("../../core/component").registerComponent;t.exports.Component=i("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var e=this.el,t=e.querySelector(".a-enter-vr");!0===this.data?(t&&t.classList.add("embedded"),e.removeFullScreenStyles()):(t&&t.classList.remove("embedded"),e.addFullScreenStyles())}})},{"../../core/component":102}],76:[function(e,t,n){var i=e("../../core/component").registerComponent,r=e("../../lib/three"),a=e("../../utils/debug")("components:fog:warn");t.exports.Component=i("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var n=this.data,e=this.el,i=this.el.object3D.fog;if(e.isScene)return i&&n.type===i.name?void Object.keys(this.schema).forEach(function(e){var t=n[e];"color"===e&&(t=new r.Color(t)),i[e]=t}):(e.object3D.fog=function(e){var t;t="exponential"===e.type?new r.FogExp2(e.color,e.density):new r.Fog(e.color,e.near,e.far);return t.name=e.type,t}(n),void e.systems.material.updateMaterials());a("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.far=0,e.near=.1)}})},{"../../core/component":102,"../../lib/three":150,"../../utils/debug":168}],77:[function(l,c,e){(function(e){var n=l("../../constants").AFRAME_INJECTED,t=l("../../utils/bind"),i=l("../../../package"),r=l("../../core/component").registerComponent;var a,o,s="https://unpkg.com/aframe-inspector@"+(a=i.version,(o=a.split("."))[2]="x",o.join("."))+"/dist/aframe-inspector.min.js",u="dev"===e.env.INSPECTOR_VERSION?"https://aframe.io/aframe-inspector/dist/aframe-inspector.js":s;c.exports.Component=r("inspector",{schema:{url:{default:u}},init:function(){this.onKeydown=t(this.onKeydown,this),this.onMessage=t(this.onMessage,this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(e){var t=73===e.keyCode&&e.ctrlKey&&e.altKey;this.data&&t&&this.injectInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.injectInspector()},injectInspector:function(){var e,t=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected||(this.showLoader(),(e=document.createElement("script")).src=this.data.url,e.setAttribute("data-name","aframe-inspector"),e.setAttribute(n,""),e.onload=function(){AFRAME.INSPECTOR.open(),t.hideLoader(),t.removeEventListeners()},e.onerror=function(){t.loadingMessageEl.innerHTML="Error loading Inspector"},document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,l("_process"))},{"../../../package":51,"../../constants":93,"../../core/component":102,"../../utils/bind":166,_process:6}],78:[function(e,t,n){var i=e("../../core/component").registerComponent,r=e("../../utils/").shouldCaptureKeyEvent;t.exports.Component=i("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(e){var t=this.el;r(e)&&(this.enterVREnabled&&70===e.keyCode&&t.enterVR(),this.enterVREnabled&&27===e.keyCode&&t.exitVR())}})},{"../../core/component":102,"../../utils/":172}],79:[function(e,t,n){var i=e("../../utils/debug"),r=e("../../core/component").registerComponent,a=i("components:pool:warn");t.exports.Component=r("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var e;for(this.availableEls=[],this.usedEls=[],this.data.mixin||a("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||a("Container "+this.data.container+" not found.")),this.container=this.container||this.el,e=0;e<this.data.size;++e)this.createEntity()},update:function(e){var t=this.data;e.mixin===t.mixin&&e.size===t.size||this.initPool()},createEntity:function(){var e;(e=document.createElement("a-entity")).play=this.wrapPlay(e.play),e.setAttribute("mixin",this.data.mixin),e.object3D.visible=!1,e.pause(),this.container.appendChild(e),this.availableEls.push(e)},wrapPlay:function(e){var t=this.usedEls;return function(){-1!==t.indexOf(this)&&e.call(this)}},requestEntity:function(){var e;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void a("Requested entity from empty pool: "+this.name);a("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.name),this.createEntity()}return e=this.availableEls.shift(),this.usedEls.push(e),e.object3D.visible=!0,e},returnEntity:function(e){var t=this.usedEls.indexOf(e);if(-1!==t)return this.usedEls.splice(t,1),this.availableEls.push(e),e.object3D.visible=!1,e.pause(),e;a("The returned entity was not previously pooled from "+this.name)}})},{"../../core/component":102,"../../utils/debug":168}],80:[function(e,t,n){var i=e("../../core/component").registerComponent,a=e("../../utils/debug")("components:renderer:warn");t.exports.Component=i("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},gammaOutput:{default:!1},physicallyCorrectLights:{default:!1},sortObjects:{default:!1}},init:function(){this.el.isScene||a("Renderer component can only be applied to <a-scene>")},update:function(e){var t=this.data,n=this.el,i=n.renderer,r=!1;0<n.time&&t.antialias!==e.antialias&&a('Property "antialias" cannot be changed after scene initialization'),t.sortObjects!==e.sortObjects&&(i.sortObjects=t.sortObjects),t.gammaOutput!==e.gammaOutput&&(i.gammaOutput=t.gammaOutput,r=!0),t.physicallyCorrectLights!==e.physicallyCorrectLights&&(i.physicallyCorrectLights=t.physicallyCorrectLights,r=!0),r&&0!==n.time&&(a("Modifying renderer properties at runtime requires shader update and may drop frames."),n.object3D.traverse(function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach(function(e){e.needsUpdate=!0}):e.material.needsUpdate=!0)}))}})},{"../../core/component":102,"../../utils/debug":168}],81:[function(e,t,n){var i=e("../../core/component").registerComponent,a=e("../../lib/three"),r=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),o=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");t.exports.Component=i("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var t=this.el,n=this;function e(){var e=t.renderer.getContext();e&&(n.cubeMapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),n.material=new a.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:r,fragmentShader:o,side:a.DoubleSide}),n.quad=new a.Mesh(new a.PlaneBufferGeometry(1,1),n.material),n.quad.visible=!1,n.camera=new a.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),n.canvas=document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),t.camera&&t.camera.add(n.quad),n.onKeyDown=n.onKeyDown.bind(n),n.onCameraActive=n.onCameraActive.bind(n),t.addEventListener("camera-set-active",n.onCameraActive))}t.renderer?e():t.addEventListener("render-target-loaded",e)},getRenderTarget:function(e,t){return new a.WebGLRenderTarget(e,t,{minFilter:a.LinearFilter,magFilter:a.LinearFilter,wrapS:a.ClampToEdgeWrapping,wrapT:a.ClampToEdgeWrapping,format:a.RGBAFormat,type:a.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onCameraActive:function(e){var t=this.quad.parent;t&&t.remove(this.quad),e.detail.cameraEl.getObject3D("camera").add(this.quad)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var n=e.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(e){var t,n,i,r=this.el;return"perspective"===e?(this.quad.visible=!1,n=this.data.camera&&this.data.camera.components.camera.camera||r.camera,t={width:this.data.width,height:this.data.height}):((n=this.camera).position.copy(r.camera.getWorldPosition()),n.rotation.copy(r.camera.getWorldRotation()),(i=new a.CubeCamera(r.camera.near,r.camera.far,Math.min(this.cubeMapSize,2048))).position.copy(r.camera.getWorldPosition()),i.rotation.copy(r.camera.getWorldRotation()),i.updateCubeMap(r.renderer,r.object3D),this.quad.material.uniforms.map.value=i.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:t,projection:e}},capture:function(e){var t=this.setCapture(e);this.renderCapture(t.camera,t.size,t.projection),this.saveCapture()},getCanvas:function(e){var t=this.setCapture(e);return this.renderCapture(t.camera,t.size,t.projection),this.canvas},renderCapture:function(e,t,n){var i,r,a,o=this.el.renderer.autoClear,s=this.el,u=this.el.renderer;r=this.getRenderTarget(t.width,t.height),a=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),u.autoClear=!0,u.render(s.object3D,e,r,!0),u.autoClear=o,u.readRenderTargetPixels(r,0,0,t.width,t.height,a),"perspective"===n&&(a=this.flipPixelsVertically(a,t.width,t.height)),i=new ImageData(new Uint8ClampedArray(a),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(i,0,0)},flipPixelsVertically:function(e,t,n){for(var i=e.slice(0),r=0;r<t;++r)for(var a=0;a<n;++a)i[4*r+a*t*4]=e[4*r+(n-a)*t*4],i[4*r+1+a*t*4]=e[4*r+1+(n-a)*t*4],i[4*r+2+a*t*4]=e[4*r+2+(n-a)*t*4],i[4*r+3+a*t*4]=e[4*r+3+(n-a)*t*4];return i},saveCapture:function(){this.canvas.toBlob(function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),i=URL.createObjectURL(e);n.href=i,n.setAttribute("download",t),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n)},1)},"image/png")}})},{"../../core/component":102,"../../lib/three":150}],82:[function(e,t,n){var i=e("../../core/component").registerComponent,a=e("../../../vendor/rStats"),o=e("../../utils");e("../../../vendor/rStats.extras"),e("../../lib/rStatsAframe");var s=window.aframeStats,u=o.bind,l=window.threeStats;t.exports.Component=i("stats",{schema:{default:!0},init:function(){var e,t,n,i,r=this.el;"false"!==o.getUrlParameter("stats")&&(this.stats=(t=new l((e=r).renderer),n=new s(e),i=e.isMobile?[]:[t,n],new a({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:i})),this.statsEl=document.querySelector(".rs-base"),this.hideBound=u(this.hide,this),this.showBound=u(this.show,this),r.addEventListener("enter-vr",this.hideBound),r.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e&&(e("rAF").tick(),e("FPS").frame(),e().update())},hide:function(){this.statsEl.classList.add("a-hidden")},show:function(){this.statsEl.classList.remove("a-hidden")}})},{"../../../vendor/rStats":180,"../../../vendor/rStats.extras":179,"../../core/component":102,"../../lib/rStatsAframe":149,"../../utils":172}],83:[function(e,t,n){var i=e("../../core/component").registerComponent,r=e("../../constants/"),a=e("../../utils/"),o=a.bind,s="a-hidden";t.exports.Component=i("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0}},init:function(){var t=this,e=this.el;"false"!==a.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,this.bindMethods(),e.addEventListener("enter-vr",this.updateEnterVRInterface),e.addEventListener("exit-vr",this.updateEnterVRInterface),window.addEventListener("message",function(e){"loaderReady"===e.data.type&&(t.insideLoader=!0,t.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=o(this.onEnterVRButtonClick,this),this.onModalClick=o(this.onModalClick,this),this.toggleOrientationModalIfNeeded=o(this.toggleOrientationModalIfNeeded,this),this.updateEnterVRInterface=o(this.updateEnterVRInterface,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},update:function(){var t,e,n,i=this.el;if(!this.data.enabled||this.insideLoader||"false"===a.getUrlParameter("ui"))return this.remove();this.enterVREl||this.orientationModalEl||(this.enterVREl=(t=this.onEnterVRButtonClick,(n=document.createElement("div")).classList.add("a-enter-vr"),n.setAttribute(r.AFRAME_INJECTED,""),(e=document.createElement("button")).className="a-enter-vr-button",e.setAttribute("title","Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information."),e.setAttribute(r.AFRAME_INJECTED,""),n.appendChild(e),e.addEventListener("click",function(e){t(),e.stopPropagation()}),n),i.appendChild(this.enterVREl),this.orientationModalEl=function(e){var t=document.createElement("div");t.className="a-orientation-modal",t.classList.add(s),t.setAttribute(r.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(r.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",e),t.appendChild(n),t}(this.onModalClick),i.appendChild(this.orientationModalEl),this.updateEnterVRInterface())},remove:function(){[this.enterVREl,this.orientationModalEl].forEach(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is("vr-mode")?this.enterVREl.classList.add(s):this.enterVREl.classList.remove(s))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!a.device.isLandscape()&&e.is("vr-mode")?t.classList.remove(s):t.classList.add(s))}})},{"../../constants/":93,"../../core/component":102,"../../utils/":172}],84:[function(e,t,n){var i=e("../core/component"),o=e("../lib/three"),r=e("../utils/bind"),a=i.registerComponent;t.exports.Component=a("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=r(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var e=this.data;this.updateDescendants(e.cast,e.receive)},remove:function(){this.el.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(i,r){var a=this.el.sceneEl;this.el.object3D.traverse(function(e){if(e instanceof o.Mesh&&(e.castShadow=i,e.receiveShadow=r,a.hasLoaded&&e.material))for(var t=Array.isArray(e.material)?e.material:[e.material],n=0;n<t.length;n++)t[n].needsUpdate=!0})}})},{"../core/component":102,"../lib/three":150,"../utils/bind":166}],85:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/debug"),a=e("../utils/bind"),o=e("../lib/three"),s=r("components:sound:warn");t.exports.Component=i("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){this.listener=null,this.audioLoader=new o.AudioLoader,this.pool=new o.Group,this.loaded=!1,this.mustPlay=!1,this.playSound=a(this.playSound,this)},update:function(e){var n=this.data,t=n.src!==e.src;if(t){if(!n.src)return void s("Audio source was not specified with `src`");this.setupSound()}if(this.pool.children.forEach(function(e){n.positional&&(e.setDistanceModel(n.distanceModel),e.setMaxDistance(n.maxDistance),e.setRefDistance(n.refDistance),e.setRolloffFactor(n.rolloffFactor)),e.setLoop(n.loop),e.setVolume(n.volume),e.isPaused=!1}),n.on!==e.on&&this.updateEventListener(e.on),t){var i=this;this.loaded=!1,this.audioLoader.load(n.src,function(t){i.pool.children.forEach(function(e){e.setBuffer(t)}),i.loaded=!0,o.Cache.remove(n.src),(i.data.autoplay||i.mustPlay)&&i.playSound(),i.el.emit("sound-loaded",i.evtDetail)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){this.removeEventListener(),this.el.removeObject3D(this.attrName);try{this.pool.children.forEach(function(e){e.disconnect()})}catch(e){s("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSound),t.addEventListener(this.data.on,this.playSound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSound)},setupSound:function(){var t=this,n=this.el,e=n.sceneEl;0<this.pool.children.length&&(this.stopSound(),n.removeObject3D("sound"));var i=this.listener=e.audioListener||new o.AudioListener;e.audioListener=i,e.camera&&e.camera.add(i),e.addEventListener("camera-set-active",function(e){e.detail.cameraEl.getObject3D("camera").add(i)}),this.pool=new o.Group;for(var r=0;r<this.data.poolSize;r++){var a=this.data.positional?new o.PositionalAudio(i):new o.Audio(i);this.pool.add(a)}n.setObject3D(this.attrName,this.pool),this.pool.children.forEach(function(e){e.onEnded=function(){e.isPlaying=!1,n.emit("sound-ended",t.evtDetail)}})},pauseSound:function(){this.isPlaying=!1,this.pool.children.forEach(function(e){e.source&&e.source.buffer&&e.isPlaying&&!e.isPaused&&(e.isPaused=!0,e.pause())})},playSound:function(){if(!this.loaded)return s("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);var t=!1;this.isPlaying=!0,this.pool.children.forEach(function(e){if(!e.isPlaying&&e.buffer&&!t)return e.play(),e.isPaused=!1,void(t=!0)}),t?this.mustPlay=!1:s("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){this.isPlaying=!1,this.pool.children.forEach(function(e){e.source&&e.source.buffer&&e.stop()})}})},{"../core/component":102,"../lib/three":150,"../utils/bind":166,"../utils/debug":168}],86:[function(e,t,n){var i=e("three-bmfont-text"),o=e("load-bmfont"),r=e("../core/component").registerComponent,a=e("../core/shader"),h=e("../lib/three"),s=e("../utils/"),p=s.debug("components:text:error"),c=a.shaders,m=s.debug("components:text:warn"),u="https://cdn.aframe.io/fonts/",d={aileronsemibold:u+"Aileron-Semibold.fnt",dejavu:u+"DejaVu-sdf.fnt",exo2bold:u+"Exo2Bold.fnt",exo2semibold:u+"Exo2SemiBold.fnt",kelsonsans:u+"KelsonSans.fnt",monoid:u+"Monoid.fnt",mozillavr:u+"mozillavr.fnt",roboto:u+"Roboto-msdf.json",sourcecodepro:u+"SourceCodePro.fnt"},f=["roboto"],g="roboto";t.exports.FONTS=d;var _=new function(){var n=this.cache={};this.get=function(e,t){return e in n||(n[e]=t()),n[e]}},y={},v={};function M(e){return void 0!==(e=s.clone(e)).lineHeight&&(e.lineHeight=parseFloat(e.lineHeight),isFinite(e.lineHeight)||(e.lineHeight=void 0)),void 0!==e.width&&(e.width=parseFloat(e.width),isFinite(e.width)||(e.width=void 0)),e}function A(e,t,n){return e||(.5+t)*n}t.exports.Component=r("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:g},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:c},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=i(),this.createOrUpdateMaterial(),this.mesh=new h.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(e){var t=M(this.data),n=this.currentFont,i=this.getFontImageSrc();v[i]?this.texture=v[i]:(this.texture=v[i]=new h.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),e.font===t.font?n&&(this.updateGeometry(this.geometry,t,n),this.updateLayout(t)):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var e,t,n,i,r,a,o,s=this.data,u=this.material,l=this.shaderData;if(n=s.shader,-1!==f.indexOf(s.font)||0<=s.font.indexOf("-msdf.")?n="msdf":s.font in d&&-1===f.indexOf(s.font)&&(n="sdf"),e=(this.shaderObject&&this.shaderObject.name)!==n,l.alphaTest=s.alphaTest,l.color=s.color,l.map=this.texture,l.opacity=s.opacity,l.side=function(e){switch(e){case"back":return h.FrontSide;case"double":return h.DoubleSide;default:return h.BackSide}}(s.side),l.transparent=s.transparent,l.negate=s.negate,!e)return this.shaderObject.update(l),u.transparent=l.transparent,void(u.side=l.side);i=this.el,r=l,(o=new c[n].Shader).el=i,o.init(r),o.update(r),(a=o.material).transparent=r.transparent,t={material:a,shader:o},this.material=t.material,this.shaderObject=t.shader,this.material.side=l.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var s,u=this.data,l=this.el,c=this.geometry,d=this;u.font||m("No font specified. Using the default font."),this.mesh.visible=!1,s=this.lookupFont(u.font||g)||u.font,_.get(s,function(){return r=s,a=u.yOffset,new Promise(function(n,i){o(r,function(e,t){if(e)return p("Error loading font",r),void i(e);0<=r.indexOf("/Roboto-msdf.json")&&(a=30),a&&t.chars.map(function(e){e.yoffset+=a}),n(t)})});var r,a}).then(function(n){var e,i,t,r,a,o;if(1!==n.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");y[s]||(n.widthFactor=y[n]=(o=a=r=0,(t=n).chars.map(function(e){r+=e.xadvance,48<=e.id&&e.id<=57&&(o++,a+=e.xadvance)}),o?a/o:r/t.chars.length)),e=M(u),d.updateGeometry(c,d.data,n),d.currentFont=n,d.updateLayout(e),i=d.getFontImageSrc(),_.get(i,function(){return n=i,new Promise(function(t,e){(new h.ImageLoader).load(n,function(e){t(e)},void 0,function(){p("Error loading font image",n),e(null)})});var n}).then(function(e){var t=d.texture;t.image=e,t.needsUpdate=!0,v[i]=t,d.texture=t,d.mesh.visible=!0,l.emit("textfontset",{font:u.font,fontObj:n})}).catch(function(e){throw p(e),e})}).catch(function(e){throw p(e),e})},getFontImageSrc:function(){var e=this.lookupFont(this.data.font||g)||this.data.font;return this.data.fontImage||e.replace(/(\.fnt)|(\.json)/,".png")},updateLayout:function(e){var t,n,i,r,a,o,s,u=this.el,l=this.geometry,c=u.getAttribute("geometry"),d=l.layout,h=this.mesh;if(c=u.getAttribute("geometry"),i=(r=(a=e.width||c&&c.width||1)/A(e.wrapPixels,e.wrapCount,this.currentFont.widthFactor))*(d.height+d.descender),c&&(c.width||u.setAttribute("geometry","width",a),c.height||u.setAttribute("geometry","height",i)),"left"===(t="align"===e.anchor?e.align:e.anchor))o=0;else if("right"===t)o=-1*d.width;else{if("center"!==t)throw new TypeError("Invalid text.anchor property value",t);o=-1*d.width/2}if("bottom"===(n=e.baseline))s=0;else if("top"===n)s=-1*d.height+d.ascender;else{if("center"!==n)throw new TypeError("Invalid text.baseline property value",n);s=-1*d.height/2}h.position.x=o*r+e.xOffset,h.position.y=s*r,h.position.z=e.zOffset,h.scale.set(r,-1*r,r),this.geometry.computeBoundingSphere()},lookupFont:function(e){return d[e]},updateGeometry:function(e,t,n){e.update(s.extend({},t,{font:n,width:A(t.wrapPixels,t.wrapCount,n.widthFactor),text:t.value.toString().replace(/\\n/g,"\n").replace(/\\t/g,"\t"),lineHeight:t.lineHeight||n.common.lineHeight}))}})},{"../core/component":102,"../core/shader":111,"../lib/three":150,"../utils/":172,"load-bmfont":24,"three-bmfont-text":36}],87:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/tracked-controls"),a=e("../constants").DEFAULT_CAMERA_HEIGHT,o=e("../lib/three"),l=e("../constants").DEFAULT_HANDEDNESS,c=.175,d=-.3,h=-.03,p=0,m=0,f=-.175;t.exports.Component=i("tracked-controls",{schema:{controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!0},headElement:{type:"selector"}},init:function(){this.axis=[0,0,0],this.buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new o.Vector3,this.controllerQuaternion=new o.Quaternion,this.controllerEuler=new o.Euler,this.updateGamepad(),this.el.object3D.matrixAutoUpdate=!1},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.update&&n.update(t/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return a},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var e=this.data,t=r.findMatchingController(this.system.controllers,e.id,e.idPrefix,e.hand,e.controller);this.controller=t},applyArmModel:function(e){var t,n,i,r,a=this.controller,o=this.controllerEuler,s=this.controllerQuaternion,u=this.deltaControllerPosition;n=this.getHeadElement().object3D,r=this.defaultUserHeight(),i=a.pose,t=(a?a.hand:void 0)||l,e.copy(n.position),u.set(c*("left"===t?-1:"right"===t?1:0),d,h),u.multiplyScalar(r),u.applyAxisAngle(n.up,n.rotation.y),e.add(u),u.set(p,m,f),u.multiplyScalar(r),i.orientation?s.fromArray(i.orientation):s.copy(n.quaternion),o.setFromQuaternion(s),o.set(o.x,o.y,0),u.applyEuler(o),e.add(u)},updatePose:function(){var e,t,n=this.controller,i=this.data,r=this.el.object3D,a=this.system.vrDisplay;n&&((e=n.pose).position?r.position.fromArray(e.position):i.armModel&&this.applyArmModel(r.position),e.orientation&&r.quaternion.fromArray(e.orientation),a&&e.position&&(t=this.el.sceneEl.renderer.vr.getStandingMatrix(),r.matrixAutoUpdate=!1,r.matrix.compose(r.position,r.quaternion,r.scale),r.matrix.multiplyMatrices(t,r.matrix),r.matrix.decompose(r.position,r.quaternion,r.scale)),r.rotateX(this.data.orientationOffset.x*o.Math.DEG2RAD),r.rotateY(this.data.orientationOffset.y*o.Math.DEG2RAD),r.rotateZ(this.data.orientationOffset.z*o.Math.DEG2RAD),r.updateMatrix(),r.matrixWorldNeedsUpdate=!0)},updateButtons:function(){var e,t,n=this.controller;if(n){for(t=0;t<n.buttons.length;++t)this.buttonStates[t]||(this.buttonStates[t]={pressed:!1,touched:!1,value:0}),e=n.buttons[t],this.handleButton(t,e);this.handleAxes()}},handleButton:function(e,t){return!!(this.handlePress(e,t)|this.handleTouch(e,t)|this.handleValue(e,t))&&(this.el.emit("buttonchanged",{id:e,state:t}),!0)},handleAxes:function(){var e,t=!1,n=this.controller.axes,i=this.axis,r=this.changedAxes;for(e=this.changedAxes.length=0;e<n.length;++e)r.push(i[e]!==n[e]),r[e]&&(t=!0);if(!t)return!1;for(e=this.axis.length=0;e<n.length;e++)this.axis.push(n[e]);return this.el.emit("axismove",this.axisMoveEventDetail),!0},handlePress:function(e,t){var n,i=this.buttonStates[e];return t.pressed!==i.pressed&&(n=t.pressed?"down":"up",this.el.emit("button"+n,{id:e,state:t}),i.pressed=t.pressed,!0)},handleTouch:function(e,t){var n,i=this.buttonStates[e];return t.touched!==i.touched&&(n=t.touched?"start":"end",this.el.emit("touch"+n,{id:e,state:t},!0,{touches:[]}),i.touched=t.touched,!0)},handleValue:function(e,t){var n=this.buttonStates[e];return t.value!==n.value&&(n.value=t.value,!0)}})},{"../constants":93,"../core/component":102,"../lib/three":150,"../utils/tracked-controls":178}],88:[function(e,t,n){var i=e("../core/component").registerComponent;t.exports.Component=i("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":102}],89:[function(e,t,n){var i=e("../core/component").registerComponent,r=e("../utils/").bind,a=e("../utils/tracked-controls"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent;t.exports.Component=i("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},init:function(){var t=this;this.animationActive="pointing",this.checkControllerPresentAndSetup=o,this.controllerPresent=!1,this.emitIfAxesChanged=s,this.lastControllerCheck=0,this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){u(e.detail.id,"down",t)},this.onButtonUp=function(e){u(e.detail.id,"up",t)},this.onButtonTouchEnd=function(e){u(e.detail.id,"touchend",t)},this.onButtonTouchStart=function(e){u(e.detail.id,"touchstart",t)},this.onAxisMoved=r(this.onAxisMoved,this),this.previousButtonValues={},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data,t="right"===e.hand?0:"left"===e.hand?1:2;this.checkControllerPresentAndSetup(this,"OpenVR ",{index:t})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:"OpenVR ",controller:"right"===t.hand?0:"left"===t.hand?1:2,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",mtl:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id],i=this.buttonMeshes;n&&("trigger"===n&&(t=e.detail.state.value,i&&i.trigger&&(i.trigger.rotation.x=-t*(Math.PI/12))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t,n=e.detail.model,i=this;this.data.model&&((t=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},t.menu=n.getObjectByName("menubutton"),t.system=n.getObjectByName("systembutton"),t.trackpad=n.getObjectByName("touchpad"),t.trigger=n.getObjectByName("trigger"),Object.keys(t).forEach(function(e){i.setButtonColor(e,i.data.buttonColor)}),n.position.set(0,-.015,.04))},onAxisMoved:function(e){this.emitIfAxesChanged(this,this.mapping.axes,e)},updateModel:function(e,t){var n;this.data.model&&(-1!==t.indexOf("touch")||(n="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(e,n)))},setButtonColor:function(e,t){var n=this.buttonMeshes;if(n)return"grip"===e?(n.grip.left.material.color.set(t),void n.grip.right.material.color.set(t)):void n[e].material.color.set(t)}})},{"../core/component":102,"../utils/":172,"../utils/tracked-controls":178}],90:[function(e,t,n){var r,a,i=e("../constants").keyboardevent.KEYCODE_TO_CODE,o=e("../core/component").registerComponent,s=e("../lib/three"),u=e("../utils/"),l=u.bind,c=u.shouldCaptureKeyEvent,d=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];t.exports.Component=o("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},easing:{default:20},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.position={},this.velocity=new s.Vector3,this.onBlur=l(this.onBlur,this),this.onFocus=l(this.onFocus,this),this.onKeyDown=l(this.onKeyDown,this),this.onKeyUp=l(this.onKeyUp,this),this.onVisibilityChange=l(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var n,i,r=this.data,a=this.el,o=this.position,s=this.velocity;(s[r.adAxis]||s[r.wsAxis]||!function(e){var t;for(t in e)return!1;return!0}(this.keys))&&(t/=1e3,this.updateVelocity(t),(s[r.adAxis]||s[r.wsAxis])&&(n=a.getAttribute("position"),i=this.getMovementVector(t),o.x=n.x+i.x,o.y=n.y+i.y,o.z=n.z+i.z,a.setAttribute("position",o)))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,n,i,r,a,o=this.data,s=this.keys,u=this.velocity;if(n=o.adAxis,r=o.wsAxis,.2<e)return u[n]=0,void(u[r]=0);0!==u[n]&&(u[n]-=u[n]*o.easing*e),0!==u[r]&&(u[r]-=u[r]*o.easing*e),Math.abs(u[n])<1e-5&&(u[n]=0),Math.abs(u[r])<1e-5&&(u[r]=0),o.enabled&&(t=o.acceleration,o.adEnabled&&(i=o.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(u[n]-=i*t*e),(s.KeyD||s.ArrowRight)&&(u[n]+=i*t*e)),o.wsEnabled&&(a=o.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(u[r]-=a*t*e),(s.KeyS||s.ArrowDown)&&(u[r]+=a*t*e)))},getMovementVector:(r=new s.Vector3(0,0,0),a=new s.Euler(0,0,0,"YXZ"),function(e){var t,n=this.el.getAttribute("rotation"),i=this.velocity;return r.copy(i),r.multiplyScalar(e),n&&(t=this.data.fly?n.x:0,a.set(s.Math.degToRad(t),s.Math.degToRad(n.y),0),r.applyEuler(a)),r}),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;c(e)&&(t=e.code||i[e.keyCode],-1!==d.indexOf(t)&&(this.keys[t]=!0))},onKeyUp:function(e){var t;t=e.code||i[e.keyCode],delete this.keys[t]}})},{"../constants":93,"../core/component":102,"../lib/three":150,"../utils/":172}],91:[function(e,t,n){var o,s,i,r=e("../utils/bind"),a=e("../core/component").registerComponent,u=e("../utils/tracked-controls"),l=u.onButtonEvent,c=e("../utils/"),d=c.debug("components:windows-motion-controls:debug"),h=c.debug("components:windows-motion-controls:warn"),p=e("../constants").DEFAULT_HANDEDNESS,m={left:"left.glb",right:"right.glb",default:"universal.glb"},f="Spatial Controller (Spatial Interaction Source) ",g=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/;t.exports.Component=a("windows-motion-controls",{schema:{hand:{default:p},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:{axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},bindMethods:function(){this.onModelError=r(this.onModelError,this),this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var t=this,e=this.el;this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(e){l(e.detail.id,"down",t)},this.onButtonUp=function(e){l(e.detail.id,"up",t)},this.onButtonTouchStart=function(e){l(e.detail.id,"touchstart",t)},this.onButtonTouchEnd=function(e){l(e.detail.id,"touchend",t)},this.onControllerConnected=function(){t.setModelVisibility(!0)},this.onControllerDisconnected=function(){t.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},this.emitIfAxesChanged=u.emitIfAxesChanged,this.checkControllerPresentAndSetup=u.checkControllerPresentAndSetup,e.addEventListener("controllerconnected",this.onControllerConnected),e.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-error",this.onModelError),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-error",this.onModelError),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){this.checkControllerPresentAndSetup(this,f,{hand:this.data.hand,index:this.data.pair})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(this.data.model&&!this.rayOrigin.createdFromMesh){var e=this.createControllerModelUrl();this.loadModel(e)}else this.modelReady()},createControllerModelUrl:function(e){var t=this.el.components["tracked-controls"],n=t?t.controller:null,i="default",r=this.data.hand;if(n&&(r=n.hand,!e)){var a=n.id.match(g);i=a&&a[0]||i}return"https://cdn.aframe.io/controllers/microsoft/"+i+"/"+(m[r]||m.default)},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{idPrefix:f,controller:e.pair,hand:e.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(e){var t=this.createControllerModelUrl(!0);e.detail.src!==t?(h("Failed to load controller model for device, attempting to load default."),this.loadModel(t)):h("Failed to load default controller model.")},loadModel:function(e){this.el.setAttribute("gltf-model","url("+e+")")},onModelLoaded:function(e){var t,n,i,r,a=this.controllerModel=e.detail.model,o=this.loadedMeshInfo;if(d("Processing model"),o.buttonMeshes={},o.axisMeshes={},a){for(t=0;t<this.mapping.buttons.length;t++)(n=this.mapping.buttonMeshNames[this.mapping.buttons[t]])?(i=a.getObjectByName(n))?(r={index:t,value:s(i,"VALUE"),pressed:s(i,"PRESSED"),unpressed:s(i,"UNPRESSED")}).value&&r.pressed&&r.unpressed?o.buttonMeshes[this.mapping.buttons[t]]=r:h("Missing button submesh under mesh with name: "+n+"(VALUE: "+!!r.value+", PRESSED: "+!!r.pressed+", UNPRESSED:"+!!r.unpressed+")"):h("Missing button mesh with name: "+n):d("Skipping unknown button at index: "+t+" with mapped name: "+this.mapping.buttons[t]);for(t=0;t<this.mapping.axisMeshNames.length;t++)(n=this.mapping.axisMeshNames[t])?(i=a.getObjectByName(n))?(r={index:t,value:s(i,"VALUE"),min:s(i,"MIN"),max:s(i,"MAX")}).value&&r.min&&r.max?o.axisMeshes[t]=r:h("Missing axis submesh under mesh with name: "+n+"(VALUE: "+!!r.value+", MIN: "+!!r.min+", MAX:"+!!r.max+")"):h("Missing axis mesh with name: "+n):d("Skipping unknown axis at index: "+t);this.calculateRayOriginFromMesh(a),this.setModelVisibility()}function s(e,t){for(var n=0,i=e.children.length;n<i;n++){var r=e.children[n];if(r&&r.name===t)return r}}d("Model load complete.")},calculateRayOriginFromMesh:(i=new THREE.Quaternion,function(e){var t;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,t=e.getObjectByName(this.mapping.pointingPoseMeshName)){var n=e.parent;n&&(e.parent=null,e.updateMatrixWorld(!0),e.parent=n),t.getWorldPosition(this.rayOrigin.origin),t.getWorldQuaternion(i),this.rayOrigin.direction.applyQuaternion(i),n&&e.updateMatrixWorld(!0)}else d("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}),lerpAxisTransform:(s=new THREE.Quaternion,function(e,t){var n=this.loadedMeshInfo.axisMeshes[e];if(n){var i=n.min,r=n.max,a=n.value,o=.5*t+.5;a.setRotationFromQuaternion(s.copy(i.quaternion).slerp(r.quaternion,o)),a.position.lerpVectors(i.position,r.position,o)}}),lerpButtonTransform:(o=new THREE.Quaternion,function(e,t){var n=this.loadedMeshInfo.buttonMeshes[e];if(n){var i=n.unpressed,r=n.pressed,a=n.value;a.setRotationFromQuaternion(o.copy(i.quaternion).slerp(r.quaternion,t)),a.position.lerpVectors(i.position,r.position,t)}}),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(t,e.detail.state.value),this.el.emit(t+"changed",e.detail.state))},onAxisMoved:function(e){var t=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<t;n++)this.lerpAxisTransform(n,e.detail.axis[n]||0);this.emitIfAxesChanged(this,this.mapping.axes,e)},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");e=void 0!==e?e:this.modelVisible,this.modelVisible=e,t&&(t.visible=e)}})},{"../constants":93,"../core/component":102,"../utils/":172,"../utils/bind":166,"../utils/tracked-controls":178}],92:[function(e,t,n){var i=e("@tweenjs/tween.js"),r={alternate:"alternate",alternateReverse:"alternate-reverse",normal:"normal",reverse:"reverse"},a={linear:i.Easing.Linear.None,ease:i.Easing.Cubic.InOut,"ease-in":i.Easing.Cubic.In,"ease-out":i.Easing.Cubic.Out,"ease-in-out":i.Easing.Cubic.InOut,"ease-cubic":i.Easing.Cubic.In,"ease-in-cubic":i.Easing.Cubic.In,"ease-out-cubic":i.Easing.Cubic.Out,"ease-in-out-cubic":i.Easing.Cubic.InOut,"ease-quad":i.Easing.Quadratic.InOut,"ease-in-quad":i.Easing.Quadratic.In,"ease-out-quad":i.Easing.Quadratic.Out,"ease-in-out-quad":i.Easing.Quadratic.InOut,"ease-quart":i.Easing.Quartic.InOut,"ease-in-quart":i.Easing.Quartic.In,"ease-out-quart":i.Easing.Quartic.Out,"ease-in-out-quart":i.Easing.Quartic.InOut,"ease-quint":i.Easing.Quintic.InOut,"ease-in-quint":i.Easing.Quintic.In,"ease-out-quint":i.Easing.Quintic.Out,"ease-in-out-quint":i.Easing.Quintic.InOut,"ease-sine":i.Easing.Sinusoidal.InOut,"ease-in-sine":i.Easing.Sinusoidal.In,"ease-out-sine":i.Easing.Sinusoidal.Out,"ease-in-out-sine":i.Easing.Sinusoidal.InOut,"ease-expo":i.Easing.Exponential.InOut,"ease-in-expo":i.Easing.Exponential.In,"ease-out-expo":i.Easing.Exponential.Out,"ease-in-out-expo":i.Easing.Exponential.InOut,"ease-circ":i.Easing.Circular.InOut,"ease-in-circ":i.Easing.Circular.In,"ease-out-circ":i.Easing.Circular.Out,"ease-in-out-circ":i.Easing.Circular.InOut,"ease-elastic":i.Easing.Elastic.InOut,"ease-in-elastic":i.Easing.Elastic.In,"ease-out-elastic":i.Easing.Elastic.Out,"ease-in-out-elastic":i.Easing.Elastic.InOut,"ease-back":i.Easing.Back.InOut,"ease-in-back":i.Easing.Back.In,"ease-out-back":i.Easing.Back.Out,"ease-in-out-back":i.Easing.Back.InOut,"ease-bounce":i.Easing.Bounce.InOut,"ease-in-bounce":i.Easing.Bounce.In,"ease-out-bounce":i.Easing.Bounce.Out,"ease-in-out-bounce":i.Easing.Bounce.InOut},o={backwards:"backwards",both:"both",forwards:"forwards",none:"none"},s={attribute:"rotation",begin:"",end:"",delay:0,dur:1e3,easing:"ease",direction:r.normal,fill:o.forwards,from:void 0,repeat:0,to:void 0};t.exports.defaults=s,t.exports.directions=r,t.exports.easingFunctions=a,t.exports.fills=o,t.exports.repeats={indefinite:"indefinite"}},{"@tweenjs/tween.js":1}],93:[function(e,t,n){t.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",animation:e("./animation"),keyboardevent:e("./keyboardevent")}},{"./animation":92,"./keyboardevent":94}],94:[function(e,t,n){t.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],95:[function(e,t,n){var i=e("./a-node"),r=e("../constants/animation"),y=e("../utils/").coordinates,v=e("./schema").parseProperty,a=e("./a-register-element").registerElement,f=e("@tweenjs/tween.js"),M=e("../lib/three"),o=e("../utils/"),g=o.bind,A=o.entity.getComponentProperty,s=r.defaults,_=r.directions,b=r.easingFunctions,w=r.fills,x=r.repeats,E=y.isCoordinates,u=o.debug("core:a-animation:warn"),l=!1;function L(e){return o.extend({},e)}function T(t,n,e,i,r){var a,o,s,u,l,c,d,h,p,m=n.split("."),f={},g={};return 2===m.length?(c=m[0],d=m[1],h=t.components[c],(p=h&&h.schema)&&p[d]&&"color"===p[d].type?_():function(){u=m[0],s=m[1],(o=t.components[u])||(t.setAttribute(u,""),o=t.components[u]);a=o.schema,f[n]=void 0===e?A(t,n):e;f[n]=v(f[n],a[s]),g[n]=v(i,a[s]),l=function(e){n in e&&t.setAttribute(u,s,e[n])}}()):i&&E(i)?(f=e?y.parse(e):r,g=y.parse(i),l=function(e){t.setAttribute(n,e)}):-1!==["true","false"].indexOf(i)?function(){f[n]=void 0!==e&&D(e);f[n]=S(f[n]),g[n]=S(D(i)),l=function(e){t.setAttribute(n,!!e[n])}}():isNaN(i)?_():function(){f[n]=void 0===e?parseFloat(t.getAttribute(n)):parseFloat(e);g[n]=parseFloat(i),l=function(e){t.setAttribute(n,e[n])}}(),{from:f,partialSetAttribute:l,to:g};function _(){f=new M.Color(e||t.getAttribute(n)),g=new M.Color(i),l=function(e){1<m.length&&t.setAttribute(m[0],m[1],C(e)),t.setAttribute(n,C(e))}}}function D(e){return"true"===e}function S(e){return e?1:0}function C(r){return"#"+["r","g","b"].map(function(e){return i=r[e],t=Math.floor(255*Math.min(Math.abs(i),1)),1===(n=t.toString(16)).length?"0"+n:n;var t,n,i}).join("")}t.exports.AAnimation=a("a-animation",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.bindMethods(),this.isRunning=!1,this.partialSetAttribute=function(){},this.tween=null,l||(u("<a-animation> has been deprecated and will be replaced by the animation component: https://www.npmjs.com/package/aframe-animation-component"),l=!0)}},attachedCallback:{value:function(){this.el=this.parentNode,this.handleMixinUpdate(),this.update(),this.load()}},attributeChangedCallback:{value:function(e,t,n){this.hasLoaded&&this.isRunning&&(this.stop(),this.handleMixinUpdate(),this.update())}},detachedCallback:{value:function(){this.isRunning&&this.stop()}},getTween:{value:function(){var e,t,n,i,r=this,a=r.data,o=r.el,s=a.attribute,u=parseInt(a.delay,10),l=A(o,s),c=r.getDirection(a.direction),d=b[a.easing],h=a.fill,p=a.repeat===x.indefinite?1/0:0,m=!1;return t=(e=T(o,s,a.from||r.initialValue,a.to,l)).from,n=e.to,r.partialSetAttribute=e.partialSetAttribute,void 0===r.count&&(r.count=p===1/0?0:parseInt(a.repeat,10)),isNaN(u)&&(u=0),r.initialValue=r.initialValue||L(l),p===1/0&&h===w.forwards&&-1!==[_.alternate,_.alternateReverse].indexOf(a.direction)&&(m=!0),c===_.reverse&&(i=n,n=L(t),t=L(i)),-1!==[w.backwards,w.both].indexOf(h)&&r.partialSetAttribute(t),new f.Tween(L(t)).to(n,a.dur).delay(u).easing(d).repeat(p).yoyo(m).onUpdate(function(){r.partialSetAttribute(this)}).onComplete(g(r.onCompleted,r))}},update:{value:function(){var e=this.data;"infinite"===e.repeat&&console.warn("Using 'infinite' as 'repeat' value is invalid.  Use 'indefinite' instead."),""===e.begin||isNaN(e.begin)||(console.warn("Using 'begin' to specify a delay is deprecated. Use 'delay' instead."),e.delay=e.begin,e.begin="");var t=e.begin,n=e.end;this.evt&&this.removeEventListeners(this.evt),this.evt={begin:t,end:n},this.addEventListeners(this.evt),""===t&&(this.stop(),this.start())},writable:window.debug},onCompleted:{value:function(){var e=this.data;if(this.isRunning=!1,-1!==[w.backwards,w.none].indexOf(e.fill)&&this.partialSetAttribute(this.initialValue),0===this.count)return this.count=void 0,void this.emit("animationend");this.isRunning=!1,this.count--,this.start()}},start:{value:function(){var e=this;this.el.hasLoaded?!this.isRunning&&this.el.isPlaying&&(this.tween=this.getTween(),this.isRunning=!0,this.tween.start(),this.emit("animationstart")):this.el.addEventListener("loaded",function(){e.start()})},writable:!0},stop:{value:function(){var e=this.tween;e&&(e.stop(),this.isRunning=!1,-1!==[w.backwards,w.none].indexOf(this.data.fill)&&this.partialSetAttribute(this.initialValue),this.emit("animationstop"))},writable:!0},getDirection:{value:function(e){return e===_.alternate?(this.prevDirection=this.prevDirection===_.normal?_.reverse:_.normal,this.prevDirection):e===_.alternateReverse?(this.prevDirection=this.prevDirection===_.reverse?_.normal:_.reverse,this.prevDirection):e}},bindMethods:{value:function(){this.start=g(this.start,this),this.stop=g(this.stop,this),this.onStateAdded=g(this.onStateAdded,this),this.onStateRemoved=g(this.onStateRemoved,this)}},addEventListeners:{value:function(e){var t=this.el,n=this;o.splitString(e.begin).forEach(function(e){t.addEventListener(e,n.start)}),o.splitString(e.end).forEach(function(e){t.addEventListener(e,n.stop)}),""===e.begin&&t.addEventListener("play",this.start),t.addEventListener("pause",this.stop),t.addEventListener("stateadded",this.onStateAdded),t.addEventListener("stateremoved",this.onStateRemoved)}},removeEventListeners:{value:function(e){var t=this.el,n=this.start,i=this.stop;o.splitString(e.begin).forEach(function(e){t.removeEventListener(e,n)}),o.splitString(e.end).forEach(function(e){t.removeEventListener(e,i)}),t.removeEventListener("stateadded",this.onStateAdded),t.removeEventListener("stateremoved",this.onStateRemoved)}},onStateAdded:{value:function(e){e.detail===this.data.begin&&this.start()},writable:!0},onStateRemoved:{value:function(e){e.detail===this.data.begin&&this.stop()},writable:!0},handleMixinUpdate:{value:function(){var e,t,n,i={};t=(n=document.querySelector("#"+this.getAttribute("mixin")))?o.getElData(n,s):{},e=o.getElData(this,s),o.extend(i,s,t,e),this.data=i}}})}),t.exports.getAnimationValues=T},{"../constants/animation":92,"../lib/three":150,"../utils/":172,"./a-node":100,"./a-register-element":101,"./schema":110,"@tweenjs/tween.js":1}],96:[function(e,t,n){var i=e("./a-node"),u=e("../utils/bind"),r=e("../utils/debug"),a=e("./a-register-element").registerElement,l=e("../lib/three"),o=new l.FileLoader,c=r("core:a-assets:warn");function d(i){if(i.hasAttribute("autoplay")||"auto"===i.getAttribute("preload"))return new Promise(function(n,e){if(4===i.readyState)return n();if(i.error)return e();function t(){for(var e=0,t=0;t<i.buffered.length;t++)e+=i.buffered.end(t)-i.buffered.start(t);e>=i.duration&&(l.Cache.files[i.getAttribute("src")]=i,n())}i.addEventListener("loadeddata",t,!1),i.addEventListener("progress",t,!1),i.addEventListener("error",e,!1)})}function h(e){var t=function(e){var t;if(e.hasAttribute("crossorigin"))return e;if(null!==(t=e.getAttribute("src"))){if(-1===t.indexOf("://"))return e;if((i=-1<(n=t).indexOf("://")?n.split("/")[2]:n.split("/")[0]).substring(0,i.indexOf(":"))===window.location.host)return e}var n,i;return c('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',t),e.crossOrigin="anonymous",e.cloneNode(!0)}(e);return t.tagName&&"video"===t.tagName.toLowerCase()&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function s(e){var t=e.lastIndexOf(".");if(0<=t){var n=e.slice(t,e.length);if(".gltf"===n||".glb"===n)return"arraybuffer"}return"text"}t.exports=a("a-assets",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=o,this.timeout=null}},attachedCallback:{value:function(){var n,e,t,i,r,a,o=this,s=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(r=this.querySelectorAll("img"),n=0;n<r.length;n++)i=h(r[n]),s.push(new Promise(function(e,t){(l.Cache.files[r[n].getAttribute("src")]=i).onload=e,i.onerror=t}));for(t=this.querySelectorAll("audio, video"),n=0;n<t.length;n++)(e=h(t[n])).src||e.srcObject||c("Audio/video asset has neither `src` nor `srcObject` attributes."),s.push(d(e));Promise.all(s).then(u(this.load,this)),a=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){o.hasLoaded||(c("Asset loading timed out in ",a,"ms"),o.emit("timeout"),o.load())},a)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){i.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute("src")})}}})}),a("a-asset-item",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var t=this,e=this.getAttribute("src");o.setResponseType(this.getAttribute("response-type")||s(e)),o.load(e,function(e){t.data=e,setTimeout(function(){i.prototype.load.call(t)})},function(e){t.emit("progress",{loadedBytes:e.loaded,totalBytes:e.total,xhr:e})},function(e){t.emit("error",{xhr:e})})}}})}),t.exports.inferResponseType=s},{"../lib/three":150,"../utils/bind":166,"../utils/debug":168,"./a-node":100,"./a-register-element":101}],97:[function(e,t,n){var i=e("../utils/debug"),r=e("./a-register-element").registerElement,a=i("core:cubemap:warn");t.exports=r("a-cubemap",{prototype:Object.create(window.HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll("[src]"),n=[];if(6===t.length){for(e=0;e<t.length;e++)n.push(t[e].getAttribute("src"));return n}a("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":168,"./a-register-element":101}],98:[function(e,t,n){var r,s=e("./a-node"),u=e("./component").components,i=e("./a-register-element").registerElement,o=e("../lib/three"),l=e("../utils/"),c=l.debug("core:a-entity:debug"),a=l.debug("core:a-entity:warn"),d="__",h=["position","rotation","scale","visible"],p=Object.create(s.prototype,{createdCallback:{value:function(){this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new o.Group,(this.object3D.el=this).object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}},attributeChangedCallback:{value:function(e,t,n){var i=this.components[e];i&&i.justInitialized&&""===n?delete i.justInitialized:(i||null!==n)&&this.setEntityAttribute(e,t,n)}},attachedCallback:{value:function(){var e,t=this.sceneEl,n=this;this.addToParent(),this.isScene||(t?!(e=t.querySelector("a-assets"))||e.hasLoaded?this.load():e.addEventListener("loaded",function(){n.load()}):this.load())}},detachedCallback:{value:function(){var e;if(this.parentEl){for(e in this.components)this.removeComponent(e);this.isScene||(this.removeFromParent(),s.prototype.detachedCallback.call(this),this.object3D.el=null)}}},handleMixinUpdate:{value:function(e){e?this.updateComponent(e,this.getDOMAttribute(e)):this.updateComponents()}},getObject3D:{value:function(e){return this.object3DMap[e]}},setObject3D:{value:function(e,t){var n,i=this;if(!(t instanceof o.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(e))&&this.object3D.remove(n),t.el=this,t.children.length&&t.traverse(function(e){e.el=i}),this.object3D.add(t),this.object3DMap[e]=t,this.emit("object3dset",{object:t,type:e})}},removeObject3D:{value:function(e){var t=this.getObject3D(e);t?(this.object3D.remove(t),delete this.object3DMap[e],this.emit("object3dremove",{type:e})):a("Tried to remove `Object3D` of type:",e,"which was not defined.")}},getOrCreateObject3D:{value:function(e,t){var n=this.getObject3D(e);return!n&&t&&(n=new t,this.setObject3D(e,n)),a("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),n}},add:{value:function(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(e.object3D),this.emit("child-attached",{el:e})}},addToParent:{value:function(){var e=this.parentEl=this.parentNode;e&&e.add&&!this.attachedToParent&&(e.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var e=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=this.parentNode=null,e.emit("child-detached",{el:this})}},load:{value:function(){var e=this;!this.hasLoaded&&this.parentEl&&s.prototype.load.call(this,function(){e.parentEl&&(e.updateComponents(),(e.isScene||e.parentEl.isPlaying)&&e.play())})},writable:window.debug},remove:{value:function(e){this.object3D.remove(e.object3D)}},getChildEntities:{value:function(){for(var e=this.children,t=[],n=0;n<e.length;n++){var i=e[n];i instanceof r&&t.push(i)}return t}},initComponent:{value:function(e,t,n){var i,r,a,o;if(r=(a=l.split(e,d))[1],o=a[0],u[o]&&(m(this,e)||void 0!==t||n)&&!(e in this.components)){if(this.initComponentDependencies(o),r&&!u[o].multiple)throw new Error("Trying to initialize multiple components of type `"+o+"`. There can only be one component of this type per entity.");i=new u[o].Component(this,t,r),this.isPlaying&&i.play(),this.hasAttribute(e)||(i.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,e,"")),c("Component initialized: %s",e)}},writable:window.debug},initComponentDependencies:{value:function(e){var t,n;if(u[e]&&(t=u[e].dependencies))for(n=0;n<t.length;n++)this.initComponent(t[n],window.HTMLElement.prototype.getAttribute.call(this,t[n])||void 0,!0)}},removeComponent:{value:function(n){var e;(e=this.components[n])&&(e.initialized?(e.pause(),e.remove(),delete this.components[n],this.emit("componentremoved",e.evtDetail)):this.addEventListener("componentinitialized",function e(t){t.detail.name===n&&(this.removeComponent(n),this.removeEventListener("componentinitialized",e))}))},writable:window.debug},updateComponents:{value:function(){var e,t,n,i,r=this.componentsToUpdate;if(this.hasLoaded){for(n=0;n<this.mixinEls.length;n++)for(i in this.mixinEls[n].componentCache)g(i)&&(r[i]=!0);if(this.getExtraComponents)for(i in t=this.getExtraComponents())g(i)&&(r[i]=!0);for(n=0;n<this.attributes.length;++n)i=this.attributes[n].name,-1===h.indexOf(i)&&g(i)&&(r[i]=!0);for(n=0;n<h.length;n++)i=h[n],this.hasAttribute(i)&&this.updateComponent(i,this.getDOMAttribute(i));for(i in r)e=f(this.getDOMAttribute(i),t&&t[i]),this.updateComponent(i,e),delete r[i]}},writable:window.debug},updateComponent:{value:function(e,t,n){var i=this.components[e];if(i)return null!==t||m(this,e)?void i.updateProperties(t,n):void this.removeComponent(e);this.initComponent(e,t,!1)}},removeAttribute:{value:function(e,t){var n=this.components[e];n&&void 0===t&&this.removeComponent(e),n&&void 0!==t?n.resetProperty(t):("mixin"===e&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,e))}},play:{value:function(){var e,t,n;if(!this.isPlaying&&this.hasLoaded){for(n in this.isPlaying=!0,this.components)this.components[n].play();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].play();this.emit("play")}},writable:!0},pause:{value:function(){var e,t,n;if(this.isPlaying){for(n in this.isPlaying=!1,this.components)this.components[n].pause();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].pause();this.emit("pause")}},writable:!0},setEntityAttribute:{value:function(e,t,n){if(u[e]||this.components[e])this.updateComponent(e,n);else if("mixin"===e){if(n===this.computedMixinStr)return;this.mixinUpdate(n,t)}}},mixinUpdate:{value:function(e,t){t=t||this.getAttribute("mixin"),this.updateMixins(e,t),this.updateComponents()}},setAttribute:{value:function(e,t,n){var i,r,a,o;if(a=0<(o=e.indexOf(d))?e.substring(0,o):e,!u[a])return"mixin"===e&&this.mixinUpdate(t),void s.prototype.setAttribute.call(this,e,t);!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),void 0!==n&&"string"==typeof t&&0<t.length&&"string"==typeof l.styleParser.parse(t)?((i={})[t]=n,r=!1):(i=t,r=!0===n),this.updateComponent(e,i,r),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM()},writable:window.debug},flushToDOM:{value:function(e){var t,n,i,r=this.components,a=this.children;for(i in r)r[i].flushToDOM();if(e)for(n=0;n<a.length;++n)(t=a[n]).flushToDOM&&t.flushToDOM(e)}},getAttribute:{value:function(e){var t,n,i,r,a;return"position"===e?this.object3D.position:"rotation"===e?(n=this,i=o.Math.radToDeg,r=n.object3D.rotation,(a=n.rotationObj).x=i(r.x),a.y=i(r.y),a.z=i(r.z),a):"scale"===e?this.object3D.scale:"visible"===e?this.object3D.visible:(t=this.components[e])?t.data:window.HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},getDOMAttribute:{value:function(e){var t=this.components[e];return t?t.attrValue:window.HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},addState:{value:function(e){this.is(e)||(this.states.push(e),this.emit("stateadded",e))}},removeState:{value:function(e){var t=this.states.indexOf(e);-1!==t&&(this.states.splice(t,1),this.emit("stateremoved",e))}},is:{value:function(e){return-1!==this.states.indexOf(e)}}});function m(e,t){return!(!e.components[t]||!e.components[t].attrValue)||function(e,t){var n,i=!1;for(n=0;n<t.length&&!(i=t[n].hasAttribute(e));++n);return i}(t,e.mixinEls)}function f(e,t){return t?t.constructor===Object?l.extend(t,l.styleParser.parse(e||{})):e||t:e}function g(e){return-1!==e.indexOf(d)&&(e=l.split(e,d)[0]),!!u[e]}r=i("a-entity",{prototype:p}),t.exports=r},{"../lib/three":150,"../utils/":172,"./a-node":100,"./a-register-element":101,"./component":102}],99:[function(e,t,n){var i=e("./a-node"),r=e("./a-register-element").registerElement,a=e("./component").components,o=e("../utils");t.exports=r("a-mixin",{prototype:Object.create(i.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id"),this.isMixin=!0}},attributeChangedCallback:{value:function(e,t,n){this.cacheAttribute(e,n)}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(e,t){window.HTMLElement.prototype.setAttribute.call(this,e,t),this.cacheAttribute(e,t)}},cacheAttribute:{value:function(e,t){var n,i;i=o.split(e,"__")[0],(n=a[i])&&(void 0===t&&(t=window.HTMLElement.prototype.getAttribute.call(this,e)),this.componentCache[e]=n.parseAttrValueForCache(t))}},getAttribute:{value:function(e){return this.componentCache[e]||window.HTMLElement.prototype.getAttribute.call(this,e)}},cacheAttributes:{value:function(){var e,t,n=this.attributes;for(t=0;t<n.length;t++)e=n[t].name,this.cacheAttribute(e)}},updateEntities:{value:function(){var e,t,n;if(this.sceneEl)for(t=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),n=0;n<t.length;n++)(e=t[n]).hasLoaded&&!e.isMixin&&e.mixinUpdate(this.id)}}})})},{"../utils":172,"./a-node":100,"./a-register-element":101,"./component":102}],100:[function(e,t,n){var r,a,o,i=e("./a-register-element").registerElement,s=e("./a-register-element").isNode,u=e("../utils/"),l=u.debug("core:a-node:warn"),c={attributes:!0};t.exports=i("a-node",{prototype:Object.create(window.HTMLElement.prototype,{createdCallback:{value:function(){this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[],this.mixinObservers={}},writable:window.debug},attachedCallback:{value:function(){var e;this.sceneEl=this.closestScene(),this.sceneEl||l("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(e=this.getAttribute("mixin"))&&this.updateMixins(e)},writable:window.debug},attributeChangedCallback:{value:function(e,t,n){n!==this.computedMixinStr&&("mixin"!==e||this.isMixin||this.updateMixins(n,t))}},closestScene:{value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},closest:{value:function(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!t.call(n,e);)n=n.parentElement;return n}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(e,t){var n,i=this;this.hasLoaded||(t=t||s,n=this.getChildren().filter(t).map(function(t){return new Promise(function(e){if(t.hasLoaded)return e();t.addEventListener("loaded",e)})}),Promise.all(n).then(function(){i.hasLoaded=!0,e&&e(),i.emit("loaded",void 0,!1)}))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:(a=[],o=[],function(e,t){var n,i,r;for(a.length=0,o.length=0,i=e?u.split(e.trim(),/\s+/):a,r=t?u.split(t.trim(),/\s+/):o,n=0;n<r.length;n++)-1===i.indexOf(r[n])&&this.unregisterMixin(r[n]);for(this.computedMixinStr="",n=this.mixinEls.length=0;n<i.length;n++)this.registerMixin(document.getElementById(i[n]));this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr))})},registerMixin:{value:function(e){var t,n,i;if(e){if(i=e.getAttribute("mixin"))for(t=u.split(i.trim(),/\s+/),n=0;n<t.length;n++)this.registerMixin(document.getElementById(t[n]));this.computedMixinStr=this.computedMixinStr+" "+e.id,this.mixinEls.push(e),this.attachMixinListener(e)}}},setAttribute:{value:function(e,t){"mixin"===e&&this.updateMixins(t),window.HTMLElement.prototype.setAttribute.call(this,e,t)}},unregisterMixin:{value:function(e){var t,n=this.mixinEls;for(t=0;t<n.length;++t)if(e===n[t].id){n.splice(t,1);break}this.removeMixinListener(e)}},removeMixinListener:{value:function(e){var t=this.mixinObservers[e];t&&(t.disconnect(),this.mixinObservers[e]=null)}},attachMixinListener:{value:function(e){var t,n,i=this;e&&(t=e.id,this.mixinObservers[t]||((n=new MutationObserver(function(e){i.handleMixinUpdate(e[0].attributeName)})).observe(e,c),this.mixinObservers[t]=n))}},handleMixinUpdate:{value:function(){}},emit:{value:(r={},function(e,t,n,i){void 0===n&&(n=!0),r.bubbles=!!n,r.detail=t,i&&(r=u.extend({},i,r)),this.dispatchEvent(new CustomEvent(e,r))}),writable:window.debug}})})},{"../utils/":172,"./a-register-element":101}],101:[function(e,t,n){var c,d;e("document-register-element");var h=t.exports.knownTags={};function p(t,e,n,i){e.forEach(function(e){!function(e,t,n,i){var r=n[t],a=i[t];if(!r||!a)return;if(r===a)return;e[t]={value:function(){return a.apply(this,arguments),r.apply(this,arguments)},writable:window.debug}}(t,e,n,i)})}function m(n,i){Object.getOwnPropertyNames(n).forEach(function(e){var t;i[e]||(t=Object.getOwnPropertyDescriptor(n,e),i[e]={value:n[e],writable:t.writable})})}t.exports.isNode=function(e){return e.tagName.toLowerCase()in h||e.isNode},t.exports.registerElement=function(e,t){var n,i,r,a,o=Object.getPrototypeOf(t.prototype),s=t,u=c&&o===c.prototype,l=d&&o===d.prototype;return(u||l)&&(h[e.toLowerCase()]=!0),u&&(n=t.prototype,p(i={},["attachedCallback","attributeChangedCallback","createdCallback"],n,c.prototype),m(n,i),s=i,s={prototype:Object.create(o,s)}),l&&(r=t.prototype,p(a={},["attachedCallback","attributeChangedCallback","createdCallback"],r,c.prototype),p(a,["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"],r,d.prototype),m(r,a),s=a,s={prototype:Object.create(o,s)}),Object.getOwnPropertyNames(s.prototype).forEach(function(e){var t=s.prototype[e];"function"==typeof t&&(t.displayName=e)}),document.registerElement(e,s)},t.exports.wrapMethods=p,c=e("./a-node"),d=e("./a-entity")},{"./a-entity":98,"./a-node":100,"document-register-element":13}],102:[function(e,t,n){var i=e("./schema"),o=e("./scene/scenes"),s=e("./system"),f=e("../utils/"),u=t.exports.components={},g=i.parseProperties,_=i.parseProperty,l=i.process,y=i.isSingleProperty,r=i.stringifyProperties,a=i.stringifyProperty,c=f.styleParser,d=f.debug("core:component:warn"),h=document.currentScript,p=new RegExp("[A-Z]+"),m=t.exports.Component=function(e,t,n){var i=this;this.el=e,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,(this.el.components[this.attrName]=this).oldData=void 0,this.previousAttrValue=void 0,this.throttledEmitComponentChanged=f.throttle(function(){e.emit("componentchanged",i.evtDetail,!1)},200),this.updateProperties(t)};if(m.prototype={schema:{},init:function(){},update:function(e){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var n=this.schema;return y(n)?_(e,n):g(c.parse(e),n,!0,this.name,t)},stringify:function(e){var t=this.schema;return"string"==typeof e?e:y(t)?a(e,t):(e=r(e,t),c.stringify(e))},updateCachedAttrValue:function(e,t){var n,i=this.parseAttrValueForCache(e),r=y(this.schema);if(void 0!==e)if(r||t)this.attrValue=i;else for(n in this.attrValue=this.attrValue?M(this.attrValue):{},i)this.attrValue[n]=i[n]},parseAttrValueForCache:function(e){var t;return"string"!=typeof e?e:(y(this.schema)?"string"==typeof(t=this.schema.parse(e))&&(t=e):t=c.parse(e),t)},flushToDOM:function(e){var t=e?this.data:this.attrValue;t&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e,t){var n,i,r,a=this.el,o=this.oldData;if(a.hasLoaded){if(n=y(this.schema),r=null!==e&&"object"==typeof this.previousAttrValue&&e===this.previousAttrValue){for(i in this.attrValue)if(!(i in e)){r=!1;break}for(i in e)if(!(i in this.attrValue)){r=!1;break}}if(this.previousAttrValue=e,e=this.parseAttrValueForCache(e),this.updateCachedAttrValue(e,t),this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue,t,!1,r),this.initialized){if(f.deepEqual(this.oldData,this.data))return;this.oldData=A({},this.data,n),this.update(o),this.throttledEmitComponentChanged()}else{if(a.initializingComponents[this.name])return;a.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete a.initializingComponents[this.name],o=n&&"object"!=typeof _(void 0,this.schema)?void 0:{},this.oldData=A({},this.data,n),this.update(o),a.isPlaying&&this.play(),a.emit("componentinitialized",this.evtDetail,!1)}}else this.updateCachedAttrValue(e)},resetProperty:function(e){if(y(this.schema))this.attrValue=void 0;else{if(!(e in this.attrValue))return;delete this.attrValue[e]}this.updateProperties(this.attrValue)},extendSchema:function(e){var t=f.extend({},u[this.name].schema);f.extend(t,e),this.schema=l(t),this.el.emit("schemachanged",{component:this.name})},buildData:function(e,t,n,i){var r,a,o,s,u,l,c,d,h=this.schema,p=y(h),m=this.el.mixinEls;if(r=e&&e.constructor===Array?e.length:null!=e,p)a=w(h.default)?f.clone(h.default):h.default;else for(a="object"==typeof(d=!t&&this.attrValue)?M(d):{},c=0,u=(s=Object.keys(h)).length;c<u;c++)o=h[s[c]].default,void 0===a[s[c]]&&(a[s[c]]=w(o)?f.clone(o):o);for(c=0;c<m.length;c++)(l=m[c].getAttribute(this.attrName))&&(a=A(a,l,p));if(r){if(p)return!0===i?e:_(e,h);a=A(a,e,p)}else{if(!0===i)return a;if(p)return _(a,h)}return!0===i?a:g(a,h,void 0,this.name,n)}},window.debug)var v=t.exports.registrationOrderWarnings={};function M(e){var t,n,i={};for(n in e)t=e[n],i[n]=w(t)?f.clone(t):t;return i}function A(e,t,n){if(n&&(null===t||"object"!=typeof t))return t;var i,r=f.extend(e,t);for(i in r)r[i]&&r[i].constructor===Object&&(r[i]=f.clone(r[i]));return r}function b(e){return e.tick||e.tock}function w(e){return e&&(e.constructor===Object||e.constructor===Array)}t.exports.registerComponent=function(t,n){var e,i,r,a={};if(document.currentScript&&document.currentScript!==h&&o.forEach(function(e){e.hasLoaded||document.currentScript.compareDocumentPosition(e)!==Node.DOCUMENT_POSITION_FOLLOWING&&(d("The component `"+t+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(v[t]=!0))}),!0===p.test(t)&&d("The component name `"+t+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+t.toLowerCase()+"`"),-1!==t.indexOf("__"))throw new Error("The component name `"+t+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(n).forEach(function(e){a[e]={value:n[e],writable:!0}}),u[t])throw new Error("The component `"+t+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");return((e=function(e,t,n){m.call(this,e,t,n)}).prototype=Object.create(m.prototype,a)).name=t,(e.prototype.constructor=e).prototype.system=s&&s.systems[t],e.prototype.play=(i=e.prototype.play,function(){var e=this.el.sceneEl,t=this.el.isPlaying&&!this.isPlaying;this.initialized&&t&&(i.call(this),this.isPlaying=!0,b(this)&&e.addBehavior(this))}),e.prototype.pause=(r=e.prototype.pause,function(){var e=this.el.sceneEl;this.isPlaying&&(r.call(this),this.isPlaying=!1,b(this)&&e.removeBehavior(this))}),u[t]={Component:e,dependencies:e.prototype.dependencies,isSingleProp:y(e.prototype.schema),multiple:e.prototype.multiple,parse:e.prototype.parse,parseAttrValueForCache:e.prototype.parseAttrValueForCache,schema:f.extend(l(e.prototype.schema,e.prototype.name)),stringify:e.prototype.stringify,type:e.prototype.type},e}},{"../utils/":172,"./scene/scenes":108,"./schema":110,"./system":112}],103:[function(e,t,n){var r=e("./schema").process,a=t.exports.geometries={},o=t.exports.geometryNames=[],i=e("../lib/three"),s=t.exports.Geometry=function(){};s.prototype={schema:{},init:function(e){return this.geometry=new i.Geometry,this.geometry},update:function(e){}},t.exports.registerGeometry=function(e,t){var n,i={};if(Object.keys(t).forEach(function(e){i[e]={value:t[e],writable:!0}}),a[e])throw new Error("The geometry `"+e+"` has been already registered");return((n=function(){s.call(this)}).prototype=Object.create(s.prototype,i)).name=e,n.prototype.constructor=n,a[e]={Geometry:n,schema:r(n.prototype.schema)},o.push(e),n}},{"../lib/three":150,"./schema":110}],104:[function(e,t,n){var i=e("../utils/coordinates"),r=e("debug"),a=r("core:propertyTypes:warn"),o=r("core:propertyTypes:warn"),s=t.exports.propertyTypes={},u=/[,> .[\]:]/;function l(e,t,n,i){"type"in s?a("Property type "+e+" is already registered."):s[e]={default:t,parse:n||d,stringify:i||h}}function c(e){var t,n;return"string"!=typeof e?e:(n=e.match(/\url\((.+)\)/))?n[1]:"#"===e.charAt(0)?(t=document.getElementById(e.substring(1)))?"CANVAS"===t.tagName||"VIDEO"===t.tagName||"IMG"===t.tagName?t:t.getAttribute("src"):void o('"'+e+'" asset not found.'):e}function d(e){return e}function h(e){return null===e?"null":e.toString()}function p(e){return parseInt(e,10)}function m(e){return i.parse(e,this.default)}function f(e,t){if(null===e)return!0;if("object"!=typeof e)return!1;if(Object.keys(e).length!==t)return!1;var n=e.x,i=e.y,r=e.z,a=e.w;return"number"==typeof n&&"number"==typeof i&&(!(2<t&&"number"!=typeof r)&&!(3<t&&"number"!=typeof a))}l("audio","",c),l("array",[],function(e){if(Array.isArray(e))return e;if(!e||"string"!=typeof e)return[];return e.split(",").map(function(e){return e.trim()})},function(e){return e.join(", ")}),l("asset","",c),l("boolean",!1,function(e){return"false"!==e&&!1!==e}),l("color","#FFF",d,h),l("int",0,p),l("number",0,function(e){return parseFloat(e,10)}),l("map","",c),l("model","",c),l("selector",null,function(e){if(!e)return null;if("string"!=typeof e)return e;if("#"===e[0]&&!u.test(e))return document.getElementById(e.substring(1));return document.querySelector(e)},function(e){if(e.getAttribute)return"#"+e.getAttribute("id");return h(e)}),l("selectorAll",null,function(e){if(!e)return null;if("string"!=typeof e)return e;return Array.prototype.slice.call(document.querySelectorAll(e),0)},function(e){if(e instanceof Array)return e.map(function(e){return"#"+e.getAttribute("id")}).join(", ");return h(e)}),l("src","",function(e){return o("`src` property type is deprecated. Use `asset` instead."),c(e)}),l("string","",d,h),l("time",0,p),l("vec2",{x:0,y:0},m,i.stringify),l("vec3",{x:0,y:0,z:0},m,i.stringify),l("vec4",{x:0,y:0,z:0,w:1},m,i.stringify),t.exports.registerPropertyType=l,t.exports.isValidDefaultValue=function(e,t){return("audio"!==e||"string"==typeof t)&&!("array"===e&&!Array.isArray(t))&&("asset"!==e||"string"==typeof t)&&("boolean"!==e||"boolean"==typeof t)&&("color"!==e||"string"==typeof t)&&("int"!==e||"number"==typeof t)&&("number"!==e||"number"==typeof t)&&("map"!==e||"string"==typeof t)&&("model"!==e||"string"==typeof t)&&("selector"!==e||"string"==typeof t||null===t)&&("selectorAll"!==e||"string"==typeof t||null===t)&&("src"!==e||"string"==typeof t)&&("string"!==e||"string"==typeof t)&&("time"!==e||"number"==typeof t)&&("vec2"===e?f(t,2):"vec3"===e?f(t,3):"vec4"!==e||f(t,4))},t.exports.isValidDefaultCoordinate=f},{"../utils/coordinates":167,debug:10}],105:[function(e,t,n){var i=e("./metaTags").inject,r=e("./wakelock"),a=e("../a-register-element"),o=e("./scenes"),s=e("../system").systems,u=e("../../lib/three"),l=e("@tweenjs/tween.js"),c=e("../../utils/"),d=e("../a-entity"),h=e("../a-node"),p=e("./postMessage"),m=c.bind,f=c.device.isIOS(),g=c.device.isMobile(),_=a.registerElement,y=c.debug("core:a-scene:warn");function v(e){var t;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||e.exitVR(),document.activeElement.blur(),document.body.focus()}(t=document.createElement("canvas")).classList.add("a-canvas"),t.dataset.aframeCanvas=!0,e.appendChild(t),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),t.addEventListener("touchmove",function(e){e.preventDefault()}),e.canvas=t,e.emit("render-target-loaded",{target:t}),setTimeout(m(e.resize,e),0)}t.exports.AScene=_("a-scene",{prototype:Object.create(d.prototype,{createdCallback:{value:function(){this.isIOS=f,this.isMobile=g,this.isScene=!0,this.object3D=new u.Scene;var i=this;this.object3D.onAfterRender=function(e,t,n){i.isPlaying&&i.tock(i.time,i.delta,n)},this.render=m(this.render,this),this.systems={},this.systemNames=[],this.time=this.delta=0,this.init()}},init:{value:function(){this.behaviors={tick:[],tock:[]},this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.renderTarget=null,v(this),this.setupRenderer(),this.resize(),this.addFullScreenStyles(),p(this),this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui","")},writable:!0},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-html"),document.body.classList.add("a-body"),this.classList.add("fullscreen")}},removeFullScreenStyles:{value:function(){document.documentElement.classList.remove("a-html"),document.body.classList.remove("a-body"),this.classList.remove("fullscreen")}},attachedCallback:{value:function(){var e,t=this;i(this),r(this),this.initSystems(),e=m(this.resize,this),window.addEventListener("load",e),window.addEventListener("resize",function(){this.isIOS?setTimeout(e,100):e()}),this.play(),o.push(this),this.onVRPresentChangeBound=m(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){t.enterVR()},this.exitVRBound=function(){t.exitVR()},this.exitVRTrueBound=function(){t.exitVR(!0)},this.pointerRestrictedBound=function(){t.pointerRestricted()},this.pointerUnrestrictedBound=function(){t.pointerUnrestricted()},window.addEventListener("vrdisplayactivate",this.enterVRBound),window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)},writable:window.debug},initSystems:{value:function(){Object.keys(s).forEach(m(this.initSystem,this))}},initSystem:{value:function(e){this.systems[e]||(this.systems[e]=new s[e](this),this.systemNames.push(e))}},detachedCallback:{value:function(){var e=o.indexOf(this);o.splice(e,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)}},addBehavior:{value:function(e){var t,n,i=this.behaviors;for(n in i)e[n]&&-1===(t=this.behaviors[n]).indexOf(e)&&t.push(e)}},getPointerLockElement:{value:function(){return document.pointerLockElement},writable:window.debug},checkHeadsetConnected:{value:c.device.checkHeadsetConnected,writable:window.debug},enterVR:{value:function(e){var t,n=this,i=n.renderer.vr;return this.is("vr-mode")?Promise.resolve("Already in VR."):e||!this.checkHeadsetConnected()&&!this.isMobile?(r(),Promise.resolve()):(t=c.device.getVRDisplay(),i.setDevice(t),i.enabled=!0,t.requestPresent([{source:this.canvas}]).then(r,function(e){throw e&&e.message?new Error("Failed to enter VR mode (`requestPresent`): "+e.message):new Error("Failed to enter VR mode (`requestPresent`).")}));function r(){var e;n.addState("vr-mode"),n.emit("enter-vr",{target:n}),n.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),n.addFullScreenStyles(),n.isMobile||n.checkHeadsetConnected()||((e=n.canvas).requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).apply(e),n.resize()}},writable:!0},exitVR:{value:function(e){var t=this;return this.is("vr-mode")?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),e||!this.checkHeadsetConnected()&&!this.isMobile?(n(),Promise.resolve()):(this.renderer.vr.enabled=!1,c.device.getVRDisplay().exitPresent().then(n,function(e){throw e&&e.message?new Error("Failed to exit VR mode (`exitPresent`): "+e.message):new Error("Failed to exit VR mode (`exitPresent`).")}))):Promise.resolve("Not in VR.");function n(){t.removeState("vr-mode"),t.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),t.hasAttribute("embedded")&&t.removeFullScreenStyles(),t.resize(),t.isIOS&&c.forceCanvasResizeSafariMobile(this.canvas),t.emit("exit-vr",{target:t})}},writable:!0},pointerRestricted:{value:function(){if(this.canvas){var e=this.getPointerLockElement();e&&e!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}},pointerUnrestricted:{value:function(){var e=this.getPointerLockElement();e&&e===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},onVRPresentChange:{value:function(e){(e.display||e.detail.display).isPresenting?this.enterVR(!0):this.exitVR(!0)}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:d.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){y("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:d.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,n){var i=this.systems[e];if(i)return h.prototype.setAttribute.call(this,e,t),void i.updateProperties(t);d.prototype.setAttribute.call(this,e,t,n)}},removeBehavior:{value:function(e){var t,n,i,r=this.behaviors;for(n in r)e[n]&&-1!==(i=(t=this.behaviors[n]).indexOf(e))&&t.splice(i,1)}},resize:{value:function(){var e,t,n,i=this.camera,r=this.canvas,a=this.getAttribute("embedded")&&!this.is("vr-mode");t=this.renderer.vr.getDevice(),n=this.renderer.vr.enabled&&t&&t.isPresenting,!i||!r||this.is("vr-mode")&&(this.isMobile||n)||(e=function(e,t){if(t)return{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth};return{height:window.innerHeight,width:window.innerWidth}}(r,a),i.aspect=e.width/e.height,i.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height,!1))},writable:!0},setupRenderer:{value:function(){var e,t,n,i=this,r={canvas:this.canvas,antialias:!g,alpha:!0};this.hasAttribute("antialias")&&(r.antialias="true"===this.getAttribute("antialias")),this.hasAttribute("renderer")&&(n=this.getAttribute("renderer"),(t=c.styleParser.parse(n)).antialias&&"auto"!==t.antialias&&(r.antialias="true"===t.antialias)),(e=this.renderer=new u.WebGLRenderer(r)).setPixelRatio(window.devicePixelRatio),e.sortObjects=!1,this.addEventListener("camera-set-active",function(){e.vr.setPoseTarget(i.camera.el.object3D)})},writable:window.debug},play:{value:function(){var e=this;this.renderStarted?d.prototype.play.call(this):(this.addEventListener("loaded",function(){function e(e){e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark("render-started"),e.clock=new u.Clock,e.render(),e.renderStarted=!0,e.emit("renderstart")))}d.prototype.play.call(this),this.camera?e(this):this.addEventListener("camera-set-active",function(){e(this)})}),setTimeout(function(){d.prototype.load.call(e)}))}},updateComponent:{value:function(e){e in s||d.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(e,t){var n,i=this.systems;for(l.update(),n=0;n<this.behaviors.tick.length;n++)this.behaviors.tick[n].el.isPlaying&&this.behaviors.tick[n].tick(e,t);for(n=0;n<this.systemNames.length;n++)i[this.systemNames[n]].tick&&i[this.systemNames[n]].tick(e,t)}},tock:{value:function(e,t,n){var i,r=this.systems;for(i=0;i<this.behaviors.tock.length;i++)this.behaviors.tock[i].el.isPlaying&&this.behaviors.tock[i].tock(e,t,n);for(i=0;i<this.systemNames.length;i++)r[this.systemNames[i]].tock&&r[this.systemNames[i]].tock(e,t,n)}},render:{value:function(){this.delta=1e3*this.clock.getDelta();var e=this.renderer;this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta),e.animate(this.render),e.render(this.object3D,this.camera,this.renderTarget)},writable:!0}})}),t.exports.setupCanvas=v},{"../../lib/three":150,"../../utils/":172,"../a-entity":98,"../a-node":100,"../a-register-element":101,"../system":112,"./metaTags":106,"./postMessage":107,"./scenes":108,"./wakelock":109,"@tweenjs/tween.js":1}],106:[function(e,t,n){var i,o=e("../../constants/"),s=e("../../utils").extend,u=t.exports.MOBILE_HEAD_TAGS=[r({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui"}),r({name:"mobile-web-app-capable",content:"yes"}),r({name:"theme-color",content:"black"})],l=[r({name:"apple-mobile-web-app-capable",content:"yes"}),r({name:"apple-mobile-web-app-status-bar-style",content:"black"}),(i={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},{tagName:"link",attributes:i,exists:function(){return document.querySelector('link[rel="'+i.rel+'"]')}})];function r(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}t.exports.inject=function(e){var t,n=document.head,i=n.querySelector("script"),r=[];return u.forEach(a),e.isIOS&&l.forEach(a),r;function a(e){e&&!e.exists()&&(t=function(e){if(!e||!e.tagName)return;var t=document.createElement(e.tagName);return t.setAttribute(o.AFRAME_INJECTED,""),s(t,e.attributes)}(e))&&(i?i.parentNode.insertBefore(t,i):n.appendChild(t),r.push(t))}}},{"../../constants/":93,"../../utils":172}],107:[function(e,t,n){var i=e("../../utils/bind"),r=e("../../utils/").isIframed;function a(e){if(e.data)switch(e.data.type){case"vr":switch(e.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}}t.exports=function(e){r()&&window.addEventListener("message",i(a,e))}},{"../../utils/":172,"../../utils/bind":166}],108:[function(e,t,n){t.exports=[]},{}],109:[function(e,t,n){var i=e("../../../vendor/wakelock/wakelock");t.exports=function(e){if(e.isMobile){var t=e.wakelock=new i;e.addEventListener("enter-vr",function(){t.request()}),e.addEventListener("exit-vr",function(){t.release()})}}},{"../../../vendor/wakelock/wakelock":182}],110:[function(e,t,n){var l,i=e("../utils/"),r=e("./propertyTypes"),a=i.debug,o=r.isValidDefaultValue,s=r.propertyTypes,c=a("core:schema:warn");function u(e){return"type"in e?"string"==typeof e.type:"default"in e}function d(e,t){var n,i,r=e.default,a=e.type;return e.type?"bool"===e.type?a="boolean":"float"===e.type&&(a="number"):a=void 0===r||"boolean"!=typeof r&&"number"!=typeof r?Array.isArray(r)?"array":"string":typeof r,(i=s[a])||c("Unknown property type for component `"+t+"`: "+a),n=!!e.parse,e.parse=e.parse||i.parse,e.stringify=e.stringify||i.stringify,e.type=a,"default"in e?n||o(a,r)||c("Default value `"+r+"` does not match type `"+a+"` in component `"+t+"`"):e.default=i.default,e}function h(e,t){return null!=e&&""!==e||(e=t.default,Array.isArray(e)&&(e=e.slice())),t.parse(e,t.default)}function p(e,t){return"object"!=typeof e?e:t&&null!==e?t.stringify(e):JSON.stringify(e)}t.exports.isSingleProperty=u,t.exports.process=function(e,t){var n;if(u(e))return d(e,t);for(n in e)e[n]=d(e[n],t);return e},t.exports.processPropertyDefinition=d,t.exports.parseProperties=(l=[],function(e,t,n,i,r){var a,o,s,u;for(o in l.length=0,n?e:t)l.push(o);if(null===e||"object"!=typeof e)return e;for(o in e)t[o]||r||c("Unknown property `"+o+"` for component/system `"+i+"`.");for(a=0;a<l.length;a++){if(s=t[o=l[a]],u=e[o],!t[o])return;e[o]=h(u,s)}return e}),t.exports.parseProperty=h,t.exports.stringifyProperties=function(e,t){var n,i,r,a,o={};for(n in e)i=t[n],"object"==typeof(a=r=e[n])&&(a=p(r,i),i||c("Unknown component property: "+n)),o[n]=a;return o},t.exports.stringifyProperty=p},{"../utils/":172,"./propertyTypes":104}],111:[function(e,t,n){var r=e("./schema").process,a=t.exports.shaders={},o=t.exports.shaderNames=[],i=e("../lib/three"),s=e("../utils"),u={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},l=t.exports.Shader=function(){};l.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new(this.raw?i.RawShaderMaterial:i.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,t){var n,i,r=this.schema,a={};for(n in r)r[n].is===t&&(i=u[r[n].type],a[n]={type:i,value:void 0});return a},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,t){var n,i,r,a=this.schema;for(n in r="uniform"===t?this.uniforms:this.attributes,e)if(a[n]&&a[n].is===t)if("map"!==a[n].type)r[n].value=this.parseValue(a[n].type,e[n]),r[n].needsUpdate=!0;else{if(!r[n]||r[n].value===e[n])continue;i="_texture_"+n,this.setMapOnTextureLoad(r,n,i),s.material.updateMapMaterialFromData(i,n,this,e)}},parseValue:function(e,t){var n;switch(e){case"vec2":return new i.Vector2(t.x,t.y);case"vec3":return new i.Vector3(t.x,t.y,t.z);case"vec4":return new i.Vector4(t.x,t.y,t.z,t.w);case"color":return n=new i.Color(t),new i.Vector3(n.r,n.g,n.b);case"map":return i.ImageUtils.loadTexture(t);default:return t}},setMapOnTextureLoad:function(e,t,n){var i=this;this.el.addEventListener("materialtextureloaded",function(){e[t].value=i.material[n],e[t].needsUpdate=!0})}},t.exports.registerShader=function(e,t){var n,i={};if(Object.keys(t).forEach(function(e){i[e]={value:t[e],writable:!0}}),a[e])throw new Error("The shader "+e+" has been already registered");return((n=function(){l.call(this)}).prototype=Object.create(l.prototype,i)).name=e,n.prototype.constructor=n,a[e]={Shader:n,schema:r(n.prototype.schema)},o.push(e),n}},{"../lib/three":150,"../utils":172,"./schema":110}],112:[function(e,t,n){var i=e("./component"),r=e("./schema"),o=e("../utils/"),a=r.parseProperties,s=r.parseProperty,u=r.process,l=r.isSingleProperty,c=o.styleParser,d=t.exports.systems={},h=t.exports.System=function(e){var t=i&&i.components[this.name];this.el=e,this.sceneEl=e,t&&(t.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};h.prototype={schema:{},init:function(){},update:function(e){},updateProperties:function(e){var t=this.data;Object.keys(r).length&&(this.buildData(e),this.update(t))},buildData:function(e){var t=this.schema;Object.keys(t).length&&(e=e||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),l(t)?this.data=s(e,t):this.data=a(c.parse(e)||{},t))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},t.exports.registerSystem=function(e,t){var n,i,r={},a=o.findAllScenes(document);if(Object.keys(t).forEach(function(e){r[e]={value:t[e],writable:!0}}),d[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(((i=function(e){h.call(this,e)}).prototype=Object.create(h.prototype,r)).name=e,(i.prototype.constructor=i).prototype.schema=o.extend(u(i.prototype.schema)),d[e]=i,n=0;n<a.length;n++)a[n].initSystem(e)}},{"../utils/":172,"./component":102,"./schema":110}],113:[function(e,t,n){e("./pivot")},{"./pivot":114}],114:[function(e,t,n){var i=e("../../core/component").registerComponent,a=e("../../lib/three"),o=new a.Vector3,s=new a.Vector3;i("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var e=this.data,t=this.el,n=t.object3D.parent,i=t.object3D,r=new a.Group;o.copy(i.position),s.copy(i.rotation),n.remove(i),r.add(i),n.add(r),t.object3D=r,i.position.set(-1*e.x,-1*e.y,-1*e.z),r.position.set(e.x+o.x,e.y+o.y,e.z+o.z),r.rotation.copy(i.rotation),i.rotation.set(0,0,0)}})},{"../../core/component":102,"../../lib/three":150}],115:[function(e,t,n){var i=e("../../core/component").components,r=e("../../core/shader").shaders,a=e("../../utils/"),o={};function s(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(t="material-fog"),"visible"===e&&(t="material-visible"),o[t]="material."+e}Object.keys(i.material.schema).forEach(s),Object.keys(r.standard.schema).forEach(s),t.exports=function(){return{defaultComponents:{material:{}},mappings:a.extend({},o)}}},{"../../core/component":102,"../../core/shader":111,"../../utils/":172}],116:[function(e,t,n){e("./primitives/a-camera"),e("./primitives/a-collada-model"),e("./primitives/a-cursor"),e("./primitives/a-curvedimage"),e("./primitives/a-gltf-model"),e("./primitives/a-image"),e("./primitives/a-light"),e("./primitives/a-link"),e("./primitives/a-obj-model"),e("./primitives/a-sky"),e("./primitives/a-sound"),e("./primitives/a-text"),e("./primitives/a-video"),e("./primitives/a-videosphere"),e("./primitives/meshPrimitives")},{"./primitives/a-camera":118,"./primitives/a-collada-model":119,"./primitives/a-cursor":120,"./primitives/a-curvedimage":121,"./primitives/a-gltf-model":122,"./primitives/a-image":123,"./primitives/a-light":124,"./primitives/a-link":125,"./primitives/a-obj-model":126,"./primitives/a-sky":127,"./primitives/a-sound":128,"./primitives/a-text":129,"./primitives/a-video":130,"./primitives/a-videosphere":131,"./primitives/meshPrimitives":132}],117:[function(e,n,t){var i=e("../../core/a-entity"),a=e("../../core/component").components,r=e("../../core/a-register-element").registerElement,c=e("../../utils/"),o=c.debug,s=c.entity.setComponentProperty,u=o("extras:primitives:debug"),l=o("extras:primitives:warn"),d=n.exports.primitives={};n.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),u("Registering <%s>",e),t.defaultAttributes&&l("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=r(e,{prototype:Object.create(i.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var n=this.mappings,i=this;Object.keys(n).forEach(function(e){var t;e!==e.toLowerCase()&&l("Mapping keys should be specified in lower case. The mapping key "+e+" may not be recognized"),a[e]&&(t=n[e].replace(".","-"),n[t]=n[e],delete n[e],console.warn("The primitive "+i.tagName.toLowerCase()+" has a mapping collision. The attribute "+e+" has the same name as a registered component and has been renamed to "+t))})}},getExtraComponents:{value:function(){var e,n,t,i,r,a,o=this;for(n=c.clone(this.defaultComponentsFromPrimitive),(r=this.getAttribute("mixin"))&&(r=r.trim().split(" ")).forEach(function(e){var t=o.sceneEl.querySelector("#"+e).componentCache;Object.keys(t).forEach(function(e){n[e]=function(e,t){if(s(e))return u(t);if(s(t))return u(e);if(l(e)&&l(t))return c.extendDeep(e,t);return u(t)}(n[e],t[e])})}),t=0;t<this.attributes.length;t++)e=this.attributes[t],(i=this.mappings[e.name])&&((a=c.entity.getComponentPropertyPath(i)).constructor===Array?(n[a[0]]=n[a[0]]||{},n[a[0]][a[1]]=e.value.trim()):n[a]=e.value.trim());return n;function s(e){return void 0===e}function u(e){return l(e)?c.extendDeep({},e):e}function l(e){return null!==e&&e.constructor===Object}}},attributeChangedCallback:{value:function(e,t,n){var i=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&i&&s(this,i,n)}}})});return d[e]=n},n.exports.definePrimitive=function(e,t,r){r=r||{},Object.keys(t).map(function(e){var n,i,t;i=r,t=a[n=e].schema,Object.keys(t).map(function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==i[t]&&(t=n+"-"+e),i[t]=n+"."+e})}),n.exports.registerPrimitive(e,c.extendDeep({},null,{defaultComponents:t,mappings:r}))}},{"../../core/a-entity":98,"../../core/a-register-element":101,"../../core/component":102,"../../utils/":172}],118:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{y:1.6}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},{"../primitives":117}],119:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-collada-model",{mappings:{src:"collada-model"}})},{"../primitives":117}],120:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-cursor",e("../../../utils/").extendDeep({},i(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],121:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-curvedimage",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],122:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":117}],123:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-image",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],124:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":117}],125:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-link",{defaultComponents:{},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},{"../primitives":117}],126:[function(e,t,n){var i=e("../getMeshMixin")();(0,e("../primitives").registerPrimitive)("a-obj-model",e("../../../utils/").extendDeep({},i,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],127:[function(e,t,n){var i=e("../getMeshMixin"),r=e("../primitives").registerPrimitive,a=e("../../../utils/"),o=e("./meshPrimitives");r("a-sky",a.extendDeep({},i(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:a.extendDeep({},o["a-sphere"].prototype.mappings)}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117,"./meshPrimitives":132}],128:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":117}],129:[function(e,t,n){(0,e("../primitives").definePrimitive)("a-text",{text:{anchor:"align",width:5}})},{"../primitives":117}],130:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-video",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],131:[function(e,t,n){var i=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-videosphere",e("../../../utils/").extendDeep({},i(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],132:[function(e,t,n){var o=e("../getMeshMixin"),s=e("../../../core/geometry").geometries,i=e("../../../core/geometry").geometryNames,u=e("../primitives").registerPrimitive,l=e("../../../utils/"),c=t.exports={};function d(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}i.forEach(function(e){var t=s[e],n=d(e),i={};Object.keys(t.schema).forEach(function(e){i[d(e)]="geometry."+e});var r="a-"+n,a=u(r,l.extendDeep({},o(),{defaultComponents:{geometry:{primitive:e}},mappings:i}));c[r]=a})},{"../../../core/geometry":103,"../../../utils/":172,"../getMeshMixin":115,"../primitives":117}],133:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new r.BoxGeometry(e.width,e.height,e.depth,e.segmentsWidth,e.segmentsHeight,e.segmentsDepth)}})},{"../core/geometry":103,"../lib/three":150}],134:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.CircleGeometry(e.radius,e.segments,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],135:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],136:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],137:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.DodecahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],138:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.IcosahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],139:[function(e,t,n){e("./box.js"),e("./circle.js"),e("./cone.js"),e("./cylinder.js"),e("./dodecahedron.js"),e("./icosahedron.js"),e("./octahedron.js"),e("./plane.js"),e("./ring.js"),e("./sphere.js"),e("./tetrahedron.js"),e("./torus.js"),e("./torusKnot.js"),e("./triangle.js")},{"./box.js":133,"./circle.js":134,"./cone.js":135,"./cylinder.js":136,"./dodecahedron.js":137,"./icosahedron.js":138,"./octahedron.js":140,"./plane.js":141,"./ring.js":142,"./sphere.js":143,"./tetrahedron.js":144,"./torus.js":145,"./torusKnot.js":146,"./triangle.js":147}],140:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.OctahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],141:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new r.PlaneGeometry(e.width,e.height,e.segmentsWidth,e.segmentsHeight)}})},{"../core/geometry":103,"../lib/three":150}],142:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new r.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],143:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new r.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,a(e.phiStart),a(e.phiLength),a(e.thetaStart),a(e.thetaLength))}})},{"../core/geometry":103,"../lib/three":150}],144:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new r.TetrahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":103,"../lib/three":150}],145:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three"),a=r.Math.degToRad;i("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new r.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,a(e.arc))}})},{"../core/geometry":103,"../lib/three":150}],146:[function(e,t,n){var i=e("../core/geometry").registerGeometry,r=e("../lib/three");i("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new r.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}})},{"../core/geometry":103,"../lib/three":150}],147:[function(e,t,n){var i=e("../core/geometry").registerGeometry,s=e("../lib/three"),u=new s.Quaternion,l=new s.Vector3(0,0,1),c=new s.Vector2,d=new s.Vector2,h=new s.Vector2;i("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(e){var t,n,i,r,a,o;(i=new s.Triangle).a.set(e.vertexA.x,e.vertexA.y,e.vertexA.z),i.b.set(e.vertexB.x,e.vertexB.y,e.vertexB.z),i.c.set(e.vertexC.x,e.vertexC.y,e.vertexC.z),n=i.normal(),u.setFromUnitVectors(n,l),r=i.a.clone().applyQuaternion(u),a=i.b.clone().applyQuaternion(u),o=i.c.clone().applyQuaternion(u),c.set(Math.min(r.x,a.x,o.x),Math.min(r.y,a.y,o.y)),d.set(Math.max(r.x,a.x,o.x),Math.max(r.y,a.y,o.y)),h.set(0,0).subVectors(d,c),r=(new s.Vector2).subVectors(r,c).divide(h),a=(new s.Vector2).subVectors(a,c).divide(h),o=(new s.Vector2).subVectors(o,c).divide(h),(t=this.geometry=new s.Geometry).vertices.push(i.a),t.vertices.push(i.b),t.vertices.push(i.c),t.faces.push(new s.Face3(0,1,2,n)),t.faceVertexUvs[0]=[[r,a,o]]}})},{"../core/geometry":103,"../lib/three":150}],148:[function(e,t,n){window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices;var i=e("webvr-polyfill");window.webvrpolyfill=new i({BUFFER_SCALE:1,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0});var r=e("./utils/"),a=r.debug,o=a("A-Frame:error"),s=a("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&s("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),"file:"===window.location.protocol&&o("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),window.Promise=window.Promise||e("promise-polyfill"),r.device.isIOSOlderThan10(window.navigator.userAgent)&&(window.WebVRConfig.BUFFER_SCALE=1/window.devicePixelRatio),e("present"),r.device.isBrowserEnvironment&&(e("./style/aframe.css"),e("./style/rStats.css"));var u=e("./core/scene/a-scene").AScene,l=e("./core/component").components,c=e("./core/component").registerComponent,d=e("./core/geometry").registerGeometry,h=e("./extras/primitives/primitives").registerPrimitive,p=e("./core/shader").registerShader,m=e("./core/system").registerSystem,f=e("./core/shader").shaders,g=e("./core/system").systems,_=window.THREE=e("./lib/three"),y=window.TWEEN=e("@tweenjs/tween.js"),v=e("../package");e("./components/index"),e("./geometries/index"),e("./shaders/index"),e("./systems/index");var M=e("./core/a-node"),A=e("./core/a-entity");e("./core/a-animation"),e("./core/a-assets"),e("./core/a-cubemap"),e("./core/a-mixin"),e("./extras/components/"),e("./extras/primitives/"),console.log("A-Frame Version: 0.8.2 (Date 2018-04-15, Commit #b20527f)"),console.log("three Version:",v.dependencies.three),console.log("WebVR Polyfill Version:",v.dependencies["webvr-polyfill"]),t.exports=window.AFRAME={AComponent:e("./core/component").Component,AEntity:A,ANode:M,AScene:u,components:l,geometries:e("./core/geometry").geometries,registerComponent:c,registerElement:e("./core/a-register-element").registerElement,registerGeometry:d,registerPrimitive:h,registerShader:p,registerSystem:m,primitives:{getMeshMixin:e("./extras/primitives/getMeshMixin"),primitives:e("./extras/primitives/primitives").primitives},scenes:e("./core/scene/scenes"),schema:e("./core/schema"),shaders:f,systems:g,THREE:_,TWEEN:y,utils:r,version:v.version}},{"../package":51,"./components/index":60,"./core/a-animation":95,"./core/a-assets":96,"./core/a-cubemap":97,"./core/a-entity":98,"./core/a-mixin":99,"./core/a-node":100,"./core/a-register-element":101,"./core/component":102,"./core/geometry":103,"./core/scene/a-scene":105,"./core/scene/scenes":108,"./core/schema":110,"./core/shader":111,"./core/system":112,"./extras/components/":113,"./extras/primitives/":116,"./extras/primitives/getMeshMixin":115,"./extras/primitives/primitives":117,"./geometries/index":139,"./lib/three":150,"./shaders/index":152,"./style/aframe.css":157,"./style/rStats.css":158,"./systems/index":161,"./utils/":172,"@tweenjs/tween.js":1,present:32,"promise-polyfill":33,"webvr-polyfill":46}],149:[function(e,t,n){window.aframeStats=function(e){var t=null,n=e;return{update:function(){var e;t("te").set((e=n.querySelectorAll("*"),Array.prototype.slice.call(e).filter(function(e){return e.isEntity}),e.length)),window.performance.getEntriesByName&&t("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(e){t=e},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"==typeof t&&(t.exports={aframeStats:window.aframeStats})},{}],150:[function(n,i,e){(function(e){var t=e.THREE=n("three");t.TextureLoader&&(t.TextureLoader.prototype.crossOrigin="anonymous"),t.ImageLoader&&(t.ImageLoader.prototype.crossOrigin="anonymous"),t.Cache&&(t.Cache.enabled=!0),n("three/examples/js/loaders/GLTFLoader"),n("three/examples/js/loaders/OBJLoader"),n("three/examples/js/loaders/MTLLoader"),n("three/examples/js/loaders/ColladaLoader"),t.ColladaLoader.prototype.crossOrigin="anonymous",t.GLTFLoader.prototype.crossOrigin="anonymous",t.MTLLoader.prototype.crossOrigin="anonymous",t.OBJLoader.prototype.crossOrigin="anonymous",i.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{three:40,"three/examples/js/loaders/ColladaLoader":41,"three/examples/js/loaders/GLTFLoader":42,"three/examples/js/loaders/MTLLoader":43,"three/examples/js/loaders/OBJLoader":44}],151:[function(e,t,n){var i=e("../core/shader").registerShader,r=e("../lib/three"),a=e("../utils/");function o(e){return{fog:e.fog,color:new r.Color(e.color),wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth}}t.exports.Shader=i("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.textureSrc=null,this.material=new r.MeshBasicMaterial(o(e)),a.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),a.material.updateMap(this,e)},updateMaterial:function(t){var n=this.material;t=o(t),Object.keys(t).forEach(function(e){n[e]=t[e]})}})},{"../core/shader":111,"../lib/three":150,"../utils/":172}],152:[function(e,t,n){e("./flat"),e("./standard"),e("./sdf"),e("./msdf"),e("./ios10hls")},{"./flat":151,"./ios10hls":153,"./msdf":154,"./sdf":155,"./standard":156}],153:[function(e,t,n){var i=e("../core/shader").registerShader;t.exports.Shader=i("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")})},{"../core/shader":111}],154:[function(e,t,n){var i=e("../core/shader").registerShader;t.exports.Shader=i("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","uniform bool negate;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","void main() {","  vec3 sample = texture2D(map, vUV).rgb;","  if (negate) {","    sample = 1.0 - sample;","  }","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  if (isBigEnough <= BIG_ENOUGH && alpha < alphaTest) { discard; return; }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n")})},{"../core/shader":111}],155:[function(e,t,n){var i=e("../core/shader").registerShader;t.exports.Shader=i("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#else","float aastep(float value, float afwidth) {","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","#endif","void main() {","#ifdef GL_OES_standard_derivatives","  vec2 uv = vUV;","  vec4 texColor = texture2D(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  else if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture2D(map, box.xy).a, width)","      + contour(texture2D(map, box.zw).a, width)","      + contour(texture2D(map, box.xw).a, width)","      + contour(texture2D(map, box.zy).a, width)","    )) / 3.0;","  }","  if (isBigEnough <= BIG_ENOUGH && alpha < alphaTest) { discard; return; }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","#else","  vec4 texColor = texture2D(map, vUV);","  float value = texColor.a;","  float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  float alpha = aastep(value, afwidth);","  float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","  if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","  alpha = alpha * ratio + (1.0 - ratio) * value;","  if (ratio < 1.0)","    if (alpha <= DISCARD_ALPHA) { discard; return; }","#endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":111}],156:[function(e,t,n){var i=e("../core/shader").registerShader,a=e("../lib/three"),o=e("../utils/"),s=new a.CubeTextureLoader,u={};function r(e){var t={color:new a.Color(e.color),emissive:new a.Color(e.emissive),emissiveIntensity:e.emissiveIntensity,fog:e.fog,metalness:e.metalness,roughness:e.roughness,wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth};return e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}t.exports.Shader=i("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.material=new a.MeshStandardMaterial(r(e)),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&o.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&o.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&o.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&o.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},updateMaterial:function(t){var n=this.material;t=r(t),Object.keys(t).forEach(function(e){n[e]=t[e]})},updateEnvMap:function(e){var n=this,i=this.material,r=e.envMap,t=e.sphericalEnvMap;if(!r&&!t||this.isLoadingEnvMap)return i.envMap=null,void(i.needsUpdate=!0);this.isLoadingEnvMap=!0,t?this.el.sceneEl.systems.material.loadTexture(t,{src:t},function(e){n.isLoadingEnvMap=!1,e.mapping=a.SphericalReflectionMapping,i.envMap=e,o.material.handleTextureEvents(n.el,e),i.needsUpdate=!0}):u[r]?u[r].then(function(e){n.isLoadingEnvMap=!1,i.envMap=e,o.material.handleTextureEvents(n.el,e),i.needsUpdate=!0}):u[r]=new Promise(function(t){o.srcLoader.validateCubemapSrc(r,function(e){s.load(e,function(e){n.isLoadingEnvMap=!1,i.envMap=e,o.material.handleTextureEvents(n.el,e),t(e)})})})}})},{"../core/shader":111,"../lib/three":150,"../utils/":172}],157:[function(e,t,n){var i=".a-html{bottom:0;left:0;position:fixed;right:0;top:0}.a-body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.a-canvas.a-grab-cursor:active,.a-grabbing{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}a-scene.fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;position:fixed!important}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:204px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;position:absolute;right:20px;bottom:20px}.a-enter-vr.embedded{right:5px;bottom:5px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;cursor:pointer;min-width:50px;min-height:30px;padding-right:5%;padding-top:4%;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}";e("browserify-css").createStyle(i,{href:"src\\style\\aframe.css"}),t.exports=i},{"browserify-css":5}],158:[function(e,t,n){var i=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";e("browserify-css").createStyle(i,{href:"src\\style\\rStats.css"}),t.exports=i},{"browserify-css":5}],159:[function(e,t,n){var i=e("../utils/bind"),r=e("../constants/"),a=e("../core/system").registerSystem,u="data-aframe-default-camera";t.exports.System=a("camera",{init:function(){this.activeCameraEl=null,this.sceneEl.addEventListener("loaded",i(this.setupDefaultCamera,this))},setupDefaultCamera:function(){var e,t=this.sceneEl;!t.camera||t.camera.el.getAttribute("camera").spectator?((e=document.createElement("a-entity")).setAttribute("camera",{active:!0}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(r.AFRAME_INJECTED,""),e.setAttribute("position",{x:0,y:r.DEFAULT_CAMERA_HEIGHT,z:0}),t.appendChild(e),t.addEventListener("enter-vr",this.removeDefaultOffset),t.addEventListener("exit-vr",this.addDefaultOffset),t.emit("camera-ready",{cameraEl:e})):t.emit("camera-ready",{cameraEl:t.camera.el})},disableActiveCamera:function(){var e=this.sceneEl.querySelectorAll("[camera]");e[e.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,n,i,r,a=this.activeCameraEl,o=this.sceneEl;if((r=e.getObject3D("camera"))&&e!==this.activeCameraEl){var s=o.querySelector("["+u+"]");for(e!==(s&&s.querySelector("[camera]"))&&function(e){var t;if(!e.camera)return;if(!(t=e.querySelector("["+u+"]")))return;e.removeChild(t)}(o),this.activeCameraEl=e,this.activeCameraEl.play(),o.camera=r,a&&a.setAttribute("camera","active",!1),n=o.querySelectorAll("[camera]"),i=0;i<n.length;i++)(t=n[i]).isEntity&&e!==t&&(t.setAttribute("camera","active",!1),t.pause());o.emit("camera-set-active",{cameraEl:e})}},setSpectatorCamera:function(e){var t,n=this.spectatorCameraEl,i=this.sceneEl;e.getObject3D("camera")&&e!==this.spectatorCameraEl&&(n&&n.setAttribute("camera","spectator",!1),(t=this.spectatorCameraEl=e).setAttribute("camera","active",!1),t.play(),i.emit("camera-set-spectator",{cameraEl:e}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},tock:function(){var e,t=this.sceneEl,n=t.renderer.vr.enabled;this.spectatorCameraEl&&!t.isMobile&&(e=this.spectatorCameraEl.components.camera.camera,t.renderer.vr.enabled=!1,t.renderer.render(t.object3D,e),t.renderer.vr.enabled=n)}})},{"../constants/":93,"../core/system":112,"../utils/bind":166}],160:[function(e,t,n){var r=e("../core/geometry").geometries,i=e("../core/system").registerSystem,a=e("../lib/three");function o(e){var t=e.primitive,n=r[t]&&r[t].Geometry,i=new n;if(!n)throw new Error("Unknown geometry `"+t+"`");return i.init(e),function(e,t){var n;if(!t)return e;return(n=(new a.BufferGeometry).fromGeometry(e)).metadata={type:e.type,parameters:e.parameters||{}},e.dispose(),n}(i.geometry,e.buffer)}t.exports.System=i("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,n,i,r,a=this.cache;return e.skipCache?o(e):(t=a[n=this.hash(e)],(i=this.cacheCount)[r=n]=void 0===i[r]?1:i[r]+1,t||(t=o(e),a[n]=t))},unuseGeometry:function(e){var t,n=this.cache,i=this.cacheCount;e.skipCache||n[t=this.hash(e)]&&(i[t]--,0<i[t]||(n[t].dispose(),delete n[t],delete i[t]))},hash:function(e){return JSON.stringify(e)}})},{"../core/geometry":103,"../core/system":112,"../lib/three":150}],161:[function(e,t,n){e("./camera"),e("./geometry"),e("./light"),e("./material"),e("./shadow"),e("./tracked-controls")},{"./camera":159,"./geometry":160,"./light":162,"./material":163,"./shadow":164,"./tracked-controls":165}],162:[function(e,t,n){var i=e("../core/system").registerSystem,r=e("../utils/bind"),a=e("../constants/"),o="data-aframe-default-light";t.exports.System=i("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",r(this.setupDefaultLights,this))},registerLight:function(e){e.hasAttribute(o)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var e,t=this.sceneEl;if(this.defaultLights){e=document.querySelectorAll("["+o+"]");for(var n=0;n<e.length;n++)t.removeChild(e[n]);this.defaultLights=!1}},setupDefaultLights:function(){var e,t,n=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((e=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),e.setAttribute(o,""),e.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(e),(t=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),t.setAttribute("position",{x:-.5,y:1,z:1}),t.setAttribute(o,""),t.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(t),this.defaultLights=!0)}})},{"../constants/":93,"../core/system":112,"../utils/bind":166}],163:[function(e,t,n){var i=e("../core/system").registerSystem,p=e("../lib/three"),r=e("../utils/"),m=e("../utils/material").isHLS,a=r.bind,o=r.debug,s=o("components:texture:error"),u=new p.TextureLoader,f=o("components:texture:warn");function g(e,t){var n=t.offset||{x:0,y:0},i=t.repeat||{x:1,y:1};(t.npot||!1)&&(e.wrapS=p.ClampToEdgeWrapping,e.wrapT=p.ClampToEdgeWrapping,e.magFilter=p.LinearFilter,e.minFilter=p.LinearFilter),1===i.x&&1===i.y||(e.wrapS=p.RepeatWrapping,e.wrapT=p.RepeatWrapping,e.repeat.set(i.x,i.y)),0===n.x&&0===n.y||e.offset.set(n.x,n.y)}u.setCrossOrigin("anonymous"),t.exports.System=i("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",a(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,n){var i=this;if("CANVAS"!==e.tagName){if("VIDEO"===e.tagName)return e.src||e.srcObject||e.childElementCount||f("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(e,t,n);r.srcLoader.validateSrc(e,function(e){i.loadImage(e,t,n)},function(e){i.loadVideo(e,t,n)})}else this.loadCanvas(e,t,n)},loadImage:function(e,t,n){var i,r,a=this.hash(t),o=this.textureCache;o[a]?o[a].then(n):(o[a]=(i=e,r=t,new Promise(function(t,e){function n(e){g(e,r),e.needsUpdate=!0,t(e)}"string"==typeof i?u.load(i,n,function(){},function(e){s("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)}):n(new p.Texture(i))})),o[a].then(n))},loadCanvas:function(e,t,n){e.readyState=2,e.HAVE_CURRENT_DATA=2,this.loadVideo(e,t,n)},loadVideo:function(e,t,n){var i,r,a,o,s,u,l,c,d=this.textureCache;function h(e){e.texture.needsUpdate=!0,n(e.texture,e.videoEl)}if("string"!=typeof e){if(a=e,d[i=this.hashVideo(t,a)])return void d[i].then(h);!function(e){e.autoplay=e.hasAttribute("autoplay")&&"false"!==e.getAttribute("autoplay"),e.controls=e.hasAttribute("controls")&&"false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop");"false"===e.getAttribute("preload")&&(e.preload="none");e.crossOrigin=e.crossOrigin||"anonymous",e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")}(a)}a=a||(s=e,u=t.width,l=t.height,(c=document.createElement("video")).width=u,c.height=l,c.setAttribute("playsinline",""),c.setAttribute("webkit-playsinline",""),c.autoplay=!0,c.loop=!0,c.crossOrigin="anonymous",c.addEventListener("error",function(){f("`$s` is not a valid video",s)},!0),c.src=s,c),d[i=this.hashVideo(t,a)]?d[i].then(h):((r=new p.VideoTexture(a)).minFilter=p.LinearFilter,g(r,t),this.sceneEl.isIOS&&m(a.src||a.getAttribute("src"),a.type||a.getAttribute("type"))&&(r.format=p.RGBAFormat,r.needsCorrectionBGRA=!0,r.flipY=!1,r.needsCorrectionFlipY=!0),o={texture:r,videoEl:a},d[i]=Promise.resolve(o),h(o))},hash:function(e){return e.src.tagName&&((e=r.extendDeep({},e)).src=e.src.src),JSON.stringify(e)},hashVideo:function(e,t){return function(e,t){var n,i,r,a=t.getAttribute("id");if(a)return a;for(i="",r=e||{},n=0;n<t.attributes.length;n++)r[t.attributes[n].name]=t.attributes[n].value;return Object.keys(r).sort().forEach(function(e){i+=e+":"+r[e]+";"}),i}(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(t){delete this.materials[t.uuid];var n=this.textureCounts;Object.keys(t).filter(function(e){return t[e]&&t[e].isTexture}).forEach(function(e){n[t[e].uuid]--,n[t[e].uuid]<=0&&t[e].dispose()})},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})},onMaterialTextureLoaded:function(e){this.textureCounts[e.detail.texture.uuid]||(this.textureCounts[e.detail.texture.uuid]=0),this.textureCounts[e.detail.texture.uuid]++}})},{"../core/system":112,"../lib/three":150,"../utils/":172,"../utils/material":173}],164:[function(e,t,n){var i=e("../core/system").registerSystem,r=e("../lib/three"),a={basic:r.BasicShadowMap,pcf:r.PCFShadowMap,pcfsoft:r.PCFSoftShadowMap};t.exports.System=i("shadow",{schema:{autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var e=this.sceneEl,t=this.data;this.shadowMapEnabled=!1,e.renderer&&(e.renderer.shadowMap.type=a[t.type],e.renderer.shadowMap.autoUpdate=t.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},setShadowMapEnabled:function(e){var t=this.sceneEl.renderer;this.shadowMapEnabled=e,t&&(t.shadowMap.enabled=e)}})},{"../core/system":112,"../lib/three":150}],165:[function(e,t,n){var i=e("../core/system").registerSystem,r=e("../utils");t.exports.System=i("tracked-controls",{init:function(){var t=this;this.controllers=[],this.updateControllerList(navigator.getGamepads&&navigator.getGamepads()),this.throttledUpdateControllerList=r.throttle(this.updateControllerList,500,this),navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(e){e.length&&(t.vrDisplay=e[0])})})},tick:function(){var e;e=navigator.getGamepads&&navigator.getGamepads(),this.throttledUpdateControllerList(e)},updateControllerList:function(e){var t,n,i,r=this.controllers;if(e){for(i=r.length,n=r.length=0;n<e.length;++n)(t=e[n])&&t.pose&&r.push(t);r.length!==i&&this.el.emit("controllersupdated",void 0,!1)}}})},{"../core/system":112,"../utils":172}],166:[function(e,t,n){t.exports=function(t,n){return i=Array.prototype.slice.call(arguments,2),function(){var e=i.concat(Array.prototype.slice.call(arguments,0));return t.apply(n,e)};var i}},{}],167:[function(e,t,n){var i=e("./debug"),r=e("object-assign"),a=i("utils:coordinates:warn"),o=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;function s(e){return o.test(e)}function u(e){var t;for(t in e)void 0!==e[t]?e[t].constructor===String&&(e[t]=parseFloat(e[t],10)):delete e[t];return e}t.exports.regex=o,t.exports.parse=function(e,t){var n,i;return e&&e instanceof Object?(t&&(e.x=void 0===e.x?t.x:e.x,e.y=void 0===e.y?t.y:e.y,e.z=void 0===e.z?t.z:e.z,e.w=void 0===e.w?t.w:e.w),u(e)):null==e?"object"==typeof t?r({},t):t:(n=e.trim().replace(/\s+/g," ").split(" "),(i={}).x=n[0]||t&&t.x,i.y=n[1]||t&&t.y,i.z=n[2]||t&&t.z,i.w=n[3]||t&&t.w,u(i))},t.exports.stringify=function(e){return"object"!=typeof e?e:[e.x,e.y,e.z,e.w].join(" ").trim()},t.exports.isCoordinates=s,t.exports.isCoordinate=function(e){return a("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),s(e)},t.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)}},{"./debug":168,"object-assign":26}],168:[function(o,s,e){(function(e){var r=o("debug"),t=o("object-assign"),a={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},n=function(e){var t,n,i=r(e);return i.color=(n=e.split(":"),t=n[n.length-1],a.colors&&a.colors[t]||null),i};t(n,r);var i=function(){try{return window.localStorage}catch(e){}}();i&&(parseInt(i.logs,10)||"true"===i.logs)?n.enable("*"):n.enable("*:error,*:info,*:warn"),e.browser&&(window.logs=n),s.exports=n}).call(this,o("_process"))},{_process:6,debug:10,"object-assign":26}],169:[function(e,d,t){(function(e){var i,r;function t(){return i}navigator.getVRDisplays&&navigator.getVRDisplays().then(function(e){i=e.length&&e[0],r="Cardboard VRDisplay"===i.displayName}),d.exports.getVRDisplay=t,d.exports.checkHeadsetConnected=function(){return!!t()},d.exports.checkHasPositionalTracking=function(){var e=t();return!o()&&!l()&&e&&e.capabilities.hasPosition};var n,a,o=(a=!1,n=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(a=!0),(u()||s()||c())&&(a=!0),function(){return a});function s(e){var t=e||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t)}function u(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function l(){return/SamsungBrowser.+Mobile VR/i.test(window.navigator.userAgent)}function c(){return/R7 Build/.test(window.navigator.userAgent)}d.exports.isMobile=o,d.exports.isTablet=s,d.exports.isIOS=u,d.exports.isGearVR=l,d.exports.isR7=c,d.exports.isLandscape=function(){var e=window.orientation;return c()&&(e+=90),90===e||-90===e},d.exports.isIOSOlderThan10=function(e){return/(iphone|ipod|ipad).*os.(7|8|9)/i.test(e)},d.exports.isBrowserEnvironment=!(e&&!e.browser),d.exports.isNodeEnvironment=!d.exports.isBrowserEnvironment,d.exports.PolyfillControls=function(t){var n;window.VRFrameData&&(n=new window.VRFrameData),this.update=function(){var e;i&&r&&(i.getFrameData(n),null!==(e=n.pose).orientation&&t.quaternion.fromArray(e.orientation),null!==e.position?t.position.fromArray(e.position):t.position.set(0,0,0))}}}).call(this,e("_process"))},{_process:6}],170:[function(e,t,n){var i={};function a(e,t){return i[t=t||"."]||(i[t]={}),-1!==e.indexOf(t)?i[t][e]=e.split(t):i[t][e]=e,i[t][e]}t.exports.getComponentPropertyPath=a,t.exports.propertyPathCache=i,t.exports.getComponentProperty=function(e,t,n){var i;return n=n||".",-1!==t.indexOf(n)?(i=a(t,n)).constructor===String?e.getAttribute(i):e.getAttribute(i[0])[i[1]]:e.getAttribute(t)},t.exports.setComponentProperty=function(e,t,n,i){var r;i=i||".",-1===t.indexOf(i)?e.setAttribute(t,n):(r=a(t,i)).constructor===String?e.setAttribute(r,n):e.setAttribute(r[0],r[1],n)}},{}],171:[function(e,t,n){t.exports=function(e){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t,10)+1+"px",e.style.height=parseInt(n,10)+1+"px",setTimeout(function(){e.style.width=t,e.style.height=n},200)}},{}],172:[function(e,o,t){var n=e("./debug"),i=e("deep-assign"),r=e("./device"),a=e("object-assign"),s=e("./object-pool"),u=n("utils:warn");o.exports.bind=e("./bind"),o.exports.coordinates=e("./coordinates"),o.exports.debug=n,o.exports.device=r,o.exports.entity=e("./entity"),o.exports.forceCanvasResizeSafariMobile=e("./forceCanvasResizeSafariMobile"),o.exports.material=e("./material"),o.exports.objectPool=s,o.exports.split=e("./split").split,o.exports.styleParser=e("./styleParser"),o.exports.trackedControls=e("./tracked-controls"),o.exports.checkHeadsetConnected=function(){return u("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),r.checkHeadsetConnected(arguments)},o.exports.isGearVR=function(){return u("`utils.isGearVR` has moved to `utils.device.isGearVR`"),r.isGearVR(arguments)},o.exports.isIOS=function(){return u("`utils.isIOS` has moved to `utils.device.isIOS`"),r.isIOS(arguments)},o.exports.isMobile=function(){return u("`utils.isMobile has moved to `utils.device.isMobile`"),r.isMobile(arguments)},o.exports.throttle=function(t,n,e){var i;return e&&(t=o.exports.bind(t,e)),function(){var e=Date.now();(void 0===i||n<=(void 0===i?n:e-i))&&(i=e,t.apply(null,arguments))}},o.exports.throttleTick=function(i,r,e){var a;return e&&(i=o.exports.bind(i,e)),function(e,t){var n=void 0===a?t:e-a;(void 0===a||r<=n)&&i(a=e,n)}},o.exports.debounce=function(i,r,a){var o;return function(){var e=this,t=arguments,n=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||i.apply(e,t)},r),n&&i.apply(e,t)}},o.exports.extend=a,o.exports.extendDeep=i,o.exports.clone=function(e){return JSON.parse(JSON.stringify(e))};var l,c,d=(l=s.createPool(function(){return[]}),function(e,t){var n,i,r,a,o,s;if(void 0===e||void 0===t||null===e||null===t||!(e&&t&&e.constructor===Object&&t.constructor===Object||e.constructor===Array&&t.constructor===Array))return e===t;for(n in i=l.use(),r=l.use(),i.length=0,r.length=0,e)i.push(n);for(n in t)r.push(n);if(i.length!==r.length)return l.recycle(i),l.recycle(r),!1;for(a=0;a<i.length;++a)if(o=e[i[a]],s=t[i[a]],"object"==typeof o||"object"==typeof s||Array.isArray(o)&&Array.isArray(s)){if(o===s)continue;if(!d(o,s))return l.recycle(i),l.recycle(r),!1}else if(o!==s)return l.recycle(i),l.recycle(r),!1;return l.recycle(i),l.recycle(r),!0});o.exports.deepEqual=d,o.exports.diff=(c=[],function(e,t,n){var i,r,a,o,s,u,l;for(s in o=n||{},c.length=0,e)c.push(s);if(!t)return o;for(a in t)-1===c.indexOf(a)&&c.push(a);for(u=0;u<c.length;u++)i=e[s=c[u]],r=t[s],((l=i&&r&&i.constructor===Object&&r.constructor===Object)&&!d(i,r)||!l&&i!==r)&&(o[s]=r);return o}),o.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},o.exports.splitString=function(e,t){void 0===t&&(t=" ");var n=new RegExp(t,"g");return(e=(e||"").replace(n,t)).split(t)},o.exports.getElData=function(t,e){e=e||{};var n={};return Object.keys(e).forEach(function(e){t.hasAttribute(e)&&(n[e]=t.getAttribute(e))}),n},o.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},o.exports.isIframed=function(){return window.top!==window.self},o.exports.findAllScenes=function(e){for(var t=[],n=e.getElementsByTagName("*"),i=0,r=n.length;i<r;i++)n[i].isScene&&t.push(n[i]);return t},o.exports.srcLoader=e("./src-loader")},{"./bind":166,"./coordinates":167,"./debug":168,"./device":169,"./entity":170,"./forceCanvasResizeSafariMobile":171,"./material":173,"./object-pool":174,"./split":175,"./src-loader":176,"./styleParser":177,"./tracked-controls":178,"deep-assign":12,"object-assign":26}],173:[function(e,n,t){var u=e("../lib/three"),i=["application/x-mpegurl","application/vnd.apple.mpegurl"];function l(e,t){t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",function(){e.components&&e.components.material&&(t.needsCorrectionBGRA&&t.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(e.components.material.data.shader)&&e.setAttribute("material","shader","ios10hls"),e.emit("materialvideoloadeddata",{src:t.image,texture:t}))}),t.image.addEventListener("ended",function(){e.emit("materialvideoended",{src:t.image,texture:t})})))}n.exports.updateMapMaterialFromData=function(t,e,n,i){var r=n.el,a=n.material,o=i[e];if(n.materialSrcs||(n.materialSrcs={}),!o)return delete n.materialSrcs[t],void s(null);function s(e){a[t]=e,a.needsUpdate=!0,l(r,e)}o!==n.materialSrcs[t]&&((n.materialSrcs[t]=o)instanceof u.Texture?s(o):r.sceneEl.systems.material.loadTexture(o,{src:o,repeat:i.repeat,offset:i.offset,npot:i.npot},function(e){if(n.materialSrcs[t]!==o)return;s(e)}))},n.exports.updateMap=function(e,t){return n.exports.updateMapMaterialFromData("map","src",e,t)},n.exports.updateDistortionMap=function(e,t,n){var i=e;"ambientOcclusion"===e&&(i="ao");var r=t.el,a=t.material,o=n[e+"Map"],s={};if(s.src=o,s.offset=n[e+"TextureOffset"],s.repeat=n[e+"TextureRepeat"],s.wrap=n[e+"TextureWrap"],o){if(o===t[e+"TextureSrc"])return;return t[e+"TextureSrc"]=o,void r.sceneEl.systems.material.loadTexture(o,s,u)}function u(e){a[i+"Map"]=e,a.needsUpdate=!0,l(r,e)}a.map&&u(null)},n.exports.handleTextureEvents=l,n.exports.isHLS=function(e,t){return!(!t||!i.includes(t.toLowerCase()))||!!(e&&0<e.toLowerCase().indexOf(".m3u8"))}},{"../lib/three":150}],174:[function(e,t,n){var o=Object.freeze(Object.create(null));function s(){return{}}function u(e){var t;if(e.constructor===Object)for(t in e)e[t]=void 0}t.exports.createPool=function(i){var r=[],a=null;function t(e){var t,n;if(0<(e=void 0===e?r.length:e)&&null==a&&(a=0),0<e)for(t=r.length,r.length+=Number(e),n=t;n<r.length;n++)r[n]=i();return r.length}return i=i||s,{grow:t,pool:r,recycle:function(e){e instanceof Object&&(null!==a&&-1!==a?r[--a]=e:r[r.length]=e)},size:function(){return r.length},use:function(){var e;return null!==a&&a!==r.length||t(r.length||5),e=r[a],r[a++]=o,u(e),e}}},t.exports.clearObject=u},{}],175:[function(e,t,n){var i;t.exports.split=(i={},function(e,t){return t in i||(i[t]={}),e in i[t]||(i[t][e]=e.split(t)),i[t][e]})},{}],176:[function(e,t,n){var u=e("./debug")("utils:src-loader:warn");function l(t,n,i){!function(n,i){var r;if(n.tagName)return i("IMG"===n.tagName);(r=new XMLHttpRequest).open("HEAD",n),r.addEventListener("load",function(e){var t;200<=r.status&&r.status<300?null==(t=r.getResponseHeader("Content-Type"))?a(n,i):t.startsWith("image")?i(!0):i(!1):a(n,i),r.abort()}),r.send()}(t,function(e){e?n(t):i(t)})}function c(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1]}function a(e,t){var n=new Image;n.addEventListener("load",function(){t(!0)}),n.addEventListener("error",function(){t(!1)}),n.src=e}t.exports={parseUrl:c,validateSrc:l,validateCubemapSrc:function(e,t){var n,i,r,a="",o=[];for(i=0;i<5;i++)a+="(url\\((?:[^\\)]+)\\),\\s*)";function s(e){o.push(e),6===o.length&&t(o)}if(a+="(url\\((?:[^\\)]+)\\)\\s*)",r=e.match(new RegExp(a)))for(i=1;i<7;i++)l(c(r[i]),s);else if(n=function(t){try{var e=document.querySelector(t);return e||u('No element was found matching the selector: "%s"',t),e}catch(e){return void u('"%s" is not a valid selector',t)}}(e))return"A-CUBEMAP"===n.tagName&&n.srcs?t(n.srcs):void u('Selector "%s" does not point to <a-cubemap>',e)}}},{"./debug":168}],177:[function(e,t,n){var i=e("style-attr");function r(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function a(n){var e=Object.keys(n),i={};return e.forEach(function(e){var t=r(e);i[t]=n[e]}),i}t.exports.parse=function(e){var t;return"string"!=typeof e?e:(t=i.parse(e))[""]?e:a(t)},t.exports.stringify=function(e){return"string"==typeof e?e:i.stringify(e)},t.exports.toCamelCase=r,t.exports.transformKeysToCamelCase=a},{"style-attr":35}],178:[function(e,t,n){var p=e("./split").split,m=e("../constants").DEFAULT_HANDEDNESS,u=["x","y","z","w"],f=2;function a(e,t,n){var i,r,a=e.el.sceneEl,o=n.index||0;return!!t&&(!!(r=a&&a.systems["tracked-controls"])&&(!!(i=r.controllers).length&&!!s(i,null,t,n.hand,o)))}function s(e,t,n,i,r){var a,o,s,u,l,c,d=0,h=r||0;for(n&&0<=n.indexOf("|")&&(o=p(n,"|")),s=0;s<e.length;s++){if(a=e[s],o){for(l=!1,u=0;u<o.length;u++)if((c=o[u])&&a.id.startsWith(c)){l=!0;break}if(!l)continue}else if(n&&a.id.indexOf(n))continue;if((n||a.id===t)&&(!i||!a.hand||i===a.hand)){if(i&&!a.hand&&(h=f*r+(i===m?0:1)),d===h)return a;++d}}}t.exports.checkControllerPresentAndSetup=function(e,t,n){var i=e.el,r=a(e,t,n);if(e.controllerPresent&&!e.controllerEventsActive&&e.addEventListeners(),r===e.controllerPresent)return r;(e.controllerPresent=r)?(e.injectTrackedControls(),e.addEventListeners(),i.emit("controllerconnected",{name:e.name,component:e})):(e.removeEventListeners(),i.emit("controllerdisconnected",{name:e.name,component:e}))},t.exports.isControllerPresent=a,t.exports.findMatchingController=s,t.exports.emitIfAxesChanged=function(e,t,n){var i,r,a,o,s;for(r in t){for(i=t[r],a=!1,s=0;s<i.length;s++)n.detail.changed[i[s]]&&(a=!0);if(a){for(o={},s=0;s<i.length;s++)o[u[s]]=n.detail.axis[i[s]];e.el.emit(r+"moved",o)}}},t.exports.onButtonEvent=function(e,t,n,i){var r=(i?n.mapping[i]:n.mapping).buttons[e];n.el.emit(r+t),n.updateModel&&n.updateModel(r,t)}},{"../constants":93,"./split":175}],179:[function(e,t,n){window.glStats=function(){var t=null,e=0,n=0,i=0,r=0,a=0,o=0,s=0;function u(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=u(WebGLRenderingContext.prototype.drawArrays,function(){e++,arguments[0]==this.POINTS?o+=arguments[2]:a+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=u(WebGLRenderingContext.prototype.drawElements,function(){n++,r+=arguments[1]/3,a+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=u(WebGLRenderingContext.prototype.useProgram,function(){i++}),WebGLRenderingContext.prototype.bindTexture=u(WebGLRenderingContext.prototype.bindTexture,function(){s++});return{update:function(){t("allcalls").set(e+n),t("drawElements").set(n),t("drawArrays").set(e),t("bindTexture").set(s),t("useProgram").set(i),t("glfaces").set(r),t("glvertices").set(a),t("glpoints").set(o)},start:function(){s=o=a=r=i=n=e=0},end:function(){},attach:function(e){t=e},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){var t=null;return{update:function(){t("renderer.info.memory.geometries").set(e.info.memory.geometries),t("renderer.info.programs").set(e.info.programs.length),t("renderer.info.memory.textures").set(e.info.memory.textures),t("renderer.info.render.calls").set(e.info.render.calls),t("renderer.info.render.faces").set(e.info.render.faces),t("renderer.info.render.points").set(e.info.render.points),t("renderer.info.render.vertices").set(e.info.render.vertices)},start:function(){},end:function(){},attach:function(e){t=e},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.faces":{caption:"Faces",over:1e3},"renderer.info.render.points":{caption:"Points"},"renderer.info.render.vertices":{caption:"Vertices"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.faces","renderer.info.render.points","renderer.info.render.vertices"]}],fractions:[]}},window.BrowserStats=function(){var t=null,e=0,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var i=Math.log(1024);function r(e){var t=Math.floor(Math.log(e)/i);return Math.round(100*e/Math.pow(1024,t))/100}return{update:function(){e=r(performance.memory.usedJSHeapSize),n=r(performance.memory.totalJSHeapSize),t("memory").set(e),t("total").set(n)},start:function(){e=0},end:function(){},attach:function(e){t=e},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},"object"==typeof t&&(t.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],180:[function(e,t,n){"use strict";!function(){"performance"in window==0&&(window.performance={});var e=window.performance;if("now"in e==0){var t=Date.now();e.timing&&e.timing.navigationStart&&(t=e.timing.navigationStart),e.now=function(){return Date.now()-t}}e.mark||(e.mark=function(){}),e.measure||(e.measure=function(){})}(),window.rStats=function(e){function o(e,t){for(var n=Object.keys(e),i=0,r=n.length;i<r;i++)t(n[i])}var M=e||{},s=M.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],t=(M.CSSPath?M.CSSPath:"")+"rStats.css";(M.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",t]).forEach(function(e){var t,n;t=e,(n=document.createElement("link")).href=t,n.rel="stylesheet",n.type="text/css",document.getElementsByTagName("head")[0].appendChild(n)}),M.values||(M.values={});var n,A,p=10,m=200,u={};function b(e,t,n){var i=n||{},r=document.createElement("canvas"),a=r.getContext("2d"),o=0,s=0,u=i.color?i.color:"#666666",l=document.createElement("canvas"),c=l.getContext("2d");l.width=1,l.height=2*p,c.fillStyle="#444444",c.fillRect(0,0,1,2*p),c.fillStyle=u,c.fillRect(0,p,1,p),c.fillStyle="#ffffff",c.globalAlpha=.5,c.fillRect(0,p,1,1),c.globalAlpha=1;var d=document.createElement("canvas"),h=d.getContext("2d");return d.width=1,d.height=2*p,h.fillStyle="#444444",h.fillRect(0,0,1,2*p),h.fillStyle="#b70000",h.fillRect(0,p,1,p),h.globalAlpha=.5,h.fillStyle="#ffffff",h.fillRect(0,p,1,1),h.globalAlpha=1,r.width=m,r.height=p,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),a.fillStyle="#444444",a.fillRect(0,0,r.width,r.height),{draw:function(e,t){(o*=.99)<(s+=.1*(e-s))&&(o=s),a.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height),t?a.drawImage(d,r.width-1,r.height-s*r.height/o-p):a.drawImage(l,r.width-1,r.height-s*r.height/o-p)}}}function l(e,t){var r=document.createElement("canvas"),a=r.getContext("2d");return r.width=m,r.height=p*t,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),a.fillStyle="#444444",a.fillRect(0,0,r.width,r.height),{draw:function(n){a.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height);var i=0;o(n,function(e){var t=n[e]*r.height;a.fillStyle=s[e],a.fillRect(r.width-1,i,1,t),i+=t})}}}function r(e,t){var n,i=e,r=0,a=0,o=0,s=0,u=performance.now(),l=0,c=document.createElement("div"),d=document.createElement("span"),h=document.createElement("div"),p=document.createTextNode(""),m=M?M.values[i.toLowerCase()]:null,f=new b(c,i,m),g=!1;function _(e){if(m&&m.average){s+=e,l++;var t=performance.now();t-u>=(m.avgMs||1e3)&&(o=s/l,u=t,l=s=0)}}function y(){n=performance.now(),M.userTimingAPI&&performance.mark(i+"-start"),g=!0}function v(){r=performance.now()-n,M.userTimingAPI&&(performance.mark(i+"-end"),g&&performance.measure(i,i+"-start",i+"-end")),_(r)}return d.className="rs-counter-id",d.textContent=m&&m.caption?m.caption:i,h.className="rs-counter-value",h.appendChild(p),c.appendChild(d),c.appendChild(h),t?t.div.appendChild(c):A.appendChild(c),n=performance.now(),{set:function(e){_(r=e)},start:y,tick:function(){v(),y()},end:v,frame:function(){var e=performance.now(),t=e-n;a++,1e3<t&&(r=m&&!1===m.interpolate?a:1e3*a/t,a=0,n=e,_(r))},value:function(){return r},draw:function(){var e=m&&m.average?o:r;p.nodeValue=Math.round(100*e)/100;var t=m&&(m.below&&r<m.below||m.over&&r>m.over);f.draw(r,t),c.className=t?"rs-counter-base alarm":"rs-counter-base"}}}function i(e){var n=e.toLowerCase();if(void 0===n&&(n="default"),u[n])return u[n];var i=null;M&&M.groups&&o(M.groups,function(e){var t=M.groups[parseInt(e,10)];i||-1===t.values.indexOf(n.toLowerCase())||(i=t)});var t=new r(n,i);return u[n]=t}function a(){o(M.plugins,function(e){M.plugins[e].update()}),o(u,function(e){u[e].draw()}),M&&M.fractions&&o(M.fractions,function(i){var e=M.fractions[parseInt(i,10)],r=[],a=u[e.base.toLowerCase()];a&&(a=a.value(),o(M.fractions[i].steps,function(e){var t=M.fractions[i].steps[parseInt(e,10)].toLowerCase(),n=u[t];n&&r.push(n.value()/a)})),e.graph.draw(r)})}return function(){if(M.plugins){M.values||(M.values={}),M.groups||(M.groups=[]),M.fractions||(M.fractions=[]);for(var t=0;t<M.plugins.length;t++)M.plugins[t].attach(i),o(M.plugins[t].values,function(e){M.values[e]=M.plugins[t].values[e]}),M.groups=M.groups.concat(M.plugins[t].groups),M.fractions=M.fractions.concat(M.plugins[t].fractions)}else M.plugins={};(n=document.createElement("div")).className="rs-base",(A=document.createElement("div")).className="rs-container",A.style.height="auto",n.appendChild(A),document.body.appendChild(n),M&&(M.groups&&o(M.groups,function(e){var t=M.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;var i=document.createElement("h1");i.textContent=t.caption,i.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),A.appendChild(i),A.appendChild(n)}),M.fractions&&o(M.fractions,function(n){var e=M.fractions[parseInt(n,10)],t=document.createElement("div");t.className="rs-fraction";var i=document.createElement("div");i.className="rs-legend";var r=0;o(M.fractions[n].steps,function(e){var t=document.createElement("p");t.textContent=M.fractions[n].steps[e],t.style.color=s[r],i.appendChild(t),r++}),t.appendChild(i),t.style.height=r*p+"px";var a=new l(e.div=t,r);e.graph=a,A.appendChild(t)}))}(),function(e){return e?i(e):{element:n,update:a}}},"object"==typeof t&&(t.exports=window.rStats)},{}],181:[function(e,t,n){var i={base64:function(e,t){return"data:"+e+";base64,"+t},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},appendQueryParameter:function(e,t,n){var i=e.indexOf("?")<0?"?":"&";return e+=i+t+"="+n},getQueryParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};t.exports=i},{}],182:[function(e,t,n){var i,r=e("./util.js");function a(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=r.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}function o(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){e&&(clearInterval(e),e=null)}}t.exports=(i=navigator.userAgent||navigator.vendor||window.opera).match(/iPhone/i)||i.match(/iPod/i)?o:a},{"./util.js":181}]},{},[148])(148)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,r;function h(){return e.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function g(e,t,n,i){return Lt(e,t,n,i,!0).utc()}function _(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function y(e){if(null==e._isValid){var t=_(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=g(NaN);return null!=e?f(_(t),e):_(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var a=h.momentProperties=[];function M(e,t){var n,i,r;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=_(t)),l(t._locale)||(e._locale=t._locale),0<a.length)for(n=0;n<a.length;n++)l(r=t[i=a[n]])||(e[i]=r);return e}var t=!1;function A(e){M(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,h.updateOffset(this),t=!1)}function b(e){return e instanceof A||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function o(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&x(e[i])!==x(t[i]))&&o++;return o+a}function E(e){!1===h.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(r,a){var o=!0;return f(function(){if(null!=h.deprecationHandler&&h.deprecationHandler(null,r),o){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var i in e+="\n["+n+"] ",arguments[0])e+=i+": "+arguments[0][i]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}E(r+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var i,L={};function T(e,t){null!=h.deprecationHandler&&h.deprecationHandler(e,t),L[e]||(E(t),L[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e,t){var n,i=f({},e);for(n in t)m(t,n)&&(u(e[n])&&u(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)m(e,n)&&!m(t,n)&&u(e[n])&&(i[n]=f({},i[n]));return i}function C(e){null!=e&&this.set(e)}h.suppressDeprecationWarnings=!1,h.deprecationHandler=null,i=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n};var N={};function k(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function I(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function j(e){var t,n,i={};for(n in e)m(e,n)&&(t=I(n))&&(i[t]=e[n]);return i}var O={};function z(e,t){O[e]=t}function R(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},U={};function H(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(U[e]=r),t&&(U[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function F(e,t){return e.isValid()?(t=G(t,e.localeData()),B[t]=B[t]||function(i){var e,r,t,a=i.match(P);for(e=0,r=a.length;e<r;e++)U[a[e]]?a[e]=U[a[e]]:a[e]=(t=a[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<r;t++)n+=D(a[t])?a[t].call(e,i):a[t];return n}}(t),B[t](e)):e.localeData().invalidDate()}function G(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(Y.lastIndex=0;0<=n&&Y.test(e);)e=e.replace(Y,i),Y.lastIndex=0,n-=1;return e}var V=/\d/,W=/\d\d/,Q=/\d{3}/,q=/\d{4}/,Z=/[+-]?\d{6}/,X=/\d\d?/,J=/\d\d\d\d?/,K=/\d\d\d\d\d\d?/,$=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,re=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function ue(e,n,i){se[e]=D(n)?n:function(e,t){return e&&i?i:n}}function le(e,t){return m(se,e)?se[e](t._strict,t._locale):new RegExp(ce(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function he(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),c(n)&&(i=function(e,t){t[n]=x(e)}),t=0;t<e.length;t++)de[e[t]]=i}function pe(e,r){he(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}var me=0,fe=1,ge=2,_e=3,ye=4,ve=5,Me=6,Ae=7,be=8;function we(e){return xe(e)?366:365}function xe(e){return e%4==0&&e%100!=0||e%400==0}H("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),k("year","y"),z("year",1),ue("Y",ie),ue("YY",X,W),ue("YYYY",ee,q),ue("YYYYY",te,Z),ue("YYYYYY",te,Z),he(["YYYYY","YYYYYY"],me),he("YYYY",function(e,t){t[me]=2===e.length?h.parseTwoDigitYear(e):x(e)}),he("YY",function(e,t){t[me]=h.parseTwoDigitYear(e)}),he("Y",function(e,t){t[me]=parseInt(e,10)}),h.parseTwoDigitYear=function(e){return x(e)+(68<x(e)?1900:2e3)};var Ee,Le=Te("FullYear",!0);function Te(t,n){return function(e){return null!=e?(Se(this,t,e),h.updateOffset(this,n),this):De(this,t)}}function De(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Se(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&xe(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ce(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ce(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?xe(e)?29:28:31-i%7%2}Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),k("month","M"),z("month",8),ue("M",X),ue("MM",X,W),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),he(["M","MM"],function(e,t){t[fe]=x(e)-1}),he(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[fe]=r:_(n).invalidMonth=e});var Ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Oe(e){return null!=e?(je(this,e),h.updateOffset(this,!0),this):De(this,"Month")}var ze=oe;var Re=oe;function Pe(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],a=[];for(t=0;t<12;t++)n=g([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)i[t]=ce(i[t]),r[t]=ce(r[t]);for(t=0;t<24;t++)a[t]=ce(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Be(e,t,n){var i=7+t-n;return-((7+Ye(e,0,i).getUTCDay()-t)%7)+i-1}function Ue(e,t,n,i,r){var a,o,s=1+7*(t-1)+(7+n-i)%7+Be(e,i,r);return s<=0?o=we(a=e-1)+s:s>we(e)?(a=e+1,o=s-we(e)):(a=e,o=s),{year:a,dayOfYear:o}}function He(e,t,n){var i,r,a=Be(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?i=o+Fe(r=e.year()-1,t,n):o>Fe(e.year(),t,n)?(i=o-Fe(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function Fe(e,t,n){var i=Be(e,t,n),r=Be(e+1,t,n);return(we(e)-i+r)/7}H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),z("week",5),z("isoWeek",5),ue("w",X),ue("ww",X,W),ue("W",X),ue("WW",X,W),pe(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=x(e)});H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),ue("d",X),ue("e",X),ue("E",X),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),pe(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:_(n).invalidWeekday=e}),pe(["d","e","E"],function(e,t,n,i){t[i]=x(e)});var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var We="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Qe=oe;var qe=oe;var Ze=oe;function Xe(){function e(e,t){return t.length-e.length}var t,n,i,r,a,o=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=g([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(i),s.push(r),u.push(a),l.push(i),l.push(r),l.push(a);for(o.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)s[t]=ce(s[t]),u[t]=ce(u[t]),l[t]=ce(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Je(){return this.hours()%12||12}function Ke(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $e(e,t){return t._meridiemParse}H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Je),H("k",["kk",2],0,function(){return this.hours()||24}),H("hmm",0,0,function(){return""+Je.apply(this)+R(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Je.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+R(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),k("hour","h"),z("hour",13),ue("a",$e),ue("A",$e),ue("H",X),ue("h",X),ue("k",X),ue("HH",X,W),ue("hh",X,W),ue("kk",X,W),ue("hmm",J),ue("hmmss",K),ue("Hmm",J),ue("Hmmss",K),he(["H","HH"],_e),he(["k","kk"],function(e,t,n){var i=x(e);t[_e]=24===i?0:i}),he(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),he(["h","hh"],function(e,t,n){t[_e]=x(e),_(n).bigHour=!0}),he("hmm",function(e,t,n){var i=e.length-2;t[_e]=x(e.substr(0,i)),t[ye]=x(e.substr(i)),_(n).bigHour=!0}),he("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[_e]=x(e.substr(0,i)),t[ye]=x(e.substr(i,2)),t[ve]=x(e.substr(r)),_(n).bigHour=!0}),he("Hmm",function(e,t,n){var i=e.length-2;t[_e]=x(e.substr(0,i)),t[ye]=x(e.substr(i))}),he("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[_e]=x(e.substr(0,i)),t[ye]=x(e.substr(i,2)),t[ve]=x(e.substr(r))});var et,tt=Te("Hours",!0),nt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ke,monthsShort:Ie,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:We,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},it={},rt={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function ot(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=et._abbr,require("./locale/"+e),st(t)}catch(e){}return it[e]}function st(e,t){var n;return e&&((n=l(t)?lt(e):ut(e,t))?et=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),et._abbr}function ut(e,t){if(null!==t){var n,i=nt;if(t.abbr=e,null!=it[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])i=it[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return it[e]=new C(S(i,t)),rt[e]&&rt[e].forEach(function(e){ut(e.name,e.config)}),st(e),it[e]}return delete it[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return et;if(!s(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,i,r,a=0;a<e.length;){for(t=(r=at(e[a]).split("-")).length,n=(n=at(e[a+1]))?n.split("-"):null;0<t;){if(i=ot(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&o(r,n,!0)>=t-1)break;t--}a++}return et}(e)}function ct(e){var t,n=e._a;return n&&-2===_(e).overflow&&(t=n[fe]<0||11<n[fe]?fe:n[ge]<1||n[ge]>Ce(n[me],n[fe])?ge:n[_e]<0||24<n[_e]||24===n[_e]&&(0!==n[ye]||0!==n[ve]||0!==n[Me])?_e:n[ye]<0||59<n[ye]?ye:n[ve]<0||59<n[ve]?ve:n[Me]<0||999<n[Me]?Me:-1,_(e)._overflowDayOfYear&&(t<me||ge<t)&&(t=ge),_(e)._overflowWeeks&&-1===t&&(t=Ae),_(e)._overflowWeekday&&-1===t&&(t=be),_(e).overflow=t),e}function dt(e,t,n){return null!=e?e:null!=t?t:n}function ht(e){var t,n,i,r,a,o=[];if(!e._d){var s,u;for(s=e,u=new Date(h.now()),i=s._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],e._w&&null==e._a[ge]&&null==e._a[fe]&&function(e){var t,n,i,r,a,o,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,n=dt(t.GG,e._a[me],He(Tt(),1,4).year),i=dt(t.W,1),((r=dt(t.E,1))<1||7<r)&&(u=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var l=He(Tt(),a,o);n=dt(t.gg,e._a[me],l.year),i=dt(t.w,l.week),null!=t.d?((r=t.d)<0||6<r)&&(u=!0):null!=t.e?(r=t.e+a,(t.e<0||6<t.e)&&(u=!0)):r=a}i<1||i>Fe(n,a,o)?_(e)._overflowWeeks=!0:null!=u?_(e)._overflowWeekday=!0:(s=Ue(n,i,r,a,o),e._a[me]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=dt(e._a[me],i[me]),(e._dayOfYear>we(a)||0===e._dayOfYear)&&(_(e)._overflowDayOfYear=!0),n=Ye(a,0,e._dayOfYear),e._a[fe]=n.getUTCMonth(),e._a[ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[_e]&&0===e._a[ye]&&0===e._a[ve]&&0===e._a[Me]&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?Ye:function(e,t,n,i,r,a,o){var s=new Date(e,t,n,i,r,a,o);return e<100&&0<=e&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(_(e).weekdayMismatch=!0)}}var pt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yt=/^\/?Date\((\-?\d+)/i;function vt(e){var t,n,i,r,a,o,s=e._i,u=pt.exec(s)||mt.exec(s);if(u){for(_(e).iso=!0,t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[1])){r=gt[t][0],i=!1!==gt[t][2];break}if(null==r)return void(e._isValid=!1);if(u[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(u[3])){a=(u[2]||" ")+_t[t][0];break}if(null==a)return void(e._isValid=!1)}if(!i&&null!=a)return void(e._isValid=!1);if(u[4]){if(!ft.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),xt(e)}else e._isValid=!1}var Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function At(e,t,n,i,r,a){var o=[function(e){var t=parseInt(e,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(e),Ie.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}var bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,n,i,r=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(r){var a=At(r[4],r[3],r[2],r[5],r[6],r[7]);if(t=r[1],n=a,i=e,t&&Ve.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(_(i).weekdayMismatch=!0,!(i._isValid=!1)))return;e._a=a,e._tzm=function(e,t,n){if(e)return bt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(r[8],r[9],r[10]),e._d=Ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),_(e).rfc2822=!0}else e._isValid=!1}function xt(e){if(e._f!==h.ISO_8601)if(e._f!==h.RFC_2822){e._a=[],_(e).empty=!0;var t,n,i,r,a,o,s,u,l=""+e._i,c=l.length,d=0;for(i=G(e._f,e._locale).match(P)||[],t=0;t<i.length;t++)r=i[t],(n=(l.match(le(r,e))||[])[0])&&(0<(a=l.substr(0,l.indexOf(n))).length&&_(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),d+=n.length),U[r]?(n?_(e).empty=!1:_(e).unusedTokens.push(r),o=r,u=e,null!=(s=n)&&m(de,o)&&de[o](s,u._a,u,o)):e._strict&&!n&&_(e).unusedTokens.push(r);_(e).charsLeftOver=c-d,0<l.length&&_(e).unusedInput.push(l),e._a[_e]<=12&&!0===_(e).bigHour&&0<e._a[_e]&&(_(e).bigHour=void 0),_(e).parsedDateParts=e._a.slice(0),_(e).meridiem=e._meridiem,e._a[_e]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0)),t)}(e._locale,e._a[_e],e._meridiem),ht(e),ct(e)}else wt(e);else vt(e)}function Et(e){var t,n,i,r,a=e._i,o=e._f;return e._locale=e._locale||lt(e._l),null===a||void 0===o&&""===a?v({nullInput:!0}):("string"==typeof a&&(e._i=a=e._locale.preparse(a)),b(a)?new A(ct(a)):(d(a)?e._d=a:s(o)?function(e){var t,n,i,r,a;if(0===e._f.length)return _(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)a=0,t=M({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],xt(t),y(t)&&(a+=_(t).charsLeftOver,a+=10*_(t).unusedTokens.length,_(t).score=a,(null==i||a<i)&&(i=a,n=t));f(e,n||t)}(e):o?xt(e):l(n=(t=e)._i)?t._d=new Date(h.now()):d(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(i=t,null===(r=yt.exec(i._i))?(vt(i),!1===i._isValid&&(delete i._isValid,wt(i),!1===i._isValid&&(delete i._isValid,h.createFromInputFallback(i)))):i._d=new Date(+r[1])):s(n)?(t._a=p(n.slice(0),function(e){return parseInt(e,10)}),ht(t)):u(n)?function(e){if(!e._d){var t=j(e._i);e._a=p([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ht(e)}}(t):c(n)?t._d=new Date(n):h.createFromInputFallback(t),y(e)||(e._d=null),e))}function Lt(e,t,n,i,r){var a,o={};return!0!==n&&!1!==n||(i=n,n=void 0),(u(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,(a=new A(ct(Et(o))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Tt(e,t,n,i){return Lt(e,t,n,i,!1)}h.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),h.ISO_8601=function(){},h.RFC_2822=function(){};var Dt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),St=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:v()});function Ct(e,t){var n,i;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Nt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kt(e){var t=j(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ee.call(Nt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Nt.length;++i)if(e[Nt[i]]){if(n)return!1;parseFloat(e[Nt[i]])!==x(e[Nt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=lt(),this._bubble()}function It(e){return e instanceof kt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ot(e,n){H(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+R(~~(e/60),2)+n+R(~~e%60,2)})}Ot("Z",":"),Ot("ZZ",""),ue("Z",ae),ue("ZZ",ae),he(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(ae,e)});var zt=/([\+\-]|\d\d)/gi;function Rt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(zt)||["-",0,0],r=60*i[1]+x(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Pt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(b(e)||d(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),h.updateOffset(n,!1),n):Tt(e).local()}function Yt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}h.updateOffset=function(){};var Ut=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ft(e,t){var n,i,r,a=e,o=null;return It(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=Ut.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:x(o[ge])*n,h:x(o[_e])*n,m:x(o[ye])*n,s:x(o[ve])*n,ms:x(jt(1e3*o[Me]))*n}):(o=Ht.exec(e))?(n="-"===o[1]?-1:(o[1],1),a={y:Gt(o[2],n),M:Gt(o[3],n),w:Gt(o[4],n),d:Gt(o[5],n),h:Gt(o[6],n),m:Gt(o[7],n),s:Gt(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Pt(t,e),e.isBefore(t)?n=Vt(e,t):((n=Vt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Tt(a.from),Tt(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new kt(a),It(e)&&m(e,"_locale")&&(i._locale=e._locale),i}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(T(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Qt(this,Ft(e="string"==typeof e?+e:e,t),i),this}}function Qt(e,t,n,i){var r=t._milliseconds,a=jt(t._days),o=jt(t._months);e.isValid()&&(i=null==i||i,o&&je(e,De(e,"Month")+o*n),a&&Se(e,"Date",De(e,"Date")+a*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&h.updateOffset(e,a||o))}Ft.fn=kt.prototype,Ft.invalid=function(){return Ft(NaN)};var qt=Wt(1,"add"),Zt=Wt(-1,"subtract");function Xt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Jt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",h.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function $t(){return this._locale}function en(e,t){H(0,[e,e.length],0,t)}function tn(e,t,n,i,r){var a;return null==e?He(this,i,r).year:((a=Fe(e,i,r))<t&&(t=a),function(e,t,n,i,r){var a=Ue(e,t,n,i,r),o=Ye(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,i,r))}H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),en("gggg","weekYear"),en("ggggg","weekYear"),en("GGGG","isoWeekYear"),en("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),ue("G",ie),ue("g",ie),ue("GG",X,W),ue("gg",X,W),ue("GGGG",ee,q),ue("gggg",ee,q),ue("GGGGG",te,Z),ue("ggggg",te,Z),pe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=x(e)}),pe(["gg","GG"],function(e,t,n,i){t[i]=h.parseTwoDigitYear(e)}),H("Q",0,"Qo","quarter"),k("quarter","Q"),z("quarter",7),ue("Q",V),he("Q",function(e,t){t[fe]=3*(x(e)-1)}),H("D",["DD",2],"Do","date"),k("date","D"),z("date",9),ue("D",X),ue("DD",X,W),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),he(["D","DD"],ge),he("Do",function(e,t){t[ge]=x(e.match(X)[0])});var nn=Te("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),z("dayOfYear",4),ue("DDD",$),ue("DDDD",Q),he(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),H("m",["mm",2],0,"minute"),k("minute","m"),z("minute",14),ue("m",X),ue("mm",X,W),he(["m","mm"],ye);var rn=Te("Minutes",!1);H("s",["ss",2],0,"second"),k("second","s"),z("second",15),ue("s",X),ue("ss",X,W),he(["s","ss"],ve);var an,on=Te("Seconds",!1);for(H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),z("millisecond",16),ue("S",$,V),ue("SS",$,W),ue("SSS",$,Q),an="SSSS";an.length<=9;an+="S")ue(an,ne);function sn(e,t){t[Me]=x(1e3*("0."+e))}for(an="S";an.length<=9;an+="S")he(an,sn);var un=Te("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var ln=A.prototype;function cn(e){return e}ln.add=qt,ln.calendar=function(e,t){var n=e||Tt(),i=Pt(n,this).startOf("day"),r=h.calendarFormat(this,i)||"sameElse",a=t&&(D(t[r])?t[r].call(this,n):t[r]);return this.format(a||this.localeData().calendar(r,this,Tt(n)))},ln.clone=function(){return new A(this)},ln.diff=function(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=Pt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=I(t)){case"year":a=Xt(this,i)/12;break;case"month":a=Xt(this,i);break;case"quarter":a=Xt(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:w(a)},ln.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},ln.format=function(e){e||(e=this.isUtc()?h.defaultFormatUtc:h.defaultFormat);var t=F(this,e);return this.localeData().postformat(t)},ln.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Tt(e).isValid())?Ft({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ln.fromNow=function(e){return this.from(Tt(),e)},ln.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Tt(e).isValid())?Ft({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ln.toNow=function(e){return this.to(Tt(),e)},ln.get=function(e){return D(this[e=I(e)])?this[e]():this},ln.invalidAt=function(){return _(this).overflow},ln.isAfter=function(e,t){var n=b(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(l(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},ln.isBefore=function(e,t){var n=b(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(l(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},ln.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},ln.isSame=function(e,t){var n,i=b(e)?e:Tt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},ln.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ln.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ln.isValid=function(){return y(this)},ln.lang=Kt,ln.locale=Jt,ln.localeData=$t,ln.max=St,ln.min=Dt,ln.parsingFlags=function(){return f({},_(this))},ln.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:O[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=j(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(D(this[e=I(e)]))return this[e](t);return this},ln.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},ln.subtract=Zt,ln.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},ln.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},ln.toDate=function(){return new Date(this.valueOf())},ln.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?F(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",F(n,"Z")):F(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ln.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},ln.toJSON=function(){return this.isValid()?this.toISOString():null},ln.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ln.unix=function(){return Math.floor(this.valueOf()/1e3)},ln.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ln.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ln.year=Le,ln.isLeapYear=function(){return xe(this.year())},ln.weekYear=function(e){return tn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ln.isoWeekYear=function(e){return tn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ln.quarter=ln.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ln.month=Oe,ln.daysInMonth=function(){return Ce(this.year(),this.month())},ln.week=ln.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ln.isoWeek=ln.isoWeeks=function(e){var t=He(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ln.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},ln.isoWeeksInYear=function(){return Fe(this.year(),1,4)},ln.date=nn,ln.day=ln.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},ln.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ln.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(n=e,i=this.localeData(),"string"==typeof n?i.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?t:t-7)}return this.day()||7;var n,i},ln.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ln.hour=ln.hours=tt,ln.minute=ln.minutes=rn,ln.second=ln.seconds=on,ln.millisecond=ln.milliseconds=un,ln.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Rt(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Yt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Qt(this,Ft(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Yt(this)},ln.utc=function(e){return this.utcOffset(0,e)},ln.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Yt(this),"m")),this},ln.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},ln.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ln.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ln.isLocal=function(){return!!this.isValid()&&!this._isUTC},ln.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ln.isUtc=Bt,ln.isUTC=Bt,ln.zoneAbbr=function(){return this._isUTC?"UTC":""},ln.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ln.dates=n("dates accessor is deprecated. Use date instead.",nn),ln.months=n("months accessor is deprecated. Use month instead",Oe),ln.years=n("years accessor is deprecated. Use year instead",Le),ln.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),ln.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(M(e,this),(e=Et(e))._a){var t=e._isUTC?g(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&0<o(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var dn=C.prototype;function hn(e,t,n,i){var r=lt(),a=g().set(i,t);return r[n](a,e)}function pn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return hn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=hn(e,i,n,"month");return r}function mn(e,t,n,i){"boolean"==typeof e?c(t)&&(n=t,t=void 0):(t=e,e=!1,c(n=t)&&(n=t,t=void 0)),t=t||"";var r,a=lt(),o=e?a._week.dow:0;if(null!=n)return hn(t,(n+o)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=hn(t,(r+o)%7,i,"day");return s}dn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i},dn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},dn.invalidDate=function(){return this._invalidDate},dn.ordinal=function(e){return this._ordinal.replace("%d",e)},dn.preparse=cn,dn.postformat=cn,dn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return D(r)?r(e,t,n,i):r.replace(/%d/i,e)},dn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},dn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},dn.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ne).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},dn.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ne.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dn.monthsParse=function(e,t,n){var i,r,a;if(this._monthsParseExact)return function(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=g([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ee.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ee.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=Ee.call(this._shortMonthsParse,o))?r:-1!==(r=Ee.call(this._longMonthsParse,o))?r:null:-1!==(r=Ee.call(this._longMonthsParse,o))?r:-1!==(r=Ee.call(this._shortMonthsParse,o))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=g([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},dn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Re),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},dn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=ze),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},dn.week=function(e){return He(e,this._week.dow,this._week.doy).week},dn.firstDayOfYear=function(){return this._week.doy},dn.firstDayOfWeek=function(){return this._week.dow},dn.weekdays=function(e,t){return e?s(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},dn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},dn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},dn.weekdaysParse=function(e,t,n){var i,r,a;if(this._weekdaysParseExact)return function(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=g([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ee.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ee.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ee.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=Ee.call(this._weekdaysParse,o))?r:-1!==(r=Ee.call(this._shortWeekdaysParse,o))?r:-1!==(r=Ee.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ee.call(this._shortWeekdaysParse,o))?r:-1!==(r=Ee.call(this._weekdaysParse,o))?r:-1!==(r=Ee.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ee.call(this._minWeekdaysParse,o))?r:-1!==(r=Ee.call(this._weekdaysParse,o))?r:-1!==(r=Ee.call(this._shortWeekdaysParse,o))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=g([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},dn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=Qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},dn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},dn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},st("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),h.lang=n("moment.lang is deprecated. Use moment.locale instead.",st),h.langData=n("moment.langData is deprecated. Use moment.localeData instead.",lt);var fn=Math.abs;function gn(e,t,n,i){var r=Ft(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function _n(e){return e<0?Math.floor(e):Math.ceil(e)}function yn(e){return 4800*e/146097}function vn(e){return 146097*e/4800}function Mn(e){return function(){return this.as(e)}}var An=Mn("ms"),bn=Mn("s"),wn=Mn("m"),xn=Mn("h"),En=Mn("d"),Ln=Mn("w"),Tn=Mn("M"),Dn=Mn("y");function Sn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Cn=Sn("milliseconds"),Nn=Sn("seconds"),kn=Sn("minutes"),In=Sn("hours"),jn=Sn("days"),On=Sn("months"),zn=Sn("years");var Rn=Math.round,Pn={ss:44,s:45,m:45,h:22,d:26,M:11};var Yn=Math.abs;function Bn(e){return(0<e)-(e<0)||+e}function Un(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Yn(this._milliseconds)/1e3,i=Yn(this._days),r=Yn(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var a=w(r/12),o=r%=12,s=i,u=t,l=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Bn(this._months)!==Bn(d)?"-":"",m=Bn(this._days)!==Bn(d)?"-":"",f=Bn(this._milliseconds)!==Bn(d)?"-":"";return h+"P"+(a?p+a+"Y":"")+(o?p+o+"M":"")+(s?m+s+"D":"")+(u||l||c?"T":"")+(u?f+u+"H":"")+(l?f+l+"M":"")+(c?f+c+"S":"")}var Hn=kt.prototype;Hn.isValid=function(){return this._isValid},Hn.abs=function(){var e=this._data;return this._milliseconds=fn(this._milliseconds),this._days=fn(this._days),this._months=fn(this._months),e.milliseconds=fn(e.milliseconds),e.seconds=fn(e.seconds),e.minutes=fn(e.minutes),e.hours=fn(e.hours),e.months=fn(e.months),e.years=fn(e.years),this},Hn.add=function(e,t){return gn(this,e,t,1)},Hn.subtract=function(e,t){return gn(this,e,t,-1)},Hn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+i/864e5,n=this._months+yn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(vn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Hn.asMilliseconds=An,Hn.asSeconds=bn,Hn.asMinutes=wn,Hn.asHours=xn,Hn.asDays=En,Hn.asWeeks=Ln,Hn.asMonths=Tn,Hn.asYears=Dn,Hn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Hn._bubble=function(){var e,t,n,i,r,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return 0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0||(a+=864e5*_n(vn(s)+o),s=o=0),u.milliseconds=a%1e3,e=w(a/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,s+=r=w(yn(o+=w(n/24))),o-=_n(vn(r)),i=w(s/12),s%=12,u.days=o,u.months=s,u.years=i,this},Hn.clone=function(){return Ft(this)},Hn.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Hn.milliseconds=Cn,Hn.seconds=Nn,Hn.minutes=kn,Hn.hours=In,Hn.days=jn,Hn.weeks=function(){return w(this.days()/7)},Hn.months=On,Hn.years=zn,Hn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,i,r,a,o,s,u,l,c,d,h=this.localeData(),p=(n=!e,i=h,r=Ft(t=this).abs(),a=Rn(r.as("s")),o=Rn(r.as("m")),s=Rn(r.as("h")),u=Rn(r.as("d")),l=Rn(r.as("M")),c=Rn(r.as("y")),(d=a<=Pn.ss&&["s",a]||a<Pn.s&&["ss",a]||o<=1&&["m"]||o<Pn.m&&["mm",o]||s<=1&&["h"]||s<Pn.h&&["hh",s]||u<=1&&["d"]||u<Pn.d&&["dd",u]||l<=1&&["M"]||l<Pn.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=n,d[3]=0<+t,d[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,d));return e&&(p=h.pastFuture(+this,p)),h.postformat(p)},Hn.toISOString=Un,Hn.toString=Un,Hn.toJSON=Un,Hn.locale=Jt,Hn.localeData=$t,Hn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Un),Hn.lang=Kt,H("X",0,0,"unix"),H("x",0,0,"valueOf"),ue("x",ie),ue("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),he("x",function(e,t,n){n._d=new Date(x(e))}),h.version="2.22.2",e=Tt,h.fn=ln,h.min=function(){return Ct("isBefore",[].slice.call(arguments,0))},h.max=function(){return Ct("isAfter",[].slice.call(arguments,0))},h.now=function(){return Date.now?Date.now():+new Date},h.utc=g,h.unix=function(e){return Tt(1e3*e)},h.months=function(e,t){return pn(e,t,"months")},h.isDate=d,h.locale=st,h.invalid=v,h.duration=Ft,h.isMoment=b,h.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},h.parseZone=function(){return Tt.apply(null,arguments).parseZone()},h.localeData=lt,h.isDuration=It,h.monthsShort=function(e,t){return pn(e,t,"monthsShort")},h.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},h.defineLocale=ut,h.updateLocale=function(e,t){if(null!=t){var n,i,r=nt;null!=(i=ot(e))&&(r=i._config),(n=new C(t=S(r,t))).parentLocale=it[e],it[e]=n,st(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},h.locales=function(){return i(it)},h.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},h.normalizeUnits=I,h.relativeTimeRounding=function(e){return void 0===e?Rn:"function"==typeof e&&(Rn=e,!0)},h.relativeTimeThreshold=function(e,t){return void 0!==Pn[e]&&(void 0===t?Pn[e]:(Pn[e]=t,"s"===e&&(Pn.ss=t-1),!0))},h.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},h.prototype=ln,h.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},h.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[MÃ´re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),h.defineLocale("ar-dz",{months:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),monthsShort:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø§Ø­Ø¯_Ø§Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø§Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø£Ø­_Ø¥Ø«_Ø«ÙØ§_Ø£Ø±_Ø®Ù_Ø¬Ù_Ø³Ø¨".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:0,doy:4}}),h.defineLocale("ar-kw",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥ØªÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø§Ø­Ø¯_Ø§ØªÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø§Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:0,doy:12}});var Fn={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Gn=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},Vn={s:["Ø£ÙÙ ÙÙ Ø«Ø§ÙÙØ©","Ø«Ø§ÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø«Ø§ÙÙØªØ§Ù","Ø«Ø§ÙÙØªÙÙ"],"%d Ø«ÙØ§Ù","%d Ø«Ø§ÙÙØ©","%d Ø«Ø§ÙÙØ©"],m:["Ø£ÙÙ ÙÙ Ø¯ÙÙÙØ©","Ø¯ÙÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø¯ÙÙÙØªØ§Ù","Ø¯ÙÙÙØªÙÙ"],"%d Ø¯ÙØ§Ø¦Ù","%d Ø¯ÙÙÙØ©","%d Ø¯ÙÙÙØ©"],h:["Ø£ÙÙ ÙÙ Ø³Ø§Ø¹Ø©","Ø³Ø§Ø¹Ø© ÙØ§Ø­Ø¯Ø©",["Ø³Ø§Ø¹ØªØ§Ù","Ø³Ø§Ø¹ØªÙÙ"],"%d Ø³Ø§Ø¹Ø§Øª","%d Ø³Ø§Ø¹Ø©","%d Ø³Ø§Ø¹Ø©"],d:["Ø£ÙÙ ÙÙ ÙÙÙ","ÙÙÙ ÙØ§Ø­Ø¯",["ÙÙÙØ§Ù","ÙÙÙÙÙ"],"%d Ø£ÙØ§Ù","%d ÙÙÙÙØ§","%d ÙÙÙ"],M:["Ø£ÙÙ ÙÙ Ø´ÙØ±","Ø´ÙØ± ÙØ§Ø­Ø¯",["Ø´ÙØ±Ø§Ù","Ø´ÙØ±ÙÙ"],"%d Ø£Ø´ÙØ±","%d Ø´ÙØ±Ø§","%d Ø´ÙØ±"],y:["Ø£ÙÙ ÙÙ Ø¹Ø§Ù","Ø¹Ø§Ù ÙØ§Ø­Ø¯",["Ø¹Ø§ÙØ§Ù","Ø¹Ø§ÙÙÙ"],"%d Ø£Ø¹ÙØ§Ù","%d Ø¹Ø§ÙÙØ§","%d Ø¹Ø§Ù"]},Wn=function(o){return function(e,t,n,i){var r=Gn(e),a=Vn[o][Gn(e)];return 2===r&&(a=a[t?0:1]),a.replace(/%d/i,e)}},Qn=["ÙÙØ§ÙØ±","ÙØ¨Ø±Ø§ÙØ±","ÙØ§Ø±Ø³","Ø£Ø¨Ø±ÙÙ","ÙØ§ÙÙ","ÙÙÙÙÙ","ÙÙÙÙÙ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙØ¨Ø±","Ø£ÙØªÙØ¨Ø±","ÙÙÙÙØ¨Ø±","Ø¯ÙØ³ÙØ¨Ø±"];h.defineLocale("ar-ly",{months:Qn,monthsShort:Qn,weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/âM/âYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(e){return"Ù"===e},meridiem:function(e,t,n){return e<12?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯ÙØ§ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"Ø¨Ø¹Ø¯ %s",past:"ÙÙØ° %s",s:Wn("s"),ss:Wn("s"),m:Wn("m"),mm:Wn("m"),h:Wn("h"),hh:Wn("h"),d:Wn("d"),dd:Wn("d"),M:Wn("M"),MM:Wn("M"),y:Wn("y"),yy:Wn("y")},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Fn[e]}).replace(/,/g,"Ø")},week:{dow:6,doy:12}}),h.defineLocale("ar-ma",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥ØªÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø§Ø­Ø¯_Ø§ØªÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø§Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:6,doy:12}});var qn={1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©",0:"Ù "},Zn={"Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù ":"0"};h.defineLocale("ar-sa",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§ÙÙ_ÙÙÙÙÙ_ÙÙÙÙÙ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§ÙÙ_ÙÙÙÙÙ_ÙÙÙÙÙ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(e){return"Ù"===e},meridiem:function(e,t,n){return e<12?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},preparse:function(e){return e.replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g,function(e){return Zn[e]}).replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return qn[e]}).replace(/,/g,"Ø")},week:{dow:0,doy:6}}),h.defineLocale("ar-tn",{months:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),monthsShort:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",ss:"%d Ø«Ø§ÙÙØ©",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:1,doy:4}});var Xn={1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©",0:"Ù "},Jn={"Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù ":"0"},Kn=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},$n={s:["Ø£ÙÙ ÙÙ Ø«Ø§ÙÙØ©","Ø«Ø§ÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø«Ø§ÙÙØªØ§Ù","Ø«Ø§ÙÙØªÙÙ"],"%d Ø«ÙØ§Ù","%d Ø«Ø§ÙÙØ©","%d Ø«Ø§ÙÙØ©"],m:["Ø£ÙÙ ÙÙ Ø¯ÙÙÙØ©","Ø¯ÙÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø¯ÙÙÙØªØ§Ù","Ø¯ÙÙÙØªÙÙ"],"%d Ø¯ÙØ§Ø¦Ù","%d Ø¯ÙÙÙØ©","%d Ø¯ÙÙÙØ©"],h:["Ø£ÙÙ ÙÙ Ø³Ø§Ø¹Ø©","Ø³Ø§Ø¹Ø© ÙØ§Ø­Ø¯Ø©",["Ø³Ø§Ø¹ØªØ§Ù","Ø³Ø§Ø¹ØªÙÙ"],"%d Ø³Ø§Ø¹Ø§Øª","%d Ø³Ø§Ø¹Ø©","%d Ø³Ø§Ø¹Ø©"],d:["Ø£ÙÙ ÙÙ ÙÙÙ","ÙÙÙ ÙØ§Ø­Ø¯",["ÙÙÙØ§Ù","ÙÙÙÙÙ"],"%d Ø£ÙØ§Ù","%d ÙÙÙÙØ§","%d ÙÙÙ"],M:["Ø£ÙÙ ÙÙ Ø´ÙØ±","Ø´ÙØ± ÙØ§Ø­Ø¯",["Ø´ÙØ±Ø§Ù","Ø´ÙØ±ÙÙ"],"%d Ø£Ø´ÙØ±","%d Ø´ÙØ±Ø§","%d Ø´ÙØ±"],y:["Ø£ÙÙ ÙÙ Ø¹Ø§Ù","Ø¹Ø§Ù ÙØ§Ø­Ø¯",["Ø¹Ø§ÙØ§Ù","Ø¹Ø§ÙÙÙ"],"%d Ø£Ø¹ÙØ§Ù","%d Ø¹Ø§ÙÙØ§","%d Ø¹Ø§Ù"]},ei=function(o){return function(e,t,n,i){var r=Kn(e),a=$n[o][Kn(e)];return 2===r&&(a=a[t?0:1]),a.replace(/%d/i,e)}},ti=["ÙÙØ§ÙØ±","ÙØ¨Ø±Ø§ÙØ±","ÙØ§Ø±Ø³","Ø£Ø¨Ø±ÙÙ","ÙØ§ÙÙ","ÙÙÙÙÙ","ÙÙÙÙÙ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙØ¨Ø±","Ø£ÙØªÙØ¨Ø±","ÙÙÙÙØ¨Ø±","Ø¯ÙØ³ÙØ¨Ø±"];h.defineLocale("ar",{months:ti,monthsShort:ti,weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/âM/âYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(e){return"Ù"===e},meridiem:function(e,t,n){return e<12?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯ÙØ§ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"Ø¨Ø¹Ø¯ %s",past:"ÙÙØ° %s",s:ei("s"),ss:ei("s"),m:ei("m"),mm:ei("m"),h:ei("h"),hh:ei("h"),d:ei("d"),dd:ei("d"),M:ei("M"),MM:ei("M"),y:ei("y"),yy:ei("y")},preparse:function(e){return e.replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g,function(e){return Jn[e]}).replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Xn[e]}).replace(/,/g,"Ø")},week:{dow:6,doy:12}});var ni={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-Ã¼ncÃ¼",4:"-Ã¼ncÃ¼",100:"-Ã¼ncÃ¼",6:"-ncÄ±",9:"-uncu",10:"-uncu",30:"-uncu",60:"-Ä±ncÄ±",90:"-Ä±ncÄ±"};function ii(e,t,n){var i,r;return"m"===n?t?"ÑÐ²ÑÐ»ÑÐ½Ð°":"ÑÐ²ÑÐ»ÑÐ½Ñ":"h"===n?t?"Ð³Ð°Ð´Ð·ÑÐ½Ð°":"Ð³Ð°Ð´Ð·ÑÐ½Ñ":e+" "+(i=+e,r={ss:t?"ÑÐµÐºÑÐ½Ð´Ð°_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´":"ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´",mm:t?"ÑÐ²ÑÐ»ÑÐ½Ð°_ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½":"ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½",hh:t?"Ð³Ð°Ð´Ð·ÑÐ½Ð°_Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½":"Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½",dd:"Ð´Ð·ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð·ÑÐ½",MM:"Ð¼ÐµÑÑÑ_Ð¼ÐµÑÑÑÑ_Ð¼ÐµÑÑÑÐ°Ñ",yy:"Ð³Ð¾Ð´_Ð³Ð°Ð´Ñ_Ð³Ð°Ð´Ð¾Ñ"}[n].split("_"),i%10==1&&i%100!=11?r[0]:2<=i%10&&i%10<=4&&(i%100<10||20<=i%100)?r[1]:r[2])}h.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertÉsi_ÃÉrÅÉnbÉ axÅamÄ±_ÃÉrÅÉnbÉ_CÃ¼mÉ axÅamÄ±_CÃ¼mÉ_ÅÉnbÉ".split("_"),weekdaysShort:"Baz_BzE_ÃAx_ÃÉr_CAx_CÃ¼m_ÅÉn".split("_"),weekdaysMin:"Bz_BE_ÃA_ÃÉ_CA_CÃ¼_ÅÉ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugÃ¼n saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gÉlÉn hÉftÉ] dddd [saat] LT",lastDay:"[dÃ¼nÉn] LT",lastWeek:"[keÃ§Én hÉftÉ] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s ÉvvÉl",s:"birneÃ§É saniyÉ",ss:"%d saniyÉ",m:"bir dÉqiqÉ",mm:"%d dÉqiqÉ",h:"bir saat",hh:"%d saat",d:"bir gÃ¼n",dd:"%d gÃ¼n",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecÉ|sÉhÉr|gÃ¼ndÃ¼z|axÅam/,isPM:function(e){return/^(gÃ¼ndÃ¼z|axÅam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecÉ":e<12?"sÉhÉr":e<17?"gÃ¼ndÃ¼z":"axÅam"},dayOfMonthOrdinalParse:/\d{1,2}-(Ä±ncÄ±|inci|nci|Ã¼ncÃ¼|ncÄ±|uncu)/,ordinal:function(e){if(0===e)return e+"-Ä±ncÄ±";var t=e%10;return e+(ni[t]||ni[e%100-t]||ni[100<=e?100:null])},week:{dow:1,doy:7}}),h.defineLocale("be",{months:{format:"ÑÑÑÐ´Ð·ÐµÐ½Ñ_Ð»ÑÑÐ°Ð³Ð°_ÑÐ°ÐºÐ°Ð²ÑÐºÐ°_ÐºÑÐ°ÑÐ°Ð²ÑÐºÐ°_ÑÑÐ°ÑÐ½Ñ_ÑÑÑÐ²ÐµÐ½Ñ_Ð»ÑÐ¿ÐµÐ½Ñ_Ð¶Ð½ÑÑÐ½Ñ_Ð²ÐµÑÐ°ÑÐ½Ñ_ÐºÐ°ÑÑÑÑÑÐ½ÑÐºÐ°_Ð»ÑÑÑÐ°Ð¿Ð°Ð´Ð°_ÑÐ½ÐµÐ¶Ð½Ñ".split("_"),standalone:"ÑÑÑÐ´Ð·ÐµÐ½Ñ_Ð»ÑÑÑ_ÑÐ°ÐºÐ°Ð²ÑÐº_ÐºÑÐ°ÑÐ°Ð²ÑÐº_ÑÑÐ°Ð²ÐµÐ½Ñ_ÑÑÑÐ²ÐµÐ½Ñ_Ð»ÑÐ¿ÐµÐ½Ñ_Ð¶Ð½ÑÐ²ÐµÐ½Ñ_Ð²ÐµÑÐ°ÑÐµÐ½Ñ_ÐºÐ°ÑÑÑÑÑÐ½ÑÐº_Ð»ÑÑÑÐ°Ð¿Ð°Ð´_ÑÐ½ÐµÐ¶Ð°Ð½Ñ".split("_")},monthsShort:"ÑÑÑÐ´_Ð»ÑÑ_ÑÐ°Ðº_ÐºÑÐ°Ñ_ÑÑÐ°Ð²_ÑÑÑÐ²_Ð»ÑÐ¿_Ð¶Ð½ÑÐ²_Ð²ÐµÑ_ÐºÐ°ÑÑ_Ð»ÑÑÑ_ÑÐ½ÐµÐ¶".split("_"),weekdays:{format:"Ð½ÑÐ´Ð·ÐµÐ»Ñ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑÑÐ¾ÑÐ°Ðº_ÑÐµÑÐ°Ð´Ñ_ÑÐ°ÑÐ²ÐµÑ_Ð¿ÑÑÐ½ÑÑÑ_ÑÑÐ±Ð¾ÑÑ".split("_"),standalone:"Ð½ÑÐ´Ð·ÐµÐ»Ñ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑÑÐ¾ÑÐ°Ðº_ÑÐµÑÐ°Ð´Ð°_ÑÐ°ÑÐ²ÐµÑ_Ð¿ÑÑÐ½ÑÑÐ°_ÑÑÐ±Ð¾ÑÐ°".split("_"),isFormat:/\[ ?[Ð£ÑÑ] ?(?:Ð¼ÑÐ½ÑÐ»ÑÑ|Ð½Ð°ÑÑÑÐ¿Ð½ÑÑ)? ?\] ?dddd/},weekdaysShort:"Ð½Ð´_Ð¿Ð½_Ð°Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð°Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ð³.",LLL:"D MMMM YYYY Ð³., HH:mm",LLLL:"dddd, D MMMM YYYY Ð³., HH:mm"},calendar:{sameDay:"[Ð¡ÑÐ½Ð½Ñ Ñ] LT",nextDay:"[ÐÐ°ÑÑÑÐ° Ñ] LT",lastDay:"[Ð£ÑÐ¾ÑÐ° Ñ] LT",nextWeek:function(){return"[Ð£] dddd [Ñ] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[Ð£ Ð¼ÑÐ½ÑÐ»ÑÑ] dddd [Ñ] LT";case 1:case 2:case 4:return"[Ð£ Ð¼ÑÐ½ÑÐ»Ñ] dddd [Ñ] LT"}},sameElse:"L"},relativeTime:{future:"Ð¿ÑÐ°Ð· %s",past:"%s ÑÐ°Ð¼Ñ",s:"Ð½ÐµÐºÐ°Ð»ÑÐºÑ ÑÐµÐºÑÐ½Ð´",m:ii,mm:ii,h:ii,hh:ii,d:"Ð´Ð·ÐµÐ½Ñ",dd:ii,M:"Ð¼ÐµÑÑÑ",MM:ii,y:"Ð³Ð¾Ð´",yy:ii},meridiemParse:/Ð½Ð¾ÑÑ|ÑÐ°Ð½ÑÑÑ|Ð´Ð½Ñ|Ð²ÐµÑÐ°ÑÐ°/,isPM:function(e){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐ°ÑÐ°)$/.test(e)},meridiem:function(e,t,n){return e<4?"Ð½Ð¾ÑÑ":e<12?"ÑÐ°Ð½ÑÑÑ":e<17?"Ð´Ð½Ñ":"Ð²ÐµÑÐ°ÑÐ°"},dayOfMonthOrdinalParse:/\d{1,2}-(Ñ|Ñ|Ð³Ð°)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-Ñ":e+"-Ñ";case"D":return e+"-Ð³Ð°";default:return e}},week:{dow:1,doy:7}}),h.defineLocale("bg",{months:"ÑÐ½ÑÐ°ÑÐ¸_ÑÐµÐ²ÑÑÐ°ÑÐ¸_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ð¹_ÑÐ½Ð¸_ÑÐ»Ð¸_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸_Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸_Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸_Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸".split("_"),monthsShort:"ÑÐ½Ñ_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_ÑÐ½Ð¸_ÑÐ»Ð¸_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),weekdays:"Ð½ÐµÐ´ÐµÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÑÐ´Ð°_ÑÐµÑÐ²ÑÑÑÑÐº_Ð¿ÐµÑÑÐº_ÑÑÐ±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²ÑÐ¾_ÑÑÑ_ÑÐµÑ_Ð¿ÐµÑ_ÑÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ÐÐ½ÐµÑ Ð²] LT",nextDay:"[Ð£ÑÑÐµ Ð²] LT",nextWeek:"dddd [Ð²] LT",lastDay:"[ÐÑÐµÑÐ° Ð²] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Ð Ð¸Ð·Ð¼Ð¸Ð½Ð°Ð»Ð°ÑÐ°] dddd [Ð²] LT";case 1:case 2:case 4:case 5:return"[Ð Ð¸Ð·Ð¼Ð¸Ð½Ð°Ð»Ð¸Ñ] dddd [Ð²] LT"}},sameElse:"L"},relativeTime:{future:"ÑÐ»ÐµÐ´ %s",past:"Ð¿ÑÐµÐ´Ð¸ %s",s:"Ð½ÑÐºÐ¾Ð»ÐºÐ¾ ÑÐµÐºÑÐ½Ð´Ð¸",ss:"%d ÑÐµÐºÑÐ½Ð´Ð¸",m:"Ð¼Ð¸Ð½ÑÑÐ°",mm:"%d Ð¼Ð¸Ð½ÑÑÐ¸",h:"ÑÐ°Ñ",hh:"%d ÑÐ°ÑÐ°",d:"Ð´ÐµÐ½",dd:"%d Ð´Ð½Ð¸",M:"Ð¼ÐµÑÐµÑ",MM:"%d Ð¼ÐµÑÐµÑÐ°",y:"Ð³Ð¾Ð´Ð¸Ð½Ð°",yy:"%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"},dayOfMonthOrdinalParse:/\d{1,2}-(ÐµÐ²|ÐµÐ½|ÑÐ¸|Ð²Ð¸|ÑÐ¸|Ð¼Ð¸)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ÐµÐ²":0===n?e+"-ÐµÐ½":10<n&&n<20?e+"-ÑÐ¸":1===t?e+"-Ð²Ð¸":2===t?e+"-ÑÐ¸":7===t||8===t?e+"-Ð¼Ð¸":e+"-ÑÐ¸"},week:{dow:1,doy:7}}),h.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_MÉkalo_ZuwÉnkalo_Zuluyekalo_Utikalo_SÉtanburukalo_ÉkutÉburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_MÉ_Zuw_Zul_Uti_SÉt_Éku_Now_Des".split("_"),weekdays:"Kari_NtÉnÉn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_NtÉ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lÉrÉ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lÉrÉ] HH:mm"},calendar:{sameDay:"[Bi lÉrÉ] LT",nextDay:"[Sini lÉrÉ] LT",nextWeek:"dddd [don lÉrÉ] LT",lastDay:"[Kunu lÉrÉ] LT",lastWeek:"dddd [tÉmÉnen lÉrÉ] LT",sameElse:"L"},relativeTime:{future:"%s kÉnÉ",past:"a bÉ %s bÉ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lÉrÉ kelen",hh:"lÉrÉ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var ri={1:"à§§",2:"à§¨",3:"à§©",4:"à§ª",5:"à§«",6:"à§¬",7:"à§­",8:"à§®",9:"à§¯",0:"à§¦"},ai={"à§§":"1","à§¨":"2","à§©":"3","à§ª":"4","à§«":"5","à§¬":"6","à§­":"7","à§®":"8","à§¯":"9","à§¦":"0"};h.defineLocale("bn",{months:"à¦à¦¾à¦¨à§à§à¦¾à¦°à§_à¦«à§à¦¬à§à¦°à§à§à¦¾à¦°à¦¿_à¦®à¦¾à¦°à§à¦_à¦à¦ªà§à¦°à¦¿à¦²_à¦®à§_à¦à§à¦¨_à¦à§à¦²à¦¾à¦_à¦à¦à¦¸à§à¦_à¦¸à§à¦ªà§à¦à§à¦®à§à¦¬à¦°_à¦à¦à§à¦à§à¦¬à¦°_à¦¨à¦­à§à¦®à§à¦¬à¦°_à¦¡à¦¿à¦¸à§à¦®à§à¦¬à¦°".split("_"),monthsShort:"à¦à¦¾à¦¨à§_à¦«à§à¦¬_à¦®à¦¾à¦°à§à¦_à¦à¦ªà§à¦°_à¦®à§_à¦à§à¦¨_à¦à§à¦²_à¦à¦_à¦¸à§à¦ªà§à¦_à¦à¦à§à¦à§_à¦¨à¦­à§_à¦¡à¦¿à¦¸à§".split("_"),weekdays:"à¦°à¦¬à¦¿à¦¬à¦¾à¦°_à¦¸à§à¦®à¦¬à¦¾à¦°_à¦®à¦à§à¦à¦²à¦¬à¦¾à¦°_à¦¬à§à¦§à¦¬à¦¾à¦°_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à¦¿à¦¬à¦¾à¦°_à¦¶à§à¦à§à¦°à¦¬à¦¾à¦°_à¦¶à¦¨à¦¿à¦¬à¦¾à¦°".split("_"),weekdaysShort:"à¦°à¦¬à¦¿_à¦¸à§à¦®_à¦®à¦à§à¦à¦²_à¦¬à§à¦§_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à¦¿_à¦¶à§à¦à§à¦°_à¦¶à¦¨à¦¿".split("_"),weekdaysMin:"à¦°à¦¬à¦¿_à¦¸à§à¦®_à¦®à¦à§à¦_à¦¬à§à¦§_à¦¬à§à¦¹à¦_à¦¶à§à¦à§à¦°_à¦¶à¦¨à¦¿".split("_"),longDateFormat:{LT:"A h:mm à¦¸à¦®à§",LTS:"A h:mm:ss à¦¸à¦®à§",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¦¸à¦®à§",LLLL:"dddd, D MMMM YYYY, A h:mm à¦¸à¦®à§"},calendar:{sameDay:"[à¦à¦] LT",nextDay:"[à¦à¦à¦¾à¦®à§à¦à¦¾à¦²] LT",nextWeek:"dddd, LT",lastDay:"[à¦à¦¤à¦à¦¾à¦²] LT",lastWeek:"[à¦à¦¤] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¦ªà¦°à§",past:"%s à¦à¦à§",s:"à¦à§à§à¦ à¦¸à§à¦à§à¦¨à§à¦¡",ss:"%d à¦¸à§à¦à§à¦¨à§à¦¡",m:"à¦à¦ à¦®à¦¿à¦¨à¦¿à¦",mm:"%d à¦®à¦¿à¦¨à¦¿à¦",h:"à¦à¦ à¦à¦¨à§à¦à¦¾",hh:"%d à¦à¦¨à§à¦à¦¾",d:"à¦à¦ à¦¦à¦¿à¦¨",dd:"%d à¦¦à¦¿à¦¨",M:"à¦à¦ à¦®à¦¾à¦¸",MM:"%d à¦®à¦¾à¦¸",y:"à¦à¦ à¦¬à¦à¦°",yy:"%d à¦¬à¦à¦°"},preparse:function(e){return e.replace(/[à§§à§¨à§©à§ªà§«à§¬à§­à§®à§¯à§¦]/g,function(e){return ai[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ri[e]})},meridiemParse:/à¦°à¦¾à¦¤|à¦¸à¦à¦¾à¦²|à¦¦à§à¦ªà§à¦°|à¦¬à¦¿à¦à¦¾à¦²|à¦°à¦¾à¦¤/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¦°à¦¾à¦¤"===t&&4<=e||"à¦¦à§à¦ªà§à¦°"===t&&e<5||"à¦¬à¦¿à¦à¦¾à¦²"===t?e+12:e},meridiem:function(e,t,n){return e<4?"à¦°à¦¾à¦¤":e<10?"à¦¸à¦à¦¾à¦²":e<17?"à¦¦à§à¦ªà§à¦°":e<20?"à¦¬à¦¿à¦à¦¾à¦²":"à¦°à¦¾à¦¤"},week:{dow:0,doy:6}});var oi={1:"à¼¡",2:"à¼¢",3:"à¼£",4:"à¼¤",5:"à¼¥",6:"à¼¦",7:"à¼§",8:"à¼¨",9:"à¼©",0:"à¼ "},si={"à¼¡":"1","à¼¢":"2","à¼£":"3","à¼¤":"4","à¼¥":"5","à¼¦":"6","à¼§":"7","à¼¨":"8","à¼©":"9","à¼ ":"0"};function ui(e,t,n){return e+" "+function(e,t){if(2===t)return function(e){var t={m:"v",b:"v",d:"z"};if(void 0===t[e.charAt(0)])return e;return t[e.charAt(0)]+e.substring(1)}(e);return e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function li(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}h.defineLocale("bo",{months:"à½à¾³à¼à½à¼à½à½à¼à½à½¼_à½à¾³à¼à½à¼à½à½à½²à½¦à¼à½_à½à¾³à¼à½à¼à½à½¦à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½²à¼à½_à½à¾³à¼à½à¼à½£à¾à¼à½_à½à¾³à¼à½à¼à½à¾²à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à½à¼à½_à½à¾³à¼à½à¼à½à½¢à¾à¾±à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½¦à¼à½".split("_"),monthsShort:"à½à¾³à¼à½à¼à½à½à¼à½à½¼_à½à¾³à¼à½à¼à½à½à½²à½¦à¼à½_à½à¾³à¼à½à¼à½à½¦à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½²à¼à½_à½à¾³à¼à½à¼à½£à¾à¼à½_à½à¾³à¼à½à¼à½à¾²à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à½à¼à½_à½à¾³à¼à½à¼à½à½¢à¾à¾±à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½¦à¼à½".split("_"),weekdays:"à½à½à½ à¼à½à½²à¼à½à¼_à½à½à½ à¼à½à¾³à¼à½à¼_à½à½à½ à¼à½à½²à½à¼à½à½à½¢à¼_à½à½à½ à¼à½£à¾·à½à¼à½à¼_à½à½à½ à¼à½à½´à½¢à¼à½à½´_à½à½à½ à¼à½à¼à½¦à½à½¦à¼_à½à½à½ à¼à½¦à¾¤à½ºà½à¼à½à¼".split("_"),weekdaysShort:"à½à½²à¼à½à¼_à½à¾³à¼à½à¼_à½à½²à½à¼à½à½à½¢à¼_à½£à¾·à½à¼à½à¼_à½à½´à½¢à¼à½à½´_à½à¼à½¦à½à½¦à¼_à½¦à¾¤à½ºà½à¼à½à¼".split("_"),weekdaysMin:"à½à½²à¼à½à¼_à½à¾³à¼à½à¼_à½à½²à½à¼à½à½à½¢à¼_à½£à¾·à½à¼à½à¼_à½à½´à½¢à¼à½à½´_à½à¼à½¦à½à½¦à¼_à½¦à¾¤à½ºà½à¼à½à¼".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[à½à½²à¼à½¢à½²à½] LT",nextDay:"[à½¦à½à¼à½à½²à½] LT",nextWeek:"[à½à½à½´à½à¼à½à¾²à½à¼à½¢à¾à½ºà½¦à¼à½], LT",lastDay:"[à½à¼à½¦à½] LT",lastWeek:"[à½à½à½´à½à¼à½à¾²à½à¼à½à½à½ à¼à½] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à½£à¼",past:"%s à½¦à¾à½à¼à½£",s:"à½£à½à¼à½¦à½",ss:"%d à½¦à¾à½¢à¼à½à¼",m:"à½¦à¾à½¢à¼à½à¼à½à½à½²à½",mm:"%d à½¦à¾à½¢à¼à½",h:"à½à½´à¼à½à½¼à½à¼à½à½à½²à½",hh:"%d à½à½´à¼à½à½¼à½",d:"à½à½²à½à¼à½à½à½²à½",dd:"%d à½à½²à½à¼",M:"à½à¾³à¼à½à¼à½à½à½²à½",MM:"%d à½à¾³à¼à½",y:"à½£à½¼à¼à½à½à½²à½",yy:"%d à½£à½¼"},preparse:function(e){return e.replace(/[à¼¡à¼¢à¼£à¼¤à¼¥à¼¦à¼§à¼¨à¼©à¼ ]/g,function(e){return si[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return oi[e]})},meridiemParse:/à½à½à½à¼à½à½¼|à½à½¼à½à½¦à¼à½à½¦|à½à½²à½à¼à½à½´à½|à½à½à½¼à½à¼à½à½|à½à½à½à¼à½à½¼/,meridiemHour:function(e,t){return 12===e&&(e=0),"à½à½à½à¼à½à½¼"===t&&4<=e||"à½à½²à½à¼à½à½´à½"===t&&e<5||"à½à½à½¼à½à¼à½à½"===t?e+12:e},meridiem:function(e,t,n){return e<4?"à½à½à½à¼à½à½¼":e<10?"à½à½¼à½à½¦à¼à½à½¦":e<17?"à½à½²à½à¼à½à½´à½":e<20?"à½à½à½¼à½à¼à½à½":"à½à½à½à¼à½à½¼"},week:{dow:0,doy:6}}),h.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoÃ¹",ss:"%d eilenn",m:"ur vunutenn",mm:ui,h:"un eur",hh:"%d eur",d:"un devezh",dd:ui,M:"ur miz",MM:ui,y:"ur bloaz",yy:function(e){switch(function e(t){return 9<t?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(aÃ±|vet)/,ordinal:function(e){return e+(1===e?"aÃ±":"vet")},week:{dow:1,doy:4}}),h.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[proÅ¡lu] dddd [u] LT";case 6:return"[proÅ¡le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proÅ¡li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:li,m:li,mm:li,h:li,hh:li,d:"dan",dd:li,M:"mjesec",MM:li,y:"godinu",yy:li},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("ca",{months:{standalone:"gener_febrer_marÃ§_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de marÃ§_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._marÃ§_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demÃ  a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquÃ­ %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|Ã¨|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"Ã¨";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});var ci="leden_Ãºnor_bÅezen_duben_kvÄten_Äerven_Äervenec_srpen_zÃ¡ÅÃ­_ÅÃ­jen_listopad_prosinec".split("_"),di="led_Ãºno_bÅe_dub_kvÄ_Ävn_Ävc_srp_zÃ¡Å_ÅÃ­j_lis_pro".split("_");function hi(e){return 1<e&&e<5&&1!=~~(e/10)}function pi(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pÃ¡r sekund":"pÃ¡r sekundami";case"ss":return t||i?r+(hi(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?r+(hi(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(hi(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?r+(hi(e)?"dny":"dnÃ­"):r+"dny";case"M":return t||i?"mÄsÃ­c":"mÄsÃ­cem";case"MM":return t||i?r+(hi(e)?"mÄsÃ­ce":"mÄsÃ­cÅ¯"):r+"mÄsÃ­ci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?r+(hi(e)?"roky":"let"):r+"lety"}}function mi(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}function fi(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}function gi(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}h.defineLocale("cs",{months:ci,monthsShort:di,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(ci,di),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(di),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(ci),weekdays:"nedÄle_pondÄlÃ­_ÃºterÃ½_stÅeda_Ätvrtek_pÃ¡tek_sobota".split("_"),weekdaysShort:"ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),weekdaysMin:"ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zÃ­tra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedÄli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stÅedu v] LT";case 4:return"[ve Ätvrtek v] LT";case 5:return"[v pÃ¡tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vÄera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedÄli v] LT";case 1:case 2:return"[minulÃ©] dddd [v] LT";case 3:return"[minulou stÅedu v] LT";case 4:case 5:return"[minulÃ½] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pÅed %s",s:pi,ss:pi,m:pi,mm:pi,h:pi,hh:pi,d:pi,dd:pi,M:pi,MM:pi,y:pi,yy:pi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("cv",{months:"ÐºÓÑÐ»Ð°Ñ_Ð½Ð°ÑÓÑ_Ð¿ÑÑ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«ÓÑÑÐ¼Ðµ_ÑÑÓ_Ò«ÑÑÐ»Ð°_Ð°Ð²ÓÐ½_ÑÐ¿Ð°_ÑÓ³Ðº_ÑÐ°ÑÑÐ°Ð²".split("_"),monthsShort:"ÐºÓÑ_Ð½Ð°Ñ_Ð¿ÑÑ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«ÓÑ_ÑÑÓ_Ò«ÑÑ_Ð°Ð²Ð½_ÑÐ¿Ð°_ÑÓ³Ðº_ÑÐ°Ñ".split("_"),weekdays:"Ð²ÑÑÑÐ°ÑÐ½Ð¸ÐºÑÐ½_ÑÑÐ½ÑÐ¸ÐºÑÐ½_ÑÑÐ»Ð°ÑÐ¸ÐºÑÐ½_ÑÐ½ÐºÑÐ½_ÐºÓÒ«Ð½ÐµÑÐ½Ð¸ÐºÑÐ½_ÑÑÐ½ÐµÐºÑÐ½_ÑÓÐ¼Ð°ÑÐºÑÐ½".split("_"),weekdaysShort:"Ð²ÑÑ_ÑÑÐ½_ÑÑÐ»_ÑÐ½_ÐºÓÒ«_ÑÑÐ½_ÑÓÐ¼".split("_"),weekdaysMin:"Ð²Ñ_ÑÐ½_ÑÑ_ÑÐ½_ÐºÒ«_ÑÑ_ÑÐ¼".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ]",LLL:"YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ], HH:mm",LLLL:"dddd, YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ], HH:mm"},calendar:{sameDay:"[ÐÐ°ÑÐ½] LT [ÑÐµÑÐµÑÑÐµ]",nextDay:"[Ð«ÑÐ°Ð½] LT [ÑÐµÑÐµÑÑÐµ]",lastDay:"[ÓÐ½ÐµÑ] LT [ÑÐµÑÐµÑÑÐµ]",nextWeek:"[ÒªÐ¸ÑÐµÑ] dddd LT [ÑÐµÑÐµÑÑÐµ]",lastWeek:"[ÐÑÑÐ½Ó] dddd LT [ÑÐµÑÐµÑÑÐµ]",sameElse:"L"},relativeTime:{future:function(e){return e+(/ÑÐµÑÐµÑ$/i.exec(e)?"ÑÐµÐ½":/Ò«ÑÐ»$/i.exec(e)?"ÑÐ°Ð½":"ÑÐ°Ð½")},past:"%s ÐºÐ°ÑÐ»Ð»Ð°",s:"Ð¿ÓÑ-Ð¸Ðº Ò«ÐµÐºÐºÑÐ½Ñ",ss:"%d Ò«ÐµÐºÐºÑÐ½Ñ",m:"Ð¿ÓÑ Ð¼Ð¸Ð½ÑÑ",mm:"%d Ð¼Ð¸Ð½ÑÑ",h:"Ð¿ÓÑ ÑÐµÑÐµÑ",hh:"%d ÑÐµÑÐµÑ",d:"Ð¿ÓÑ ÐºÑÐ½",dd:"%d ÐºÑÐ½",M:"Ð¿ÓÑ ÑÐ¹ÓÑ",MM:"%d ÑÐ¹ÓÑ",y:"Ð¿ÓÑ Ò«ÑÐ»",yy:"%d Ò«ÑÐ»"},dayOfMonthOrdinalParse:/\d{1,2}-Ð¼ÓÑ/,ordinal:"%d-Ð¼ÓÑ",week:{dow:1,doy:7}}),h.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn Ã´l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return 20<e?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":0<e&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}}),h.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸n_man_tir_ons_tor_fre_lÃ¸r".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"pÃ¥ dddd [kl.] LT",lastDay:"[i gÃ¥r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"fÃ¥ sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"et Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("de-at",{months:"JÃ¤nner_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"JÃ¤n._Feb._MÃ¤rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:mi,mm:"%d Minuten",h:mi,hh:"%d Stunden",d:mi,dd:mi,M:mi,MM:mi,y:mi,yy:mi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("de-ch",{months:"Januar_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._MÃ¤rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:fi,mm:"%d Minuten",h:fi,hh:"%d Stunden",d:fi,dd:fi,M:fi,MM:fi,y:fi,yy:fi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("de",{months:"Januar_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._MÃ¤rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:gi,mm:"%d Minuten",h:gi,hh:"%d Stunden",d:gi,dd:gi,M:gi,MM:gi,y:gi,yy:gi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var _i=["ÞÞ¬ÞÞªÞÞ¦ÞÞ©","ÞÞ¬ÞÞ°ÞÞªÞÞ¦ÞÞ©","ÞÞ§ÞÞ¨ÞÞª","ÞÞ­ÞÞ°ÞÞ©ÞÞª","ÞÞ­","ÞÞ«ÞÞ°","ÞÞªÞÞ¦ÞÞ¨","ÞÞ¯ÞÞ¦ÞÞ°ÞÞª","ÞÞ¬ÞÞ°ÞÞ¬ÞÞ°ÞÞ¦ÞÞª","ÞÞ®ÞÞ°ÞÞ¯ÞÞ¦ÞÞª","ÞÞ®ÞÞ¬ÞÞ°ÞÞ¦ÞÞª","ÞÞ¨ÞÞ¬ÞÞ°ÞÞ¦ÞÞª"],yi=["ÞÞ§ÞÞ¨ÞÞ°ÞÞ¦","ÞÞ¯ÞÞ¦","ÞÞ¦ÞÞ°ÞÞ§ÞÞ¦","ÞÞªÞÞ¦","ÞÞªÞÞ§ÞÞ°ÞÞ¦ÞÞ¨","ÞÞªÞÞªÞÞª","ÞÞ®ÞÞ¨ÞÞ¨ÞÞª"];h.defineLocale("dv",{months:_i,monthsShort:_i,weekdays:yi,weekdaysShort:yi,weekdaysMin:"ÞÞ§ÞÞ¨_ÞÞ¯ÞÞ¦_ÞÞ¦ÞÞ°_ÞÞªÞÞ¦_ÞÞªÞÞ§_ÞÞªÞÞª_ÞÞ®ÞÞ¨".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ÞÞ|ÞÞ/,isPM:function(e){return"ÞÞ"===e},meridiem:function(e,t,n){return e<12?"ÞÞ":"ÞÞ"},calendar:{sameDay:"[ÞÞ¨ÞÞ¦ÞÞª] LT",nextDay:"[ÞÞ§ÞÞ¦ÞÞ§] LT",nextWeek:"dddd LT",lastDay:"[ÞÞ¨ÞÞ°ÞÞ¬] LT",lastWeek:"[ÞÞ§ÞÞ¨ÞÞªÞÞ¨] dddd LT",sameElse:"L"},relativeTime:{future:"ÞÞ¬ÞÞ­ÞÞ¦ÞÞ¨ %s",past:"ÞÞªÞÞ¨ÞÞ° %s",s:"ÞÞ¨ÞÞªÞÞ°ÞÞªÞÞ®ÞÞ¬ÞÞ°",ss:"d% ÞÞ¨ÞÞªÞÞ°ÞÞª",m:"ÞÞ¨ÞÞ¨ÞÞ¬ÞÞ°",mm:"ÞÞ¨ÞÞ¨ÞÞª %d",h:"ÞÞ¦ÞÞ¨ÞÞ¨ÞÞ¬ÞÞ°",hh:"ÞÞ¦ÞÞ¨ÞÞ¨ÞÞª %d",d:"ÞÞªÞÞ¦ÞÞ¬ÞÞ°",dd:"ÞÞªÞÞ¦ÞÞ° %d",M:"ÞÞ¦ÞÞ¬ÞÞ°",MM:"ÞÞ¦ÞÞ° %d",y:"ÞÞ¦ÞÞ¦ÞÞ¬ÞÞ°",yy:"ÞÞ¦ÞÞ¦ÞÞª %d"},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:7,doy:12}}),h.defineLocale("el",{monthsNominativeEl:"ÎÎ±Î½Î¿ÏÎ¬ÏÎ¹Î¿Ï_Î¦ÎµÎ²ÏÎ¿ÏÎ¬ÏÎ¹Î¿Ï_ÎÎ¬ÏÏÎ¹Î¿Ï_ÎÏÏÎ¯Î»Î¹Î¿Ï_ÎÎ¬Î¹Î¿Ï_ÎÎ¿ÏÎ½Î¹Î¿Ï_ÎÎ¿ÏÎ»Î¹Î¿Ï_ÎÏÎ³Î¿ÏÏÏÎ¿Ï_Î£ÎµÏÏÎ­Î¼Î²ÏÎ¹Î¿Ï_ÎÎºÏÏÎ²ÏÎ¹Î¿Ï_ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï_ÎÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï".split("_"),monthsGenitiveEl:"ÎÎ±Î½Î¿ÏÎ±ÏÎ¯Î¿Ï_Î¦ÎµÎ²ÏÎ¿ÏÎ±ÏÎ¯Î¿Ï_ÎÎ±ÏÏÎ¯Î¿Ï_ÎÏÏÎ¹Î»Î¯Î¿Ï_ÎÎ±ÎÎ¿Ï_ÎÎ¿ÏÎ½Î¯Î¿Ï_ÎÎ¿ÏÎ»Î¯Î¿Ï_ÎÏÎ³Î¿ÏÏÏÎ¿Ï_Î£ÎµÏÏÎµÎ¼Î²ÏÎ¯Î¿Ï_ÎÎºÏÏÎ²ÏÎ¯Î¿Ï_ÎÎ¿ÎµÎ¼Î²ÏÎ¯Î¿Ï_ÎÎµÎºÎµÎ¼Î²ÏÎ¯Î¿Ï".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"ÎÎ±Î½_Î¦ÎµÎ²_ÎÎ±Ï_ÎÏÏ_ÎÎ±Ï_ÎÎ¿ÏÎ½_ÎÎ¿ÏÎ»_ÎÏÎ³_Î£ÎµÏ_ÎÎºÏ_ÎÎ¿Îµ_ÎÎµÎº".split("_"),weekdays:"ÎÏÏÎ¹Î±ÎºÎ®_ÎÎµÏÏÎ­ÏÎ±_Î¤ÏÎ¯ÏÎ·_Î¤ÎµÏÎ¬ÏÏÎ·_Î Î­Î¼ÏÏÎ·_Î Î±ÏÎ±ÏÎºÎµÏÎ®_Î£Î¬Î²Î²Î±ÏÎ¿".split("_"),weekdaysShort:"ÎÏÏ_ÎÎµÏ_Î¤ÏÎ¹_Î¤ÎµÏ_Î ÎµÎ¼_Î Î±Ï_Î£Î±Î²".split("_"),weekdaysMin:"ÎÏ_ÎÎµ_Î¤Ï_Î¤Îµ_Î Îµ_Î Î±_Î£Î±".split("_"),meridiem:function(e,t,n){return 11<e?n?"Î¼Î¼":"ÎÎ":n?"ÏÎ¼":"Î Î"},isPM:function(e){return"Î¼"===(e+"").toLowerCase()[0]},meridiemParse:/[Î Î]\.?Î?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Î£Î®Î¼ÎµÏÎ± {}] LT",nextDay:"[ÎÏÏÎ¹Î¿ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Î§Î¸ÎµÏ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ÏÎ¿ ÏÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿] dddd [{}] LT";default:return"[ÏÎ·Î½ ÏÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],i=t&&t.hours();return D(n)&&(n=n.apply(t)),n.replace("{}",i%12==1?"ÏÏÎ·":"ÏÏÎ¹Ï")},relativeTime:{future:"ÏÎµ %s",past:"%s ÏÏÎ¹Î½",s:"Î»Î¯Î³Î± Î´ÎµÏÏÎµÏÏÎ»ÎµÏÏÎ±",ss:"%d Î´ÎµÏÏÎµÏÏÎ»ÎµÏÏÎ±",m:"Î­Î½Î± Î»ÎµÏÏÏ",mm:"%d Î»ÎµÏÏÎ¬",h:"Î¼Î¯Î± ÏÏÎ±",hh:"%d ÏÏÎµÏ",d:"Î¼Î¯Î± Î¼Î­ÏÎ±",dd:"%d Î¼Î­ÏÎµÏ",M:"Î­Î½Î±Ï Î¼Î®Î½Î±Ï",MM:"%d Î¼Î®Î½ÎµÏ",y:"Î­Î½Î±Ï ÏÏÏÎ½Î¿Ï",yy:"%d ÏÏÏÎ½Î¹Î±"},dayOfMonthOrdinalParse:/\d{1,2}Î·/,ordinal:"%dÎ·",week:{dow:1,doy:4}}),h.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),h.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),h.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aÅ­gusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aÅ­g_sep_okt_nov_dec".split("_"),weekdays:"dimanÄo_lundo_mardo_merkredo_ÄµaÅ­do_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ÄµaÅ­_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_Äµa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return 11<e?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[HodiaÅ­ je] LT",nextDay:"[MorgaÅ­ je] LT",nextWeek:"dddd [je] LT",lastDay:"[HieraÅ­ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaÅ­ %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var vi="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Mi="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Ai=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],bi=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;h.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Mi[e.month()]:vi[e.month()]:vi},monthsRegex:bi,monthsShortRegex:bi,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Ai,longMonthsParse:Ai,shortMonthsParse:Ai,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}});var wi="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),xi="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");h.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?xi[e.month()]:wi[e.month()]:wi},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:0,doy:6}});var Ei="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Li="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Ti=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Di=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function Si(e,t,n,i){var r={s:["mÃµne sekundi","mÃµni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["Ã¼he minuti","Ã¼ks minut"],mm:[e+" minuti",e+" minutit"],h:["Ã¼he tunni","tund aega","Ã¼ks tund"],hh:[e+" tunni",e+" tundi"],d:["Ã¼he pÃ¤eva","Ã¼ks pÃ¤ev"],M:["kuu aja","kuu aega","Ã¼ks kuu"],MM:[e+" kuu",e+" kuud"],y:["Ã¼he aasta","aasta","Ã¼ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}h.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Li[e.month()]:Ei[e.month()]:Ei},monthsRegex:Di,monthsShortRegex:Di,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Ti,longMonthsParse:Ti,shortMonthsParse:Ti,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),h.defineLocale("et",{months:"jaanuar_veebruar_mÃ¤rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mÃ¤rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pÃ¼hapÃ¤ev_esmaspÃ¤ev_teisipÃ¤ev_kolmapÃ¤ev_neljapÃ¤ev_reede_laupÃ¤ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[TÃ¤na,] LT",nextDay:"[Homme,] LT",nextWeek:"[JÃ¤rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pÃ¤rast",past:"%s tagasi",s:Si,ss:Si,m:Si,mm:Si,h:Si,hh:Si,d:Si,dd:"%d pÃ¤eva",M:Si,MM:Si,y:Si,yy:Si},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Ci={1:"Û±",2:"Û²",3:"Û³",4:"Û´",5:"Ûµ",6:"Û¶",7:"Û·",8:"Û¸",9:"Û¹",0:"Û°"},Ni={"Û±":"1","Û²":"2","Û³":"3","Û´":"4","Ûµ":"5","Û¶":"6","Û·":"7","Û¸":"8","Û¹":"9","Û°":"0"};h.defineLocale("fa",{months:"ÚØ§ÙÙÛÙ_ÙÙØ±ÛÙ_ÙØ§Ø±Ø³_Ø¢ÙØ±ÛÙ_ÙÙ_ÚÙØ¦Ù_ÚÙØ¦ÛÙ_Ø§ÙØª_Ø³Ù¾ØªØ§ÙØ¨Ø±_Ø§Ú©ØªØ¨Ø±_ÙÙØ§ÙØ¨Ø±_Ø¯Ø³Ø§ÙØ¨Ø±".split("_"),monthsShort:"ÚØ§ÙÙÛÙ_ÙÙØ±ÛÙ_ÙØ§Ø±Ø³_Ø¢ÙØ±ÛÙ_ÙÙ_ÚÙØ¦Ù_ÚÙØ¦ÛÙ_Ø§ÙØª_Ø³Ù¾ØªØ§ÙØ¨Ø±_Ø§Ú©ØªØ¨Ø±_ÙÙØ§ÙØ¨Ø±_Ø¯Ø³Ø§ÙØ¨Ø±".split("_"),weekdays:"ÛÚ©âØ´ÙØ¨Ù_Ø¯ÙØ´ÙØ¨Ù_Ø³ÙâØ´ÙØ¨Ù_ÚÙØ§Ø±Ø´ÙØ¨Ù_Ù¾ÙØ¬âØ´ÙØ¨Ù_Ø¬ÙØ¹Ù_Ø´ÙØ¨Ù".split("_"),weekdaysShort:"ÛÚ©âØ´ÙØ¨Ù_Ø¯ÙØ´ÙØ¨Ù_Ø³ÙâØ´ÙØ¨Ù_ÚÙØ§Ø±Ø´ÙØ¨Ù_Ù¾ÙØ¬âØ´ÙØ¨Ù_Ø¬ÙØ¹Ù_Ø´ÙØ¨Ù".split("_"),weekdaysMin:"Û_Ø¯_Ø³_Ú_Ù¾_Ø¬_Ø´".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ÙØ¨Ù Ø§Ø² Ø¸ÙØ±|Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±/,isPM:function(e){return/Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±/.test(e)},meridiem:function(e,t,n){return e<12?"ÙØ¨Ù Ø§Ø² Ø¸ÙØ±":"Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±"},calendar:{sameDay:"[Ø§ÙØ±ÙØ² Ø³Ø§Ø¹Øª] LT",nextDay:"[ÙØ±Ø¯Ø§ Ø³Ø§Ø¹Øª] LT",nextWeek:"dddd [Ø³Ø§Ø¹Øª] LT",lastDay:"[Ø¯ÛØ±ÙØ² Ø³Ø§Ø¹Øª] LT",lastWeek:"dddd [Ù¾ÛØ´] [Ø³Ø§Ø¹Øª] LT",sameElse:"L"},relativeTime:{future:"Ø¯Ø± %s",past:"%s Ù¾ÛØ´",s:"ÚÙØ¯ Ø«Ø§ÙÛÙ",ss:"Ø«Ø§ÙÛÙ d%",m:"ÛÚ© Ø¯ÙÛÙÙ",mm:"%d Ø¯ÙÛÙÙ",h:"ÛÚ© Ø³Ø§Ø¹Øª",hh:"%d Ø³Ø§Ø¹Øª",d:"ÛÚ© Ø±ÙØ²",dd:"%d Ø±ÙØ²",M:"ÛÚ© ÙØ§Ù",MM:"%d ÙØ§Ù",y:"ÛÚ© Ø³Ø§Ù",yy:"%d Ø³Ø§Ù"},preparse:function(e){return e.replace(/[Û°-Û¹]/g,function(e){return Ni[e]}).replace(/Ø/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Ci[e]}).replace(/,/g,"Ø")},dayOfMonthOrdinalParse:/\d{1,2}Ù/,ordinal:"%dÙ",week:{dow:6,doy:12}});var ki="nolla yksi kaksi kolme neljÃ¤ viisi kuusi seitsemÃ¤n kahdeksan yhdeksÃ¤n".split(" "),Ii=["nolla","yhden","kahden","kolmen","neljÃ¤n","viiden","kuuden",ki[7],ki[8],ki[9]];function ji(e,t,n,i){var r,a,o="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"ss":return i?"sekunnin":"sekuntia";case"m":return i?"minuutin":"minuutti";case"mm":o=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":o=i?"tunnin":"tuntia";break;case"d":return i?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤";case"dd":o=i?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤Ã¤";break;case"M":return i?"kuukauden":"kuukausi";case"MM":o=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":o=i?"vuoden":"vuotta"}return a=i,o=((r=e)<10?a?Ii[r]:ki[r]:r)+" "+o}h.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesÃ¤kuu_heinÃ¤kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesÃ¤_heinÃ¤_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tÃ¤nÃ¤Ã¤n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pÃ¤Ã¤stÃ¤",past:"%s sitten",s:ji,ss:ji,m:ji,mm:ji,h:ji,hh:ji,d:ji,dd:ji,M:ji,MM:ji,y:ji,yy:ji},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("fo",{months:"januar_februar_mars_aprÃ­l_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mÃ¡nadagur_tÃ½sdagur_mikudagur_hÃ³sdagur_frÃ­ggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mÃ¡n_tÃ½s_mik_hÃ³s_frÃ­_ley".split("_"),weekdaysMin:"su_mÃ¡_tÃ½_mi_hÃ³_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Ã dag kl.] LT",nextDay:"[Ã morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Ã gjÃ¡r kl.] LT",lastWeek:"[sÃ­Ã°stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sÃ­Ã°ani",s:"fÃ¡ sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tÃ­mi",hh:"%d tÃ­mar",d:"ein dagur",dd:"%d dagar",M:"ein mÃ¡naÃ°i",MM:"%d mÃ¡naÃ°ir",y:"eitt Ã¡r",yy:"%d Ã¡r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("fr-ca",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),h.defineLocale("fr-ch",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}}),h.defineLocale("fr",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdâhui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var Oi="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),zi="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");h.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?zi[e.month()]:Oi[e.month()]:Oi},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[Ã´frÃ»ne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minÃºt",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});function Ri(e,t,n,i){var r={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" horam"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?r[n][0]:r[n][1]}h.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am MÃ rt","An Giblean","An CÃ¨itean","An t-Ãgmhios","An t-Iuchar","An LÃ¹nastal","An t-Sultain","An DÃ mhair","An t-Samhain","An DÃ¹bhlachd"],monthsShort:["Faoi","Gear","MÃ rt","Gibl","CÃ¨it","Ãgmh","Iuch","LÃ¹n","Sult","DÃ mh","Samh","DÃ¹bh"],monthsParseExact:!0,weekdays:["DidÃ²mhnaich","Diluain","DimÃ irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["DÃ²","Lu","MÃ ","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mÃ ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dÃ¨ aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mÃ¬os",MM:"%d mÃ¬osan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),h.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuÃ±o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuÃ±._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mÃ©rcores_xoves_venres_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._mÃ©r._xov._ven._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mÃ©_xo_ve_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"Ã¡s":"Ã¡")+"] LT"},nextDay:function(){return"[maÃ±Ã¡ "+(1!==this.hours()?"Ã¡s":"Ã¡")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"Ã¡s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"Ã¡":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"Ã¡s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),h.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:Ri,ss:Ri,m:Ri,mm:Ri,h:Ri,hh:Ri,d:Ri,dd:Ri,M:Ri,MM:Ri,y:Ri,yy:Ri},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?12<e?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}});var Pi={1:"à«§",2:"à«¨",3:"à«©",4:"à«ª",5:"à««",6:"à«¬",7:"à«­",8:"à«®",9:"à«¯",0:"à«¦"},Yi={"à«§":"1","à«¨":"2","à«©":"3","à«ª":"4","à««":"5","à«¬":"6","à«­":"7","à«®":"8","à«¯":"9","à«¦":"0"};h.defineLocale("gu",{months:"àªàª¾àª¨à«àª¯à«àªàª°à«_àª«à«àª¬à«àª°à«àªàª°à«_àª®àª¾àª°à«àª_àªàªªà«àª°àª¿àª²_àª®à«_àªà«àª¨_àªà«àª²àª¾àª_àªàªàª¸à«àª_àª¸àªªà«àªà«àª®à«àª¬àª°_àªàªà«àªà«àª¬àª°_àª¨àªµà«àª®à«àª¬àª°_àª¡àª¿àª¸à«àª®à«àª¬àª°".split("_"),monthsShort:"àªàª¾àª¨à«àª¯à«._àª«à«àª¬à«àª°à«._àª®àª¾àª°à«àª_àªàªªà«àª°àª¿._àª®à«_àªà«àª¨_àªà«àª²àª¾._àªàª._àª¸àªªà«àªà«._àªàªà«àªà«._àª¨àªµà«._àª¡àª¿àª¸à«.".split("_"),monthsParseExact:!0,weekdays:"àª°àªµàª¿àªµàª¾àª°_àª¸à«àª®àªµàª¾àª°_àª®àªàªàª³àªµàª¾àª°_àª¬à«àª§à«àªµàª¾àª°_àªà«àª°à«àªµàª¾àª°_àª¶à«àªà«àª°àªµàª¾àª°_àª¶àª¨àª¿àªµàª¾àª°".split("_"),weekdaysShort:"àª°àªµàª¿_àª¸à«àª®_àª®àªàªàª³_àª¬à«àª§à«_àªà«àª°à«_àª¶à«àªà«àª°_àª¶àª¨àª¿".split("_"),weekdaysMin:"àª°_àª¸à«_àª®àª_àª¬à«_àªà«_àª¶à«_àª¶".split("_"),longDateFormat:{LT:"A h:mm àªµàª¾àªà«àª¯à«",LTS:"A h:mm:ss àªµàª¾àªà«àª¯à«",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm àªµàª¾àªà«àª¯à«",LLLL:"dddd, D MMMM YYYY, A h:mm àªµàª¾àªà«àª¯à«"},calendar:{sameDay:"[àªàª] LT",nextDay:"[àªàª¾àª²à«] LT",nextWeek:"dddd, LT",lastDay:"[àªàªàªàª¾àª²à«] LT",lastWeek:"[àªªàª¾àªàª²àª¾] dddd, LT",sameElse:"L"},relativeTime:{future:"%s àª®àª¾",past:"%s àªªà«àª¹àª²àª¾",s:"àªàª®à«àª àªªàª³à«",ss:"%d àª¸à«àªàªàª¡",m:"àªàª àª®àª¿àª¨àª¿àª",mm:"%d àª®àª¿àª¨àª¿àª",h:"àªàª àªàª²àª¾àª",hh:"%d àªàª²àª¾àª",d:"àªàª àª¦àª¿àªµàª¸",dd:"%d àª¦àª¿àªµàª¸",M:"àªàª àª®àª¹àª¿àª¨à«",MM:"%d àª®àª¹àª¿àª¨à«",y:"àªàª àªµàª°à«àª·",yy:"%d àªµàª°à«àª·"},preparse:function(e){return e.replace(/[à«§à«¨à«©à«ªà««à«¬à«­à«®à«¯à«¦]/g,function(e){return Yi[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Pi[e]})},meridiemParse:/àª°àª¾àª¤|àª¬àªªà«àª°|àª¸àªµàª¾àª°|àª¸àª¾àªàª/,meridiemHour:function(e,t){return 12===e&&(e=0),"àª°àª¾àª¤"===t?e<4?e:e+12:"àª¸àªµàª¾àª°"===t?e:"àª¬àªªà«àª°"===t?10<=e?e:e+12:"àª¸àª¾àªàª"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"àª°àª¾àª¤":e<10?"àª¸àªµàª¾àª°":e<17?"àª¬àªªà«àª°":e<20?"àª¸àª¾àªàª":"àª°àª¾àª¤"},week:{dow:0,doy:6}}),h.defineLocale("he",{months:"×× ×××¨_×¤××¨×××¨_××¨×¥_××¤×¨××_×××_××× ×_××××_×××××¡×_×¡×¤××××¨_×××§××××¨_× ×××××¨_××¦×××¨".split("_"),monthsShort:"×× ××³_×¤××¨×³_××¨×¥_××¤×¨×³_×××_××× ×_××××_××××³_×¡×¤××³_×××§×³_× ×××³_××¦××³".split("_"),weekdays:"×¨××©××_×©× ×_×©×××©×_×¨×××¢×_××××©×_×©××©×_×©××ª".split("_"),weekdaysShort:"××³_××³_××³_××³_××³_××³_×©×³".split("_"),weekdaysMin:"×_×_×_×_×_×_×©".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [×]MMMM YYYY",LLL:"D [×]MMMM YYYY HH:mm",LLLL:"dddd, D [×]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[×××× ×Ö¾]LT",nextDay:"[×××¨ ×Ö¾]LT",nextWeek:"dddd [××©×¢×] LT",lastDay:"[××ª××× ×Ö¾]LT",lastWeek:"[××××] dddd [××××¨×× ××©×¢×] LT",sameElse:"L"},relativeTime:{future:"××¢×× %s",past:"××¤× × %s",s:"××¡×¤×¨ ×©× ×××ª",ss:"%d ×©× ×××ª",m:"××§×",mm:"%d ××§××ª",h:"×©×¢×",hh:function(e){return 2===e?"×©×¢×ª×××":e+" ×©×¢××ª"},d:"×××",dd:function(e){return 2===e?"××××××":e+" ××××"},M:"××××©",MM:function(e){return 2===e?"××××©×××":e+" ××××©××"},y:"×©× ×",yy:function(e){return 2===e?"×©× ×ª×××":e%10==0&&10!==e?e+" ×©× ×":e+" ×©× ××"}},meridiemParse:/×××"×¦|××¤× ×"×¦|×××¨× ××¦××¨×××|××¤× × ××¦××¨×××|××¤× ××ª ×××§×¨|××××§×¨|××¢×¨×/i,isPM:function(e){return/^(×××"×¦|×××¨× ××¦××¨×××|××¢×¨×)$/.test(e)},meridiem:function(e,t,n){return e<5?"××¤× ××ª ×××§×¨":e<10?"××××§×¨":e<12?n?'××¤× ×"×¦':"××¤× × ××¦××¨×××":e<18?n?'×××"×¦':"×××¨× ××¦××¨×××":"××¢×¨×"}});var Bi={1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"},Ui={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"};function Hi(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}h.defineLocale("hi",{months:"à¤à¤¨à¤µà¤°à¥_à¤«à¤¼à¤°à¤µà¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥à¤²_à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤_à¤à¤à¤¸à¥à¤¤_à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¤µà¤®à¥à¤¬à¤°_à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°".split("_"),monthsShort:"à¤à¤¨._à¤«à¤¼à¤°._à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥._à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²._à¤à¤._à¤¸à¤¿à¤¤._à¤à¤à¥à¤à¥._à¤¨à¤µ._à¤¦à¤¿à¤¸.".split("_"),monthsParseExact:!0,weekdays:"à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥à¤®à¤µà¤¾à¤°_à¤®à¤à¤à¤²à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤à¥à¤°à¥à¤µà¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),weekdaysShort:"à¤°à¤µà¤¿_à¤¸à¥à¤®_à¤®à¤à¤à¤²_à¤¬à¥à¤§_à¤à¥à¤°à¥_à¤¶à¥à¤à¥à¤°_à¤¶à¤¨à¤¿".split("_"),weekdaysMin:"à¤°_à¤¸à¥_à¤®à¤_à¤¬à¥_à¤à¥_à¤¶à¥_à¤¶".split("_"),longDateFormat:{LT:"A h:mm à¤¬à¤à¥",LTS:"A h:mm:ss à¤¬à¤à¥",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¤¬à¤à¥",LLLL:"dddd, D MMMM YYYY, A h:mm à¤¬à¤à¥"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤à¤²] LT",nextWeek:"dddd, LT",lastDay:"[à¤à¤²] LT",lastWeek:"[à¤ªà¤¿à¤à¤²à¥] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¤®à¥à¤",past:"%s à¤ªà¤¹à¤²à¥",s:"à¤à¥à¤ à¤¹à¥ à¤à¥à¤·à¤£",ss:"%d à¤¸à¥à¤à¤à¤¡",m:"à¤à¤ à¤®à¤¿à¤¨à¤",mm:"%d à¤®à¤¿à¤¨à¤",h:"à¤à¤ à¤à¤à¤à¤¾",hh:"%d à¤à¤à¤à¥",d:"à¤à¤ à¤¦à¤¿à¤¨",dd:"%d à¤¦à¤¿à¤¨",M:"à¤à¤ à¤®à¤¹à¥à¤¨à¥",MM:"%d à¤®à¤¹à¥à¤¨à¥",y:"à¤à¤ à¤µà¤°à¥à¤·",yy:"%d à¤µà¤°à¥à¤·"},preparse:function(e){return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(e){return Ui[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Bi[e]})},meridiemParse:/à¤°à¤¾à¤¤|à¤¸à¥à¤¬à¤¹|à¤¦à¥à¤ªà¤¹à¤°|à¤¶à¤¾à¤®/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¤°à¤¾à¤¤"===t?e<4?e:e+12:"à¤¸à¥à¤¬à¤¹"===t?e:"à¤¦à¥à¤ªà¤¹à¤°"===t?10<=e?e:e+12:"à¤¶à¤¾à¤®"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à¤°à¤¾à¤¤":e<10?"à¤¸à¥à¤¬à¤¹":e<17?"à¤¦à¥à¤ªà¤¹à¤°":e<20?"à¤¶à¤¾à¤®":"à¤°à¤¾à¤¤"},week:{dow:0,doy:6}}),h.defineLocale("hr",{months:{format:"sijeÄnja_veljaÄe_oÅ¾ujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeÄanj_veljaÄa_oÅ¾ujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._oÅ¾u._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[proÅ¡lu] dddd [u] LT";case 6:return"[proÅ¡le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proÅ¡li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:Hi,m:Hi,mm:Hi,h:Hi,hh:Hi,d:"dan",dd:Hi,M:"mjesec",MM:Hi,y:"godinu",yy:Hi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Fi="vasÃ¡rnap hÃ©tfÅn kedden szerdÃ¡n csÃ¼tÃ¶rtÃ¶kÃ¶n pÃ©nteken szombaton".split(" ");function Gi(e,t,n,i){var r=e;switch(n){case"s":return i||t?"nÃ©hÃ¡ny mÃ¡sodperc":"nÃ©hÃ¡ny mÃ¡sodperce";case"ss":return r+(i||t)?" mÃ¡sodperc":" mÃ¡sodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" Ã³ra":" Ã³rÃ¡ja");case"hh":return r+(i||t?" Ã³ra":" Ã³rÃ¡ja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hÃ³nap":" hÃ³napja");case"MM":return r+(i||t?" hÃ³nap":" hÃ³napja");case"y":return"egy"+(i||t?" Ã©v":" Ã©ve");case"yy":return r+(i||t?" Ã©v":" Ã©ve")}return""}function Vi(e){return(e?"":"[mÃºlt] ")+"["+Fi[this.day()]+"] LT[-kor]"}function Wi(e){return e%100==11||e%10!=1}function Qi(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nokkrar sekÃºndur":"nokkrum sekÃºndum";case"ss":return Wi(e)?r+(t||i?"sekÃºndur":"sekÃºndum"):r+"sekÃºnda";case"m":return t?"mÃ­nÃºta":"mÃ­nÃºtu";case"mm":return Wi(e)?r+(t||i?"mÃ­nÃºtur":"mÃ­nÃºtum"):t?r+"mÃ­nÃºta":r+"mÃ­nÃºtu";case"hh":return Wi(e)?r+(t||i?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return t?"dagur":i?"dag":"degi";case"dd":return Wi(e)?t?r+"dagar":r+(i?"daga":"dÃ¶gum"):t?r+"dagur":r+(i?"dag":"degi");case"M":return t?"mÃ¡nuÃ°ur":i?"mÃ¡nuÃ°":"mÃ¡nuÃ°i";case"MM":return Wi(e)?t?r+"mÃ¡nuÃ°ir":r+(i?"mÃ¡nuÃ°i":"mÃ¡nuÃ°um"):t?r+"mÃ¡nuÃ°ur":r+(i?"mÃ¡nuÃ°":"mÃ¡nuÃ°i");case"y":return t||i?"Ã¡r":"Ã¡ri";case"yy":return Wi(e)?r+(t||i?"Ã¡r":"Ã¡rum"):r+(t||i?"Ã¡r":"Ã¡ri")}}h.defineLocale("hu",{months:"januÃ¡r_februÃ¡r_mÃ¡rcius_Ã¡prilis_mÃ¡jus_jÃºnius_jÃºlius_augusztus_szeptember_oktÃ³ber_november_december".split("_"),monthsShort:"jan_feb_mÃ¡rc_Ã¡pr_mÃ¡j_jÃºn_jÃºl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasÃ¡rnap_hÃ©tfÅ_kedd_szerda_csÃ¼tÃ¶rtÃ¶k_pÃ©ntek_szombat".split("_"),weekdaysShort:"vas_hÃ©t_kedd_sze_csÃ¼t_pÃ©n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Vi.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Vi.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mÃºlva",past:"%s",s:Gi,ss:Gi,m:Gi,mm:Gi,h:Gi,hh:Gi,d:Gi,dd:Gi,M:Gi,MM:Gi,y:Gi,yy:Gi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("hy-am",{months:{format:"Õ°Õ¸ÖÕ¶Õ¾Õ¡ÖÕ«_ÖÕ¥Õ¿ÖÕ¾Õ¡ÖÕ«_Õ´Õ¡ÖÕ¿Õ«_Õ¡ÕºÖÕ«Õ¬Õ«_Õ´Õ¡ÕµÕ«Õ½Õ«_Õ°Õ¸ÖÕ¶Õ«Õ½Õ«_Õ°Õ¸ÖÕ¬Õ«Õ½Õ«_ÖÕ£Õ¸Õ½Õ¿Õ¸Õ½Õ«_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥ÖÕ«_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥ÖÕ«_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥ÖÕ«_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥ÖÕ«".split("_"),standalone:"Õ°Õ¸ÖÕ¶Õ¾Õ¡Ö_ÖÕ¥Õ¿ÖÕ¾Õ¡Ö_Õ´Õ¡ÖÕ¿_Õ¡ÕºÖÕ«Õ¬_Õ´Õ¡ÕµÕ«Õ½_Õ°Õ¸ÖÕ¶Õ«Õ½_Õ°Õ¸ÖÕ¬Õ«Õ½_ÖÕ£Õ¸Õ½Õ¿Õ¸Õ½_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥Ö_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥Ö_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö".split("_")},monthsShort:"Õ°Õ¶Õ¾_ÖÕ¿Ö_Õ´ÖÕ¿_Õ¡ÕºÖ_Õ´ÕµÕ½_Õ°Õ¶Õ½_Õ°Õ¬Õ½_ÖÕ£Õ½_Õ½ÕºÕ¿_Õ°Õ¯Õ¿_Õ¶Õ´Õ¢_Õ¤Õ¯Õ¿".split("_"),weekdays:"Õ¯Õ«ÖÕ¡Õ¯Õ«_Õ¥ÖÕ¯Õ¸ÖÕ·Õ¡Õ¢Õ©Õ«_Õ¥ÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«_Õ¹Õ¸ÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«_Õ°Õ«Õ¶Õ£Õ·Õ¡Õ¢Õ©Õ«_Õ¸ÖÖÕ¢Õ¡Õ©_Õ·Õ¡Õ¢Õ¡Õ©".split("_"),weekdaysShort:"Õ¯ÖÕ¯_Õ¥ÖÕ¯_Õ¥ÖÖ_Õ¹ÖÖ_Õ°Õ¶Õ£_Õ¸ÖÖÕ¢_Õ·Õ¢Õ©".split("_"),weekdaysMin:"Õ¯ÖÕ¯_Õ¥ÖÕ¯_Õ¥ÖÖ_Õ¹ÖÖ_Õ°Õ¶Õ£_Õ¸ÖÖÕ¢_Õ·Õ¢Õ©".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Õ©.",LLL:"D MMMM YYYY Õ©., HH:mm",LLLL:"dddd, D MMMM YYYY Õ©., HH:mm"},calendar:{sameDay:"[Õ¡ÕµÕ½ÖÖ] LT",nextDay:"[Õ¾Õ¡Õ²Õ¨] LT",lastDay:"[Õ¥ÖÕ¥Õ¯] LT",nextWeek:function(){return"dddd [ÖÖÕ¨ ÕªÕ¡Õ´Õ¨] LT"},lastWeek:function(){return"[Õ¡Õ¶ÖÕ¡Õ®] dddd [ÖÖÕ¨ ÕªÕ¡Õ´Õ¨] LT"},sameElse:"L"},relativeTime:{future:"%s Õ°Õ¥Õ¿Õ¸",past:"%s Õ¡Õ¼Õ¡Õ»",s:"Õ´Õ« ÖÕ¡Õ¶Õ« Õ¾Õ¡ÕµÖÕ¯ÕµÕ¡Õ¶",ss:"%d Õ¾Õ¡ÕµÖÕ¯ÕµÕ¡Õ¶",m:"ÖÕ¸ÕºÕ¥",mm:"%d ÖÕ¸ÕºÕ¥",h:"ÕªÕ¡Õ´",hh:"%d ÕªÕ¡Õ´",d:"ÖÖ",dd:"%d ÖÖ",M:"Õ¡Õ´Õ«Õ½",MM:"%d Õ¡Õ´Õ«Õ½",y:"Õ¿Õ¡ÖÕ«",yy:"%d Õ¿Õ¡ÖÕ«"},meridiemParse:/Õ£Õ«Õ·Õ¥ÖÕ¾Õ¡|Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡|ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡|Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶/,isPM:function(e){return/^(ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡|Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶)$/.test(e)},meridiem:function(e){return e<4?"Õ£Õ«Õ·Õ¥ÖÕ¾Õ¡":e<12?"Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡":e<17?"ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡":"Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(Õ«Õ¶|ÖÕ¤)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-Õ«Õ¶":e+"-ÖÕ¤";default:return e}},week:{dow:1,doy:7}}),h.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?11<=e?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),h.defineLocale("is",{months:"janÃºar_febrÃºar_mars_aprÃ­l_maÃ­_jÃºnÃ­_jÃºlÃ­_Ã¡gÃºst_september_oktÃ³ber_nÃ³vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maÃ­_jÃºn_jÃºl_Ã¡gÃº_sep_okt_nÃ³v_des".split("_"),weekdays:"sunnudagur_mÃ¡nudagur_Ã¾riÃ°judagur_miÃ°vikudagur_fimmtudagur_fÃ¶studagur_laugardagur".split("_"),weekdaysShort:"sun_mÃ¡n_Ã¾ri_miÃ°_fim_fÃ¶s_lau".split("_"),weekdaysMin:"Su_MÃ¡_Ãr_Mi_Fi_FÃ¶_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[Ã­ dag kl.] LT",nextDay:"[Ã¡ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Ã­ gÃ¦r kl.] LT",lastWeek:"[sÃ­Ã°asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s sÃ­Ã°an",s:Qi,ss:Qi,m:Qi,mm:Qi,h:"klukkustund",hh:Qi,d:Qi,dd:Qi,M:Qi,MM:Qi,y:Qi,yy:Qi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedÃ¬_martedÃ¬_mercoledÃ¬_giovedÃ¬_venerdÃ¬_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),h.defineLocale("ja",{months:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æ¥ææ¥_æææ¥_ç«ææ¥_æ°´ææ¥_æ¨ææ¥_éææ¥_åææ¥".split("_"),weekdaysShort:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),weekdaysMin:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥ HH:mm",LLLL:"YYYYå¹´MæDæ¥ dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥(ddd) HH:mm"},meridiemParse:/åå|åå¾/i,isPM:function(e){return"åå¾"===e},meridiem:function(e,t,n){return e<12?"åå":"åå¾"},calendar:{sameDay:"[ä»æ¥] LT",nextDay:"[ææ¥] LT",nextWeek:function(e){return e.week()<this.week()?"[æ¥é±]dddd LT":"dddd LT"},lastDay:"[æ¨æ¥] LT",lastWeek:function(e){return this.week()<e.week()?"[åé±]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}æ¥/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";default:return e}},relativeTime:{future:"%så¾",past:"%så",s:"æ°ç§",ss:"%dç§",m:"1å",mm:"%då",h:"1æé",hh:"%dæé",d:"1æ¥",dd:"%dæ¥",M:"1ã¶æ",MM:"%dã¶æ",y:"1å¹´",yy:"%då¹´"}}),h.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?11<=e?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),h.defineLocale("ka",{months:{standalone:"áááááá á_ááááá áááá_ááá á¢á_ááá ááá_áááá¡á_ááááá¡á_ááááá¡á_ááááá¡á¢á_á¡áá¥á¢ááááá á_áá¥á¢ááááá á_ááááááá á_áááááááá á".split("_"),format:"áááááá á¡_ááááá áááá¡_ááá á¢á¡_ááá áááá¡_áááá¡á¡_ááááá¡á¡_ááááá¡á¡_ááááá¡á¢á¡_á¡áá¥á¢ááááá á¡_áá¥á¢ááááá á¡_ááááááá á¡_áááááááá á¡".split("_")},monthsShort:"ááá_ááá_ááá _ááá _ááá_ááá_ááá_ááá_á¡áá¥_áá¥á¢_ááá_ááá".split("_"),weekdays:{standalone:"áááá á_áá á¨ááááá_á¡ááá¨ááááá_ááá®á¨ááááá_á®á£áá¨ááááá_ááá áá¡áááá_á¨ááááá".split("_"),format:"áááá áá¡_áá á¨ááááá¡_á¡ááá¨ááááá¡_ááá®á¨ááááá¡_á®á£áá¨ááááá¡_ááá áá¡áááá¡_á¨ááááá¡".split("_"),isFormat:/(á¬ááá|á¨ááááá)/},weekdaysShort:"ááá_áá á¨_á¡áá_ááá®_á®á£á_ááá _á¨áá".split("_"),weekdaysMin:"áá_áá _á¡á_áá_á®á£_áá_á¨á".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[áá¦áá¡] LT[-áá]",nextDay:"[á®ááá] LT[-áá]",lastDay:"[áá£á¨áá] LT[-áá]",nextWeek:"[á¨ááááá] dddd LT[-áá]",lastWeek:"[á¬ááá] dddd LT-áá",sameElse:"L"},relativeTime:{future:function(e){return/(á¬ááá|á¬á£áá|á¡áááá|á¬ááá)/.test(e)?e.replace(/á$/,"á¨á"):e+"á¨á"},past:function(e){return/(á¬ááá|á¬á£áá|á¡áááá|áá¦á|ááá)/.test(e)?e.replace(/(á|á)$/,"áá¡ á¬áá"):/á¬ááá/.test(e)?e.replace(/á¬ááá$/,"á¬ááá¡ á¬áá"):void 0},s:"á áááááááá á¬ááá",ss:"%d á¬ááá",m:"á¬á£áá",mm:"%d á¬á£áá",h:"á¡áááá",hh:"%d á¡áááá",d:"áá¦á",dd:"%d áá¦á",M:"ááá",MM:"%d ááá",y:"á¬ááá",yy:"%d á¬ááá"},dayOfMonthOrdinalParse:/0|1-áá|áá-\d{1,2}|\d{1,2}-á/,ordinal:function(e){return 0===e?e:1===e?e+"-áá":e<20||e<=100&&e%20==0||e%100==0?"áá-"+e:e+"-á"},week:{dow:1,doy:7}});var qi={0:"-ÑÑ",1:"-ÑÑ",2:"-ÑÑ",3:"-ÑÑ",4:"-ÑÑ",5:"-ÑÑ",6:"-ÑÑ",7:"-ÑÑ",8:"-ÑÑ",9:"-ÑÑ",10:"-ÑÑ",20:"-ÑÑ",30:"-ÑÑ",40:"-ÑÑ",50:"-ÑÑ",60:"-ÑÑ",70:"-ÑÑ",80:"-ÑÑ",90:"-ÑÑ",100:"-ÑÑ"};h.defineLocale("kk",{months:"ÒÐ°Ò£ÑÐ°Ñ_Ð°ÒÐ¿Ð°Ð½_Ð½Ð°ÑÑÑÐ·_ÑÓÑÑÑ_Ð¼Ð°Ð¼ÑÑ_Ð¼Ð°ÑÑÑÐ¼_ÑÑÐ»Ð´Ðµ_ÑÐ°Ð¼ÑÐ·_ÒÑÑÐºÒ¯Ð¹ÐµÐº_ÒÐ°Ð·Ð°Ð½_ÒÐ°ÑÐ°ÑÐ°_Ð¶ÐµÐ»ÑÐ¾ÒÑÐ°Ð½".split("_"),monthsShort:"ÒÐ°Ò£_Ð°ÒÐ¿_Ð½Ð°Ñ_ÑÓÑ_Ð¼Ð°Ð¼_Ð¼Ð°Ñ_ÑÑÐ»_ÑÐ°Ð¼_ÒÑÑ_ÒÐ°Ð·_ÒÐ°Ñ_Ð¶ÐµÐ»".split("_"),weekdays:"Ð¶ÐµÐºÑÐµÐ½Ð±Ñ_Ð´Ò¯Ð¹ÑÐµÐ½Ð±Ñ_ÑÐµÐ¹ÑÐµÐ½Ð±Ñ_ÑÓÑÑÐµÐ½Ð±Ñ_Ð±ÐµÐ¹ÑÐµÐ½Ð±Ñ_Ð¶Ò±Ð¼Ð°_ÑÐµÐ½Ð±Ñ".split("_"),weekdaysShort:"Ð¶ÐµÐº_Ð´Ò¯Ð¹_ÑÐµÐ¹_ÑÓÑ_Ð±ÐµÐ¹_Ð¶Ò±Ð¼_ÑÐµÐ½".split("_"),weekdaysMin:"Ð¶Ðº_Ð´Ð¹_ÑÐ¹_ÑÑ_Ð±Ð¹_Ð¶Ð¼_ÑÐ½".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ÐÒ¯Ð³ÑÐ½ ÑÐ°ÒÐ°Ñ] LT",nextDay:"[ÐÑÑÐµÒ£ ÑÐ°ÒÐ°Ñ] LT",nextWeek:"dddd [ÑÐ°ÒÐ°Ñ] LT",lastDay:"[ÐÐµÑÐµ ÑÐ°ÒÐ°Ñ] LT",lastWeek:"[Ó¨ÑÐºÐµÐ½ Ð°Ð¿ÑÐ°Ð½ÑÒ£] dddd [ÑÐ°ÒÐ°Ñ] LT",sameElse:"L"},relativeTime:{future:"%s ÑÑÑÐ½Ð´Ðµ",past:"%s Ð±Ò±ÑÑÐ½",s:"Ð±ÑÑÐ½ÐµÑÐµ ÑÐµÐºÑÐ½Ð´",ss:"%d ÑÐµÐºÑÐ½Ð´",m:"Ð±ÑÑ Ð¼Ð¸Ð½ÑÑ",mm:"%d Ð¼Ð¸Ð½ÑÑ",h:"Ð±ÑÑ ÑÐ°ÒÐ°Ñ",hh:"%d ÑÐ°ÒÐ°Ñ",d:"Ð±ÑÑ ÐºÒ¯Ð½",dd:"%d ÐºÒ¯Ð½",M:"Ð±ÑÑ Ð°Ð¹",MM:"%d Ð°Ð¹",y:"Ð±ÑÑ Ð¶ÑÐ»",yy:"%d Ð¶ÑÐ»"},dayOfMonthOrdinalParse:/\d{1,2}-(ÑÑ|ÑÑ)/,ordinal:function(e){return e+(qi[e]||qi[e%10]||qi[100<=e?100:null])},week:{dow:1,doy:7}});var Zi={1:"á¡",2:"á¢",3:"á£",4:"á¤",5:"á¥",6:"á¦",7:"á§",8:"á¨",9:"á©",0:"á "},Xi={"á¡":"1","á¢":"2","á£":"3","á¤":"4","á¥":"5","á¦":"6","á§":"7","á¨":"8","á©":"9","á ":"0"};h.defineLocale("km",{months:"áááá¶_áá»áááá_áá¸áá¶_áááá¶_á§ááá¶_áá·áá»áá¶_áááááá¶_áá¸á á¶_ááááá¶_áá»áá¶_áá·áááá·áá¶_áááá¼".split("_"),monthsShort:"áááá¶_áá»áááá_áá¸áá¶_áááá¶_á§ááá¶_áá·áá»áá¶_áááááá¶_áá¸á á¶_ááááá¶_áá»áá¶_áá·áááá·áá¶_áááá¼".split("_"),weekdays:"á¢á¶áá·ááá_ááááá_á¢áááá¶á_áá»á_áááá ááááá·á_áá»ááá_áááá".split("_"),weekdaysShort:"á¢á¶_á_á¢_á_ááá_áá»_á".split("_"),weekdaysMin:"á¢á¶_á_á¢_á_ááá_áá»_á".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/áááá¹á|áááá¶á/,isPM:function(e){return"áááá¶á"===e},meridiem:function(e,t,n){return e<12?"áááá¹á":"áááá¶á"},calendar:{sameDay:"[ááááááá áááá] LT",nextDay:"[ááá¢áá áááá] LT",nextWeek:"dddd [áááá] LT",lastDay:"[áááá·ááá·á áááá] LT",lastWeek:"dddd [ááááá¶á ááá»á] [áááá] LT",sameElse:"L"},relativeTime:{future:"%sááá",past:"%sáá»á",s:"ááá»áááá¶ááá·áá¶áá¸",ss:"%d áá·áá¶áá¸",m:"áá½ááá¶áá¸",mm:"%d áá¶áá¸",h:"áá½ááááá",hh:"%d áááá",d:"áá½ááááá",dd:"%d áááá",M:"áá½ááá",MM:"%d áá",y:"áá½ááááá¶á",yy:"%d áááá¶á"},dayOfMonthOrdinalParse:/áá¸\d{1,2}/,ordinal:"áá¸%d",preparse:function(e){return e.replace(/[á¡á¢á£á¤á¥á¦á§á¨á©á ]/g,function(e){return Xi[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Zi[e]})},week:{dow:1,doy:4}});var Ji={1:"à³§",2:"à³¨",3:"à³©",4:"à³ª",5:"à³«",6:"à³¬",7:"à³­",8:"à³®",9:"à³¯",0:"à³¦"},Ki={"à³§":"1","à³¨":"2","à³©":"3","à³ª":"4","à³«":"5","à³¬":"6","à³­":"7","à³®":"8","à³¯":"9","à³¦":"0"};h.defineLocale("kn",{months:"à²à²¨à²µà²°à²¿_à²«à³à²¬à³à²°à²µà²°à²¿_à²®à²¾à²°à³à²à³_à²à²ªà³à²°à²¿à²²à³_à²®à³à³_à²à³à²¨à³_à²à³à²²à³à³_à²à²à²¸à³à²à³_à²¸à³à²ªà³à²à³à²à²¬à²°à³_à²à²à³à²à³à³à³à²¬à²°à³_à²¨à²µà³à²à²¬à²°à³_à²¡à²¿à²¸à³à²à²¬à²°à³".split("_"),monthsShort:"à²à²¨_à²«à³à²¬à³à²°_à²®à²¾à²°à³à²à³_à²à²ªà³à²°à²¿à²²à³_à²®à³à³_à²à³à²¨à³_à²à³à²²à³à³_à²à²à²¸à³à²à³_à²¸à³à²ªà³à²à³à²_à²à²à³à²à³à³à³_à²¨à²µà³à²_à²¡à²¿à²¸à³à²".split("_"),monthsParseExact:!0,weekdays:"à²­à²¾à²¨à³à²µà²¾à²°_à²¸à³à³à³à²®à²µà²¾à²°_à²®à²à²à²³à²µà²¾à²°_à²¬à³à²§à²µà²¾à²°_à²à³à²°à³à²µà²¾à²°_à²¶à³à²à³à²°à²µà²¾à²°_à²¶à²¨à²¿à²µà²¾à²°".split("_"),weekdaysShort:"à²­à²¾à²¨à³_à²¸à³à³à³à²®_à²®à²à²à²³_à²¬à³à²§_à²à³à²°à³_à²¶à³à²à³à²°_à²¶à²¨à²¿".split("_"),weekdaysMin:"à²­à²¾_à²¸à³à³à³_à²®à²_à²¬à³_à²à³_à²¶à³_à²¶".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[à²à²à²¦à³] LT",nextDay:"[à²¨à²¾à²³à³] LT",nextWeek:"dddd, LT",lastDay:"[à²¨à²¿à²¨à³à²¨à³] LT",lastWeek:"[à²à³à³à²¨à³à²¯] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à²¨à²à²¤à²°",past:"%s à²¹à²¿à²à²¦à³",s:"à²à³à²²à²µà³ à²à³à²·à²£à²à²³à³",ss:"%d à²¸à³à²à³à²à²¡à³à²à²³à³",m:"à²à²à²¦à³ à²¨à²¿à²®à²¿à²·",mm:"%d à²¨à²¿à²®à²¿à²·",h:"à²à²à²¦à³ à²à²à²à³",hh:"%d à²à²à²à³",d:"à²à²à²¦à³ à²¦à²¿à²¨",dd:"%d à²¦à²¿à²¨",M:"à²à²à²¦à³ à²¤à²¿à²à²à²³à³",MM:"%d à²¤à²¿à²à²à²³à³",y:"à²à²à²¦à³ à²µà²°à³à²·",yy:"%d à²µà²°à³à²·"},preparse:function(e){return e.replace(/[à³§à³¨à³©à³ªà³«à³¬à³­à³®à³¯à³¦]/g,function(e){return Ki[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ji[e]})},meridiemParse:/à²°à²¾à²¤à³à²°à²¿|à²¬à³à²³à²¿à²à³à²à³|à²®à²§à³à²¯à²¾à²¹à³à²¨|à²¸à²à²à³/,meridiemHour:function(e,t){return 12===e&&(e=0),"à²°à²¾à²¤à³à²°à²¿"===t?e<4?e:e+12:"à²¬à³à²³à²¿à²à³à²à³"===t?e:"à²®à²§à³à²¯à²¾à²¹à³à²¨"===t?10<=e?e:e+12:"à²¸à²à²à³"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à²°à²¾à²¤à³à²°à²¿":e<10?"à²¬à³à²³à²¿à²à³à²à³":e<17?"à²®à²§à³à²¯à²¾à²¹à³à²¨":e<20?"à²¸à²à²à³":"à²°à²¾à²¤à³à²°à²¿"},dayOfMonthOrdinalParse:/\d{1,2}(à²¨à³à³)/,ordinal:function(e){return e+"à²¨à³à³"},week:{dow:0,doy:6}}),h.defineLocale("ko",{months:"1ì_2ì_3ì_4ì_5ì_6ì_7ì_8ì_9ì_10ì_11ì_12ì".split("_"),monthsShort:"1ì_2ì_3ì_4ì_5ì_6ì_7ì_8ì_9ì_10ì_11ì_12ì".split("_"),weekdays:"ì¼ìì¼_ììì¼_íìì¼_ììì¼_ëª©ìì¼_ê¸ìì¼_í ìì¼".split("_"),weekdaysShort:"ì¼_ì_í_ì_ëª©_ê¸_í ".split("_"),weekdaysMin:"ì¼_ì_í_ì_ëª©_ê¸_í ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYYë MMMM Dì¼",LLL:"YYYYë MMMM Dì¼ A h:mm",LLLL:"YYYYë MMMM Dì¼ dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYYë MMMM Dì¼",lll:"YYYYë MMMM Dì¼ A h:mm",llll:"YYYYë MMMM Dì¼ dddd A h:mm"},calendar:{sameDay:"ì¤ë LT",nextDay:"ë´ì¼ LT",nextWeek:"dddd LT",lastDay:"ì´ì  LT",lastWeek:"ì§ëì£¼ dddd LT",sameElse:"L"},relativeTime:{future:"%s í",past:"%s ì ",s:"ëª ì´",ss:"%dì´",m:"1ë¶",mm:"%dë¶",h:"í ìê°",hh:"%dìê°",d:"íë£¨",dd:"%dì¼",M:"í ë¬",MM:"%dë¬",y:"ì¼ ë",yy:"%dë"},dayOfMonthOrdinalParse:/\d{1,2}(ì¼|ì|ì£¼)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"ì¼";case"M":return e+"ì";case"w":case"W":return e+"ì£¼";default:return e}},meridiemParse:/ì¤ì |ì¤í/,isPM:function(e){return"ì¤í"===e},meridiem:function(e,t,n){return e<12?"ì¤ì ":"ì¤í"}});var $i={0:"-ÑÒ¯",1:"-ÑÐ¸",2:"-ÑÐ¸",3:"-ÑÒ¯",4:"-ÑÒ¯",5:"-ÑÐ¸",6:"-ÑÑ",7:"-ÑÐ¸",8:"-ÑÐ¸",9:"-ÑÑ",10:"-ÑÑ",20:"-ÑÑ",30:"-ÑÑ",40:"-ÑÑ",50:"-ÑÒ¯",60:"-ÑÑ",70:"-ÑÐ¸",80:"-ÑÐ¸",90:"-ÑÑ",100:"-ÑÒ¯"};function er(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function tr(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return tr(0===t?e/10:t)}if(e<1e4){for(;10<=e;)e/=10;return tr(e)}return tr(e/=1e3)}h.defineLocale("ky",{months:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_"),monthsShort:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°ÑÑ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),weekdays:"ÐÐµÐºÑÐµÐ¼Ð±Ð¸_ÐÒ¯Ð¹ÑÓ©Ð¼Ð±Ò¯_Ð¨ÐµÐ¹ÑÐµÐ¼Ð±Ð¸_Ð¨Ð°ÑÑÐµÐ¼Ð±Ð¸_ÐÐµÐ¹ÑÐµÐ¼Ð±Ð¸_ÐÑÐ¼Ð°_ÐÑÐµÐ¼Ð±Ð¸".split("_"),weekdaysShort:"ÐÐµÐº_ÐÒ¯Ð¹_Ð¨ÐµÐ¹_Ð¨Ð°Ñ_ÐÐµÐ¹_ÐÑÐ¼_ÐÑÐµ".split("_"),weekdaysMin:"ÐÐº_ÐÐ¹_Ð¨Ð¹_Ð¨Ñ_ÐÐ¹_ÐÐ¼_ÐÑ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ÐÒ¯Ð³Ò¯Ð½ ÑÐ°Ð°Ñ] LT",nextDay:"[Ð­ÑÑÐµÒ£ ÑÐ°Ð°Ñ] LT",nextWeek:"dddd [ÑÐ°Ð°Ñ] LT",lastDay:"[ÐÐµÑÐµ ÑÐ°Ð°Ñ] LT",lastWeek:"[Ó¨ÑÐºÐµÐ½ Ð°Ð¿ÑÐ°Ð½ÑÐ½] dddd [ÐºÒ¯Ð½Ò¯] [ÑÐ°Ð°Ñ] LT",sameElse:"L"},relativeTime:{future:"%s Ð¸ÑÐ¸Ð½Ð´Ðµ",past:"%s Ð¼ÑÑÑÐ½",s:"Ð±Ð¸ÑÐ½ÐµÑÐµ ÑÐµÐºÑÐ½Ð´",ss:"%d ÑÐµÐºÑÐ½Ð´",m:"Ð±Ð¸Ñ Ð¼Ò¯Ð½Ó©Ñ",mm:"%d Ð¼Ò¯Ð½Ó©Ñ",h:"Ð±Ð¸Ñ ÑÐ°Ð°Ñ",hh:"%d ÑÐ°Ð°Ñ",d:"Ð±Ð¸Ñ ÐºÒ¯Ð½",dd:"%d ÐºÒ¯Ð½",M:"Ð±Ð¸Ñ Ð°Ð¹",MM:"%d Ð°Ð¹",y:"Ð±Ð¸Ñ Ð¶ÑÐ»",yy:"%d Ð¶ÑÐ»"},dayOfMonthOrdinalParse:/\d{1,2}-(ÑÐ¸|ÑÑ|ÑÒ¯|ÑÑ)/,ordinal:function(e){return e+($i[e]||$i[e%10]||$i[100<=e?100:null])},week:{dow:1,doy:7}}),h.defineLocale("lb",{months:"Januar_Februar_MÃ¤erz_AbrÃ«ll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_MÃ©indeg_DÃ«nschdeg_MÃ«ttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._MÃ©._DÃ«._MÃ«._Do._Fr._Sa.".split("_"),weekdaysMin:"So_MÃ©_DÃ«_MÃ«_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[GÃ«schter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return tr(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return tr(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:er,mm:"%d Minutten",h:er,hh:"%d Stonnen",d:er,dd:"%d Deeg",M:er,MM:"%d MÃ©int",y:er,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("lo",{months:"àº¡àº±àºàºàº­àº_àºàº¸àº¡àºàº²_àº¡àºµàºàº²_à»àº¡àºªàº²_àºàº¶àºàºªàº°àºàº²_àº¡àº´àºàº¸àºàº²_àºà»àº¥àº°àºàº»àº_àºªàº´àºàº«àº²_àºàº±àºàºàº²_àºàº¸àº¥àº²_àºàº°àºàº´àº_àºàº±àºàº§àº²".split("_"),monthsShort:"àº¡àº±àºàºàº­àº_àºàº¸àº¡àºàº²_àº¡àºµàºàº²_à»àº¡àºªàº²_àºàº¶àºàºªàº°àºàº²_àº¡àº´àºàº¸àºàº²_àºà»àº¥àº°àºàº»àº_àºªàº´àºàº«àº²_àºàº±àºàºàº²_àºàº¸àº¥àº²_àºàº°àºàº´àº_àºàº±àºàº§àº²".split("_"),weekdays:"àº­àº²àºàº´àº_àºàº±àº_àº­àº±àºàºàº²àº_àºàº¸àº_àºàº°àº«àº±àº_àºªàº¸àº_à»àºªàº»àº²".split("_"),weekdaysShort:"àºàº´àº_àºàº±àº_àº­àº±àºàºàº²àº_àºàº¸àº_àºàº°àº«àº±àº_àºªàº¸àº_à»àºªàº»àº²".split("_"),weekdaysMin:"àº_àº_àº­àº_àº_àºàº«_àºªàº_àºª".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"àº§àº±àºdddd D MMMM YYYY HH:mm"},meridiemParse:/àºàº­àºà»àºàº»à»àº²|àºàº­àºà»àº¥àº/,isPM:function(e){return"àºàº­àºà»àº¥àº"===e},meridiem:function(e,t,n){return e<12?"àºàº­àºà»àºàº»à»àº²":"àºàº­àºà»àº¥àº"},calendar:{sameDay:"[àº¡àº·à»àºàºµà»à»àº§àº¥àº²] LT",nextDay:"[àº¡àº·à»àº­àº·à»àºà»àº§àº¥àº²] LT",nextWeek:"[àº§àº±àº]dddd[à»à»àº²à»àº§àº¥àº²] LT",lastDay:"[àº¡àº·à»àº§àº²àºàºàºµà»à»àº§àº¥àº²] LT",lastWeek:"[àº§àº±àº]dddd[à»àº¥à»àº§àºàºµà»à»àº§àº¥àº²] LT",sameElse:"L"},relativeTime:{future:"àº­àºµàº %s",past:"%sàºà»àº²àºàº¡àº²",s:"àºà»à»à»àºàº»à»àº²à»àºàº§àº´àºàº²àºàºµ",ss:"%d àº§àº´àºàº²àºàºµ",m:"1 àºàº²àºàºµ",mm:"%d àºàº²àºàºµ",h:"1 àºàº»à»àº§à»àº¡àº",hh:"%d àºàº»à»àº§à»àº¡àº",d:"1 àº¡àº·à»",dd:"%d àº¡àº·à»",M:"1 à»àºàº·àº­àº",MM:"%d à»àºàº·àº­àº",y:"1 àºàºµ",yy:"%d àºàºµ"},dayOfMonthOrdinalParse:/(àºàºµà»)\d{1,2}/,ordinal:function(e){return"àºàºµà»"+e}});var nr={ss:"sekundÄ_sekundÅ¾iÅ³_sekundes",m:"minutÄ_minutÄs_minutÄ",mm:"minutÄs_minuÄiÅ³_minutes",h:"valanda_valandos_valandÄ",hh:"valandos_valandÅ³_valandas",d:"diena_dienos_dienÄ",dd:"dienos_dienÅ³_dienas",M:"mÄnuo_mÄnesio_mÄnesÄ¯",MM:"mÄnesiai_mÄnesiÅ³_mÄnesius",y:"metai_metÅ³_metus",yy:"metai_metÅ³_metus"};function ir(e,t,n,i){return t?ar(n)[0]:i?ar(n)[1]:ar(n)[2]}function rr(e){return e%10==0||10<e&&e<20}function ar(e){return nr[e].split("_")}function or(e,t,n,i){var r=e+" ";return 1===e?r+ir(0,t,n[0],i):t?r+(rr(e)?ar(n)[1]:ar(n)[0]):i?r+ar(n)[1]:r+(rr(e)?ar(n)[1]:ar(n)[2])}h.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandÅ¾io_geguÅ¾Äs_birÅ¾elio_liepos_rugpjÅ«Äio_rugsÄjo_spalio_lapkriÄio_gruodÅ¾io".split("_"),standalone:"sausis_vasaris_kovas_balandis_geguÅ¾Ä_birÅ¾elis_liepa_rugpjÅ«tis_rugsÄjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienÄ¯_pirmadienÄ¯_antradienÄ¯_treÄiadienÄ¯_ketvirtadienÄ¯_penktadienÄ¯_Å¡eÅ¡tadienÄ¯".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treÄiadienis_ketvirtadienis_penktadienis_Å¡eÅ¡tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Å eÅ¡".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Å ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Å iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[PraÄjusÄ¯] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieÅ¡ %s",s:function(e,t,n,i){return t?"kelios sekundÄs":i?"keliÅ³ sekundÅ¾iÅ³":"kelias sekundes"},ss:or,m:ir,mm:or,h:ir,hh:or,d:ir,dd:or,M:ir,MM:or,y:ir,yy:or},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var sr={ss:"sekundes_sekundÄm_sekunde_sekundes".split("_"),m:"minÅ«tes_minÅ«tÄm_minÅ«te_minÅ«tes".split("_"),mm:"minÅ«tes_minÅ«tÄm_minÅ«te_minÅ«tes".split("_"),h:"stundas_stundÄm_stunda_stundas".split("_"),hh:"stundas_stundÄm_stunda_stundas".split("_"),d:"dienas_dienÄm_diena_dienas".split("_"),dd:"dienas_dienÄm_diena_dienas".split("_"),M:"mÄneÅ¡a_mÄneÅ¡iem_mÄnesis_mÄneÅ¡i".split("_"),MM:"mÄneÅ¡a_mÄneÅ¡iem_mÄnesis_mÄneÅ¡i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function ur(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function lr(e,t,n){return e+" "+ur(sr[n],e,t)}function cr(e,t,n){return ur(sr[n],e,t)}h.defineLocale("lv",{months:"janvÄris_februÄris_marts_aprÄ«lis_maijs_jÅ«nijs_jÅ«lijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jÅ«n_jÅ«l_aug_sep_okt_nov_dec".split("_"),weekdays:"svÄtdiena_pirmdiena_otrdiena_treÅ¡diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Å odien pulksten] LT",nextDay:"[RÄ«t pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[PagÄjuÅ¡Ä] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pÄc %s",past:"pirms %s",s:function(e,t){return t?"daÅ¾as sekundes":"daÅ¾Äm sekundÄm"},ss:lr,m:cr,mm:lr,h:cr,hh:lr,d:cr,dd:lr,M:cr,MM:lr,y:cr,yy:lr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var dr={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var i=dr.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+dr.correctGrammaticalCase(e,i)}};function hr(e,t,n,i){switch(n){case"s":return t?"ÑÑÐ´ÑÑÐ½ ÑÐµÐºÑÐ½Ð´":"ÑÑÐ´ÑÑÐ½ ÑÐµÐºÑÐ½Ð´ÑÐ½";case"ss":return e+(t?" ÑÐµÐºÑÐ½Ð´":" ÑÐµÐºÑÐ½Ð´ÑÐ½");case"m":case"mm":return e+(t?" Ð¼Ð¸Ð½ÑÑ":" Ð¼Ð¸Ð½ÑÑÑÐ½");case"h":case"hh":return e+(t?" ÑÐ°Ð³":" ÑÐ°Ð³Ð¸Ð¹Ð½");case"d":case"dd":return e+(t?" Ó©Ð´Ó©Ñ":" Ó©Ð´ÑÐ¸Ð¹Ð½");case"M":case"MM":return e+(t?" ÑÐ°Ñ":" ÑÐ°ÑÑÐ½");case"y":case"yy":return e+(t?" Ð¶Ð¸Ð»":" Ð¶Ð¸Ð»Ð¸Ð¹Ð½");default:return e}}h.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄe u] LT",lastWeek:function(){return["[proÅ¡le] [nedjelje] [u] LT","[proÅ¡log] [ponedjeljka] [u] LT","[proÅ¡log] [utorka] [u] LT","[proÅ¡le] [srijede] [u] LT","[proÅ¡log] [Äetvrtka] [u] LT","[proÅ¡log] [petka] [u] LT","[proÅ¡le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:dr.translate,m:dr.translate,mm:dr.translate,h:dr.translate,hh:dr.translate,d:"dan",dd:dr.translate,M:"mjesec",MM:dr.translate,y:"godinu",yy:dr.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("mi",{months:"Kohi-tÄte_Hui-tanguru_PoutÅ«-te-rangi_Paenga-whÄwhÄ_Haratua_Pipiri_HÅngoingoi_Here-turi-kÅkÄ_Mahuru_Whiringa-Ä-nuku_Whiringa-Ä-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_HÅngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"RÄtapu_Mane_TÅ«rei_Wenerei_TÄite_Paraire_HÄtarei".split("_"),weekdaysShort:"Ta_Ma_TÅ«_We_TÄi_Pa_HÄ".split("_"),weekdaysMin:"Ta_Ma_TÅ«_We_TÄi_Pa_HÄ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hÄkona ruarua",ss:"%d hÄkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),h.defineLocale("mk",{months:"ÑÐ°Ð½ÑÐ°ÑÐ¸_ÑÐµÐ²ÑÑÐ°ÑÐ¸_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ñ_ÑÑÐ½Ð¸_ÑÑÐ»Ð¸_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸_Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸_Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸_Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸".split("_"),monthsShort:"ÑÐ°Ð½_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ñ_ÑÑÐ½_ÑÑÐ»_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),weekdays:"Ð½ÐµÐ´ÐµÐ»Ð°_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÑÑÐ¾Ðº_Ð¿ÐµÑÐ¾Ðº_ÑÐ°Ð±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²ÑÐ¾_ÑÑÐµ_ÑÐµÑ_Ð¿ÐµÑ_ÑÐ°Ð±".split("_"),weekdaysMin:"Ð½e_Ð¿o_Ð²Ñ_ÑÑ_ÑÐµ_Ð¿Ðµ_Ña".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ÐÐµÐ½ÐµÑ Ð²Ð¾] LT",nextDay:"[Ð£ÑÑÐµ Ð²Ð¾] LT",nextWeek:"[ÐÐ¾] dddd [Ð²Ð¾] LT",lastDay:"[ÐÑÐµÑÐ° Ð²Ð¾] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ÐÐ·Ð¼Ð¸Ð½Ð°ÑÐ°ÑÐ°] dddd [Ð²Ð¾] LT";case 1:case 2:case 4:case 5:return"[ÐÐ·Ð¼Ð¸Ð½Ð°ÑÐ¸Ð¾Ñ] dddd [Ð²Ð¾] LT"}},sameElse:"L"},relativeTime:{future:"Ð¿Ð¾ÑÐ»Ðµ %s",past:"Ð¿ÑÐµÐ´ %s",s:"Ð½ÐµÐºÐ¾Ð»ÐºÑ ÑÐµÐºÑÐ½Ð´Ð¸",ss:"%d ÑÐµÐºÑÐ½Ð´Ð¸",m:"Ð¼Ð¸Ð½ÑÑÐ°",mm:"%d Ð¼Ð¸Ð½ÑÑÐ¸",h:"ÑÐ°Ñ",hh:"%d ÑÐ°ÑÐ°",d:"Ð´ÐµÐ½",dd:"%d Ð´ÐµÐ½Ð°",M:"Ð¼ÐµÑÐµÑ",MM:"%d Ð¼ÐµÑÐµÑÐ¸",y:"Ð³Ð¾Ð´Ð¸Ð½Ð°",yy:"%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"},dayOfMonthOrdinalParse:/\d{1,2}-(ÐµÐ²|ÐµÐ½|ÑÐ¸|Ð²Ð¸|ÑÐ¸|Ð¼Ð¸)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ÐµÐ²":0===n?e+"-ÐµÐ½":10<n&&n<20?e+"-ÑÐ¸":1===t?e+"-Ð²Ð¸":2===t?e+"-ÑÐ¸":7===t||8===t?e+"-Ð¼Ð¸":e+"-ÑÐ¸"},week:{dow:1,doy:7}}),h.defineLocale("ml",{months:"à´à´¨àµà´µà´°à´¿_à´«àµà´¬àµà´°àµà´µà´°à´¿_à´®à´¾àµ¼à´àµà´àµ_à´à´ªàµà´°à´¿àµ½_à´®àµà´¯àµ_à´àµàµº_à´àµà´²àµ_à´à´à´¸àµà´±àµà´±àµ_à´¸àµà´ªàµà´±àµà´±à´à´¬àµ¼_à´à´àµà´àµà´¬àµ¼_à´¨à´µà´à´¬àµ¼_à´¡à´¿à´¸à´à´¬àµ¼".split("_"),monthsShort:"à´à´¨àµ._à´«àµà´¬àµà´°àµ._à´®à´¾àµ¼._à´à´ªàµà´°à´¿._à´®àµà´¯àµ_à´àµàµº_à´àµà´²àµ._à´à´._à´¸àµà´ªàµà´±àµà´±._à´à´àµà´àµ._à´¨à´µà´._à´¡à´¿à´¸à´.".split("_"),monthsParseExact:!0,weekdays:"à´à´¾à´¯à´±à´¾à´´àµà´_à´¤à´¿à´àµà´à´³à´¾à´´àµà´_à´àµà´µàµà´µà´¾à´´àµà´_à´¬àµà´§à´¨à´¾à´´àµà´_à´µàµà´¯à´¾à´´à´¾à´´àµà´_à´µàµà´³àµà´³à´¿à´¯à´¾à´´àµà´_à´¶à´¨à´¿à´¯à´¾à´´àµà´".split("_"),weekdaysShort:"à´à´¾à´¯àµ¼_à´¤à´¿à´àµà´àµ¾_à´àµà´µàµà´µ_à´¬àµà´§àµ»_à´µàµà´¯à´¾à´´à´_à´µàµà´³àµà´³à´¿_à´¶à´¨à´¿".split("_"),weekdaysMin:"à´à´¾_à´¤à´¿_à´àµ_à´¬àµ_à´µàµà´¯à´¾_à´µàµ_à´¶".split("_"),longDateFormat:{LT:"A h:mm -à´¨àµ",LTS:"A h:mm:ss -à´¨àµ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -à´¨àµ",LLLL:"dddd, D MMMM YYYY, A h:mm -à´¨àµ"},calendar:{sameDay:"[à´à´¨àµà´¨àµ] LT",nextDay:"[à´¨à´¾à´³àµ] LT",nextWeek:"dddd, LT",lastDay:"[à´à´¨àµà´¨à´²àµ] LT",lastWeek:"[à´à´´à´¿à´àµà´] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à´à´´à´¿à´àµà´àµ",past:"%s à´®àµàµ»à´ªàµ",s:"à´àµ½à´ª à´¨à´¿à´®à´¿à´·à´àµà´àµ¾",ss:"%d à´¸àµà´àµà´àµ»à´¡àµ",m:"à´à´°àµ à´®à´¿à´¨à´¿à´±àµà´±àµ",mm:"%d à´®à´¿à´¨à´¿à´±àµà´±àµ",h:"à´à´°àµ à´®à´£à´¿à´àµà´àµàµ¼",hh:"%d à´®à´£à´¿à´àµà´àµàµ¼",d:"à´à´°àµ à´¦à´¿à´µà´¸à´",dd:"%d à´¦à´¿à´µà´¸à´",M:"à´à´°àµ à´®à´¾à´¸à´",MM:"%d à´®à´¾à´¸à´",y:"à´à´°àµ à´µàµ¼à´·à´",yy:"%d à´µàµ¼à´·à´"},meridiemParse:/à´°à´¾à´¤àµà´°à´¿|à´°à´¾à´µà´¿à´²àµ|à´à´àµà´ à´à´´à´¿à´àµà´àµ|à´µàµà´àµà´¨àµà´¨àµà´°à´|à´°à´¾à´¤àµà´°à´¿/i,meridiemHour:function(e,t){return 12===e&&(e=0),"à´°à´¾à´¤àµà´°à´¿"===t&&4<=e||"à´à´àµà´ à´à´´à´¿à´àµà´àµ"===t||"à´µàµà´àµà´¨àµà´¨àµà´°à´"===t?e+12:e},meridiem:function(e,t,n){return e<4?"à´°à´¾à´¤àµà´°à´¿":e<12?"à´°à´¾à´µà´¿à´²àµ":e<17?"à´à´àµà´ à´à´´à´¿à´àµà´àµ":e<20?"à´µàµà´àµà´¨àµà´¨àµà´°à´":"à´°à´¾à´¤àµà´°à´¿"}}),h.defineLocale("mn",{months:"ÐÑÐ³Ð´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_Ð¥Ð¾ÑÑÐ´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÑÐ°Ð²Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÓ©ÑÓ©Ð²Ð´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_Ð¢Ð°Ð²Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÑÐ³Ð°Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÐ¾Ð»Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÐ°Ð¹Ð¼Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÐ´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_ÐÑÐ°Ð²Ð´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ_ÐÑÐ²Ð°Ð½ Ð½ÑÐ³Ð´Ò¯Ð³ÑÑÑ ÑÐ°Ñ_ÐÑÐ²Ð°Ð½ ÑÐ¾ÑÑÐ´ÑÐ³Ð°Ð°Ñ ÑÐ°Ñ".split("_"),monthsShort:"1 ÑÐ°Ñ_2 ÑÐ°Ñ_3 ÑÐ°Ñ_4 ÑÐ°Ñ_5 ÑÐ°Ñ_6 ÑÐ°Ñ_7 ÑÐ°Ñ_8 ÑÐ°Ñ_9 ÑÐ°Ñ_10 ÑÐ°Ñ_11 ÑÐ°Ñ_12 ÑÐ°Ñ".split("_"),monthsParseExact:!0,weekdays:"ÐÑÐ¼_ÐÐ°Ð²Ð°Ð°_ÐÑÐ³Ð¼Ð°Ñ_ÐÑÐ°Ð³Ð²Ð°_ÐÒ¯ÑÑÐ²_ÐÐ°Ð°ÑÐ°Ð½_ÐÑÐ¼Ð±Ð°".split("_"),weekdaysShort:"ÐÑÐ¼_ÐÐ°Ð²_ÐÑÐ³_ÐÑÐ°_ÐÒ¯Ñ_ÐÐ°Ð°_ÐÑÐ¼".split("_"),weekdaysMin:"ÐÑ_ÐÐ°_ÐÑ_ÐÑ_ÐÒ¯_ÐÐ°_ÐÑ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY Ð¾Ð½Ñ MMMMÑÐ½ D",LLL:"YYYY Ð¾Ð½Ñ MMMMÑÐ½ D HH:mm",LLLL:"dddd, YYYY Ð¾Ð½Ñ MMMMÑÐ½ D HH:mm"},meridiemParse:/Ò®Ó¨|Ò®Ð¥/i,isPM:function(e){return"Ò®Ð¥"===e},meridiem:function(e,t,n){return e<12?"Ò®Ó¨":"Ò®Ð¥"},calendar:{sameDay:"[Ó¨Ð½Ó©Ó©Ð´Ó©Ñ] LT",nextDay:"[ÐÐ°ÑÐ³Ð°Ð°Ñ] LT",nextWeek:"[ÐÑÑÑ] dddd LT",lastDay:"[Ó¨ÑÐ¸Ð³Ð´Ó©Ñ] LT",lastWeek:"[Ó¨Ð½Ð³Ó©ÑÑÓ©Ð½] dddd LT",sameElse:"L"},relativeTime:{future:"%s Ð´Ð°ÑÐ°Ð°",past:"%s Ó©Ð¼Ð½Ó©",s:hr,ss:hr,m:hr,mm:hr,h:hr,hh:hr,d:hr,dd:hr,M:hr,MM:hr,y:hr,yy:hr},dayOfMonthOrdinalParse:/\d{1,2} Ó©Ð´Ó©Ñ/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" Ó©Ð´Ó©Ñ";default:return e}}});var pr={1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"},mr={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"};function fr(e,t,n,i){var r="";if(t)switch(n){case"s":r="à¤à¤¾à¤¹à¥ à¤¸à¥à¤à¤à¤¦";break;case"ss":r="%d à¤¸à¥à¤à¤à¤¦";break;case"m":r="à¤à¤ à¤®à¤¿à¤¨à¤¿à¤";break;case"mm":r="%d à¤®à¤¿à¤¨à¤¿à¤à¥";break;case"h":r="à¤à¤ à¤¤à¤¾à¤¸";break;case"hh":r="%d à¤¤à¤¾à¤¸";break;case"d":r="à¤à¤ à¤¦à¤¿à¤µà¤¸";break;case"dd":r="%d à¤¦à¤¿à¤µà¤¸";break;case"M":r="à¤à¤ à¤®à¤¹à¤¿à¤¨à¤¾";break;case"MM":r="%d à¤®à¤¹à¤¿à¤¨à¥";break;case"y":r="à¤à¤ à¤µà¤°à¥à¤·";break;case"yy":r="%d à¤µà¤°à¥à¤·à¥"}else switch(n){case"s":r="à¤à¤¾à¤¹à¥ à¤¸à¥à¤à¤à¤¦à¤¾à¤";break;case"ss":r="%d à¤¸à¥à¤à¤à¤¦à¤¾à¤";break;case"m":r="à¤à¤à¤¾ à¤®à¤¿à¤¨à¤¿à¤à¤¾";break;case"mm":r="%d à¤®à¤¿à¤¨à¤¿à¤à¤¾à¤";break;case"h":r="à¤à¤à¤¾ à¤¤à¤¾à¤¸à¤¾";break;case"hh":r="%d à¤¤à¤¾à¤¸à¤¾à¤";break;case"d":r="à¤à¤à¤¾ à¤¦à¤¿à¤µà¤¸à¤¾";break;case"dd":r="%d à¤¦à¤¿à¤µà¤¸à¤¾à¤";break;case"M":r="à¤à¤à¤¾ à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾";break;case"MM":r="%d à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾à¤";break;case"y":r="à¤à¤à¤¾ à¤µà¤°à¥à¤·à¤¾";break;case"yy":r="%d à¤µà¤°à¥à¤·à¤¾à¤"}return r.replace(/%d/i,e)}h.defineLocale("mr",{months:"à¤à¤¾à¤¨à¥à¤µà¤¾à¤°à¥_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤¾à¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿à¤²_à¤®à¥_à¤à¥à¤¨_à¤à¥à¤²à¥_à¤à¤à¤¸à¥à¤_à¤¸à¤ªà¥à¤à¥à¤à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¥à¤µà¥à¤¹à¥à¤à¤¬à¤°_à¤¡à¤¿à¤¸à¥à¤à¤¬à¤°".split("_"),monthsShort:"à¤à¤¾à¤¨à¥._à¤«à¥à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤._à¤à¤ªà¥à¤°à¤¿._à¤®à¥._à¤à¥à¤¨._à¤à¥à¤²à¥._à¤à¤._à¤¸à¤ªà¥à¤à¥à¤._à¤à¤à¥à¤à¥._à¤¨à¥à¤µà¥à¤¹à¥à¤._à¤¡à¤¿à¤¸à¥à¤.".split("_"),monthsParseExact:!0,weekdays:"à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥à¤®à¤µà¤¾à¤°_à¤®à¤à¤à¤³à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤à¥à¤°à¥à¤µà¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),weekdaysShort:"à¤°à¤µà¤¿_à¤¸à¥à¤®_à¤®à¤à¤à¤³_à¤¬à¥à¤§_à¤à¥à¤°à¥_à¤¶à¥à¤à¥à¤°_à¤¶à¤¨à¤¿".split("_"),weekdaysMin:"à¤°_à¤¸à¥_à¤®à¤_à¤¬à¥_à¤à¥_à¤¶à¥_à¤¶".split("_"),longDateFormat:{LT:"A h:mm à¤µà¤¾à¤à¤¤à¤¾",LTS:"A h:mm:ss à¤µà¤¾à¤à¤¤à¤¾",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¤µà¤¾à¤à¤¤à¤¾",LLLL:"dddd, D MMMM YYYY, A h:mm à¤µà¤¾à¤à¤¤à¤¾"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤à¤¦à¥à¤¯à¤¾] LT",nextWeek:"dddd, LT",lastDay:"[à¤à¤¾à¤²] LT",lastWeek:"[à¤®à¤¾à¤à¥à¤²] dddd, LT",sameElse:"L"},relativeTime:{future:"%sà¤®à¤§à¥à¤¯à¥",past:"%sà¤ªà¥à¤°à¥à¤µà¥",s:fr,ss:fr,m:fr,mm:fr,h:fr,hh:fr,d:fr,dd:fr,M:fr,MM:fr,y:fr,yy:fr},preparse:function(e){return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(e){return mr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return pr[e]})},meridiemParse:/à¤°à¤¾à¤¤à¥à¤°à¥|à¤¸à¤à¤¾à¤³à¥|à¤¦à¥à¤ªà¤¾à¤°à¥|à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¤°à¤¾à¤¤à¥à¤°à¥"===t?e<4?e:e+12:"à¤¸à¤à¤¾à¤³à¥"===t?e:"à¤¦à¥à¤ªà¤¾à¤°à¥"===t?10<=e?e:e+12:"à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à¤°à¤¾à¤¤à¥à¤°à¥":e<10?"à¤¸à¤à¤¾à¤³à¥":e<17?"à¤¦à¥à¤ªà¤¾à¤°à¥":e<20?"à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥":"à¤°à¤¾à¤¤à¥à¤°à¥"},week:{dow:0,doy:6}}),h.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),h.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),h.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ä unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_DiÄembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ä un_Lul_Aww_Set_Ott_Nov_DiÄ".split("_"),weekdays:"Il-Ä¦add_It-Tnejn_It-Tlieta_L-ErbgÄ§a_Il-Ä¦amis_Il-Ä imgÄ§a_Is-Sibt".split("_"),weekdaysShort:"Ä¦ad_Tne_Tli_Erb_Ä¦am_Ä im_Sib".split("_"),weekdaysMin:"Ä¦a_Tn_Tl_Er_Ä¦a_Ä i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[GÄ§ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraÄ§ fil-]LT",lastWeek:"dddd [li gÄ§adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"fâ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegÄ§a",hh:"%d siegÄ§at",d:"Ä¡urnata",dd:"%d Ä¡ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}});var gr={1:"á",2:"á",3:"á",4:"á",5:"á",6:"á",7:"á",8:"á",9:"á",0:"á"},_r={"á":"1","á":"2","á":"3","á":"4","á":"5","á":"6","á":"7","á":"8","á":"9","á":"0"};h.defineLocale("my",{months:"áááºááá«áá®_áá±áá±á¬áºáá«áá®_áááº_á§áá¼á®_áá±_áá½ááº_áá°áá­á¯ááº_áá¼áá¯ááº_áááºáááºáá¬_á¡á±á¬ááºáá­á¯áá¬_áá­á¯áááºáá¬_áá®áááºáá¬".split("_"),monthsShort:"áááº_áá±_áááº_áá¼á®_áá±_áá½ááº_áá­á¯ááº_áá¼_áááº_á¡á±á¬ááº_áá­á¯_áá®".split("_"),weekdays:"ááááºá¹ááá½á±_ááááºá¹áá¬_á¡ááºá¹áá«_áá¯áá¹ááá°á¸_áá¼á¬áááá±á¸_áá±á¬áá¼á¬_ááá±".split("_"),weekdaysShort:"áá½á±_áá¬_áá«_áá°á¸_áá¼á¬_áá±á¬_áá±".split("_"),weekdaysMin:"áá½á±_áá¬_áá«_áá°á¸_áá¼á¬_áá±á¬_áá±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ááá±.] LT [áá¾á¬]",nextDay:"[ááááºáá¼ááº] LT [áá¾á¬]",nextWeek:"dddd LT [áá¾á¬]",lastDay:"[ááá±.á] LT [áá¾á¬]",lastWeek:"[áá¼á®á¸áá²á·áá±á¬] dddd LT [áá¾á¬]",sameElse:"L"},relativeTime:{future:"áá¬áááºá· %s áá¾á¬",past:"áá½ááºáá²á·áá±á¬ %s á",s:"ááá¹áááº.á¡áááºá¸áááº",ss:"%d ááá¹ááá·áº",m:"áááºáá­áááº",mm:"%d áá­áááº",h:"áááºáá¬áá®",hh:"%d áá¬áá®",d:"áááºáááº",dd:"%d áááº",M:"áááºá",MM:"%d á",y:"áááºáá¾ááº",yy:"%d áá¾ááº"},preparse:function(e){return e.replace(/[áááááááááá]/g,function(e){return _r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return gr[e]})},week:{dow:1,doy:4}}),h.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸._ma._ti._on._to._fr._lÃ¸.".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gÃ¥r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"ett Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var yr={1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"},vr={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"};h.defineLocale("ne",{months:"à¤à¤¨à¤µà¤°à¥_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿à¤²_à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤_à¤à¤à¤·à¥à¤_à¤¸à¥à¤ªà¥à¤à¥à¤®à¥à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¥à¤­à¥à¤®à¥à¤¬à¤°_à¤¡à¤¿à¤¸à¥à¤®à¥à¤¬à¤°".split("_"),monthsShort:"à¤à¤¨._à¤«à¥à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿._à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤._à¤à¤._à¤¸à¥à¤ªà¥à¤._à¤à¤à¥à¤à¥._à¤¨à¥à¤­à¥._à¤¡à¤¿à¤¸à¥.".split("_"),monthsParseExact:!0,weekdays:"à¤à¤à¤¤à¤¬à¤¾à¤°_à¤¸à¥à¤®à¤¬à¤¾à¤°_à¤®à¤à¥à¤à¤²à¤¬à¤¾à¤°_à¤¬à¥à¤§à¤¬à¤¾à¤°_à¤¬à¤¿à¤¹à¤¿à¤¬à¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤¬à¤¾à¤°_à¤¶à¤¨à¤¿à¤¬à¤¾à¤°".split("_"),weekdaysShort:"à¤à¤à¤¤._à¤¸à¥à¤®._à¤®à¤à¥à¤à¤²._à¤¬à¥à¤§._à¤¬à¤¿à¤¹à¤¿._à¤¶à¥à¤à¥à¤°._à¤¶à¤¨à¤¿.".split("_"),weekdaysMin:"à¤._à¤¸à¥._à¤®à¤._à¤¬à¥._à¤¬à¤¿._à¤¶à¥._à¤¶.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aà¤à¥ h:mm à¤¬à¤à¥",LTS:"Aà¤à¥ h:mm:ss à¤¬à¤à¥",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aà¤à¥ h:mm à¤¬à¤à¥",LLLL:"dddd, D MMMM YYYY, Aà¤à¥ h:mm à¤¬à¤à¥"},preparse:function(e){return e.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(e){return vr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return yr[e]})},meridiemParse:/à¤°à¤¾à¤¤à¤¿|à¤¬à¤¿à¤¹à¤¾à¤¨|à¤¦à¤¿à¤à¤à¤¸à¥|à¤¸à¤¾à¤à¤/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¤°à¤¾à¤¤à¤¿"===t?e<4?e:e+12:"à¤¬à¤¿à¤¹à¤¾à¤¨"===t?e:"à¤¦à¤¿à¤à¤à¤¸à¥"===t?10<=e?e:e+12:"à¤¸à¤¾à¤à¤"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"à¤°à¤¾à¤¤à¤¿":e<12?"à¤¬à¤¿à¤¹à¤¾à¤¨":e<16?"à¤¦à¤¿à¤à¤à¤¸à¥":e<20?"à¤¸à¤¾à¤à¤":"à¤°à¤¾à¤¤à¤¿"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤­à¥à¤²à¤¿] LT",nextWeek:"[à¤à¤à¤à¤¦à¥] dddd[,] LT",lastDay:"[à¤¹à¤¿à¤à¥] LT",lastWeek:"[à¤à¤à¤à¥] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sà¤®à¤¾",past:"%s à¤à¤à¤¾à¤¡à¤¿",s:"à¤à¥à¤¹à¥ à¤à¥à¤·à¤£",ss:"%d à¤¸à¥à¤à¥à¤£à¥à¤¡",m:"à¤à¤ à¤®à¤¿à¤¨à¥à¤",mm:"%d à¤®à¤¿à¤¨à¥à¤",h:"à¤à¤ à¤à¤£à¥à¤à¤¾",hh:"%d à¤à¤£à¥à¤à¤¾",d:"à¤à¤ à¤¦à¤¿à¤¨",dd:"%d à¤¦à¤¿à¤¨",M:"à¤à¤ à¤®à¤¹à¤¿à¤¨à¤¾",MM:"%d à¤®à¤¹à¤¿à¤¨à¤¾",y:"à¤à¤ à¤¬à¤°à¥à¤·",yy:"%d à¤¬à¤°à¥à¤·"},week:{dow:0,doy:6}});var Mr="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Ar="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),br=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],wr=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;h.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ar[e.month()]:Mr[e.month()]:Mr},monthsRegex:wr,monthsShortRegex:wr,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:br,longMonthsParse:br,shortMonthsParse:br,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"Ã©Ã©n minuut",mm:"%d minuten",h:"Ã©Ã©n uur",hh:"%d uur",d:"Ã©Ã©n dag",dd:"%d dagen",M:"Ã©Ã©n maand",MM:"%d maanden",y:"Ã©Ã©n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});var xr="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Er="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Lr=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Tr=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;h.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Er[e.month()]:xr[e.month()]:xr},monthsRegex:Tr,monthsShortRegex:Tr,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Lr,longMonthsParse:Lr,shortMonthsParse:Lr,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"Ã©Ã©n minuut",mm:"%d minuten",h:"Ã©Ã©n uur",hh:"%d uur",d:"Ã©Ã©n dag",dd:"%d dagen",M:"Ã©Ã©n maand",MM:"%d maanden",y:"Ã©Ã©n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),h.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mÃ¥ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mÃ¥n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_mÃ¥_ty_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gÃ¥r klokka] LT",lastWeek:"[FÃ¸regÃ¥ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mÃ¥nad",MM:"%d mÃ¥nader",y:"eit Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Dr={1:"à©§",2:"à©¨",3:"à©©",4:"à©ª",5:"à©«",6:"à©¬",7:"à©­",8:"à©®",9:"à©¯",0:"à©¦"},Sr={"à©§":"1","à©¨":"2","à©©":"3","à©ª":"4","à©«":"5","à©¬":"6","à©­":"7","à©®":"8","à©¯":"9","à©¦":"0"};h.defineLocale("pa-in",{months:"à¨à¨¨à¨µà¨°à©_à¨«à¨¼à¨°à¨µà¨°à©_à¨®à¨¾à¨°à¨_à¨à¨ªà©à¨°à©à¨²_à¨®à¨_à¨à©à¨¨_à¨à©à¨²à¨¾à¨_à¨à¨à¨¸à¨¤_à¨¸à¨¤à©°à¨¬à¨°_à¨à¨à¨¤à©à¨¬à¨°_à¨¨à¨µà©°à¨¬à¨°_à¨¦à¨¸à©°à¨¬à¨°".split("_"),monthsShort:"à¨à¨¨à¨µà¨°à©_à¨«à¨¼à¨°à¨µà¨°à©_à¨®à¨¾à¨°à¨_à¨à¨ªà©à¨°à©à¨²_à¨®à¨_à¨à©à¨¨_à¨à©à¨²à¨¾à¨_à¨à¨à¨¸à¨¤_à¨¸à¨¤à©°à¨¬à¨°_à¨à¨à¨¤à©à¨¬à¨°_à¨¨à¨µà©°à¨¬à¨°_à¨¦à¨¸à©°à¨¬à¨°".split("_"),weekdays:"à¨à¨¤à¨µà¨¾à¨°_à¨¸à©à¨®à¨µà¨¾à¨°_à¨®à©°à¨à¨²à¨µà¨¾à¨°_à¨¬à©à¨§à¨µà¨¾à¨°_à¨µà©à¨°à¨µà¨¾à¨°_à¨¸à¨¼à©à©±à¨à¨°à¨µà¨¾à¨°_à¨¸à¨¼à¨¨à©à¨à¨°à¨µà¨¾à¨°".split("_"),weekdaysShort:"à¨à¨¤_à¨¸à©à¨®_à¨®à©°à¨à¨²_à¨¬à©à¨§_à¨µà©à¨°_à¨¸à¨¼à©à¨à¨°_à¨¸à¨¼à¨¨à©".split("_"),weekdaysMin:"à¨à¨¤_à¨¸à©à¨®_à¨®à©°à¨à¨²_à¨¬à©à¨§_à¨µà©à¨°_à¨¸à¨¼à©à¨à¨°_à¨¸à¨¼à¨¨à©".split("_"),longDateFormat:{LT:"A h:mm à¨µà¨à©",LTS:"A h:mm:ss à¨µà¨à©",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¨µà¨à©",LLLL:"dddd, D MMMM YYYY, A h:mm à¨µà¨à©"},calendar:{sameDay:"[à¨à¨] LT",nextDay:"[à¨à¨²] LT",nextWeek:"[à¨à¨à¨²à¨¾] dddd, LT",lastDay:"[à¨à¨²] LT",lastWeek:"[à¨ªà¨¿à¨à¨²à©] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¨µà¨¿à©±à¨",past:"%s à¨ªà¨¿à¨à¨²à©",s:"à¨à©à¨ à¨¸à¨à¨¿à©°à¨",ss:"%d à¨¸à¨à¨¿à©°à¨",m:"à¨à¨ à¨®à¨¿à©°à¨",mm:"%d à¨®à¨¿à©°à¨",h:"à¨à©±à¨ à¨à©°à¨à¨¾",hh:"%d à¨à©°à¨à©",d:"à¨à©±à¨ à¨¦à¨¿à¨¨",dd:"%d à¨¦à¨¿à¨¨",M:"à¨à©±à¨ à¨®à¨¹à©à¨¨à¨¾",MM:"%d à¨®à¨¹à©à¨¨à©",y:"à¨à©±à¨ à¨¸à¨¾à¨²",yy:"%d à¨¸à¨¾à¨²"},preparse:function(e){return e.replace(/[à©§à©¨à©©à©ªà©«à©¬à©­à©®à©¯à©¦]/g,function(e){return Sr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Dr[e]})},meridiemParse:/à¨°à¨¾à¨¤|à¨¸à¨µà©à¨°|à¨¦à©à¨ªà¨¹à¨¿à¨°|à¨¸à¨¼à¨¾à¨®/,meridiemHour:function(e,t){return 12===e&&(e=0),"à¨°à¨¾à¨¤"===t?e<4?e:e+12:"à¨¸à¨µà©à¨°"===t?e:"à¨¦à©à¨ªà¨¹à¨¿à¨°"===t?10<=e?e:e+12:"à¨¸à¨¼à¨¾à¨®"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à¨°à¨¾à¨¤":e<10?"à¨¸à¨µà©à¨°":e<17?"à¨¦à©à¨ªà¨¹à¨¿à¨°":e<20?"à¨¸à¨¼à¨¾à¨®":"à¨°à¨¾à¨¤"},week:{dow:0,doy:6}});var Cr="styczeÅ_luty_marzec_kwiecieÅ_maj_czerwiec_lipiec_sierpieÅ_wrzesieÅ_paÅºdziernik_listopad_grudzieÅ".split("_"),Nr="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzeÅnia_paÅºdziernika_listopada_grudnia".split("_");function kr(e){return e%10<5&&1<e%10&&~~(e/10)%10!=1}function Ir(e,t,n){var i=e+" ";switch(n){case"ss":return i+(kr(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutÄ";case"mm":return i+(kr(e)?"minuty":"minut");case"h":return t?"godzina":"godzinÄ";case"hh":return i+(kr(e)?"godziny":"godzin");case"MM":return i+(kr(e)?"miesiÄce":"miesiÄcy");case"yy":return i+(kr(e)?"lata":"lat")}}function jr(e,t,n){var i=" ";return(20<=e%100||100<=e&&e%100==0)&&(i=" de "),e+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}function Or(e,t,n){var i,r;return"m"===n?t?"Ð¼Ð¸Ð½ÑÑÐ°":"Ð¼Ð¸Ð½ÑÑÑ":e+" "+(i=+e,r={ss:t?"ÑÐµÐºÑÐ½Ð´Ð°_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´":"ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´",mm:t?"Ð¼Ð¸Ð½ÑÑÐ°_Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑ":"Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑ",hh:"ÑÐ°Ñ_ÑÐ°ÑÐ°_ÑÐ°ÑÐ¾Ð²",dd:"Ð´ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð½ÐµÐ¹",MM:"Ð¼ÐµÑÑÑ_Ð¼ÐµÑÑÑÐ°_Ð¼ÐµÑÑÑÐµÐ²",yy:"Ð³Ð¾Ð´_Ð³Ð¾Ð´Ð°_Ð»ÐµÑ"}[n].split("_"),i%10==1&&i%100!=11?r[0]:2<=i%10&&i%10<=4&&(i%100<10||20<=i%100)?r[1]:r[2])}h.defineLocale("pl",{months:function(e,t){return e?""===t?"("+Nr[e.month()]+"|"+Cr[e.month()]+")":/D MMMM/.test(t)?Nr[e.month()]:Cr[e.month()]:Cr},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paÅº_lis_gru".split("_"),weekdays:"niedziela_poniedziaÅek_wtorek_Åroda_czwartek_piÄtek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_År_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_År_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DziÅ o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielÄ o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W ÅrodÄ o] LT";case 6:return"[W sobotÄ o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszÅÄ niedzielÄ o] LT";case 3:return"[W zeszÅÄ ÅrodÄ o] LT";case 6:return"[W zeszÅÄ sobotÄ o] LT";default:return"[W zeszÅy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Ir,m:Ir,mm:Ir,h:Ir,hh:Ir,d:"1 dzieÅ",dd:"%d dni",M:"miesiÄc",MM:Ir,y:"rok",yy:Ir},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("pt-br",{months:"janeiro_fevereiro_marÃ§o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_TerÃ§a-feira_Quarta-feira_Quinta-feira_Sexta-feira_SÃ¡bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_SÃ¡b".split("_"),weekdaysMin:"Do_2Âª_3Âª_4Âª_5Âª_6Âª_SÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [Ã s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [Ã s] HH:mm"},calendar:{sameDay:"[Hoje Ã s] LT",nextDay:"[AmanhÃ£ Ã s] LT",nextWeek:"dddd [Ã s] LT",lastDay:"[Ontem Ã s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Ãltimo] dddd [Ã s] LT":"[Ãltima] dddd [Ã s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"hÃ¡ %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mÃªs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº"}),h.defineLocale("pt",{months:"janeiro_fevereiro_marÃ§o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_TerÃ§a-feira_Quarta-feira_Quinta-feira_Sexta-feira_SÃ¡bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_SÃ¡b".split("_"),weekdaysMin:"Do_2Âª_3Âª_4Âª_5Âª_6Âª_SÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje Ã s] LT",nextDay:"[AmanhÃ£ Ã s] LT",nextWeek:"dddd [Ã s] LT",lastDay:"[Ontem Ã s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Ãltimo] dddd [Ã s] LT":"[Ãltima] dddd [Ã s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"hÃ¡ %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mÃªs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),h.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminicÄ_luni_marÈi_miercuri_joi_vineri_sÃ¢mbÄtÄ".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_SÃ¢m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_SÃ¢".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mÃ¢ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s Ã®n urmÄ",s:"cÃ¢teva secunde",ss:jr,m:"un minut",mm:jr,h:"o orÄ",hh:jr,d:"o zi",dd:jr,M:"o lunÄ",MM:jr,y:"un an",yy:jr},week:{dow:1,doy:7}});var zr=[/^ÑÐ½Ð²/i,/^ÑÐµÐ²/i,/^Ð¼Ð°Ñ/i,/^Ð°Ð¿Ñ/i,/^Ð¼Ð°[Ð¹Ñ]/i,/^Ð¸ÑÐ½/i,/^Ð¸ÑÐ»/i,/^Ð°Ð²Ð³/i,/^ÑÐµÐ½/i,/^Ð¾ÐºÑ/i,/^Ð½Ð¾Ñ/i,/^Ð´ÐµÐº/i];h.defineLocale("ru",{months:{format:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑÐ°_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ñ_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑÐ°_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_"),standalone:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_")},monthsShort:{format:"ÑÐ½Ð²._ÑÐµÐ²Ñ._Ð¼Ð°Ñ._Ð°Ð¿Ñ._Ð¼Ð°Ñ_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³._ÑÐµÐ½Ñ._Ð¾ÐºÑ._Ð½Ð¾ÑÐ±._Ð´ÐµÐº.".split("_"),standalone:"ÑÐ½Ð²._ÑÐµÐ²Ñ._Ð¼Ð°ÑÑ_Ð°Ð¿Ñ._Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³._ÑÐµÐ½Ñ._Ð¾ÐºÑ._Ð½Ð¾ÑÐ±._Ð´ÐµÐº.".split("_")},weekdays:{standalone:"Ð²Ð¾ÑÐºÑÐµÑÐµÐ½ÑÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÐµÑÐ³_Ð¿ÑÑÐ½Ð¸ÑÐ°_ÑÑÐ±Ð±Ð¾ÑÐ°".split("_"),format:"Ð²Ð¾ÑÐºÑÐµÑÐµÐ½ÑÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ñ_ÑÐµÑÐ²ÐµÑÐ³_Ð¿ÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð±Ð¾ÑÑ".split("_"),isFormat:/\[ ?[ÐÐ²] ?(?:Ð¿ÑÐ¾ÑÐ»ÑÑ|ÑÐ»ÐµÐ´ÑÑÑÑÑ|ÑÑÑ)? ?\] ?dddd/},weekdaysShort:"Ð²Ñ_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð²Ñ_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),monthsParse:zr,longMonthsParse:zr,shortMonthsParse:zr,monthsRegex:/^(ÑÐ½Ð²Ð°Ñ[ÑÑ]|ÑÐ½Ð²\.?|ÑÐµÐ²ÑÐ°Ð»[ÑÑ]|ÑÐµÐ²Ñ?\.?|Ð¼Ð°ÑÑÐ°?|Ð¼Ð°Ñ\.?|Ð°Ð¿ÑÐµÐ»[ÑÑ]|Ð°Ð¿Ñ\.?|Ð¼Ð°[Ð¹Ñ]|Ð¸ÑÐ½[ÑÑ]|Ð¸ÑÐ½\.?|Ð¸ÑÐ»[ÑÑ]|Ð¸ÑÐ»\.?|Ð°Ð²Ð³ÑÑÑÐ°?|Ð°Ð²Ð³\.?|ÑÐµÐ½ÑÑÐ±Ñ[ÑÑ]|ÑÐµÐ½Ñ?\.?|Ð¾ÐºÑÑÐ±Ñ[ÑÑ]|Ð¾ÐºÑ\.?|Ð½Ð¾ÑÐ±Ñ[ÑÑ]|Ð½Ð¾ÑÐ±?\.?|Ð´ÐµÐºÐ°Ð±Ñ[ÑÑ]|Ð´ÐµÐº\.?)/i,monthsShortRegex:/^(ÑÐ½Ð²Ð°Ñ[ÑÑ]|ÑÐ½Ð²\.?|ÑÐµÐ²ÑÐ°Ð»[ÑÑ]|ÑÐµÐ²Ñ?\.?|Ð¼Ð°ÑÑÐ°?|Ð¼Ð°Ñ\.?|Ð°Ð¿ÑÐµÐ»[ÑÑ]|Ð°Ð¿Ñ\.?|Ð¼Ð°[Ð¹Ñ]|Ð¸ÑÐ½[ÑÑ]|Ð¸ÑÐ½\.?|Ð¸ÑÐ»[ÑÑ]|Ð¸ÑÐ»\.?|Ð°Ð²Ð³ÑÑÑÐ°?|Ð°Ð²Ð³\.?|ÑÐµÐ½ÑÑÐ±Ñ[ÑÑ]|ÑÐµÐ½Ñ?\.?|Ð¾ÐºÑÑÐ±Ñ[ÑÑ]|Ð¾ÐºÑ\.?|Ð½Ð¾ÑÐ±Ñ[ÑÑ]|Ð½Ð¾ÑÐ±?\.?|Ð´ÐµÐºÐ°Ð±Ñ[ÑÑ]|Ð´ÐµÐº\.?)/i,monthsStrictRegex:/^(ÑÐ½Ð²Ð°Ñ[ÑÑ]|ÑÐµÐ²ÑÐ°Ð»[ÑÑ]|Ð¼Ð°ÑÑÐ°?|Ð°Ð¿ÑÐµÐ»[ÑÑ]|Ð¼Ð°[ÑÐ¹]|Ð¸ÑÐ½[ÑÑ]|Ð¸ÑÐ»[ÑÑ]|Ð°Ð²Ð³ÑÑÑÐ°?|ÑÐµÐ½ÑÑÐ±Ñ[ÑÑ]|Ð¾ÐºÑÑÐ±Ñ[ÑÑ]|Ð½Ð¾ÑÐ±Ñ[ÑÑ]|Ð´ÐµÐºÐ°Ð±Ñ[ÑÑ])/i,monthsShortStrictRegex:/^(ÑÐ½Ð²\.|ÑÐµÐ²Ñ?\.|Ð¼Ð°Ñ[Ñ.]|Ð°Ð¿Ñ\.|Ð¼Ð°[ÑÐ¹]|Ð¸ÑÐ½[ÑÑ.]|Ð¸ÑÐ»[ÑÑ.]|Ð°Ð²Ð³\.|ÑÐµÐ½Ñ?\.|Ð¾ÐºÑ\.|Ð½Ð¾ÑÐ±?\.|Ð´ÐµÐº\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ð³.",LLL:"D MMMM YYYY Ð³., H:mm",LLLL:"dddd, D MMMM YYYY Ð³., H:mm"},calendar:{sameDay:"[Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ, Ð²] LT",nextDay:"[ÐÐ°Ð²ÑÑÐ°, Ð²] LT",lastDay:"[ÐÑÐµÑÐ°, Ð²] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[ÐÐ¾] dddd, [Ð²] LT":"[Ð] dddd, [Ð²] LT";switch(this.day()){case 0:return"[Ð ÑÐ»ÐµÐ´ÑÑÑÐµÐµ] dddd, [Ð²] LT";case 1:case 2:case 4:return"[Ð ÑÐ»ÐµÐ´ÑÑÑÐ¸Ð¹] dddd, [Ð²] LT";case 3:case 5:case 6:return"[Ð ÑÐ»ÐµÐ´ÑÑÑÑÑ] dddd, [Ð²] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[ÐÐ¾] dddd, [Ð²] LT":"[Ð] dddd, [Ð²] LT";switch(this.day()){case 0:return"[Ð Ð¿ÑÐ¾ÑÐ»Ð¾Ðµ] dddd, [Ð²] LT";case 1:case 2:case 4:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÐ¹] dddd, [Ð²] LT";case 3:case 5:case 6:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÑ] dddd, [Ð²] LT"}},sameElse:"L"},relativeTime:{future:"ÑÐµÑÐµÐ· %s",past:"%s Ð½Ð°Ð·Ð°Ð´",s:"Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐµÐºÑÐ½Ð´",ss:Or,m:Or,mm:Or,h:"ÑÐ°Ñ",hh:Or,d:"Ð´ÐµÐ½Ñ",dd:Or,M:"Ð¼ÐµÑÑÑ",MM:Or,y:"Ð³Ð¾Ð´",yy:Or},meridiemParse:/Ð½Ð¾ÑÐ¸|ÑÑÑÐ°|Ð´Ð½Ñ|Ð²ÐµÑÐµÑÐ°/i,isPM:function(e){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐµÑÐ°)$/.test(e)},meridiem:function(e,t,n){return e<4?"Ð½Ð¾ÑÐ¸":e<12?"ÑÑÑÐ°":e<17?"Ð´Ð½Ñ":"Ð²ÐµÑÐµÑÐ°"},dayOfMonthOrdinalParse:/\d{1,2}-(Ð¹|Ð³Ð¾|Ñ)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-Ð¹";case"D":return e+"-Ð³Ð¾";case"w":case"W":return e+"-Ñ";default:return e}},week:{dow:1,doy:4}});var Rr=["Ø¬ÙÙØ±Ù","ÙÙØ¨Ø±ÙØ±Ù","ÙØ§Ø±Ú","Ø§Ù¾Ø±ÙÙ","ÙØ¦Ù","Ø¬ÙÙ","Ø¬ÙÙØ§Ø¡Ù","Ø¢Ú¯Ø³Ù½","Ø³ÙÙ¾Ù½ÙØ¨Ø±","Ø¢ÚªÙ½ÙØ¨Ø±","ÙÙÙØ¨Ø±","ÚØ³ÙØ¨Ø±"],Pr=["Ø¢ÚØ±","Ø³ÙÙØ±","Ø§Ú±Ø§Ø±Ù","Ø§Ø±Ø¨Ø¹","Ø®ÙÙØ³","Ø¬ÙØ¹","ÚÙÚØ±"];h.defineLocale("sd",{months:Rr,monthsShort:Rr,weekdays:Pr,weekdaysShort:Pr,weekdaysMin:Pr,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ddddØ D MMMM YYYY HH:mm"},meridiemParse:/ØµØ¨Ø­|Ø´Ø§Ù/,isPM:function(e){return"Ø´Ø§Ù"===e},meridiem:function(e,t,n){return e<12?"ØµØ¨Ø­":"Ø´Ø§Ù"},calendar:{sameDay:"[Ø§Ú] LT",nextDay:"[Ø³ÚØ§Ú»Ù] LT",nextWeek:"dddd [Ø§Ú³ÙÙ ÙÙØªÙ ØªÙ] LT",lastDay:"[ÚªØ§ÙÙÙ] LT",lastWeek:"[Ú¯Ø²Ø±ÙÙ ÙÙØªÙ] dddd [ØªÙ] LT",sameElse:"L"},relativeTime:{future:"%s Ù¾ÙØ¡",past:"%s Ø§Ú³",s:"ÚÙØ¯ Ø³ÙÚªÙÚ",ss:"%d Ø³ÙÚªÙÚ",m:"ÙÚª ÙÙÙ½",mm:"%d ÙÙÙ½",h:"ÙÚª ÚªÙØ§Úª",hh:"%d ÚªÙØ§Úª",d:"ÙÚª ÚÙÙÙÙ",dd:"%d ÚÙÙÙÙ",M:"ÙÚª ÙÙÙÙÙ",MM:"%d ÙÙÙÙØ§",y:"ÙÚª Ø³Ø§Ù",yy:"%d Ø³Ø§Ù"},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:1,doy:4}}),h.defineLocale("se",{months:"oÄÄajagemÃ¡nnu_guovvamÃ¡nnu_njukÄamÃ¡nnu_cuoÅomÃ¡nnu_miessemÃ¡nnu_geassemÃ¡nnu_suoidnemÃ¡nnu_borgemÃ¡nnu_ÄakÄamÃ¡nnu_golggotmÃ¡nnu_skÃ¡bmamÃ¡nnu_juovlamÃ¡nnu".split("_"),monthsShort:"oÄÄj_guov_njuk_cuo_mies_geas_suoi_borg_ÄakÄ_golg_skÃ¡b_juov".split("_"),weekdays:"sotnabeaivi_vuossÃ¡rga_maÅÅebÃ¡rga_gaskavahkku_duorastat_bearjadat_lÃ¡vvardat".split("_"),weekdaysShort:"sotn_vuos_maÅ_gask_duor_bear_lÃ¡v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaÅ¾es",past:"maÅit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mÃ¡nnu",MM:"%d mÃ¡nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("si",{months:"à¶¢à¶±à·à·à¶»à·_à¶´à·à¶¶à¶»à·à·à¶»à·_à¶¸à·à¶»à·à¶­à·_à¶à¶´à·âà¶»à·à¶½à·_à¶¸à·à¶ºà·_à¶¢à·à¶±à·_à¶¢à·à¶½à·_à¶à¶à·à·à·à¶­à·_à·à·à¶´à·à¶­à·à¶¸à·à¶¶à¶»à·_à¶à¶à·à¶­à·à¶¶à¶»à·_à¶±à·à·à·à¶¸à·à¶¶à¶»à·_à¶¯à·à·à·à¶¸à·à¶¶à¶»à·".split("_"),monthsShort:"à¶¢à¶±_à¶´à·à¶¶_à¶¸à·à¶»à·_à¶à¶´à·_à¶¸à·à¶ºà·_à¶¢à·à¶±à·_à¶¢à·à¶½à·_à¶à¶à·_à·à·à¶´à·_à¶à¶à·_à¶±à·à·à·_à¶¯à·à·à·".split("_"),weekdays:"à¶à¶»à·à¶¯à·_à·à¶³à·à¶¯à·_à¶à¶à·à¶»à·à·à·à¶¯à·_à¶¶à¶¯à·à¶¯à·_à¶¶à·âà¶»à·à·à·à¶´à¶­à·à¶±à·à¶¯à·_à·à·à¶à·à¶»à·à¶¯à·_à·à·à¶±à·à·à¶»à·à¶¯à·".split("_"),weekdaysShort:"à¶à¶»à·_à·à¶³à·_à¶à¶_à¶¶à¶¯à·_à¶¶à·âà¶»à·_à·à·à¶à·_à·à·à¶±".split("_"),weekdaysMin:"à¶_à·_à¶_à¶¶_à¶¶à·âà¶»_à·à·_à·à·".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [à·à·à¶±à·] dddd, a h:mm:ss"},calendar:{sameDay:"[à¶à¶¯] LT[à¶§]",nextDay:"[à·à·à¶§] LT[à¶§]",nextWeek:"dddd LT[à¶§]",lastDay:"[à¶à¶ºà·] LT[à¶§]",lastWeek:"[à¶´à·à·à¶à·à¶º] dddd LT[à¶§]",sameElse:"L"},relativeTime:{future:"%sà¶à·à¶±à·",past:"%sà¶à¶§ à¶´à·à¶»",s:"à¶­à¶­à·à¶´à¶» à¶à·à·à·à¶´à¶º",ss:"à¶­à¶­à·à¶´à¶» %d",m:"à¶¸à·à¶±à·à¶­à·à¶­à·à·",mm:"à¶¸à·à¶±à·à¶­à·à¶­à· %d",h:"à¶´à·à¶º",hh:"à¶´à·à¶º %d",d:"à¶¯à·à¶±à¶º",dd:"à¶¯à·à¶± %d",M:"à¶¸à·à·à¶º",MM:"à¶¸à·à· %d",y:"à·à·à¶»",yy:"à·à·à¶» %d"},dayOfMonthOrdinalParse:/\d{1,2} à·à·à¶±à·/,ordinal:function(e){return e+" à·à·à¶±à·"},meridiemParse:/à¶´à·à¶» à·à¶»à·|à¶´à·à· à·à¶»à·|à¶´à·.à·|à¶´.à·./,isPM:function(e){return"à¶´.à·."===e||"à¶´à·à· à·à¶»à·"===e},meridiem:function(e,t,n){return 11<e?n?"à¶´.à·.":"à¶´à·à· à·à¶»à·":n?"à¶´à·.à·.":"à¶´à·à¶» à·à¶»à·"}});var Yr="januÃ¡r_februÃ¡r_marec_aprÃ­l_mÃ¡j_jÃºn_jÃºl_august_september_oktÃ³ber_november_december".split("_"),Br="jan_feb_mar_apr_mÃ¡j_jÃºn_jÃºl_aug_sep_okt_nov_dec".split("_");function Ur(e){return 1<e&&e<5}function Hr(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pÃ¡r sekÃºnd":"pÃ¡r sekundami";case"ss":return t||i?r+(Ur(e)?"sekundy":"sekÃºnd"):r+"sekundami";case"m":return t?"minÃºta":i?"minÃºtu":"minÃºtou";case"mm":return t||i?r+(Ur(e)?"minÃºty":"minÃºt"):r+"minÃºtami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(Ur(e)?"hodiny":"hodÃ­n"):r+"hodinami";case"d":return t||i?"deÅ":"dÅom";case"dd":return t||i?r+(Ur(e)?"dni":"dnÃ­"):r+"dÅami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?r+(Ur(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?r+(Ur(e)?"roky":"rokov"):r+"rokmi"}}function Fr(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===e?t?"sekundo":"sekundi":2===e?t||i?"sekundi":"sekundah":e<5?t||i?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return r+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return r+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}h.defineLocale("sk",{months:Yr,monthsShort:Br,weekdays:"nedeÄ¾a_pondelok_utorok_streda_Å¡tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_Å¡t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_Å¡t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeÄ¾u o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo Å¡tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vÄera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulÃº nedeÄ¾u o] LT";case 1:case 2:return"[minulÃ½] dddd [o] LT";case 3:return"[minulÃº stredu o] LT";case 4:case 5:return"[minulÃ½] dddd [o] LT";case 6:return"[minulÃº sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Hr,ss:Hr,m:Hr,mm:Hr,h:Hr,hh:Hr,d:Hr,dd:Hr,M:Hr,MM:Hr,y:Hr,yy:Hr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_Äetrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._Äet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_Äe_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[vÄeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejÅ¡njo] [nedeljo] [ob] LT";case 3:return"[prejÅ¡njo] [sredo] [ob] LT";case 6:return"[prejÅ¡njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejÅ¡nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"Äez %s",past:"pred %s",s:Fr,ss:Fr,m:Fr,mm:Fr,h:Fr,hh:Fr,d:Fr,dd:Fr,M:Fr,MM:Fr,y:Fr,yy:Fr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_NÃ«ntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_NÃ«n_Dhj".split("_"),weekdays:"E Diel_E HÃ«nÃ«_E MartÃ«_E MÃ«rkurÃ«_E Enjte_E Premte_E ShtunÃ«".split("_"),weekdaysShort:"Die_HÃ«n_Mar_MÃ«r_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_MÃ«_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot nÃ«] LT",nextDay:"[NesÃ«r nÃ«] LT",nextWeek:"dddd [nÃ«] LT",lastDay:"[Dje nÃ«] LT",lastWeek:"dddd [e kaluar nÃ«] LT",sameElse:"L"},relativeTime:{future:"nÃ« %s",past:"%s mÃ« parÃ«",s:"disa sekonda",ss:"%d sekonda",m:"njÃ« minutÃ«",mm:"%d minuta",h:"njÃ« orÃ«",hh:"%d orÃ«",d:"njÃ« ditÃ«",dd:"%d ditÃ«",M:"njÃ« muaj",MM:"%d muaj",y:"njÃ« vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Gr={words:{ss:["ÑÐµÐºÑÐ½Ð´Ð°","ÑÐµÐºÑÐ½Ð´Ðµ","ÑÐµÐºÑÐ½Ð´Ð¸"],m:["ÑÐµÐ´Ð°Ð½ Ð¼Ð¸Ð½ÑÑ","ÑÐµÐ´Ð½Ðµ Ð¼Ð¸Ð½ÑÑÐµ"],mm:["Ð¼Ð¸Ð½ÑÑ","Ð¼Ð¸Ð½ÑÑÐµ","Ð¼Ð¸Ð½ÑÑÐ°"],h:["ÑÐµÐ´Ð°Ð½ ÑÐ°Ñ","ÑÐµÐ´Ð½Ð¾Ð³ ÑÐ°ÑÐ°"],hh:["ÑÐ°Ñ","ÑÐ°ÑÐ°","ÑÐ°ÑÐ¸"],dd:["Ð´Ð°Ð½","Ð´Ð°Ð½Ð°","Ð´Ð°Ð½Ð°"],MM:["Ð¼ÐµÑÐµÑ","Ð¼ÐµÑÐµÑÐ°","Ð¼ÐµÑÐµÑÐ¸"],yy:["Ð³Ð¾Ð´Ð¸Ð½Ð°","Ð³Ð¾Ð´Ð¸Ð½Ðµ","Ð³Ð¾Ð´Ð¸Ð½Ð°"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var i=Gr.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+Gr.correctGrammaticalCase(e,i)}};h.defineLocale("sr-cyrl",{months:"ÑÐ°Ð½ÑÐ°Ñ_ÑÐµÐ±ÑÑÐ°Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ñ_ÑÑÐ½_ÑÑÐ»_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð±Ð°Ñ_Ð¾ÐºÑÐ¾Ð±Ð°Ñ_Ð½Ð¾Ð²ÐµÐ¼Ð±Ð°Ñ_Ð´ÐµÑÐµÐ¼Ð±Ð°Ñ".split("_"),monthsShort:"ÑÐ°Ð½._ÑÐµÐ±._Ð¼Ð°Ñ._Ð°Ð¿Ñ._Ð¼Ð°Ñ_ÑÑÐ½_ÑÑÐ»_Ð°Ð²Ð³._ÑÐµÐ¿._Ð¾ÐºÑ._Ð½Ð¾Ð²._Ð´ÐµÑ.".split("_"),monthsParseExact:!0,weekdays:"Ð½ÐµÐ´ÐµÑÐ°_Ð¿Ð¾Ð½ÐµÐ´ÐµÑÐ°Ðº_ÑÑÐ¾ÑÐ°Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÑÑÐ°Ðº_Ð¿ÐµÑÐ°Ðº_ÑÑÐ±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´._Ð¿Ð¾Ð½._ÑÑÐ¾._ÑÑÐµ._ÑÐµÑ._Ð¿ÐµÑ._ÑÑÐ±.".split("_"),weekdaysMin:"Ð½Ðµ_Ð¿Ð¾_ÑÑ_ÑÑ_ÑÐµ_Ð¿Ðµ_ÑÑ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Ð´Ð°Ð½Ð°Ñ Ñ] LT",nextDay:"[ÑÑÑÑÐ° Ñ] LT",nextWeek:function(){switch(this.day()){case 0:return"[Ñ] [Ð½ÐµÐ´ÐµÑÑ] [Ñ] LT";case 3:return"[Ñ] [ÑÑÐµÐ´Ñ] [Ñ] LT";case 6:return"[Ñ] [ÑÑÐ±Ð¾ÑÑ] [Ñ] LT";case 1:case 2:case 4:case 5:return"[Ñ] dddd [Ñ] LT"}},lastDay:"[ÑÑÑÐµ Ñ] LT",lastWeek:function(){return["[Ð¿ÑÐ¾ÑÐ»Ðµ] [Ð½ÐµÐ´ÐµÑÐµ] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [Ð¿Ð¾Ð½ÐµÐ´ÐµÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [ÑÑÐ¾ÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ðµ] [ÑÑÐµÐ´Ðµ] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [ÑÐµÑÐ²ÑÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [Ð¿ÐµÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ðµ] [ÑÑÐ±Ð¾ÑÐµ] [Ñ] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"Ð¿ÑÐµ %s",s:"Ð½ÐµÐºÐ¾Ð»Ð¸ÐºÐ¾ ÑÐµÐºÑÐ½Ð´Ð¸",ss:Gr.translate,m:Gr.translate,mm:Gr.translate,h:Gr.translate,hh:Gr.translate,d:"Ð´Ð°Ð½",dd:Gr.translate,M:"Ð¼ÐµÑÐµÑ",MM:Gr.translate,y:"Ð³Ð¾Ð´Ð¸Ð½Ñ",yy:Gr.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Vr={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var i=Vr.words[n];return 1===n.length?t?i[0]:i[1]:e+" "+Vr.correctGrammaticalCase(e,i)}};h.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄe u] LT",lastWeek:function(){return["[proÅ¡le] [nedelje] [u] LT","[proÅ¡log] [ponedeljka] [u] LT","[proÅ¡log] [utorka] [u] LT","[proÅ¡le] [srede] [u] LT","[proÅ¡log] [Äetvrtka] [u] LT","[proÅ¡log] [petka] [u] LT","[proÅ¡le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:Vr.translate,m:Vr.translate,mm:Vr.translate,h:Vr.translate,hh:Vr.translate,d:"dan",dd:Vr.translate,M:"mesec",MM:Vr.translate,y:"godinu",yy:Vr.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?11<=e?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¶ndag_mÃ¥ndag_tisdag_onsdag_torsdag_fredag_lÃ¶rdag".split("_"),weekdaysShort:"sÃ¶n_mÃ¥n_tis_ons_tor_fre_lÃ¶r".split("_"),weekdaysMin:"sÃ¶_mÃ¥_ti_on_to_fr_lÃ¶".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[IgÃ¥r] LT",nextWeek:"[PÃ¥] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fÃ¶r %s sedan",s:"nÃ¥gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mÃ¥nad",MM:"%d mÃ¥nader",y:"ett Ã¥r",yy:"%d Ã¥r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}}),h.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var Wr={1:"à¯§",2:"à¯¨",3:"à¯©",4:"à¯ª",5:"à¯«",6:"à¯¬",7:"à¯­",8:"à¯®",9:"à¯¯",0:"à¯¦"},Qr={"à¯§":"1","à¯¨":"2","à¯©":"3","à¯ª":"4","à¯«":"5","à¯¬":"6","à¯­":"7","à¯®":"8","à¯¯":"9","à¯¦":"0"};h.defineLocale("ta",{months:"à®à®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®à¯_à®à®ªà¯à®°à®²à¯_à®®à¯_à®à¯à®©à¯_à®à¯à®²à¯_à®à®à®¸à¯à®à¯_à®à¯à®ªà¯à®à¯à®®à¯à®ªà®°à¯_à®à®à¯à®à¯à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®à®¿à®à®®à¯à®ªà®°à¯".split("_"),monthsShort:"à®à®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®à¯_à®à®ªà¯à®°à®²à¯_à®®à¯_à®à¯à®©à¯_à®à¯à®²à¯_à®à®à®¸à¯à®à¯_à®à¯à®ªà¯à®à¯à®®à¯à®ªà®°à¯_à®à®à¯à®à¯à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®à®¿à®à®®à¯à®ªà®°à¯".split("_"),weekdays:"à®à®¾à®¯à®¿à®±à¯à®±à¯à®à¯à®à®¿à®´à®®à¯_à®¤à®¿à®à¯à®à®à¯à®à®¿à®´à®®à¯_à®à¯à®µà¯à®µà®¾à®¯à¯à®à®¿à®´à®®à¯_à®ªà¯à®¤à®©à¯à®à®¿à®´à®®à¯_à®µà®¿à®¯à®¾à®´à®à¯à®à®¿à®´à®®à¯_à®µà¯à®³à¯à®³à®¿à®à¯à®à®¿à®´à®®à¯_à®à®©à®¿à®à¯à®à®¿à®´à®®à¯".split("_"),weekdaysShort:"à®à®¾à®¯à®¿à®±à¯_à®¤à®¿à®à¯à®à®³à¯_à®à¯à®µà¯à®µà®¾à®¯à¯_à®ªà¯à®¤à®©à¯_à®µà®¿à®¯à®¾à®´à®©à¯_à®µà¯à®³à¯à®³à®¿_à®à®©à®¿".split("_"),weekdaysMin:"à®à®¾_à®¤à®¿_à®à¯_à®ªà¯_à®µà®¿_à®µà¯_à®".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[à®à®©à¯à®±à¯] LT",nextDay:"[à®¨à®¾à®³à¯] LT",nextWeek:"dddd, LT",lastDay:"[à®¨à¯à®±à¯à®±à¯] LT",lastWeek:"[à®à®à®¨à¯à®¤ à®µà®¾à®°à®®à¯] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à®à®²à¯",past:"%s à®®à¯à®©à¯",s:"à®à®°à¯ à®à®¿à®² à®µà®¿à®¨à®¾à®à®¿à®à®³à¯",ss:"%d à®µà®¿à®¨à®¾à®à®¿à®à®³à¯",m:"à®à®°à¯ à®¨à®¿à®®à®¿à®à®®à¯",mm:"%d à®¨à®¿à®®à®¿à®à®à¯à®à®³à¯",h:"à®à®°à¯ à®®à®£à®¿ à®¨à¯à®°à®®à¯",hh:"%d à®®à®£à®¿ à®¨à¯à®°à®®à¯",d:"à®à®°à¯ à®¨à®¾à®³à¯",dd:"%d à®¨à®¾à®à¯à®à®³à¯",M:"à®à®°à¯ à®®à®¾à®¤à®®à¯",MM:"%d à®®à®¾à®¤à®à¯à®à®³à¯",y:"à®à®°à¯ à®µà®°à¯à®à®®à¯",yy:"%d à®à®£à¯à®à¯à®à®³à¯"},dayOfMonthOrdinalParse:/\d{1,2}à®µà®¤à¯/,ordinal:function(e){return e+"à®µà®¤à¯"},preparse:function(e){return e.replace(/[à¯§à¯¨à¯©à¯ªà¯«à¯¬à¯­à¯®à¯¯à¯¦]/g,function(e){return Qr[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Wr[e]})},meridiemParse:/à®¯à®¾à®®à®®à¯|à®µà¯à®à®±à¯|à®à®¾à®²à¯|à®¨à®£à¯à®ªà®à®²à¯|à®à®±à¯à®ªà®¾à®à¯|à®®à®¾à®²à¯/,meridiem:function(e,t,n){return e<2?" à®¯à®¾à®®à®®à¯":e<6?" à®µà¯à®à®±à¯":e<10?" à®à®¾à®²à¯":e<14?" à®¨à®£à¯à®ªà®à®²à¯":e<18?" à®à®±à¯à®ªà®¾à®à¯":e<22?" à®®à®¾à®²à¯":" à®¯à®¾à®®à®®à¯"},meridiemHour:function(e,t){return 12===e&&(e=0),"à®¯à®¾à®®à®®à¯"===t?e<2?e:e+12:"à®µà¯à®à®±à¯"===t||"à®à®¾à®²à¯"===t?e:"à®¨à®£à¯à®ªà®à®²à¯"===t&&10<=e?e:e+12},week:{dow:0,doy:6}}),h.defineLocale("te",{months:"à°à°¨à°µà°°à°¿_à°«à°¿à°¬à±à°°à°µà°°à°¿_à°®à°¾à°°à±à°à°¿_à°à°ªà±à°°à°¿à°²à±_à°®à±_à°à±à°¨à±_à°à±à°²à±à±_à°à°à°¸à±à°à±_à°¸à±à°ªà±à°à±à°à°¬à°°à±_à°à°à±à°à±à°¬à°°à±_à°¨à°µà°à°¬à°°à±_à°¡à°¿à°¸à±à°à°¬à°°à±".split("_"),monthsShort:"à°à°¨._à°«à°¿à°¬à±à°°._à°®à°¾à°°à±à°à°¿_à°à°ªà±à°°à°¿._à°®à±_à°à±à°¨à±_à°à±à°²à±à±_à°à°._à°¸à±à°ªà±._à°à°à±à°à±._à°¨à°µ._à°¡à°¿à°¸à±.".split("_"),monthsParseExact:!0,weekdays:"à°à°¦à°¿à°µà°¾à°°à°_à°¸à±à°®à°µà°¾à°°à°_à°®à°à°à°³à°µà°¾à°°à°_à°¬à±à°§à°µà°¾à°°à°_à°à±à°°à±à°µà°¾à°°à°_à°¶à±à°à±à°°à°µà°¾à°°à°_à°¶à°¨à°¿à°µà°¾à°°à°".split("_"),weekdaysShort:"à°à°¦à°¿_à°¸à±à°®_à°®à°à°à°³_à°¬à±à°§_à°à±à°°à±_à°¶à±à°à±à°°_à°¶à°¨à°¿".split("_"),weekdaysMin:"à°_à°¸à±_à°®à°_à°¬à±_à°à±_à°¶à±_à°¶".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[à°¨à±à°¡à±] LT",nextDay:"[à°°à±à°ªà±] LT",nextWeek:"dddd, LT",lastDay:"[à°¨à°¿à°¨à±à°¨] LT",lastWeek:"[à°à°¤] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à°²à±",past:"%s à°à±à°°à°¿à°¤à°",s:"à°à±à°¨à±à°¨à°¿ à°à±à°·à°£à°¾à°²à±",ss:"%d à°¸à±à°à°¨à±à°²à±",m:"à°à° à°¨à°¿à°®à°¿à°·à°",mm:"%d à°¨à°¿à°®à°¿à°·à°¾à°²à±",h:"à°à° à°à°à°",hh:"%d à°à°à°à°²à±",d:"à°à° à°°à±à°à±",dd:"%d à°°à±à°à±à°²à±",M:"à°à° à°¨à±à°²",MM:"%d à°¨à±à°²à°²à±",y:"à°à° à°¸à°à°µà°¤à±à°¸à°°à°",yy:"%d à°¸à°à°µà°¤à±à°¸à°°à°¾à°²à±"},dayOfMonthOrdinalParse:/\d{1,2}à°µ/,ordinal:"%dà°µ",meridiemParse:/à°°à°¾à°¤à±à°°à°¿|à°à°¦à°¯à°|à°®à°§à±à°¯à°¾à°¹à±à°¨à°|à°¸à°¾à°¯à°à°¤à±à°°à°/,meridiemHour:function(e,t){return 12===e&&(e=0),"à°°à°¾à°¤à±à°°à°¿"===t?e<4?e:e+12:"à°à°¦à°¯à°"===t?e:"à°®à°§à±à°¯à°¾à°¹à±à°¨à°"===t?10<=e?e:e+12:"à°¸à°¾à°¯à°à°¤à±à°°à°"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"à°°à°¾à°¤à±à°°à°¿":e<10?"à°à°¦à°¯à°":e<17?"à°®à°§à±à°¯à°¾à°¹à±à°¨à°":e<20?"à°¸à°¾à°¯à°à°¤à±à°°à°":"à°°à°¾à°¤à±à°°à°¿"},week:{dow:0,doy:6}}),h.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_JuÃ±u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}});var qr={0:"-ÑÐ¼",1:"-ÑÐ¼",2:"-ÑÐ¼",3:"-ÑÐ¼",4:"-ÑÐ¼",5:"-ÑÐ¼",6:"-ÑÐ¼",7:"-ÑÐ¼",8:"-ÑÐ¼",9:"-ÑÐ¼",10:"-ÑÐ¼",12:"-ÑÐ¼",13:"-ÑÐ¼",20:"-ÑÐ¼",30:"-ÑÐ¼",40:"-ÑÐ¼",50:"-ÑÐ¼",60:"-ÑÐ¼",70:"-ÑÐ¼",80:"-ÑÐ¼",90:"-ÑÐ¼",100:"-ÑÐ¼"};h.defineLocale("tg",{months:"ÑÐ½Ð²Ð°Ñ_ÑÐµÐ²ÑÐ°Ð»_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±Ñ_Ð¾ÐºÑÑÐ±Ñ_Ð½Ð¾ÑÐ±Ñ_Ð´ÐµÐºÐ°Ð±Ñ".split("_"),monthsShort:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),weekdays:"ÑÐºÑÐ°Ð½Ð±Ðµ_Ð´ÑÑÐ°Ð½Ð±Ðµ_ÑÐµÑÐ°Ð½Ð±Ðµ_ÑÐ¾ÑÑÐ°Ð½Ð±Ðµ_Ð¿Ð°Ð½Ò·ÑÐ°Ð½Ð±Ðµ_Ò·ÑÐ¼ÑÐ°_ÑÐ°Ð½Ð±Ðµ".split("_"),weekdaysShort:"ÑÑÐ±_Ð´ÑÐ±_ÑÑÐ±_ÑÑÐ±_Ð¿ÑÐ±_Ò·ÑÐ¼_ÑÐ½Ð±".split("_"),weekdaysMin:"ÑÑ_Ð´Ñ_ÑÑ_ÑÑ_Ð¿Ñ_Ò·Ð¼_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ÐÐ¼ÑÓ¯Ð· ÑÐ¾Ð°ÑÐ¸] LT",nextDay:"[ÐÐ°Ð³Ð¾Ò³ ÑÐ¾Ð°ÑÐ¸] LT",lastDay:"[ÐÐ¸ÑÓ¯Ð· ÑÐ¾Ð°ÑÐ¸] LT",nextWeek:"dddd[Ð¸] [Ò³Ð°ÑÑÐ°Ð¸ Ð¾ÑÐ½Ð´Ð° ÑÐ¾Ð°ÑÐ¸] LT",lastWeek:"dddd[Ð¸] [Ò³Ð°ÑÑÐ°Ð¸ Ð³ÑÐ·Ð°ÑÑÐ° ÑÐ¾Ð°ÑÐ¸] LT",sameElse:"L"},relativeTime:{future:"Ð±Ð°ÑÐ´Ð¸ %s",past:"%s Ð¿ÐµÑ",s:"ÑÐºÑÐ°Ð½Ð´ ÑÐ¾Ð½Ð¸Ñ",m:"ÑÐº Ð´Ð°ÒÐ¸ÒÐ°",mm:"%d Ð´Ð°ÒÐ¸ÒÐ°",h:"ÑÐº ÑÐ¾Ð°Ñ",hh:"%d ÑÐ¾Ð°Ñ",d:"ÑÐº ÑÓ¯Ð·",dd:"%d ÑÓ¯Ð·",M:"ÑÐº Ð¼Ð¾Ò³",MM:"%d Ð¼Ð¾Ò³",y:"ÑÐº ÑÐ¾Ð»",yy:"%d ÑÐ¾Ð»"},meridiemParse:/ÑÐ°Ð±|ÑÑÐ±Ò³|ÑÓ¯Ð·|Ð±ÐµÐ³Ð¾Ò³/,meridiemHour:function(e,t){return 12===e&&(e=0),"ÑÐ°Ð±"===t?e<4?e:e+12:"ÑÑÐ±Ò³"===t?e:"ÑÓ¯Ð·"===t?11<=e?e:e+12:"Ð±ÐµÐ³Ð¾Ò³"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ÑÐ°Ð±":e<11?"ÑÑÐ±Ò³":e<16?"ÑÓ¯Ð·":e<19?"Ð±ÐµÐ³Ð¾Ò³":"ÑÐ°Ð±"},dayOfMonthOrdinalParse:/\d{1,2}-(ÑÐ¼|ÑÐ¼)/,ordinal:function(e){return e+(qr[e]||qr[e%10]||qr[100<=e?100:null])},week:{dow:1,doy:7}}),h.defineLocale("th",{months:"à¸¡à¸à¸£à¸²à¸à¸¡_à¸à¸¸à¸¡à¸ à¸²à¸à¸±à¸à¸à¹_à¸¡à¸µà¸à¸²à¸à¸¡_à¹à¸¡à¸©à¸²à¸¢à¸_à¸à¸¤à¸©à¸ à¸²à¸à¸¡_à¸¡à¸´à¸à¸¸à¸à¸²à¸¢à¸_à¸à¸£à¸à¸à¸²à¸à¸¡_à¸ªà¸´à¸à¸«à¸²à¸à¸¡_à¸à¸±à¸à¸¢à¸²à¸¢à¸_à¸à¸¸à¸¥à¸²à¸à¸¡_à¸à¸¤à¸¨à¸à¸´à¸à¸²à¸¢à¸_à¸à¸±à¸à¸§à¸²à¸à¸¡".split("_"),monthsShort:"à¸¡.à¸._à¸.à¸._à¸¡à¸µ.à¸._à¹à¸¡.à¸¢._à¸.à¸._à¸¡à¸´.à¸¢._à¸.à¸._à¸ª.à¸._à¸.à¸¢._à¸.à¸._à¸.à¸¢._à¸.à¸.".split("_"),monthsParseExact:!0,weekdays:"à¸­à¸²à¸à¸´à¸à¸¢à¹_à¸à¸±à¸à¸à¸£à¹_à¸­à¸±à¸à¸à¸²à¸£_à¸à¸¸à¸_à¸à¸¤à¸«à¸±à¸ªà¸à¸à¸µ_à¸¨à¸¸à¸à¸£à¹_à¹à¸ªà¸²à¸£à¹".split("_"),weekdaysShort:"à¸­à¸²à¸à¸´à¸à¸¢à¹_à¸à¸±à¸à¸à¸£à¹_à¸­à¸±à¸à¸à¸²à¸£_à¸à¸¸à¸_à¸à¸¤à¸«à¸±à¸ª_à¸¨à¸¸à¸à¸£à¹_à¹à¸ªà¸²à¸£à¹".split("_"),weekdaysMin:"à¸­à¸²._à¸._à¸­._à¸._à¸à¸¤._à¸¨._à¸ª.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY à¹à¸§à¸¥à¸² H:mm",LLLL:"à¸§à¸±à¸ddddà¸à¸µà¹ D MMMM YYYY à¹à¸§à¸¥à¸² H:mm"},meridiemParse:/à¸à¹à¸­à¸à¹à¸à¸µà¹à¸¢à¸|à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸/,isPM:function(e){return"à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸"===e},meridiem:function(e,t,n){return e<12?"à¸à¹à¸­à¸à¹à¸à¸µà¹à¸¢à¸":"à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸"},calendar:{sameDay:"[à¸§à¸±à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",nextDay:"[à¸à¸£à¸¸à¹à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",nextWeek:"dddd[à¸«à¸à¹à¸² à¹à¸§à¸¥à¸²] LT",lastDay:"[à¹à¸¡à¸·à¹à¸­à¸§à¸²à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",lastWeek:"[à¸§à¸±à¸]dddd[à¸à¸µà¹à¹à¸¥à¹à¸§ à¹à¸§à¸¥à¸²] LT",sameElse:"L"},relativeTime:{future:"à¸­à¸µà¸ %s",past:"%sà¸à¸µà¹à¹à¸¥à¹à¸§",s:"à¹à¸¡à¹à¸à¸µà¹à¸§à¸´à¸à¸²à¸à¸µ",ss:"%d à¸§à¸´à¸à¸²à¸à¸µ",m:"1 à¸à¸²à¸à¸µ",mm:"%d à¸à¸²à¸à¸µ",h:"1 à¸à¸±à¹à¸§à¹à¸¡à¸",hh:"%d à¸à¸±à¹à¸§à¹à¸¡à¸",d:"1 à¸§à¸±à¸",dd:"%d à¸§à¸±à¸",M:"1 à¹à¸à¸·à¸­à¸",MM:"%d à¹à¸à¸·à¸­à¸",y:"1 à¸à¸µ",yy:"%d à¸à¸µ"}}),h.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});var Zr="pagh_waâ_chaâ_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function Xr(e,t,n,i){var r=function(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),i=e%10,r="";0<t&&(r+=Zr[t]+"vatlh");0<n&&(r+=(""!==r?" ":"")+Zr[n]+"maH");0<i&&(r+=(""!==r?" ":"")+Zr[i]);return""===r?"pagh":r}(e);switch(n){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}h.defineLocale("tlh",{months:"teraâ jar waâ_teraâ jar chaâ_teraâ jar wej_teraâ jar loS_teraâ jar vagh_teraâ jar jav_teraâ jar Soch_teraâ jar chorgh_teraâ jar Hut_teraâ jar waâmaH_teraâ jar waâmaH waâ_teraâ jar waâmaH chaâ".split("_"),monthsShort:"jar waâ_jar chaâ_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar waâmaH_jar waâmaH waâ_jar waâmaH chaâ".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waâleS] LT",nextWeek:"LLL",lastDay:"[waâHuâ] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Huâ":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:Xr,m:"waâ tup",mm:Xr,h:"waâ rep",hh:Xr,d:"waâ jaj",dd:Xr,M:"waâ jar",MM:Xr,y:"waâ DIS",yy:Xr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Jr={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'Ã¼ncÃ¼",4:"'Ã¼ncÃ¼",100:"'Ã¼ncÃ¼",6:"'ncÄ±",9:"'uncu",10:"'uncu",30:"'uncu",60:"'Ä±ncÄ±",90:"'Ä±ncÄ±"};function Kr(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mÃ­ut","'iens mÃ­ut"],mm:[e+" mÃ­uts",e+" mÃ­uts"],h:["'n Ã¾ora","'iensa Ã¾ora"],hh:[e+" Ã¾oras",e+" Ã¾oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i?r[n][0]:t?r[n][0]:r[n][1]}function $r(e,t,n){var i,r;return"m"===n?t?"ÑÐ²Ð¸Ð»Ð¸Ð½Ð°":"ÑÐ²Ð¸Ð»Ð¸Ð½Ñ":"h"===n?t?"Ð³Ð¾Ð´Ð¸Ð½Ð°":"Ð³Ð¾Ð´Ð¸Ð½Ñ":e+" "+(i=+e,r={ss:t?"ÑÐµÐºÑÐ½Ð´Ð°_ÑÐµÐºÑÐ½Ð´Ð¸_ÑÐµÐºÑÐ½Ð´":"ÑÐµÐºÑÐ½Ð´Ñ_ÑÐµÐºÑÐ½Ð´Ð¸_ÑÐµÐºÑÐ½Ð´",mm:t?"ÑÐ²Ð¸Ð»Ð¸Ð½Ð°_ÑÐ²Ð¸Ð»Ð¸Ð½Ð¸_ÑÐ²Ð¸Ð»Ð¸Ð½":"ÑÐ²Ð¸Ð»Ð¸Ð½Ñ_ÑÐ²Ð¸Ð»Ð¸Ð½Ð¸_ÑÐ²Ð¸Ð»Ð¸Ð½",hh:t?"Ð³Ð¾Ð´Ð¸Ð½Ð°_Ð³Ð¾Ð´Ð¸Ð½Ð¸_Ð³Ð¾Ð´Ð¸Ð½":"Ð³Ð¾Ð´Ð¸Ð½Ñ_Ð³Ð¾Ð´Ð¸Ð½Ð¸_Ð³Ð¾Ð´Ð¸Ð½",dd:"Ð´ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð½ÑÐ²",MM:"Ð¼ÑÑÑÑÑ_Ð¼ÑÑÑÑÑ_Ð¼ÑÑÑÑÑÐ²",yy:"ÑÑÐº_ÑÐ¾ÐºÐ¸_ÑÐ¾ÐºÑÐ²"}[n].split("_"),i%10==1&&i%100!=11?r[0]:2<=i%10&&i%10<=4&&(i%100<10||20<=i%100)?r[1]:r[2])}function ea(e){return function(){return e+"Ð¾"+(11===this.hours()?"Ð±":"")+"] LT"}}h.defineLocale("tr",{months:"Ocak_Åubat_Mart_Nisan_MayÄ±s_Haziran_Temmuz_AÄustos_EylÃ¼l_Ekim_KasÄ±m_AralÄ±k".split("_"),monthsShort:"Oca_Åub_Mar_Nis_May_Haz_Tem_AÄu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_SalÄ±_ÃarÅamba_PerÅembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Ãar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ãa_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugÃ¼n saat] LT",nextDay:"[yarÄ±n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dÃ¼n] LT",lastWeek:"[geÃ§en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s Ã¶nce",s:"birkaÃ§ saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gÃ¼n",dd:"%d gÃ¼n",M:"bir ay",MM:"%d ay",y:"bir yÄ±l",yy:"%d yÄ±l"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'Ä±ncÄ±";var n=e%10;return e+(Jr[n]||Jr[e%100-n]||Jr[100<=e?100:null])}},week:{dow:1,doy:7}}),h.defineLocale("tzl",{months:"Januar_Fevraglh_MarÃ§_AvrÃ¯u_Mai_GÃ¼n_Julia_Guscht_Setemvar_ListopÃ¤ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_GÃ¼n_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"SÃºladi_LÃºneÃ§i_Maitzi_MÃ¡rcuri_XhÃºadi_ViÃ©nerÃ§i_SÃ¡turi".split("_"),weekdaysShort:"SÃºl_LÃºn_Mai_MÃ¡r_XhÃº_ViÃ©_SÃ¡t".split("_"),weekdaysMin:"SÃº_LÃº_Ma_MÃ¡_Xh_Vi_SÃ¡".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return 11<e?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi Ã ] LT",nextDay:"[demÃ  Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[ieiri Ã ] LT",lastWeek:"[sÃ¼r el] dddd [lasteu Ã ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Kr,ss:Kr,m:Kr,mm:Kr,h:Kr,hh:Kr,d:Kr,dd:Kr,M:Kr,MM:Kr,y:Kr,yy:Kr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("tzm-latn",{months:"innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuá¸",mm:"%d minuá¸",h:"saÉa",hh:"%d tassaÉin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),h.defineLocale("tzm",{months:"âµâµâµâ´°âµ¢âµ_â´±âµâ´°âµ¢âµ_âµâ´°âµâµ_âµâ´±âµâµâµ_âµâ´°âµ¢âµ¢âµ_âµ¢âµâµâµ¢âµ_âµ¢âµâµâµ¢âµâµ£_âµâµâµâµ_âµâµâµâ´°âµâ´±âµâµ_â´½âµâµâ´±âµ_âµâµâµ¡â´°âµâ´±âµâµ_â´·âµâµâµâ´±âµâµ".split("_"),monthsShort:"âµâµâµâ´°âµ¢âµ_â´±âµâ´°âµ¢âµ_âµâ´°âµâµ_âµâ´±âµâµâµ_âµâ´°âµ¢âµ¢âµ_âµ¢âµâµâµ¢âµ_âµ¢âµâµâµ¢âµâµ£_âµâµâµâµ_âµâµâµâ´°âµâ´±âµâµ_â´½âµâµâ´±âµ_âµâµâµ¡â´°âµâ´±âµâµ_â´·âµâµâµâ´±âµâµ".split("_"),weekdays:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),weekdaysShort:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),weekdaysMin:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[â´°âµâ´·âµ â´´] LT",nextDay:"[â´°âµâ´½â´° â´´] LT",nextWeek:"dddd [â´´] LT",lastDay:"[â´°âµâ´°âµâµ â´´] LT",lastWeek:"dddd [â´´] LT",sameElse:"L"},relativeTime:{future:"â´·â´°â´·âµ âµ âµ¢â´°âµ %s",past:"âµ¢â´°âµ %s",s:"âµâµâµâ´½",ss:"%d âµâµâµâ´½",m:"âµâµâµâµâ´º",mm:"%d âµâµâµâµâ´º",h:"âµâ´°âµâ´°",hh:"%d âµâ´°âµâµâ´°âµâµâµ",d:"â´°âµâµ",dd:"%d oâµâµâ´°âµ",M:"â´°âµ¢oâµâµ",MM:"%d âµâµ¢âµ¢âµâµâµ",y:"â´°âµâ´³â´°âµ",yy:"%d âµâµâ´³â´°âµâµ"},week:{dow:6,doy:12}}),h.defineLocale("ug-cn",{months:"ÙØ§ÙÛØ§Ø±_ÙÛÛØ±Ø§Ù_ÙØ§Ø±Øª_Ø¦Ø§Ù¾Ø±ÛÙ_ÙØ§Ù_Ø¦ÙÙÛÙ_Ø¦ÙÙÛÙ_Ø¦Ø§ÛØºÛØ³Øª_Ø³ÛÙØªÛØ¨ÙØ±_Ø¦ÛÙØªÛØ¨ÙØ±_ÙÙÙØ§Ø¨ÙØ±_Ø¯ÛÙØ§Ø¨ÙØ±".split("_"),monthsShort:"ÙØ§ÙÛØ§Ø±_ÙÛÛØ±Ø§Ù_ÙØ§Ø±Øª_Ø¦Ø§Ù¾Ø±ÛÙ_ÙØ§Ù_Ø¦ÙÙÛÙ_Ø¦ÙÙÛÙ_Ø¦Ø§ÛØºÛØ³Øª_Ø³ÛÙØªÛØ¨ÙØ±_Ø¦ÛÙØªÛØ¨ÙØ±_ÙÙÙØ§Ø¨ÙØ±_Ø¯ÛÙØ§Ø¨ÙØ±".split("_"),weekdays:"ÙÛÙØ´ÛÙØ¨Û_Ø¯ÛØ´ÛÙØ¨Û_Ø³ÛÙØ´ÛÙØ¨Û_ÚØ§Ø±Ø´ÛÙØ¨Û_Ù¾ÛÙØ´ÛÙØ¨Û_Ø¬ÛÙÛ_Ø´ÛÙØ¨Û".split("_"),weekdaysShort:"ÙÛ_Ø¯Û_Ø³Û_ÚØ§_Ù¾Û_Ø¬Û_Ø´Û".split("_"),weekdaysMin:"ÙÛ_Ø¯Û_Ø³Û_ÚØ§_Ù¾Û_Ø¬Û_Ø´Û".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-ÙÙÙÙM-Ø¦Ø§ÙÙÙÚ­D-ÙÛÙÙ",LLL:"YYYY-ÙÙÙÙM-Ø¦Ø§ÙÙÙÚ­D-ÙÛÙÙØ HH:mm",LLLL:"ddddØ YYYY-ÙÙÙÙM-Ø¦Ø§ÙÙÙÚ­D-ÙÛÙÙØ HH:mm"},meridiemParse:/ÙÛØ±ÙÙ ÙÛÚÛ|Ø³ÛÚ¾ÛØ±|ÚÛØ´ØªÙÙ Ø¨ÛØ±ÛÙ|ÚÛØ´|ÚÛØ´ØªÙÙ ÙÛÙÙÙ|ÙÛÚ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ÙÛØ±ÙÙ ÙÛÚÛ"===t||"Ø³ÛÚ¾ÛØ±"===t||"ÚÛØ´ØªÙÙ Ø¨ÛØ±ÛÙ"===t?e:"ÚÛØ´ØªÙÙ ÙÛÙÙÙ"===t||"ÙÛÚ"===t?e+12:11<=e?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"ÙÛØ±ÙÙ ÙÛÚÛ":i<900?"Ø³ÛÚ¾ÛØ±":i<1130?"ÚÛØ´ØªÙÙ Ø¨ÛØ±ÛÙ":i<1230?"ÚÛØ´":i<1800?"ÚÛØ´ØªÙÙ ÙÛÙÙÙ":"ÙÛÚ"},calendar:{sameDay:"[Ø¨ÛÚ¯ÛÙ Ø³Ø§Ø¦ÛØª] LT",nextDay:"[Ø¦ÛØªÛ Ø³Ø§Ø¦ÛØª] LT",nextWeek:"[ÙÛÙÛØ±ÙÙ] dddd [Ø³Ø§Ø¦ÛØª] LT",lastDay:"[ØªÛÙÛÚ¯ÛÙ] LT",lastWeek:"[Ø¦Ø§ÙØ¯ÙÙÙÙ] dddd [Ø³Ø§Ø¦ÛØª] LT",sameElse:"L"},relativeTime:{future:"%s ÙÛÙÙÙ",past:"%s Ø¨ÛØ±ÛÙ",s:"ÙÛÚÚÛ Ø³ÛÙÙÙØª",ss:"%d Ø³ÛÙÙÙØª",m:"Ø¨ÙØ± ÙÙÙÛØª",mm:"%d ÙÙÙÛØª",h:"Ø¨ÙØ± Ø³Ø§Ø¦ÛØª",hh:"%d Ø³Ø§Ø¦ÛØª",d:"Ø¨ÙØ± ÙÛÙ",dd:"%d ÙÛÙ",M:"Ø¨ÙØ± Ø¦Ø§Ù",MM:"%d Ø¦Ø§Ù",y:"Ø¨ÙØ± ÙÙÙ",yy:"%d ÙÙÙ"},dayOfMonthOrdinalParse:/\d{1,2}(-ÙÛÙÙ|-Ø¦Ø§Ù|-Ú¾ÛÙ¾ØªÛ)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-ÙÛÙÙ";case"w":case"W":return e+"-Ú¾ÛÙ¾ØªÛ";default:return e}},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:1,doy:7}}),h.defineLocale("uk",{months:{format:"ÑÑÑÐ½Ñ_Ð»ÑÑÐ¾Ð³Ð¾_Ð±ÐµÑÐµÐ·Ð½Ñ_ÐºÐ²ÑÑÐ½Ñ_ÑÑÐ°Ð²Ð½Ñ_ÑÐµÑÐ²Ð½Ñ_Ð»Ð¸Ð¿Ð½Ñ_ÑÐµÑÐ¿Ð½Ñ_Ð²ÐµÑÐµÑÐ½Ñ_Ð¶Ð¾Ð²ÑÐ½Ñ_Ð»Ð¸ÑÑÐ¾Ð¿Ð°Ð´Ð°_Ð³ÑÑÐ´Ð½Ñ".split("_"),standalone:"ÑÑÑÐµÐ½Ñ_Ð»ÑÑÐ¸Ð¹_Ð±ÐµÑÐµÐ·ÐµÐ½Ñ_ÐºÐ²ÑÑÐµÐ½Ñ_ÑÑÐ°Ð²ÐµÐ½Ñ_ÑÐµÑÐ²ÐµÐ½Ñ_Ð»Ð¸Ð¿ÐµÐ½Ñ_ÑÐµÑÐ¿ÐµÐ½Ñ_Ð²ÐµÑÐµÑÐµÐ½Ñ_Ð¶Ð¾Ð²ÑÐµÐ½Ñ_Ð»Ð¸ÑÑÐ¾Ð¿Ð°Ð´_Ð³ÑÑÐ´ÐµÐ½Ñ".split("_")},monthsShort:"ÑÑÑ_Ð»ÑÑ_Ð±ÐµÑ_ÐºÐ²ÑÑ_ÑÑÐ°Ð²_ÑÐµÑÐ²_Ð»Ð¸Ð¿_ÑÐµÑÐ¿_Ð²ÐµÑ_Ð¶Ð¾Ð²Ñ_Ð»Ð¸ÑÑ_Ð³ÑÑÐ´".split("_"),weekdays:function(e,t){var n={nominative:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»Ð¾Ðº_Ð²ÑÐ²ÑÐ¾ÑÐ¾Ðº_ÑÐµÑÐµÐ´Ð°_ÑÐµÑÐ²ÐµÑ_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÐ°".split("_"),accusative:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»Ð¾Ðº_Ð²ÑÐ²ÑÐ¾ÑÐ¾Ðº_ÑÐµÑÐµÐ´Ñ_ÑÐµÑÐ²ÐµÑ_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÑ".split("_"),genitive:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»ÐºÐ°_Ð²ÑÐ²ÑÐ¾ÑÐºÐ°_ÑÐµÑÐµÐ´Ð¸_ÑÐµÑÐ²ÐµÑÐ³Ð°_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÐ¸".split("_")};return e?n[/(\[[ÐÐ²Ð£Ñ]\]) ?dddd/.test(t)?"accusative":/\[?(?:Ð¼Ð¸Ð½ÑÐ»Ð¾Ñ|Ð½Ð°ÑÑÑÐ¿Ð½Ð¾Ñ)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ñ.",LLL:"D MMMM YYYY Ñ., HH:mm",LLLL:"dddd, D MMMM YYYY Ñ., HH:mm"},calendar:{sameDay:ea("[Ð¡ÑÐ¾Ð³Ð¾Ð´Ð½Ñ "),nextDay:ea("[ÐÐ°Ð²ÑÑÐ° "),lastDay:ea("[ÐÑÐ¾ÑÐ° "),nextWeek:ea("[Ð£] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return ea("[ÐÐ¸Ð½ÑÐ»Ð¾Ñ] dddd [").call(this);case 1:case 2:case 4:return ea("[ÐÐ¸Ð½ÑÐ»Ð¾Ð³Ð¾] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"%s ÑÐ¾Ð¼Ñ",s:"Ð´ÐµÐºÑÐ»ÑÐºÐ° ÑÐµÐºÑÐ½Ð´",ss:$r,m:$r,mm:$r,h:"Ð³Ð¾Ð´Ð¸Ð½Ñ",hh:$r,d:"Ð´ÐµÐ½Ñ",dd:$r,M:"Ð¼ÑÑÑÑÑ",MM:$r,y:"ÑÑÐº",yy:$r},meridiemParse:/Ð½Ð¾ÑÑ|ÑÐ°Ð½ÐºÑ|Ð´Ð½Ñ|Ð²ÐµÑÐ¾ÑÐ°/,isPM:function(e){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐ¾ÑÐ°)$/.test(e)},meridiem:function(e,t,n){return e<4?"Ð½Ð¾ÑÑ":e<12?"ÑÐ°Ð½ÐºÑ":e<17?"Ð´Ð½Ñ":"Ð²ÐµÑÐ¾ÑÐ°"},dayOfMonthOrdinalParse:/\d{1,2}-(Ð¹|Ð³Ð¾)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-Ð¹";case"D":return e+"-Ð³Ð¾";default:return e}},week:{dow:1,doy:7}});var ta=["Ø¬ÙÙØ±Û","ÙØ±ÙØ±Û","ÙØ§Ø±Ú","Ø§Ù¾Ø±ÛÙ","ÙØ¦Û","Ø¬ÙÙ","Ø¬ÙÙØ§Ø¦Û","Ø§Ú¯Ø³Øª","Ø³ØªÙØ¨Ø±","Ø§Ú©ØªÙØ¨Ø±","ÙÙÙØ¨Ø±","Ø¯Ø³ÙØ¨Ø±"],na=["Ø§ØªÙØ§Ø±","Ù¾ÛØ±","ÙÙÚ¯Ù","Ø¨Ø¯Ú¾","Ø¬ÙØ¹Ø±Ø§Øª","Ø¬ÙØ¹Û","ÛÙØªÛ"];return h.defineLocale("ur",{months:ta,monthsShort:ta,weekdays:na,weekdaysShort:na,weekdaysMin:na,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ddddØ D MMMM YYYY HH:mm"},meridiemParse:/ØµØ¨Ø­|Ø´Ø§Ù/,isPM:function(e){return"Ø´Ø§Ù"===e},meridiem:function(e,t,n){return e<12?"ØµØ¨Ø­":"Ø´Ø§Ù"},calendar:{sameDay:"[Ø¢Ø¬ Ø¨ÙÙØª] LT",nextDay:"[Ú©Ù Ø¨ÙÙØª] LT",nextWeek:"dddd [Ø¨ÙÙØª] LT",lastDay:"[Ú¯Ø°Ø´ØªÛ Ø±ÙØ² Ø¨ÙÙØª] LT",lastWeek:"[Ú¯Ø°Ø´ØªÛ] dddd [Ø¨ÙÙØª] LT",sameElse:"L"},relativeTime:{future:"%s Ø¨Ø¹Ø¯",past:"%s ÙØ¨Ù",s:"ÚÙØ¯ Ø³ÛÚ©ÙÚ",ss:"%d Ø³ÛÚ©ÙÚ",m:"Ø§ÛÚ© ÙÙÙ¹",mm:"%d ÙÙÙ¹",h:"Ø§ÛÚ© Ú¯Ú¾ÙÙ¹Û",hh:"%d Ú¯Ú¾ÙÙ¹Û",d:"Ø§ÛÚ© Ø¯Ù",dd:"%d Ø¯Ù",M:"Ø§ÛÚ© ÙØ§Û",MM:"%d ÙØ§Û",y:"Ø§ÛÚ© Ø³Ø§Ù",yy:"%d Ø³Ø§Ù"},preparse:function(e){return e.replace(/Ø/g,",")},postformat:function(e){return e.replace(/,/g,"Ø")},week:{dow:1,doy:4}}),h.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),h.defineLocale("uz",{months:"ÑÐ½Ð²Ð°Ñ_ÑÐµÐ²ÑÐ°Ð»_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±Ñ_Ð¾ÐºÑÑÐ±Ñ_Ð½Ð¾ÑÐ±Ñ_Ð´ÐµÐºÐ°Ð±Ñ".split("_"),monthsShort:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),weekdays:"Ð¯ÐºÑÐ°Ð½Ð±Ð°_ÐÑÑÐ°Ð½Ð±Ð°_Ð¡ÐµÑÐ°Ð½Ð±Ð°_Ð§Ð¾ÑÑÐ°Ð½Ð±Ð°_ÐÐ°Ð¹ÑÐ°Ð½Ð±Ð°_ÐÑÐ¼Ð°_Ð¨Ð°Ð½Ð±Ð°".split("_"),weekdaysShort:"Ð¯ÐºÑ_ÐÑÑ_Ð¡ÐµÑ_Ð§Ð¾Ñ_ÐÐ°Ð¹_ÐÑÐ¼_Ð¨Ð°Ð½".split("_"),weekdaysMin:"Ð¯Ðº_ÐÑ_Ð¡Ðµ_Ð§Ð¾_ÐÐ°_ÐÑ_Ð¨Ð°".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ÐÑÐ³ÑÐ½ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",nextDay:"[Ð­ÑÑÐ°Ð³Ð°] LT [Ð´Ð°]",nextWeek:"dddd [ÐºÑÐ½Ð¸ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",lastDay:"[ÐÐµÑÐ° ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",lastWeek:"[Ð£ÑÐ³Ð°Ð½] dddd [ÐºÑÐ½Ð¸ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",sameElse:"L"},relativeTime:{future:"Ð¯ÐºÐ¸Ð½ %s Ð¸ÑÐ¸Ð´Ð°",past:"ÐÐ¸Ñ Ð½ÐµÑÐ° %s Ð¾Ð»Ð´Ð¸Ð½",s:"ÑÑÑÑÐ°Ñ",ss:"%d ÑÑÑÑÐ°Ñ",m:"Ð±Ð¸Ñ Ð´Ð°ÐºÐ¸ÐºÐ°",mm:"%d Ð´Ð°ÐºÐ¸ÐºÐ°",h:"Ð±Ð¸Ñ ÑÐ¾Ð°Ñ",hh:"%d ÑÐ¾Ð°Ñ",d:"Ð±Ð¸Ñ ÐºÑÐ½",dd:"%d ÐºÑÐ½",M:"Ð±Ð¸Ñ Ð¾Ð¹",MM:"%d Ð¾Ð¹",y:"Ð±Ð¸Ñ Ð¹Ð¸Ð»",yy:"%d Ð¹Ð¸Ð»"},week:{dow:1,doy:7}}),h.defineLocale("vi",{months:"thÃ¡ng 1_thÃ¡ng 2_thÃ¡ng 3_thÃ¡ng 4_thÃ¡ng 5_thÃ¡ng 6_thÃ¡ng 7_thÃ¡ng 8_thÃ¡ng 9_thÃ¡ng 10_thÃ¡ng 11_thÃ¡ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chá»§ nháº­t_thá»© hai_thá»© ba_thá»© tÆ°_thá»© nÄm_thá»© sÃ¡u_thá»© báº£y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nÄm] YYYY",LLL:"D MMMM [nÄm] YYYY HH:mm",LLLL:"dddd, D MMMM [nÄm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[HÃ´m nay lÃºc] LT",nextDay:"[NgÃ y mai lÃºc] LT",nextWeek:"dddd [tuáº§n tá»i lÃºc] LT",lastDay:"[HÃ´m qua lÃºc] LT",lastWeek:"dddd [tuáº§n rá»i lÃºc] LT",sameElse:"L"},relativeTime:{future:"%s tá»i",past:"%s trÆ°á»c",s:"vÃ i giÃ¢y",ss:"%d giÃ¢y",m:"má»t phÃºt",mm:"%d phÃºt",h:"má»t giá»",hh:"%d giá»",d:"má»t ngÃ y",dd:"%d ngÃ y",M:"má»t thÃ¡ng",MM:"%d thÃ¡ng",y:"má»t nÄm",yy:"%d nÄm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),h.defineLocale("x-pseudo",{months:"J~Ã¡Ã±ÃºÃ¡~rÃ½_F~Ã©brÃº~Ã¡rÃ½_~MÃ¡rc~h_Ãp~rÃ­l_~MÃ¡Ã½_~JÃºÃ±Ã©~_JÃºl~Ã½_ÃÃº~gÃºst~_SÃ©p~tÃ©mb~Ã©r_Ã~ctÃ³b~Ã©r_Ã~Ã³vÃ©m~bÃ©r_~DÃ©cÃ©~mbÃ©r".split("_"),monthsShort:"J~Ã¡Ã±_~FÃ©b_~MÃ¡r_~Ãpr_~MÃ¡Ã½_~JÃºÃ±_~JÃºl_~ÃÃºg_~SÃ©p_~Ãct_~ÃÃ³v_~DÃ©c".split("_"),monthsParseExact:!0,weekdays:"S~ÃºÃ±dÃ¡~Ã½_MÃ³~Ã±dÃ¡Ã½~_TÃºÃ©~sdÃ¡Ã½~_WÃ©d~Ã±Ã©sd~Ã¡Ã½_T~hÃºrs~dÃ¡Ã½_~FrÃ­d~Ã¡Ã½_S~Ã¡tÃºr~dÃ¡Ã½".split("_"),weekdaysShort:"S~ÃºÃ±_~MÃ³Ã±_~TÃºÃ©_~WÃ©d_~ThÃº_~FrÃ­_~SÃ¡t".split("_"),weekdaysMin:"S~Ãº_MÃ³~_TÃº_~WÃ©_T~h_Fr~_SÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~Ã³dÃ¡~Ã½ Ã¡t] LT",nextDay:"[T~Ã³mÃ³~rrÃ³~w Ã¡t] LT",nextWeek:"dddd [Ã¡t] LT",lastDay:"[Ã~Ã©st~Ã©rdÃ¡~Ã½ Ã¡t] LT",lastWeek:"[L~Ã¡st] dddd [Ã¡t] LT",sameElse:"L"},relativeTime:{future:"Ã­~Ã± %s",past:"%s Ã¡~gÃ³",s:"Ã¡ ~fÃ©w ~sÃ©cÃ³~Ã±ds",ss:"%d s~Ã©cÃ³Ã±~ds",m:"Ã¡ ~mÃ­Ã±~ÃºtÃ©",mm:"%d m~Ã­Ã±Ãº~tÃ©s",h:"Ã¡~Ã± hÃ³~Ãºr",hh:"%d h~Ã³Ãºrs",d:"Ã¡ ~dÃ¡Ã½",dd:"%d d~Ã¡Ã½s",M:"Ã¡ ~mÃ³Ã±~th",MM:"%d m~Ã³Ã±t~hs",y:"Ã¡ ~Ã½Ã©Ã¡r",yy:"%d Ã½~Ã©Ã¡rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("yo",{months:"Sáº¹Ìráº¹Ì_EÌreÌleÌ_áº¸ráº¹ÌnaÌ_IÌgbeÌ_EÌbibi_OÌkuÌdu_Agáº¹mo_OÌguÌn_Owewe_á»ÌwaÌraÌ_BeÌluÌ_á»Ìpáº¹ÌÌ".split("_"),monthsShort:"Sáº¹Ìr_EÌrl_áº¸rn_IÌgb_EÌbi_OÌkuÌ_Agáº¹_OÌguÌ_Owe_á»ÌwaÌ_BeÌl_á»Ìpáº¹ÌÌ".split("_"),weekdays:"AÌiÌkuÌ_AjeÌ_IÌsáº¹Ìgun_á»já»ÌruÌ_á»já»Ìbá»_áº¸tiÌ_AÌbaÌmáº¹Ìta".split("_"),weekdaysShort:"AÌiÌk_AjeÌ_IÌsáº¹Ì_á»jr_á»jb_áº¸tiÌ_AÌbaÌ".split("_"),weekdaysMin:"AÌiÌ_Aj_IÌs_á»r_á»b_áº¸t_AÌb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[OÌniÌ ni] LT",nextDay:"[á»Ìla ni] LT",nextWeek:"dddd [á»sáº¹Ì toÌn'bá»] [ni] LT",lastDay:"[AÌna ni] LT",lastWeek:"dddd [á»sáº¹Ì toÌlá»Ì] [ni] LT",sameElse:"L"},relativeTime:{future:"niÌ %s",past:"%s ká»jaÌ",s:"iÌsáº¹juÌ aayaÌ die",ss:"aayaÌ %d",m:"iÌsáº¹juÌ kan",mm:"iÌsáº¹juÌ %d",h:"waÌkati kan",hh:"waÌkati %d",d:"á»já»Ì kan",dd:"á»já»Ì %d",M:"osuÌ kan",MM:"osuÌ %d",y:"á»duÌn kan",yy:"á»duÌn %d"},dayOfMonthOrdinalParse:/á»já»Ì\s\d{1,2}/,ordinal:"á»já»Ì %d",week:{dow:1,doy:4}}),h.defineLocale("zh-cn",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"å¨æ¥_å¨ä¸_å¨äº_å¨ä¸_å¨å_å¨äº_å¨å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥Ahç¹mmå",LLLL:"YYYYå¹´MæDæ¥ddddAhç¹mmå",l:"YYYY/M/D",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥dddd HH:mm"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(e,t){return 12===e&&(e=0),"åæ¨"===t||"æ©ä¸"===t||"ä¸å"===t?e:"ä¸å"===t||"æä¸"===t?e+12:11<=e?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"åæ¨":i<900?"æ©ä¸":i<1130?"ä¸å":i<1230?"ä¸­å":i<1800?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©]LT",nextDay:"[æå¤©]LT",nextWeek:"[ä¸]ddddLT",lastDay:"[æ¨å¤©]LT",lastWeek:"[ä¸]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(æ¥|æ|å¨)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";case"M":return e+"æ";case"w":case"W":return e+"å¨";default:return e}},relativeTime:{future:"%så",past:"%så",s:"å ç§",ss:"%d ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ¶",hh:"%d å°æ¶",d:"1 å¤©",dd:"%d å¤©",M:"1 ä¸ªæ",MM:"%d ä¸ªæ",y:"1 å¹´",yy:"%d å¹´"},week:{dow:1,doy:4}}),h.defineLocale("zh-hk",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"é±æ¥_é±ä¸_é±äº_é±ä¸_é±å_é±äº_é±å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥ HH:mm",LLLL:"YYYYå¹´MæDæ¥dddd HH:mm",l:"YYYY/M/D",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥dddd HH:mm"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(e,t){return 12===e&&(e=0),"åæ¨"===t||"æ©ä¸"===t||"ä¸å"===t?e:"ä¸­å"===t?11<=e?e:e+12:"ä¸å"===t||"æä¸"===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"åæ¨":i<900?"æ©ä¸":i<1130?"ä¸å":i<1230?"ä¸­å":i<1800?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©]LT",nextDay:"[æå¤©]LT",nextWeek:"[ä¸]ddddLT",lastDay:"[æ¨å¤©]LT",lastWeek:"[ä¸]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(æ¥|æ|é±)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";case"M":return e+"æ";case"w":case"W":return e+"é±";default:return e}},relativeTime:{future:"%så§",past:"%så",s:"å¹¾ç§",ss:"%d ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ",hh:"%d å°æ",d:"1 å¤©",dd:"%d å¤©",M:"1 åæ",MM:"%d åæ",y:"1 å¹´",yy:"%d å¹´"}}),h.defineLocale("zh-tw",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"é±æ¥_é±ä¸_é±äº_é±ä¸_é±å_é±äº_é±å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥ HH:mm",LLLL:"YYYYå¹´MæDæ¥dddd HH:mm",l:"YYYY/M/D",ll:"YYYYå¹´MæDæ¥",lll:"YYYYå¹´MæDæ¥ HH:mm",llll:"YYYYå¹´MæDæ¥dddd HH:mm"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(e,t){return 12===e&&(e=0),"åæ¨"===t||"æ©ä¸"===t||"ä¸å"===t?e:"ä¸­å"===t?11<=e?e:e+12:"ä¸å"===t||"æä¸"===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"åæ¨":i<900?"æ©ä¸":i<1130?"ä¸å":i<1230?"ä¸­å":i<1800?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©] LT",nextDay:"[æå¤©] LT",nextWeek:"[ä¸]dddd LT",lastDay:"[æ¨å¤©] LT",lastWeek:"[ä¸]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(æ¥|æ|é±)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"æ¥";case"M":return e+"æ";case"w":case"W":return e+"é±";default:return e}},relativeTime:{future:"%så§",past:"%så",s:"å¹¾ç§",ss:"%d ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ",hh:"%d å°æ",d:"1 å¤©",dd:"%d å¤©",M:"1 åæ",MM:"%d åæ",y:"1 å¹´",yy:"%d å¹´"}}),h.locale("en"),h}),function(){"use strict";var e=function(){this.init()};e.prototype={init:function(){var e=this||g;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||g;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&0<=e&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,g.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),r=0;r<i.length;r++){var a=t._howls[n]._soundById(i[r]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||g;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,g.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),r=0;r<i.length;r++){var a=t._howls[n]._soundById(i[r]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},unload:function(){for(var e=this||g,t=e._howls.length-1;0<=t;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||g)._codecs[e.replace(/^x-/,"")]},_setup:function(){var t=this||g;if(t.state=t.ctx&&t.ctx.state||"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(e){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||g,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),r=i&&parseInt(i[0].split("/")[1],10)<33;return t._codecs={mp3:!(r||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var n=this||g,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome/i.test(n._navigator&&n._navigator.userAgent);if(!n._mobileEnabled&&n.ctx&&e){n._mobileEnabled=!1,n.mobileAutoEnable=!1,n._mobileUnloaded||44100===n.ctx.sampleRate||(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var i=function(e){e.preventDefault(),g._autoResume();var t=n.ctx.createBufferSource();t.buffer=n._scratchBuffer,t.connect(n.ctx.destination),void 0===t.start?t.noteOn(0):t.start(0),"function"==typeof n.ctx.resume&&n.ctx.resume(),t.onended=function(){t.disconnect(0),n._mobileEnabled=!0,document.removeEventListener("touchstart",i,!0),document.removeEventListener("touchend",i,!0),document.removeEventListener("click",i,!0);for(var e=0;e<n._howls.length;e++)n._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("click",i,!0),n}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&g.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&g.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var g=new e,t=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};t.prototype={init:function(e){var t=this;return g.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=g.usingWebAudio&&!t._html5,void 0!==g.ctx&&g.ctx&&g.mobileAutoEnable&&g._enableMobileAudio(),g._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(g.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var i,r;if(e._format&&e._format[n])i=e._format[n];else{if("string"!=typeof(r=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(i=/^data:audio\/([^;,]+);/i.exec(r))||(i=/\.([^.]+)$/.exec(r.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&g.codecs(i)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&s(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,n){var i=this,e=null;if("number"==typeof t)e=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if(void 0===t){t="__default";for(var r=0,a=0;a<i._sounds.length;a++)i._sounds[a]._paused&&!i._sounds[a]._ended&&(r++,e=i._sounds[a]._id);1===r?t=null:e=null}}var o=e?i._soundById(e):i._inactiveSound();if(!o)return null;if(e&&!t&&(t=o._sprite||"__default"),"loaded"!==i._state){o._sprite=t,o._ended=!1;var s=o._id;return i._queue.push({event:"play",action:function(){i.play(s)}}),s}if(e&&!o._paused)return n||i._loadQueue("play"),o._id;i._webAudio&&g._autoResume();var u=Math.max(0,0<o._seek?o._seek:i._sprite[t][0]/1e3),l=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-u),c=1e3*l/Math.abs(o._rate);if(o._paused=!1,o._ended=!1,o._sprite=t,o._seek=u,o._start=i._sprite[t][0]/1e3,o._stop=(i._sprite[t][0]+i._sprite[t][1])/1e3,o._loop=!(!o._loop&&!i._sprite[t][2]),!(o._seek>=o._stop)){var d=o._node;if(i._webAudio){var h=function(){i._refreshBuffer(o);var e=o._muted||i._muted?0:o._volume;d.gain.setValueAtTime(e,g.ctx.currentTime),o._playStart=g.ctx.currentTime,void 0===d.bufferSource.start?o._loop?d.bufferSource.noteGrainOn(0,u,86400):d.bufferSource.noteGrainOn(0,u,l):o._loop?d.bufferSource.start(0,u,86400):d.bufferSource.start(0,u,l),c!==1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),c)),n||setTimeout(function(){i._emit("play",o._id)},0)};"running"===g.state?h():(i.once("resume",h),i._clearTimer(o._id))}else{var p=function(){d.currentTime=u,d.muted=o._muted||i._muted||g._muted||d.muted,d.volume=o._volume*g.volume(),d.playbackRate=o._rate;try{var e=d.play();if("undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)?(i._playLock=!0,e.then(function(){i._playLock=!1,n||i._emit("play",o._id)}).catch(function(){i._playLock=!1,i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.")})):n||i._emit("play",o._id),d.playbackRate=o._rate,d.paused)return void i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),c):(i._endTimers[o._id]=function(){i._ended(o),d.removeEventListener("ended",i._endTimers[o._id],!1)},d.addEventListener("ended",i._endTimers[o._id],!1))}catch(e){i._emit("playerror",o._id,e)}},m=window&&window.ejecta||!d.readyState&&g._navigator.isCocoonJS;if(3<=d.readyState||m)p();else{var f=function(){p(),d.removeEventListener(g._canPlayEvent,f,!1)};d.addEventListener(g._canPlayEvent,f,!1),i._clearTimer(o._id)}}return o._id}i._ended(o)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var r=t._soundById(n[i]);if(r&&!r._paused&&(r._seek=t.seek(n[i]),r._rateSeek=0,r._paused=!0,t._stopFade(n[i]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),r=0;r<i.length;r++){n._clearTimer(i[r]);var a=n._soundById(i[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(i[r]),a._node&&(n._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var i=n._getSoundIds(t),r=0;r<i.length;r++){var a=n._soundById(i[r]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,g.ctx.currentTime):a._node&&(a._node.muted=!!g._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,i=this,r=arguments;if(0===r.length)return i._volume;if(1===r.length||2===r.length&&void 0===r[1]?0<=i._getSoundIds().indexOf(r[0])?t=parseInt(r[0],10):e=parseFloat(r[0]):2<=r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10)),!(void 0!==e&&0<=e&&e<=1))return(n=t?i._soundById(t):i._sounds[0])?n._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,r)}}),i;void 0===t&&(i._volume=e),t=i._getSoundIds(t);for(var a=0;a<t.length;a++)(n=i._soundById(t[a]))&&(n._volume=e,r[2]||i._stopFade(t[a]),i._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,g.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*g.volume()),i._emit("volume",n._id));return i},fade:function(e,t,n,i){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(e,t,n,i)}}),r;r.volume(e,i);for(var a=r._getSoundIds(i),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if(i||r._stopFade(a[o]),r._webAudio&&!s._muted){var u=g.ctx.currentTime,l=u+n/1e3;s._volume=e,s._node.gain.setValueAtTime(e,u),s._node.gain.linearRampToValueAtTime(t,l)}r._startFadeInterval(s,e,t,n,a[o],void 0===i)}}return r},_startFadeInterval:function(t,n,i,r,e,a){var o=this,s=n,u=i-n,l=Math.abs(u/.01),c=Math.max(4,0<l?r/l:r),d=Date.now();t._fadeTo=i,t._interval=setInterval(function(){var e=(Date.now()-d)/r;d=Date.now(),s+=u*e,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,o._webAudio?t._volume=s:o.volume(s,t._id,!0),a&&(o._volume=s),(i<n&&s<=i||n<i&&i<=s)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(i,t._id),o._emit("fade",t._id))},c)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(g.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,i=arguments;if(0===i.length)return this._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=this._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],this._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var r=this._getSoundIds(t),a=0;a<r.length;a++)(n=this._soundById(r[a]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e)&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop));return this},rate:function(){var e,t,n,i=this,r=arguments;if(0===r.length)t=i._sounds[0]._id;else if(1===r.length){0<=i._getSoundIds().indexOf(r[0])?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("number"!=typeof e)return(n=i._soundById(t))?n._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,r)}}),i;void 0===t&&(i._rate=e),t=i._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=i._soundById(t[a])){n._rateSeek=i.seek(t[a]),n._playStart=i._webAudio?g.ctx.currentTime:n._playStart,n._rate=e,i._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,g.ctx.currentTime):n._node&&(n._node.playbackRate=e);var o=i.seek(t[a]),s=1e3*((i._sprite[n._sprite][0]+i._sprite[n._sprite][1])/1e3-o)/Math.abs(n._rate);!i._endTimers[t[a]]&&n._paused||(i._clearTimer(t[a]),i._endTimers[t[a]]=setTimeout(i._ended.bind(i,n),s)),i._emit("rate",n._id)}return i},seek:function(){var e,t,n=this,i=arguments;if(0===i.length)t=n._sounds[0]._id;else if(1===i.length){0<=n._getSoundIds().indexOf(i[0])?t=parseInt(i[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(i[0]))}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var r=n._soundById(t);if(r){if(!("number"==typeof e&&0<=e)){if(n._webAudio){var a=n.playing(t)?g.ctx.currentTime-r._playStart:0,o=r._rateSeek?r._rateSeek-r._seek:0;return r._seek+(o+a*Math.abs(r._rate))}return r._node.currentTime}var s=n.playing(t);s&&n.pause(t,!0),r._seek=e,r._ended=!1,n._clearTimer(t),!n._webAudio&&r._node&&(r._node.currentTime=e);var u=function(){n._emit("seek",t),s&&n.play(t,!0)};if(s&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):u()};setTimeout(l,0)}else u()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++){if(t[n]._paused||e.stop(t[n]._id),!e._webAudio)/MSIE |Trident\//.test(g._navigator&&g._navigator.userAgent)||(t[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(g._canPlayEvent,t[n]._loadFn,!1);delete t[n]._node,e._clearTimer(t[n]._id)}var i=g._howls.indexOf(e);0<=i&&g._howls.splice(i,1);var r=!0;for(n=0;n<g._howls.length;n++)if(g._howls[n]._src===e._src){r=!1;break}return o&&r&&delete o[e._src],g.noAudio=!1,e._state="unloaded",e._sounds=[],e=null},on:function(e,t,n,i){var r=this["_on"+e];return"function"==typeof t&&r.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),this},off:function(e,t,n){var i=this["_on"+e],r=0;if("number"==typeof t&&(n=t,t=null),t||n)for(r=0;r<i.length;r++){var a=n===i[r].id;if(t===i[r].fn&&a||!t&&a){i.splice(r,1);break}}else if(e)this["_on"+e]=[];else{var o=Object.keys(this);for(r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(this[o[r]])&&(this[o[r]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var i=this["_on"+e],r=i.length-1;0<=r;r--)i[r].id&&i[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,i[r].fn),0),i[r].once&&this.off(e,i[r].fn,i[r].id));return this._loadQueue(e),this},_loadQueue:function(e){if(0<this._queue.length){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=g.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),r)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),g._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this,t=e._pool,n=0,i=0;if(!(e._sounds.length<t)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&n++;for(i=e._sounds.length-1;0<=i;i--){if(n<=t)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=g.ctx.createBufferSource(),e._node.bufferSource.buffer=o[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,g.ctx.currentTime),this},_cleanBuffer:function(e){if(g._scratchBuffer&&e.bufferSource){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=g._scratchBuffer}catch(e){}}return e.bufferSource=null,this}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++g._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=g._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===g.ctx.createGain?g.ctx.createGainNode():g.ctx.createGain(),e._node.gain.setValueAtTime(n,g.ctx.currentTime),e._node.paused=!0,e._node.connect(g.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(g._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*g.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++g._counter,e},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(g._canPlayEvent,this._loadFn,!1)}};var o={},s=function(t){var e=t._src;if(o[e])return t._duration=o[e].duration,void c(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);l(i.buffer,t)}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.withCredentials=t._xhrWithCredentials,a.responseType="arraybuffer",a.onload=function(){var e=(a.status+"")[0];"0"===e||"2"===e||"3"===e?l(a.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete o[e],t.load())},u(a)}},u=function(t){try{t.send()}catch(e){t.onerror()}},l=function(e,t){var n=function(e){e&&0<t._sounds.length?(o[t._src]=e,c(t,e)):onError()},i=function(){t._emit("loaderror",null,"Decoding audio data failed.")};"undefined"!=typeof Promise&&1===g.ctx.decodeAudioData.length?g.ctx.decodeAudioData(e).then(n).catch(i):g.ctx.decodeAudioData(e,n,i)},c=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){try{"undefined"!=typeof AudioContext?g.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?g.ctx=new webkitAudioContext:g.usingWebAudio=!1}catch(e){g.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(g._navigator&&g._navigator.platform),t=g._navigator&&g._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var i=/safari/.test(g._navigator&&g._navigator.userAgent.toLowerCase());(g._navigator&&g._navigator.standalone&&!i||g._navigator&&!g._navigator.standalone&&!i)&&(g.usingWebAudio=!1)}g.usingWebAudio&&(g.masterGain=void 0===g.ctx.createGain?g.ctx.createGainNode():g.ctx.createGain(),g.masterGain.gain.setValueAtTime(g._muted?0:1,g.ctx.currentTime),g.masterGain.connect(g.ctx.destination)),g._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:g,Howl:t}}),"undefined"!=typeof exports&&(exports.Howler=g,exports.Howl=t),"undefined"!=typeof window?(window.HowlerGlobal=e,window.Howler=g,window.Howl=t,window.Sound=a):"undefined"!=typeof global&&(global.HowlerGlobal=e,global.Howler=g,global.Howl=t,global.Sound=a)}(),function(){"use strict";var t,n,i;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;0<=t;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){var i=this;return i.ctx&&i.ctx.listener?(t="number"!=typeof t?i._pos[1]:t,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof e?i._pos:(i._pos=[e,t,n],void 0!==i.ctx.listener.positionX?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(e,t,n,i,r,a){var o=this;if(!o.ctx||!o.ctx.listener)return o;var s=o._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,i="number"!=typeof i?s[3]:i,r="number"!=typeof r?s[4]:r,a="number"!=typeof a?s[5]:a,"number"!=typeof e?s:(o._orientation=[e,t,n,i,r,a],void 0!==o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,n,i,r,a),o)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(e,t){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,t)}}),n;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var r=n._getSoundIds(t),a=0;a<r.length;a++){var o=n._soundById(r[a]);if(o){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||l(o,i),"spatial"===i?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(e,0,0):o._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",o._id)}}return n},Howl.prototype.pos=function(e,t,n,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(e,t,n,i)}}),r;if(t="number"!=typeof t?0:t,n="number"!=typeof n?-.5:n,void 0===i){if("number"!=typeof e)return r._pos;r._pos=[e,t,n]}for(var a=r._getSoundIds(i),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._pos;s._pos=[e,t,n],s._node&&(s._panner&&!s._panner.pan||l(s,"spatial"),void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setOrientation(e,t,n)),r._emit("pos",s._id)}}return r},Howl.prototype.orientation=function(e,t,n,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(e,t,n,i)}}),r;if(t="number"!=typeof t?r._orientation[1]:t,n="number"!=typeof n?r._orientation[2]:n,void 0===i){if("number"!=typeof e)return r._orientation;r._orientation=[e,t,n]}for(var a=r._getSoundIds(i),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._orientation;s._orientation=[e,t,n],s._node&&(s._panner||(s._pos||(s._pos=r._pos||[0,0,-.5]),l(s,"spatial")),void 0!==s._panner.orientationX?(s._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):s._panner.setOrientation(e,t,n)),r._emit("orientation",s._id)}}return r},Howl.prototype.pannerAttr=function(){var e,t,n,i=this,r=arguments;if(!i._webAudio)return i;if(0===r.length)return i._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(n=i._soundById(parseInt(r[0],10)))?n._pannerAttr:i._pannerAttr;e=r[0],void 0===t&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var a=i._getSoundIds(t),o=0;o<a.length;o++)if(n=i._soundById(a[o])){var s=n._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var u=n._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(n._pos||(n._pos=i._pos||[0,0,-.5]),l(n,"spatial"))}return i},Sound.prototype.init=(n=Sound.prototype.init,function(){var e=this,t=e._parent;e._orientation=t._orientation,e._stereo=t._stereo,e._pos=t._pos,e._pannerAttr=t._pannerAttr,n.call(this),e._stereo?t.stereo(e._stereo):e._pos&&t.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}),Sound.prototype.reset=(i=Sound.prototype.reset,function(){var e=this,t=e._parent;return e._orientation=t._orientation,e._stereo=t._stereo,e._pos=t._pos,e._pannerAttr=t._pannerAttr,e._stereo?t.stereo(e._stereo):e._pos?t.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,t._refreshBuffer(e)),i.call(this)});var l=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.L={})}(this,function(e){"use strict";var t=Object.freeze;function u(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(t in r=arguments[n])e[t]=r[t];return e}Object.freeze=function(e){return e};var a=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function m(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var n=0;function l(e){return e._leaflet_id=e._leaflet_id||++n,e._leaflet_id}function i(e,t,n){var i,r,a,o;return o=function(){i=!1,r&&(a.apply(n,r),r=!1)},a=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(o,t),i=!0)}}function r(e,t,n){var i=t[1],r=t[0],a=i-r;return e===i&&n?e:((e-r)%a+a)%a+r}function s(){return!1}function o(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function c(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return c(e).split(/\s+/)}function h(e,t){for(var n in e.hasOwnProperty("options")||(e.options=e.options?a(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var f=/\{ *([\w_-]+) *\}/g;function g(e,i){return e.replace(f,function(e,t){var n=i[t];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(i)),n})}var _=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var A=0;function b(e){var t=+new Date,n=Math.max(0,16-(t-A));return A=t+n,window.setTimeout(e,n)}var w=window.requestAnimationFrame||M("RequestAnimationFrame")||b,x=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function E(e,t,n){if(!n||w!==b)return w.call(window,m(e,t));e.call(t)}function T(e){e&&x.call(window,e)}var D=(Object.freeze||Object)({freeze:t,extend:u,create:a,bind:m,lastId:n,stamp:l,throttle:i,wrapNum:r,falseFn:s,formatNum:o,trim:c,splitWords:d,setOptions:h,getParamString:p,template:g,isArray:_,indexOf:y,emptyImageUrl:v,requestFn:w,cancelFn:x,requestAnimFrame:E,cancelAnimFrame:T});function S(){}S.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,i=a(n);for(var r in(i.constructor=t).prototype=i,this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(t[r]=this[r]);return e.statics&&(u(t,e.statics),delete e.statics),e.includes&&(!function(e){if("undefined"==typeof L||!L||!L.Mixin)return;e=_(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(e.includes),u.apply(null,[i].concat(e.includes)),delete e.includes),i.options&&(e.options=u(a(i.options),e.options)),u(i,e),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=i._initHooks.length;e<t;e++)i._initHooks[e].call(this)}},t},S.include=function(e){return u(this.prototype,e),this},S.mergeOptions=function(e){return u(this.prototype.options,e),this},S.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var C={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,a=(e=d(e)).length;r<a;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else for(var r=0,a=(e=d(e)).length;r<a;r++)this._off(e[r],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),n===this&&(n=void 0);for(var r={fn:t,ctx:n},a=i,o=0,s=a.length;o<s;o++)if(a[o].fn===t&&a[o].ctx===n)return;a.push(r)},_off:function(e,t,n){var i,r,a;if(this._events&&(i=this._events[e]))if(t){if(n===this&&(n=void 0),i)for(r=0,a=i.length;r<a;r++){var o=i[r];if(o.ctx===n&&o.fn===t)return o.fn=s,this._firingCount&&(this._events[e]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,a=i.length;r<a;r++)i[r].fn=s;delete this._events[e]}},fire:function(e,t,n){if(!this.listens(e,n))return this;var i=u({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var r=this._events[e];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,o=r.length;a<o;a++){var s=r[a];s.fn.call(s.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var i in e)this.once(i,e[i],t);return this}var r=m(function(){this.off(e,t,n).off(e,r,n)},this);return this.on(e,t,n).on(e,r,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[l(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[l(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,u({layer:e.target,propagatedFrom:e.target},e),!0)}};C.addEventListener=C.on,C.removeEventListener=C.clearAllEventListeners=C.off,C.addOneTimeEventListener=C.once,C.fireEvent=C.fire,C.hasEventListeners=C.listens;var N=S.extend(C);function k(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var I=Math.trunc||function(e){return 0<e?Math.floor(e):Math.ceil(e)};function j(e,t,n){return e instanceof k?e:_(e)?new k(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new k(e.x,e.y):new k(e,t,n)}function O(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function z(e,t){return!e||e instanceof O?e:new O(e,t)}function R(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function P(e,t){return e instanceof R?e:new R(e,t)}function Y(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function B(e,t,n){return e instanceof Y?e:_(e)&&"object"!=typeof e[0]?3===e.length?new Y(e[0],e[1],e[2]):2===e.length?new Y(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new Y(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new Y(e,t,n)}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(e){return this.clone()._add(j(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(j(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new k(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new k(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(e){var t=(e=j(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=j(e)).x===this.x&&e.y===this.y},contains:function(e){return e=j(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+o(this.x)+", "+o(this.y)+")"}},O.prototype={extend:function(e){return e=j(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new k(this.min.x,this.max.y)},getTopRight:function(){return new k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof k?j(e):z(e))instanceof O?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=z(e);var t=this.min,n=this.max,i=e.min,r=e.max,a=r.x>=t.x&&i.x<=n.x,o=r.y>=t.y&&i.y<=n.y;return a&&o},overlaps:function(e){e=z(e);var t=this.min,n=this.max,i=e.min,r=e.max,a=r.x>t.x&&i.x<n.x,o=r.y>t.y&&i.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)}},R.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof Y)n=t=e;else{if(!(e instanceof R))return e?this.extend(B(e)||P(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new Y(t.lat,t.lng),this._northEast=new Y(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new R(new Y(t.lat-i,t.lng-r),new Y(n.lat+i,n.lng+r))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof Y||"lat"in e?B(e):P(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof R?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=P(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),a=r.lat>=t.lat&&i.lat<=n.lat,o=r.lng>=t.lng&&i.lng<=n.lng;return a&&o},overlaps:function(e){e=P(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),a=r.lat>t.lat&&i.lat<n.lat,o=r.lng>t.lng&&i.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=P(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}};var U,H={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new O(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!(Y.prototype={equals:function(e,t){return!!e&&(e=B(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+o(this.lat,e)+", "+o(this.lng,e)+")"},distanceTo:function(e){return F.distance(this,B(e))},wrap:function(){return F.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return P([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new Y(this.lat,this.lng,this.alt)}}),wrapLatLng:function(e){var t=this.wrapLng?r(e.lng,this.wrapLng,!0):e.lng;return new Y(this.wrapLat?r(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new R(new Y(a.lat-i,a.lng-r),new Y(o.lat-i,o.lng-r))}},F=u({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(i)*Math.cos(r)*o*o,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),G={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new k(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new Y((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(U=6378137*Math.PI,new O([-U,-U],[U,U]))};function V(e,t,n,i){if(_(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function W(e,t,n,i){return new V(e,t,n,i)}V.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new k((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Q,q=u({},F,{code:"EPSG:3857",projection:G,transformation:(Q=.5/(Math.PI*G.R),W(Q,.5,-Q,.5))}),Z=u({},q,{code:"EPSG:900913"});function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e,t){var n,i,r,a,o,s,u="";for(n=0,r=e.length;n<r;n++){for(i=0,a=(o=e[n]).length;i<a;i++)u+=(i?"L":"M")+(s=o[i]).x+" "+s.y;u+=t?De?"z":"x":""}return u||"M0 0"}var K=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Ce("webkit"),ie=Ce("android"),re=Ce("android 2")||Ce("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oe=ie&&Ce("Google")&&ae<537&&!("AudioNode"in window),se=!!window.opera,ue=Ce("chrome"),le=Ce("gecko")&&!ne&&!se&&!$,ce=!ue&&Ce("safari"),de=Ce("phantom"),he="OTransition"in K,pe=0===navigator.platform.indexOf("Win"),me=$&&"transition"in K,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ge="MozPerspective"in K,_e=!window.L_DISABLE_3D&&(me||fe||ge)&&!he&&!de,ye="undefined"!=typeof orientation||Ce("mobile"),ve=ye&&ne,Me=ye&&fe,Ae=!window.PointerEvent&&window.MSPointerEvent,be=!(!window.PointerEvent&&!Ae),we=!window.L_NO_TOUCH&&(be||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),xe=ye&&se,Ee=ye&&le,Le=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Te=!!document.createElement("canvas").getContext,De=!(!document.createElementNS||!X("svg").createSVGRect),Se=!De&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Ce(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e)}var Ne=(Object.freeze||Object)({ie:$,ielt9:ee,edge:te,webkit:ne,android:ie,android23:re,androidStock:oe,opera:se,chrome:ue,gecko:le,safari:ce,phantom:de,opera12:he,win:pe,ie3d:me,webkit3d:fe,gecko3d:ge,any3d:_e,mobile:ye,mobileWebkit:ve,mobileWebkit3d:Me,msPointer:Ae,pointer:be,touch:we,mobileOpera:xe,mobileGecko:Ee,retina:Le,canvas:Te,svg:De,vml:Se}),ke=Ae?"MSPointerDown":"pointerdown",Ie=Ae?"MSPointerMove":"pointermove",je=Ae?"MSPointerUp":"pointerup",Oe=Ae?"MSPointerCancel":"pointercancel",ze=["INPUT","SELECT","OPTION"],Re={},Pe=!1,Ye=0;function Be(e,t,n,i){var r,a,o,s,u,l,c,d,h,p;return"touchstart"===t?(c=e,d=n,h=i,p=m(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(ze.indexOf(e.target.tagName)<0))return;Rt(e)}Ge(e,d)}),c["_leaflet_touchstart"+h]=p,c.addEventListener(ke,p,!1),Pe||(document.documentElement.addEventListener(ke,Ue,!0),document.documentElement.addEventListener(Ie,He,!0),document.documentElement.addEventListener(je,Fe,!0),document.documentElement.addEventListener(Oe,Fe,!0),Pe=!0)):"touchmove"===t?(u=n,l=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Ge(e,u)},(s=e)["_leaflet_touchmove"+i]=l,s.addEventListener(Ie,l,!1)):"touchend"===t&&(a=n,o=function(e){Ge(e,a)},(r=e)["_leaflet_touchend"+i]=o,r.addEventListener(je,o,!1),r.addEventListener(Oe,o,!1)),this}function Ue(e){Re[e.pointerId]=e,Ye++}function He(e){Re[e.pointerId]&&(Re[e.pointerId]=e)}function Fe(e){delete Re[e.pointerId],Ye--}function Ge(e,t){for(var n in e.touches=[],Re)e.touches.push(Re[n]);e.changedTouches=[e],t(e)}var Ve=Ae?"MSPointerDown":be?"pointerdown":"touchstart",We=Ae?"MSPointerUp":be?"pointerup":"touchend",Qe="_leaflet_";function qe(e,r,t){var a,o,s=!1;function n(e){var t;if(be){if(!te||"mouse"===e.pointerType)return;t=Ye}else t=e.touches.length;if(!(1<t)){var n=Date.now(),i=n-(a||n);o=e.touches?e.touches[0]:e,s=0<i&&i<=250,a=n}}function i(e){if(s&&!o.cancelBubble){if(be){if(!te||"mouse"===e.pointerType)return;var t,n,i={};for(n in o)t=o[n],i[n]=t&&t.bind?t.bind(o):t;o=i}o.type="dblclick",r(o),a=null}}return e[Qe+Ve+t]=n,e[Qe+We+t]=i,e[Qe+"dblclick"+t]=r,e.addEventListener(Ve,n,!1),e.addEventListener(We,i,!1),e.addEventListener("dblclick",r,!1),this}function Ze(e,t){var n=e[Qe+Ve+t],i=e[Qe+We+t],r=e[Qe+"dblclick"+t];return e.removeEventListener(Ve,n,!1),e.removeEventListener(We,i,!1),te||e.removeEventListener("dblclick",r,!1),this}var Xe,Je,Ke,$e,et,tt=_t(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),nt=_t(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),it="webkitTransition"===nt||"OTransition"===nt?nt+"End":"transitionend";function rt(e){return"string"==typeof e?document.getElementById(e):e}function at(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function ot(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function st(e){var t=e.parentNode;t&&t.removeChild(e)}function ut(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function lt(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function ct(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function dt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ft(e);return 0<n.length&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function ht(e,t){if(void 0!==e.classList)for(var n=d(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!dt(e,t)){var a=ft(e);mt(e,(a?a+" ":"")+t)}}function pt(e,t){void 0!==e.classList?e.classList.remove(t):mt(e,c((" "+ft(e)+" ").replace(" "+t+" "," ")))}function mt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ft(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function gt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}(e,t)}function _t(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function yt(e,t,n){var i=t||new k(0,0);e.style[tt]=(me?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function vt(e,t){e._leaflet_pos=t,_e?yt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Mt(e){return e._leaflet_pos||new k(0,0)}if("onselectstart"in document)Xe=function(){St(window,"selectstart",Rt)},Je=function(){Nt(window,"selectstart",Rt)};else{var At=_t(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xe=function(){if(At){var e=document.documentElement.style;Ke=e[At],e[At]="none"}},Je=function(){At&&(document.documentElement.style[At]=Ke,Ke=void 0)}}function bt(){St(window,"dragstart",Rt)}function wt(){Nt(window,"dragstart",Rt)}function xt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Et(),et=($e=e).style.outline,e.style.outline="none",St(window,"keydown",Et))}function Et(){$e&&($e.style.outline=et,et=$e=void 0,Nt(window,"keydown",Et))}function Lt(e){for(;!((e=e.parentNode).offsetWidth&&e.offsetHeight||e===document.body););return e}function Tt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Dt=(Object.freeze||Object)({TRANSFORM:tt,TRANSITION:nt,TRANSITION_END:it,get:rt,getStyle:at,create:ot,remove:st,empty:ut,toFront:lt,toBack:ct,hasClass:dt,addClass:ht,removeClass:pt,setClass:mt,getClass:ft,setOpacity:gt,testProp:_t,setTransform:yt,setPosition:vt,getPosition:Mt,disableTextSelection:Xe,enableTextSelection:Je,disableImageDrag:bt,enableImageDrag:wt,preventOutline:xt,restoreOutline:Et,getSizedParentNode:Lt,getScale:Tt});function St(e,t,n,i){if("object"==typeof t)for(var r in t)kt(e,r,t[r],n);else for(var a=0,o=(t=d(t)).length;a<o;a++)kt(e,t[a],n,i);return this}var Ct="_leaflet_events";function Nt(e,t,n,i){if("object"==typeof t)for(var r in t)It(e,r,t[r],n);else if(t)for(var a=0,o=(t=d(t)).length;a<o;a++)It(e,t[a],n,i);else{for(var s in e[Ct])It(e,s,e[Ct][s]);delete e[Ct]}return this}function kt(t,e,n,i){var r=e+l(n)+(i?"_"+l(i):"");if(t[Ct]&&t[Ct][r])return this;var a=function(e){return n.call(i||t,e||window.event)},o=a;be&&0===e.indexOf("touch")?Be(t,e,a,r):!we||"dblclick"!==e||be&&ue?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,Wt(t,e)&&o(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&ie&&(a=function(e){!function(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,i=Ht&&n-Ht;if(i&&100<i&&i<500||e.target._simulatedClick&&!e._simulated)return Pt(e);Ht=n,t(e)}(e,o)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):qe(t,a,r),t[Ct]=t[Ct]||{},t[Ct][r]=a}function It(e,t,n,i){var r,a,o,s=t+l(n)+(i?"_"+l(i):""),u=e[Ct]&&e[Ct][s];if(!u)return this;be&&0===t.indexOf("touch")?(o=(r=e)["_leaflet_"+(a=t)+s],"touchstart"===a?r.removeEventListener(ke,o,!1):"touchmove"===a?r.removeEventListener(Ie,o,!1):"touchend"===a&&(r.removeEventListener(je,o,!1),r.removeEventListener(Oe,o,!1))):!we||"dblclick"!==t||be&&ue?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",u,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,u,!1):"detachEvent"in e&&e.detachEvent("on"+t,u):Ze(e,s),e[Ct][s]=null}function jt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Vt(e),this}function Ot(e){return kt(e,"mousewheel",jt),this}function zt(e){return St(e,"mousedown touchstart dblclick",jt),kt(e,"click",Gt),this}function Rt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Pt(e){return Rt(e),jt(e),this}function Yt(e,t){if(!t)return new k(e.clientX,e.clientY);var n=Tt(t),i=n.boundingClientRect;return new k((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Bt=pe&&ue?2*window.devicePixelRatio:le?window.devicePixelRatio:1;function Ut(e){return te?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Bt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Ht,Ft={};function Gt(e){Ft[e.type]=!0}function Vt(e){var t=Ft[e.type];return Ft[e.type]=!1,t}function Wt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var Qt=(Object.freeze||Object)({on:St,off:Nt,stopPropagation:jt,disableScrollPropagation:Ot,disableClickPropagation:zt,preventDefault:Rt,stop:Pt,getMousePosition:Yt,getWheelDelta:Ut,fakeStop:Gt,skipped:Vt,isExternalTarget:Wt,addListener:St,removeListener:Nt}),qt=N.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Mt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),vt(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Zt=N.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._initContainer(e),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(B(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=nt&&_e&&!xe&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,it,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){if((t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(B(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(void 0!==n.animate&&(n.zoom=u({animate:n.animate},n.zoom),n.pan=u({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(e,t),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(_e?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(_e?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),a=(e instanceof k?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),o=this.containerPointToLatLng(r.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():P(e);var n=j(t.paddingTopLeft||t.padding||[0,0]),i=j(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var a=i.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),r),s=this.project(e.getNorthEast(),r);return{center:this.unproject(o.add(s).divideBy(2).add(a),r),zoom:r}},fitBounds:function(e,t){if(!(e=P(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=j(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){ht(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(a,o,e){if(!1===(e=e||{}).animate||!_e)return this.setView(a,o,e);this._stop();var s=this.project(this.getCenter()),u=this.project(a),t=this.getSize(),l=this._zoom;a=B(a),o=void 0===o?l:o;var c=Math.max(t.x,t.y),i=c*this.getZoomScale(l,o),d=u.distanceTo(s)||1,h=1.42,r=h*h;function n(e){var t=(i*i-c*c+(e?-1:1)*r*r*d*d)/(2*(e?i:c)*r*d),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}var f=n(0);function g(e){return c*(m(f)*(p(t=f+h*e)/m(t))-p(f))/r;var t}var _=Date.now(),y=(n(1)-f)/h,v=e.duration?1e3*e.duration:1e3*y*.8;return this._moveStart(!0,e.noMoveStart),function e(){var t,n,i=(Date.now()-_)/v,r=(t=i,(1-Math.pow(1-t,1.5))*y);i<=1?(this._flyToFrame=E(e,this),this._move(this.unproject(s.add(u.subtract(s).multiplyBy(g(r)/d)),l),this.getScaleZoom(c/(n=r,c*(m(f)/m(f+h*n))),l),{flyTo:!0})):this._move(a,o)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=P(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,P(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=u({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=t.divideBy(2).round(),r=n.divideBy(2).round(),a=i.subtract(r);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=u({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=m(this._handleGeolocationResponse,this),n=m(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=new Y(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(r,i.maxZoom):r)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"==typeof e.coords[o]&&(a[o]=e.coords[o]);this.fire("locationfound",a)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)st(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ot("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new R(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=P(e),n=j(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),l=z(this.project(s,i),this.project(o,i)).getSize(),c=_e?this.options.zoomSnap:1,d=u.x/l.x,h=u.y/l.y,p=t?Math.max(d,h):Math.min(d,h);return i=this.getScaleZoom(p,i),c&&(i=Math.round(i/(c/100))*(c/100),i=t?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(a,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new O(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(B(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(j(e),t)},layerPointToLatLng:function(e){var t=j(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(B(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(B(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(P(e))},distance:function(e,t){return this.options.crs.distance(B(e),B(t))},containerPointToLayerPoint:function(e){return j(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return j(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(j(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(e)))},mouseEventToContainerPoint:function(e){return Yt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=rt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");St(t,"scroll",this._onScroll,this),this._containerId=l(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&_e,ht(e,"leaflet-container"+(we?" leaflet-touch":"")+(Le?" leaflet-retina":"")+(ee?" leaflet-oldie":"")+(ce?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=at(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new k(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ht(e.markerPane,"leaflet-zoom-hide"),ht(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){vt(this._mapPane,new k(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,!1)._move(e,t)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){vt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={};var t=e?Nt:St;t((this._targets[l(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),_e&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,o=!1;a;){if((n=this._targets[l(a)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(r&&!Wt(a,e))break;if(i.push(n),r)break}if(a===this._container)break;a=a.parentNode}return i.length||o||r||!Wt(a,e)||(i=[this]),i},_handleDOMEvent:function(e){if(this._loaded&&!Vt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||xt(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if("click"===e.type){var i=u({},e);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!e._stopped&&(n=(n||[]).concat(this._findEventTargets(e,t))).length){var r=n[0];"contextmenu"===t&&r.listens(t,!0)&&Rt(e);var a={originalEvent:e};if("keypress"!==e.type){var o=r.getLatLng&&(!r._radius||r._radius<=10);a.containerPoint=o?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=o?r.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var s=0;s<n.length;s++)if(n[s].fire(t,a,!0),a.originalEvent._stopped||!1===n[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Mt(this._mapPane)||new k(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return z([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),a=new O(i.subtract(r),i.add(r)),o=this._getBoundsOffset(a,n,t);return o.round().equals([0,0])?e:this.unproject(i.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new O(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=z(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),a=i.max.subtract(e.max);return new k(this._rebound(r.x,-a.x),this._rebound(r.y,-a.y))},_rebound:function(e,t){return 0<e+t?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=_e?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=tt,n=this._proxy.style[t];yt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();yt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&0<=e.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(E(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,ht(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),E(function(){this._moveEnd(!0)},this))}});var Xt=S.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return ht(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this},remove:function(){return this._map&&(st(this._container),this.onRemove&&this.onRemove(this._map),this._map=null),this},_refocusOnMap:function(e){this._map&&e&&0<e.screenX&&0<e.screenY&&this._map.getContainer().focus()}}),Jt=function(e){return new Xt(e)};Zt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var i=this._controlCorners={},r="leaflet-",a=this._controlContainer=ot("div",r+"control-container",this._container);function e(e,t){var n=r+e+" "+r+t;i[e+t]=ot("div",n,a)}e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)st(this._controlCorners[e]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kt=Xt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),(this._map=e).on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Xt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(l(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ht(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(ht(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):pt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ot("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),zt(t),Ot(t);var i=this._form=ot("form",e+"-list");n&&(this._map.on("click",this.collapse,this),ie||St(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=ot("a",e+"-toggle",t);r.href="#",r.title="Layers",we?(St(r,"click",Pt),St(r,"click",this.expand,this)):St(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ot("div",e+"-base",i),this._separator=ot("div",e+"-separator",i),this._overlaysList=ot("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&l(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(m(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ut(this._baseLayersList),ut(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&1<r,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(l(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(t),t.layerId=l(e.layer),St(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(t),a.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var a=n.length-1;0<=a;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])&&this._map.removeLayer(r[a]);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])||this._map.addLayer(i[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;0<=r;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),$t=Xt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ot("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var a=ot("a",n,i);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),zt(a),St(a,"click",Pt),St(a,"click",r,this),St(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";pt(this._zoomInButton,t),pt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&ht(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&ht(this._zoomInButton,t)}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $t,this.addControl(this.zoomControl))});var en=Xt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ot("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ot("div",t,n)),e.imperial&&(this._iScale=ot("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;5280<r?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),tn=Xt.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in(e.attributionControl=this)._container=ot("div","leaflet-control-attribution"),zt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e&&(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update()),this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&(new tn).addTo(this)});Xt.Layers=Kt,Xt.Zoom=$t,Xt.Scale=en,Xt.Attribution=tn,Jt.layers=function(e,t,n){return new Kt(e,t,n)},Jt.zoom=function(e){return new $t(e)},Jt.scale=function(e){return new en(e)},Jt.attribution=function(e){return new tn(e)};var nn=S.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});nn.addTo=function(e,t){return e.addHandler(t,this),this};var rn,an={Events:C},on=we?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},un={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ln=N.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){h(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(St(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(),Nt(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!dt(this._element,"leaflet-zoom-anim")&&!(ln._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||((ln._dragging=this)._preventOutline&&xt(this._element),bt(),Xe(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e,n=Lt(this._element);this._startPoint=new k(t.clientX,t.clientY),this._parentScale=Tt(n),St(document,un[e.type],this._onMove,this),St(document,sn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&1<e.touches.length)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new k(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Rt(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Mt(this._element).subtract(n),ht(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ht(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,T(this._animRequest),this._lastEvent=e,this._animRequest=E(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),vt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un)Nt(document,un[e],this._onMove,this),Nt(document,sn[e],this._onUp,this);wt(),Je(),this._moved&&this._moving&&(T(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ln._dragging=!1}});function cn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=function(e,t){var n=e.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function e(t,n,i,r,a){var o,s,u,l=0;for(s=r+1;s<=a-1;s++)u=fn(t[s],t[r],t[a],!0),l<u&&(o=s,l=u);i<l&&(n[o]=1,e(t,n,i,r,o),e(t,n,i,o,a))}(e,i,t,0,n-1);var r,a=[];for(r=0;r<n;r++)i[r]&&a.push(e[r]);return a}(e=function(e,t){for(var n=[e[0]],i=1,r=0,a=e.length;i<a;i++)o=e[i],s=e[r],void 0,u=s.x-o.x,l=s.y-o.y,t<u*u+l*l&&(n.push(e[i]),r=i);var o,s,u,l;r<a-1&&n.push(e[a-1]);return n}(e,n),n)}function dn(e,t,n){return Math.sqrt(fn(e,t,n,!0))}function hn(e,t,n,i,r){var a,o,s,u=i?rn:mn(e,n),l=mn(t,n);for(rn=l;;){if(!(u|l))return[e,t];if(u&l)return!1;s=mn(o=pn(e,t,a=u||l,n,r),n),a===u?(e=o,u=s):(t=o,l=s)}}function pn(e,t,n,i,r){var a,o,s=t.x-e.x,u=t.y-e.y,l=i.min,c=i.max;return 8&n?(a=e.x+s*(c.y-e.y)/u,o=c.y):4&n?(a=e.x+s*(l.y-e.y)/u,o=l.y):2&n?(a=c.x,o=e.y+u*(c.x-e.x)/s):1&n&&(a=l.x,o=e.y+u*(l.x-e.x)/s),new k(a,o,r)}function mn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function fn(e,t,n,i){var r,a=t.x,o=t.y,s=n.x-a,u=n.y-o,l=s*s+u*u;return 0<l&&(1<(r=((e.x-a)*s+(e.y-o)*u)/l)?(a=n.x,o=n.y):0<r&&(a+=s*r,o+=u*r)),s=e.x-a,u=e.y-o,i?s*s+u*u:new k(a,o)}function gn(e){return!_(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function _n(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(e)}var yn=(Object.freeze||Object)({simplify:cn,pointToSegmentDistance:dn,closestPointOnSegment:function(e,t,n){return fn(e,t,n)},clipSegment:hn,_getEdgeIntersection:pn,_getBitCode:mn,_sqClosestPointOnSegment:fn,isFlat:gn,_flat:_n});function vn(e,t,n){var i,r,a,o,s,u,l,c,d,h=[1,4,2,8];for(r=0,l=e.length;r<l;r++)e[r]._code=mn(e[r],t);for(o=0;o<4;o++){for(c=h[o],i=[],r=0,a=(l=e.length)-1;r<l;a=r++)s=e[r],u=e[a],s._code&c?u._code&c||((d=pn(u,s,c,t,n))._code=mn(d,t),i.push(d)):(u._code&c&&((d=pn(u,s,c,t,n))._code=mn(d,t),i.push(d)),i.push(s));e=i}return e}var Mn,An=(Object.freeze||Object)({clipPolygon:vn}),bn={project:function(e){return new k(e.lng,e.lat)},unproject:function(e){return new Y(e.y,e.x)},bounds:new O([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new O([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,a=Math.sqrt(1-r*r),o=a*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-o)/(1+o),a/2);return i=-n*Math.log(Math.max(s,1e-10)),new k(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,a=Math.sqrt(1-r*r),o=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(o),u=0,l=.1;u<15&&1e-7<Math.abs(l);u++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=l=Math.PI/2-2*Math.atan(o*t)-s;return new Y(s*n,e.x*n/i)}},xn=(Object.freeze||Object)({LonLat:bn,Mercator:wn,SphericalMercator:G}),En=u({},F,{code:"EPSG:3395",projection:wn,transformation:(Mn=.5/(Math.PI*wn.R),W(Mn,.5,-Mn,.5))}),Ln=u({},F,{code:"EPSG:4326",projection:bn,transformation:W(1/180,1,-1/180,.5)}),Tn=u({},H,{projection:bn,transformation:W(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});H.Earth=F,H.EPSG3395=En,H.EPSG3857=q,H.EPSG900913=Z,H.EPSG4326=Ln,H.Simple=Tn;var Dn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[l(e)]=this},removeInteractiveTarget:function(e){return delete this._map._targets[l(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=l(e);return this._layers[t]||((this._layers[t]=e)._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=l(e);return this._layers[t]&&(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null),this},hasLayer:function(e){return!!e&&l(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?_(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[l(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=l(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=Dn.extend({initialize:function(e,t){var n,i;if(h(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return l(e)}}),Cn=Sn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Sn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Sn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new R;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Nn=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var r=j(i),a=j("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Le&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var kn=Nn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return kn.imagePath||(kn.imagePath=this._detectIconPath()),(this.options.imagePath||kn.imagePath)+Nn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=ot("div","leaflet-default-icon-path",document.body),t=at(e,"background-image")||at(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),In=nn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ln(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ht(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,a=Mt(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),u=z(o.min._subtract(s).add(r),o.max._subtract(s).subtract(r));if(!u.contains(a)){var l=j((Math.max(u.max.x,a.x)-u.max.x)/(o.max.x-u.max.x)-(Math.min(u.min.x,a.x)-u.min.x)/(o.min.x-u.min.x),(Math.max(u.max.y,a.y)-u.max.y)/(o.max.y-u.max.y)-(Math.min(u.min.y,a.y)-u.min.y)/(o.min.y-u.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),vt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=E(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=Mt(t._icon),r=t._map.layerPointToLatLng(i);n&&vt(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),jn=Dn.extend({options:{icon:new kn,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){h(this,t),this._latlng=B(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),ht(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=e.icon.createShadow(this._shadow),a=!1;r!==this._shadow&&(this._removeShadow(),a=!0),r&&(ht(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&a&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(e){vt(this._icon,e),this._shadow&&vt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(ht(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),In)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new In(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;gt(this._icon,e),this._shadow&&gt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var On=Dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),zn=On.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=B(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=B(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return On.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new O(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Rn=zn.extend({initialize:function(e,t,n){if("number"==typeof t&&(t=u({},n,{radius:t})),h(this,t),this._latlng=B(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:On.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===F.distance){var r=Math.PI/180,a=this._mRadius/F.R/r,o=n.project([t+a,e]),s=n.project([t-a,e]),u=o.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(a*r)-Math.sin(t*r)*Math.sin(l*r))/(Math.cos(t*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=a/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,e-c]).x,this._radiusY=u.y-o.y}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});var Pn=On.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,a=fn,o=0,s=this._parts.length;o<s;o++)for(var u=this._parts[o],l=1,c=u.length;l<c;l++){var d=a(e,t=u[l-1],n=u[l],!0);d<i&&(i=d,r=a(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,a,o,s=this._rings[0],u=s.length;if(!u)return null;for(t=e=0;e<u-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(i=e=0;e<u-1;e++)if(r=s[e],a=s[e+1],t<(i+=n=r.distanceTo(a)))return o=(i-t)/n,this._map.layerPointToLatLng([a.x-o*(a.x-r.x),a.y-o*(a.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=B(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new R,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=gn(e),i=0,r=e.length;i<r;i++)n?(t[i]=B(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new k(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(n),e.max._add(n),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var i,r,a=e[0]instanceof Y,o=e.length;if(a){for(r=[],i=0;i<o;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<o;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,a,o,s,u=this._parts;for(i=t=0,r=this._rings.length;t<r;t++)for(n=0,a=(s=this._rings[t]).length;n<a-1;n++)(o=hn(s[n],s[n+1],e,n,!0))&&(u[i]=u[i]||[],u[i].push(o[0]),o[1]===s[n+1]&&n!==a-2||(u[i].push(o[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=cn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,a,o,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(i=0,r=(o=(s=this._parts[n]).length)-1;i<o;r=i++)if((t||0!==i)&&dn(e,s[r],s[i])<=u)return!0;return!1}});Pn._flat=_n;var Yn=Pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,a,o,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(a=o=s=0,e=0,t=c-1;e<c;t=e++)n=l[e],i=l[t],r=n.y*i.x-i.y*n.x,o+=(n.x+i.x)*r,s+=(n.y+i.y)*r,a+=3*r;return u=0===a?l[0]:[o/a,s/a],this._map.layerPointToLatLng(u)},_convertLatLngs:function(e){var t=Pn.prototype._convertLatLngs.call(this,e),n=t.length;return 2<=n&&t[0]instanceof Y&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Pn.prototype._setLatLngs.call(this,e),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new k(t,t);if(e=new O(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,a=this._rings.length;r<a;r++)(i=vn(this._rings[r],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,a,o,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,s=this._parts.length;r<s;r++)for(a=0,o=(u=(t=this._parts[r]).length)-1;a<u;o=a++)n=t[a],i=t[o],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||Pn.prototype._containsPoint.call(this,e,!0)}});var Bn=Cn.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=_(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=Un(e,a);return o?(o.feature=Qn(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return e.options=u({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}});function Un(e,t){var n,i,r,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,u=[],l=t&&t.pointToLayer,c=t&&t.coordsToLatLng||Hn;if(!s&&!o)return null;switch(o.type){case"Point":return n=c(s),l?l(e,n):new jn(n);case"MultiPoint":for(r=0,a=s.length;r<a;r++)n=c(s[r]),u.push(l?l(e,n):new jn(n));return new Cn(u);case"LineString":case"MultiLineString":return i=Fn(s,"LineString"===o.type?0:1,c),new Pn(i,t);case"Polygon":case"MultiPolygon":return i=Fn(s,"Polygon"===o.type?1:2,c),new Yn(i,t);case"GeometryCollection":for(r=0,a=o.geometries.length;r<a;r++){var d=Un({geometry:o.geometries[r],type:"Feature",properties:e.properties},t);d&&u.push(d)}return new Cn(u);default:throw new Error("Invalid GeoJSON object.")}}function Hn(e){return new Y(e[1],e[0],e[2])}function Fn(e,t,n){for(var i,r=[],a=0,o=e.length;a<o;a++)i=t?Fn(e[a],t-1,n):(n||Hn)(e[a]),r.push(i);return r}function Gn(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[o(e.lng,t),o(e.lat,t),o(e.alt,t)]:[o(e.lng,t),o(e.lat,t)]}function Vn(e,t,n,i){for(var r=[],a=0,o=e.length;a<o;a++)r.push(t?Vn(e[a],t-1,n,i):Gn(e[a],i));return!t&&n&&r.push(r[0]),r}function Wn(e,t){return e.feature?u({},e.feature,{geometry:t}):Qn(t)}function Qn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var qn={toGeoJSON:function(e){return Wn(this,{type:"Point",coordinates:Gn(this.getLatLng(),e)})}};function Zn(e,t){return new Bn(e,t)}jn.include(qn),Rn.include(qn),zn.include(qn),Pn.include({toGeoJSON:function(e){var t=!gn(this._latlngs);return Wn(this,{type:(t?"Multi":"")+"LineString",coordinates:Vn(this._latlngs,t?1:0,!1,e)})}}),Yn.include({toGeoJSON:function(e){var t=!gn(this._latlngs),n=t&&!gn(this._latlngs[0]),i=Vn(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),Wn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Sn.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(e){n.push(e.toGeoJSON(t).geometry.coordinates)}),Wn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(i){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(i);var r="GeometryCollection"===e,a=[];return this.eachLayer(function(e){if(e.toGeoJSON){var t=e.toGeoJSON(i);if(r)a.push(t.geometry);else{var n=Qn(t);"FeatureCollection"===n.type?a.push.apply(a,n.features):a.push(n)}}}),r?Wn(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});var Xn=Zn,Jn=Dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=P(t),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ht(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&lt(this._image),this},bringToBack:function(){return this._map&&ct(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=P(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ot("img");ht(t,"leaflet-image-layer"),this._zoomAnimated&&ht(t,"leaflet-zoom-animated"),this.options.className&&ht(t,this.options.className),t.onselectstart=s,t.onmousemove=s,t.onload=m(this.fire,this,"load"),t.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;yt(this._image,n,t)},_reset:function(){var e=this._image,t=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();vt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Kn=Jn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ot("video");if(ht(t,"leaflet-image-layer"),this._zoomAnimated&&ht(t,"leaflet-zoom-animated"),t.onselectstart=s,t.onmousemove=s,t.onloadeddata=m(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=0<n.length?i:[t.src]}else{_(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var o=ot("source");o.src=this._url[a],t.appendChild(o)}}}});var $n=Dn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){h(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&gt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(m(st,void 0,this._container),200)):st(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=B(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&lt(this._container),this},bringToBack:function(){return this._map&&ct(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=j(this.options.offset),n=this._getAnchor();this._zoomAnimated?vt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),ei=$n.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){$n.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof On||this._source.on("preclick",jt))},onRemove:function(e){$n.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof On||this._source.off("preclick",jt))},getEvents:function(){var e=$n.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=ot("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ot("div",e+"-content-wrapper",t);if(this._contentNode=ot("div",e+"-content",n),zt(n),Ot(this._contentNode),St(n,"contextmenu",jt),this._tipContainer=ot("div",e+"-tip-container",t),this._tip=ot("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ot("a",e+"-close-button",t);i.href="#close",i.innerHTML="&#215;",St(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,a="leaflet-popup-scrolled";r&&r<i?(t.height=r+"px",ht(e,a)):pt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();vt(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(at(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,r=new k(this._containerLeft,-n-this._containerBottom);r._add(Mt(this._container));var a=e.layerPointToContainerPoint(r),o=j(this.options.autoPanPadding),s=j(this.options.autoPanPaddingTopLeft||o),u=j(this.options.autoPanPaddingBottomRight||o),l=e.getSize(),c=0,d=0;a.x+i+u.x>l.x&&(c=a.x+i-l.x+u.x),a.x-c-s.x<0&&(c=a.x-s.x),a.y+n+u.y>l.y&&(d=a.y+n-l.y+u.y),a.y-d-s.y<0&&(d=a.y-s.y),(c||d)&&e.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(e){this._close(),Pt(e)},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(e,t,n){return e instanceof ei||(e=new ei(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),Dn.include({bindPopup:function(e,t){return e instanceof ei?(h(e,t),(this._popup=e)._source=this):(this._popup&&!t||(this._popup=new ei(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof Dn||(t=e,e=this),e instanceof Cn)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(Pt(e),t instanceof On?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var ti=$n.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){$n.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){$n.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=$n.prototype.getEvents.call(this);return we&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,i=t.latLngToContainerPoint(t.getCenter()),r=t.layerPointToContainerPoint(e),a=this.options.direction,o=n.offsetWidth,s=n.offsetHeight,u=j(this.options.offset),l=this._getAnchor();"top"===a?e=e.add(j(-o/2+u.x,-s+u.y+l.y,!0)):"bottom"===a?e=e.subtract(j(o/2-u.x,-u.y,!0)):"center"===a?e=e.subtract(j(o/2+u.x,s/2-l.y+u.y,!0)):"right"===a||"auto"===a&&r.x<i.x?(a="right",e=e.add(j(u.x+l.x,l.y-s/2+u.y,!0))):(a="left",e=e.subtract(j(o+l.x-u.x,s/2-l.y-u.y,!0))),pt(n,"leaflet-tooltip-right"),pt(n,"leaflet-tooltip-left"),pt(n,"leaflet-tooltip-top"),pt(n,"leaflet-tooltip-bottom"),ht(n,"leaflet-tooltip-"+a),vt(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&gt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Zt.include({openTooltip:function(e,t,n){return e instanceof ti||(e=new ti(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),Dn.include({bindTooltip:function(e,t){return e instanceof ti?(h(e,t),(this._tooltip=e)._source=this):(this._tooltip&&!t||(this._tooltip=new ti(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),we&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof Dn||(t=e,e=this),e instanceof Cn)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(ht(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(pt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ni=Nn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=j(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Nn.Default=kn;var ii=Dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ye,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),st(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof k?e:new k(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,a=n.length;r<a;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ee){gt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var a=Math.min(1,(e-r.loaded)/200);gt(r.el,a),a<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(T(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(st(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)st(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new k(+r,+a);s.z=+o;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i<o&&this._retainParent(r,a,o,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var a=2*t;a<2*t+2;a++){var o=new k(r,a);o.z=n+1;var s=this._tileCoordsToKey(o),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,a,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var a=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!a||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();_e?yt(e.el,r,i):vt(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*i);return new O(r.subtract(a),r.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),a=r.getCenter(),o=[],s=this.options.keepBuffer,u=new O(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new k(c.x,c.y))||(this._tiles[l].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(e,n);else{for(var d=r.min.y;d<=r.max.y;d++)for(var h=r.min.x;h<=r.max.x;h++){var p=new k(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:o.push(p)}}if(o.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(h=0;h<o.length;h++)this._addTile(o[h],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return P(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n);return[t.unproject(i,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new R(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new k(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(oe||t.el.setAttribute("src",v),st(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ht(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=s,e.onmousemove=s,ee&&this.options.opacity<1&&gt(e,this.options.opacity),ie&&!re&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),r=this.createTile(this._wrapCoords(e),m(this._tileReady,this,e));this._initTile(r),this.createTile.length<2&&E(m(this._tileReady,this,e,null,r)),vt(r,n),this._tiles[i]={el:r,coords:e,current:!0},t.appendChild(r),this.fire("tileloadstart",{tile:r,coords:e})},_tileReady:function(e,t,n){if(this._map&&n.getAttribute("src")!==v){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(gt(n.el,0),T(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(ht(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ee||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new k(this._wrapX?r(e.x,this._wrapX):e.x,this._wrapY?r(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new O(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var ri=ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&Le&&0<t.maxZoom&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ie||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return St(n,"load",m(this._tileOnLoad,this,t,n)),St(n,"error",m(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Le?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return g(this._url,u(t,this.options))},_tileOnLoad:function(e,t){ee?setTimeout(m(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=s,t.onerror=s,t.complete||(t.src=v,st(t),delete this._tiles[e]))}});function ai(e,t){return new ri(e,t)}var oi=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=u({},this.defaultWmsParams);for(var i in t)i in this.options||(n[i]=t[i]);var r=(t=h(this,t)).detectRetina&&Le?2:1,a=this.getTileSize();n.width=a.x*r,n.height=a.y*r,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[t]=this._crs.code,ri.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=z(n.project(t[0]),n.project(t[1])),r=i.min,a=i.max,o=(1.3<=this._wmsVersion&&this._crs===Ln?[r.y,r.x,a.y,a.x]:[r.x,r.y,a.x,a.y]).join(","),s=ri.prototype.getTileUrl.call(this,e);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return u(this.wmsParams,e),t||this.redraw(),this}});ri.WMS=oi,ai.wms=function(e,t){return new oi(e,t)};var si=Dn.extend({options:{padding:.1,tolerance:0},initialize:function(e){h(this,e),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ht(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=Mt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,t),o=this._map.project(e,t).subtract(a),s=r.multiplyBy(-n).add(i).add(r).subtract(o);_e?yt(this._container,s,n):vt(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new O(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ui=si.extend({getEvents:function(){var e=si.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");St(e,"mousemove",i(this._onMouseMove,32,this),this),St(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,st(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},si.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=Le?2:1;vt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Le&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e);var t=(this._layers[l(e)]=e)._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete this._drawnLayers[e._leaflet_id],delete e._order,delete this._layers[l(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n=e.options.dashArray.split(","),i=[];for(t=0;t<n.length;t++)i.push(Number(n[t]));e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,a,o=e._parts,s=o.length,u=this._ctx;if(s){for(this._drawnLayers[e._leaflet_id]=e,u.beginPath(),n=0;n<s;n++){for(i=0,r=o[n].length;i<r;i++)a=o[n][i],u[i?"lineTo":"moveTo"](a.x,a.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;this._drawnLayers[e._leaflet_id]=e,1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&!this._map._draggableMoved(t)&&(n=t);n&&(Gt(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(pt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(ht(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order,n=t.next,i=t.prev;n&&((n.prev=i)?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,(this._drawLast.next=t).next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,n=t.next,i=t.prev;i&&((i.next=n)?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}});function li(e){return Te?new ui(e):null}var ci=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),di={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(si.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=ci("shape");ht(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=ci("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[l(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;st(t),e.removeInteractiveTarget(t),delete this._layers[l(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=ci("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=_(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=ci("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){lt(e._container)},_bringToBack:function(e){ct(e._container)}},hi=Se?ci:X,pi=si.extend({getEvents:function(){var e=si.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=hi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){si.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),vt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=hi("path");e.options.className&&ht(t,e.options.className),e.options.interactive&&ht(t,"leaflet-interactive"),this._updateStyle(e),this._layers[l(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){st(e._path),e.removeInteractiveTarget(e._path),delete this._layers[l(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,J(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){lt(e._path)},_bringToBack:function(e){ct(e._path)}});function mi(e){return De||Se?new pi(e):null}Se&&pi.include(di),Zt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&li(e)||mi(e)}});var fi=Yn.extend({initialize:function(e,t){Yn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=P(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});pi.create=hi,pi.pointsToPath=J,Bn.geometryToLayer=Un,Bn.coordsToLatLng=Hn,Bn.coordsToLatLngs=Fn,Bn.latLngToCoords=Gn,Bn.latLngsToCoords=Vn,Bn.getFeature=Wn,Bn.asFeature=Qn,Zt.mergeOptions({boxZoom:!0});var gi=nn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Xe(),bt(),this._startPoint=this._map.mouseEventToContainerPoint(e),St(document,{contextmenu:Pt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),ht(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new O(this._point,this._startPoint),n=t.getSize();vt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(st(this._box),pt(this._container,"leaflet-crosshair")),Je(),wt(),Nt(document,{contextmenu:Pt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var t=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Zt.addInitHook("addHandler","boxZoom",gi),Zt.mergeOptions({doubleClickZoom:!0});var _i=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});Zt.addInitHook("addHandler","doubleClickZoom",_i),Zt.mergeOptions({dragging:!0,inertia:!re,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yi=nn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ln(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ht(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=P(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;1<this._positions.length&&50<e-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,a=(i+t+n)%e-t-n,o=Math.abs(r+n)<Math.abs(a+n)?r:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=r.multiplyBy(o/a),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),d=l/(n.inertiaDeceleration*o),h=c.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),E(function(){t.panBy(h,{duration:d,easeLinearity:o,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});Zt.addInitHook("addHandler","dragging",yi),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vi=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),St(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=j(t).multiplyBy(3)),i.panBy(t),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Pt(e)}}});Zt.addInitHook("addHandler","keyboard",vi),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mi=nn.extend({addHooks:function(){St(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Ut(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),i),Pt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,a=n?Math.ceil(r/n)*n:r,o=e._limitZoom(t+(0<this._delta?a:-a))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});Zt.addInitHook("addHandler","scrollWheelZoom",Mi),Zt.mergeOptions({tap:!0,tapTolerance:15});var Ai=nn.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(Rt(e),this._fireClick=!0,1<e.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new k(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ht(n,"leaflet-active"),this._holdTimeout=setTimeout(m(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),St(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Nt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&pt(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new k(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});we&&!be&&Zt.addInitHook("addHandler","tap",Ai),Zt.mergeOptions({touchZoom:we&&!re,bounceAtZoomLimits:!0});var bi=nn.extend({addHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend",this._onTouchEnd,this),Rt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(r,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&r<1||this._zoom>t.getMaxZoom()&&1<r)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var o=m(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=E(o,this,!0),Rt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Nt(document,"touchmove",this._onTouchMove),Nt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Zt.addInitHook("addHandler","touchZoom",bi),Zt.BoxZoom=gi,Zt.DoubleClickZoom=_i,Zt.Drag=yi,Zt.Keyboard=vi,Zt.ScrollWheelZoom=Mi,Zt.Tap=Ai,Zt.TouchZoom=bi,Object.freeze=t,e.version="1.3.3",e.Control=Xt,e.control=Jt,e.Browser=Ne,e.Evented=N,e.Mixin=an,e.Util=D,e.Class=S,e.Handler=nn,e.extend=u,e.bind=m,e.stamp=l,e.setOptions=h,e.DomEvent=Qt,e.DomUtil=Dt,e.PosAnimation=qt,e.Draggable=ln,e.LineUtil=yn,e.PolyUtil=An,e.Point=k,e.point=j,e.Bounds=O,e.bounds=z,e.Transformation=V,e.transformation=W,e.Projection=xn,e.LatLng=Y,e.latLng=B,e.LatLngBounds=R,e.latLngBounds=P,e.CRS=H,e.GeoJSON=Bn,e.geoJSON=Zn,e.geoJson=Xn,e.Layer=Dn,e.LayerGroup=Sn,e.layerGroup=function(e,t){return new Sn(e,t)},e.FeatureGroup=Cn,e.featureGroup=function(e){return new Cn(e)},e.ImageOverlay=Jn,e.imageOverlay=function(e,t,n){return new Jn(e,t,n)},e.VideoOverlay=Kn,e.videoOverlay=function(e,t,n){return new Kn(e,t,n)},e.DivOverlay=$n,e.Popup=ei,e.popup=function(e,t){return new ei(e,t)},e.Tooltip=ti,e.tooltip=function(e,t){return new ti(e,t)},e.Icon=Nn,e.icon=function(e){return new Nn(e)},e.DivIcon=ni,e.divIcon=function(e){return new ni(e)},e.Marker=jn,e.marker=function(e,t){return new jn(e,t)},e.TileLayer=ri,e.tileLayer=ai,e.GridLayer=ii,e.gridLayer=function(e){return new ii(e)},e.SVG=pi,e.svg=mi,e.Renderer=si,e.Canvas=ui,e.canvas=li,e.Path=On,e.CircleMarker=zn,e.circleMarker=function(e,t){return new zn(e,t)},e.Circle=Rn,e.circle=function(e,t,n){return new Rn(e,t,n)},e.Polyline=Pn,e.polyline=function(e,t){return new Pn(e,t)},e.Polygon=Yn,e.polygon=function(e,t){return new Yn(e,t)},e.Rectangle=fi,e.rectangle=function(e,t){return new fi(e,t)},e.Map=Zt,e.map=function(e,t){return new Zt(e,t)};var wi=window.L;e.noConflict=function(){return window.L=wi,this},window.L=e}),function(e,t){"function"==typeof define&&define.amd?define(["leaflet"],t):"object"==typeof modules&&module.exports?module.exports=t(require("leaflet")):t(L)}(0,function(d){"use strict";return d.TileLayer.Provider=d.TileLayer.extend({initialize:function(e,t){var n=d.TileLayer.Provider.providers,i=e.split("."),r=i[0],a=i[1];if(!n[r])throw"No such provider ("+r+")";var o={url:n[r].url,options:n[r].options};if(a&&"variants"in n[r]){if(!(a in n[r].variants))throw"No such variant of "+r+" ("+a+")";var s,u=n[r].variants[a];s="string"==typeof u?{variant:u}:u.options,o={url:u.url||o.url,options:d.Util.extend({},o.options,s)}}var l=function(e){return-1===e.indexOf("{attribution.")?e:e.replace(/\{attribution.(\w*)\}/,function(e,t){return l(n[t].options.attribution)})};o.options.attribution=l(o.options.attribution);var c=d.Util.extend({},o.options,t);d.TileLayer.prototype.initialize.call(this,o.url,c)}}),d.TileLayer.Provider.providers={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18}},DE:{url:"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},CH:{url:"https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",options:{maxZoom:18,bounds:[[45,5],[48,11]]}},France:{url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}},BZH:{url:"https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://www.openstreetmap.bzh/" target="_blank">Breton OpenStreetMap Team</a>',bounds:[[46.2,-5.5],[50,.7]]}}}},OpenInfraMap:{url:"https://tiles-{s}.openinframap.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,attribution:'{attribution.OpenStreetMap}, <a href="http://www.openinframap.org/about.html">About OpenInfraMap</a>'},variants:{Power:"power",Telecom:"telecoms",Petroleum:"petroleum",Water:"water"}},OpenSeaMap:{url:"https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle",apikey:"<insert your api key here>",maxZoom:22},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport"}},TransportDark:{options:{variant:"transport-dark"}},SpinalMap:{options:{variant:"spinal-map"}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer"}},OpenMapSurfer:{url:"https://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{maxZoom:20,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},MapBox:{url:"https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}{r}.png?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",id:"streets",accessToken:"<insert your access token here>"}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TopOSMRelief:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"<insert your api key here>",opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.cit.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"1234",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd",maxZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels",Voyager:"rastertiles/voyager",VoyagerNoLabels:"rastertiles/voyager_nolabels",VoyagerOnlyLabels:"rastertiles/voyager_only_labels",VoyagerLabelsUnder:"rastertiles/voyager_labels_under"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:{options:{maxZoom:20,variant:"geolandbasemap"}},grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{maxZoom:20,variant:"bmaporthofoto30cm",format:"jpeg"}}}},nlmaps:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png",options:{minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],attribution:'Kaartgegevens &copy; <a href="kadaster.nl">Kadaster</a>'},variants:{standaard:"brtachtergrondkaart",pastel:"brtachtergrondkaartpastel",grijs:"brtachtergrondkaartgrijs",luchtfoto:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/1.0.0/2016_ortho25/EPSG:3857/{z}/{x}/{y}.png"}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:"0123"}},JusticeMap:{url:"http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png",options:{attribution:'<a href="http://www.justicemap.org/terms.php">Justice Map</a>',size:"county",bounds:[[14,-180],[72,-56]]},variants:{income:"income",americanIndian:"indian",asian:"asian",black:"black",hispanic:"hispanic",multi:"multi",nonWhite:"nonwhite",white:"white",plurality:"plural"}},Wikimedia:{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png",options:{attribution:'<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>',minZoom:1,maxZoom:19}},GeoportailFrance:{url:"https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}",options:{attribution:'<a target="_blank" href="https://www.geoportail.gouv.fr/">Geoportail France</a>',bounds:[[-75,-180],[81,180]],minZoom:2,maxZoom:18,apikey:"choisirgeoportail",format:"image/jpeg",style:"normal",variant:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD"},variants:{parcels:{options:{variant:"CADASTRALPARCELS.PARCELS",maxZoom:20,style:"bdparcellaire",format:"image/png"}},ignMaps:"GEOGRAPHICALGRIDSYSTEMS.MAPS",maps:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD",orthos:{options:{maxZoom:19,variant:"ORTHOIMAGERY.ORTHOPHOTOS"}}}}},d.tileLayer.provider=function(e,t){return new d.TileLayer.Provider(e,t)},d}),function(x,E,Q){"use strict";var a,t,o,s,l,q={};function u(e,t,n){var i,r=e.runtimeStyle&&e.runtimeStyle[t],a=e.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(i=a.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":n||0,n=a.pixelLeft+"px",a.left=i,r&&(e.runtimeStyle.left=r)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function c(e){return parseInt(e,10)}function d(e,t,n,i,r,a){var o,s,u,l,c=q.Util.getCSS(t,e,r);if(1===c.length&&(l=c[0],(c=[])[0]=l,c[1]=l),-1!==c[0].toString().indexOf("%"))u=parseFloat(c[0])/100,s=n.width*u,"backgroundSize"!==e&&(s-=(a||i).width*u);else if("backgroundSize"===e)if("auto"===c[0])s=i.width;else if(/contain|cover/.test(c[0])){var d=q.Util.resizeBounds(i.width,i.height,n.width,n.height,c[0]);s=d.width,o=d.height}else s=parseInt(c[0],10);else s=parseInt(c[0],10);return"auto"===c[1]?o=s/i.width*i.height:-1!==c[1].toString().indexOf("%")?(u=parseFloat(c[1])/100,o=n.height*u,"backgroundSize"!==e&&(o-=(a||i).height*u)):o=parseInt(c[1],10),[s,o]}q.Util={},q.Util.log=function(e){q.logging&&x.console&&x.console.log&&x.console.log(e)},q.Util.trimText=(t=String.prototype.trim,function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}),q.Util.asFloat=function(e){return parseFloat(e)},o=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,s=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,q.Util.parseTextShadows=function(e){if(!e||"none"===e)return[];for(var t=e.match(o),n=[],i=0;t&&i<t.length;i++){var r=t[i].match(s);n.push({color:r[0],offsetX:r[1]?r[1].replace("px",""):0,offsetY:r[2]?r[2].replace("px",""):0,blur:r[3]?r[3].replace("px",""):0})}return n},q.Util.parseBackgroundImage=function(e){var t,n,i,r,a,o,s,u,l=[],c=0,d=0,h=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&u.push(n),"-"===t.substr(0,1)&&0<(r=t.indexOf("-",1)+1)&&(i=t.substr(0,r),t=t.substr(r)),l.push({prefix:i,method:t.toLowerCase(),value:a,args:u})),u=[],t=i=n=a=""};h();for(var p=0,m=e.length;p<m;p++)if(o=e[p],!(0===c&&-1<" \r\n\t".indexOf(o))){switch(o){case'"':s?s===o&&(s=null):s=o;break;case"(":if(s)break;if(0===c){c=1,a+=o;continue}d++;break;case")":if(s)break;if(1===c){if(0===d){c=0,a+=o,h();continue}d--}break;case",":if(s)break;if(0===c){h();continue}if(1===c&&0===d&&!t.match(/^url$/i)){u.push(n),n="",a+=o;continue}}a+=o,0===c?t+=o:n+=o}return h(),l},q.Util.Bounds=function(e){var t,n={};return e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n.top=t.top,n.bottom=t.bottom||t.top+t.height,n.left=t.left,n.width=e.offsetWidth,n.height=e.offsetHeight),n},q.Util.OffsetBounds=function(e){var t=e.offsetParent?q.Util.OffsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},q.Util.getCSS=function(e,t,n){void 0!==e&&(a=E.defaultView.getComputedStyle(e,null));var i=a[t];if(/^background(Size|Position)$/.test(t))return function(e,t,n,i){if(e=(e=(e||"").split(","))[i||0]||e[0]||"auto",e=q.Util.trimText(e).split(" "),"backgroundSize"!==n||e[0]&&!e[0].match(/cover|contain|auto/)){if(e[0]=-1===e[0].indexOf("%")?u(t,n+"X",e[0]):e[0],e[1]===Q){if("backgroundSize"===n)return e[1]="auto",e;e[1]=e[0]}e[1]=-1===e[1].indexOf("%")?u(t,n+"Y",e[1]):e[1]}return e}(i,e,t,n);if(/border(Top|Bottom)(Left|Right)Radius/.test(t)){var r=i.split(" ");return r.length<=1&&(r[1]=r[0]),r.map(c)}return i},q.Util.resizeBounds=function(e,t,n,i,r){var a,o,s=e/t;return r&&"auto"!==r?n/i<s^"contain"===r?a=(o=i)*s:o=(a=n)/s:(a=n,o=i),{width:a,height:o}},q.Util.BackgroundPosition=function(e,t,n,i,r){var a=d("backgroundPosition",e,t,n,i,r);return{left:a[0],top:a[1]}},q.Util.BackgroundSize=function(e,t,n,i){var r=d("backgroundSize",e,t,n,i);return{width:r[0],height:r[1]}},q.Util.Extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},q.Util.Children=function(e){var t,n,i;try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:(n=e.childNodes,i=[],null!==n&&function(e,t){var n=e.length,i=0;if("number"==typeof t.length)for(var r=t.length;i<r;i++)e[n++]=t[i];else for(;t[i]!==Q;)e[n++]=t[i++];e.length=n}(i,n),i)}catch(e){q.Util.log("html2canvas.Util.Children failed with exception: "+e.message),t=[]}return t},q.Util.isTransparent=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},q.Util.Font=(l={},function(e,t,n){if(l[e+"-"+t]!==Q)return l[e+"-"+t];var i,r,a=n.createElement("div"),o=n.createElement("img"),s=n.createElement("span"),u="Hidden Text";return a.style.visibility="hidden",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin=0,a.style.padding=0,n.body.appendChild(a),o.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",o.width=1,o.height=1,o.style.margin=0,o.style.padding=0,o.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin=0,s.style.padding=0,s.appendChild(n.createTextNode(u)),a.appendChild(s),a.appendChild(o),i=o.offsetTop-s.offsetTop+1,a.removeChild(s),a.appendChild(n.createTextNode(u)),a.style.lineHeight="normal",o.style.verticalAlign="super",r={baseline:i,lineWidth:1,middle:o.offsetTop-a.offsetTop+1},l[e+"-"+t]=r,n.body.removeChild(a),r}),function(){var n=q.Util,e={};q.Generate=e;var f=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];function c(e){return function(t){try{e.addColorStop(t.stop,t.color)}catch(e){n.log(["failed to add color stop: ",e,"; tried to add: ",t])}}}e.parseGradient=function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,m=f.length;for(i=0;i<m&&!(r=e.match(f[i]));i+=1);if(r)switch(r[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},o=r[2].match(/\w+/g))for(s=o.length,i=0;i<s;i+=1)switch(o[i]){case"top":n.y0=0,n.y1=t.height;break;case"right":n.x0=t.width,n.x1=0;break;case"bottom":n.y0=t.height,n.y1=0;break;case"left":n.x0=0,n.x1=t.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=t.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=t.height/2),o=r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(s=o.length,u=1/Math.max(s-1,1),i=0;i<s;i+=1)(l=o[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(a=parseFloat(l[2]),"%"===l[3]?a/=100:a/=t.width):a=i*u,n.colorStops.push({color:l[1],stop:a});break;case"-webkit-gradient":if(n={type:"radial"===r[2]?"circle":r[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},(o=r[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=o[1]*t.width/100,n.y0=o[2]*t.height/100,n.x1=o[3]*t.width/100,n.y1=o[4]*t.height/100),o=r[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(s=o.length,i=0;i<s;i+=1)l=o[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),a=parseFloat(l[2]),"from"===l[1]&&(a=0),"to"===l[1]&&(a=1),n.colorStops.push({color:l[3],stop:a});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},(o=r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.x0=o[1]*t.width/100,n.y0=o[2]*t.height/100,n.x1=t.width-n.x0,n.y1=t.height-n.y0),o=r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(s=o.length,u=1/Math.max(s-1,1),i=0;i<s;i+=1)(l=o[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/))[2]?(a=parseFloat(l[2]),l[3]&&(a/=100)):a=i*u,n.colorStops.push({color:l[1],stop:a});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:t.width,y1:t.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},(o=r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))&&(n.cx=o[1]*t.width/100,n.cy=o[2]*t.height/100),o=r[3].match(/\w+/),l=r[4].match(/[a-z\-]*/),o&&l)switch(l[0]){case"farthest-corner":case"cover":case"":c=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(c,d,h,p);break;case"closest-corner":c=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),d=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(c,d,h,p);break;case"farthest-side":"circle"===o[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=o[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===o[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=o[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(o=r[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(s=o.length,u=1/Math.max(s-1,1),i=0;i<s;i+=1)(l=o[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/))[2]?(a=parseFloat(l[2]),"%"===l[3]?a/=100:a/=t.width):a=i*u,n.colorStops.push({color:l[1],stop:a})}return n},e.Gradient=function(e,t){if(0!==t.width&&0!==t.height){var n,i,r=E.createElement("canvas"),a=r.getContext("2d");if(r.width=t.width,r.height=t.height,n=q.Generate.parseGradient(e,t))switch(n.type){case"linear":i=a.createLinearGradient(n.x0,n.y0,n.x1,n.y1),n.colorStops.forEach(c(i)),a.fillStyle=i,a.fillRect(0,0,t.width,t.height);break;case"circle":i=a.createRadialGradient(n.cx,n.cy,0,n.cx,n.cy,n.rx),n.colorStops.forEach(c(i)),a.fillStyle=i,a.fillRect(0,0,t.width,t.height);break;case"ellipse":var o=E.createElement("canvas"),s=o.getContext("2d"),u=Math.max(n.rx,n.ry),l=2*u;o.width=o.height=l,i=s.createRadialGradient(n.rx,n.ry,0,n.rx,n.ry,u),n.colorStops.forEach(c(i)),s.fillStyle=i,s.fillRect(0,0,l,l),a.fillStyle=n.colorStops[n.colorStops.length-1].color,a.fillRect(0,0,r.width,r.height),a.drawImage(o,n.cx-n.rx,n.cy-n.ry,2*n.rx,2*n.ry)}return r}},e.ListAlpha=function(e){for(var t,n="";t=e%26,n=String.fromCharCode(t+64)+n,26<26*(e/=26););return n},e.ListRoman=function(e){var t,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],r="",a=n.length;if(e<=0||4e3<=e)return e;for(t=0;t<a;t+=1)for(;i[t]<=e;)e-=i[t],r+=n[t];return r}}(),q.Parse=function(n,A){x.scroll(0,0);var e=A.elements===Q?E.body:A.elements[0],b=e.ownerDocument,L=q.Util,d=L.Support(A,b),T=new RegExp("("+A.ignoreElements+")"),o=b.body,z=L.getCSS,D="___html2canvas___pseudoelement",t=b.createElement("style");function w(e,t){var n=parseInt(z(e,t),10);return isNaN(n)?0:n}function S(e,t,n,i,r,a){"transparent"!==a&&(e.setVariable("fillStyle",a),e.fillRect(t,n,i,r),1)}function h(e,t,n){if(0<e.length)return t+n.toUpperCase()}function p(e,t,n,i){null!==e&&0<L.trimText(e).length&&(i.fillText(e,t,n),1)}function m(e,t,n,i){var r=z(t,"fontWeight"),a=z(t,"fontFamily"),o=z(t,"fontSize"),s=L.parseTextShadows(z(t,"textShadow"));switch(parseInt(r,10)){case 401:r="bold";break;case 400:r="normal"}if(e.setVariable("fillStyle",i),e.setVariable("font",[z(t,"fontStyle"),z(t,"fontVariant"),r,o,a].join(" ")),e.setVariable("textAlign","left"),s.length&&(e.setVariable("shadowColor",s[0].color),e.setVariable("shadowOffsetX",s[0].offsetX),e.setVariable("shadowOffsetY",s[0].offsetY),e.setVariable("shadowBlur",s[0].blur)),"none"!==n)return L.Font(a,o,b)}function f(e,t,n,i,r){var a,o,s,u,l;if(d.rangeBounds&&!r)"none"===n&&0===L.trimText(t).length||(o=t,s=e.node,u=e.textOffset,(l=b.createRange()).setStart(s,u),l.setEnd(s,u+o.length),a=l.getBoundingClientRect()),e.textOffset+=t.length;else if(e.node&&"string"==typeof e.node.nodeValue){var c=i?e.node.splitText(t.length):null;a=function(e,t){var n=e.parentNode,i=b.createElement("wrapper"),r=e.cloneNode(!0);i.appendChild(e.cloneNode(!0)),n.replaceChild(i,e);var a=t?L.OffsetBounds(i):L.Bounds(i);return n.replaceChild(r,i),a}(e.node,r),e.node=c}return a}function s(e,t,i){var r,a,n,o=i.ctx,s=z(e,"color"),u=z(e,"textDecoration"),l=z(e,"textAlign"),c={node:t,textOffset:0};0<L.trimText(t.nodeValue).length&&(t.nodeValue=function(e,t){switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,h);case"uppercase":return e.toUpperCase();default:return e}}(t.nodeValue,z(e,"textTransform")),l=l.replace(["-webkit-auto"],["auto"]),a=!A.letterRendering&&/^(left|right|justify|auto)$/.test(l)&&(n=z(e,"letterSpacing"),/^(normal|none|0px)$/.test(n))?t.nodeValue.split(/(\b| )/):t.nodeValue.split(""),r=m(o,e,u,s),A.chinese&&a.forEach(function(e,t){/.*[\u4E00-\u9FA5].*$/.test(e)&&((e=e.split("")).unshift(t,1),a.splice.apply(a,e))}),a.forEach(function(e,t){var n=f(c,e,u,t<a.length-1,i.transform.matrix);n&&(p(e,n.left,n.bottom,o),function(e,t,n,i,r){switch(t){case"underline":S(e,n.left,Math.round(n.top+i.baseline+i.lineWidth),n.width,1,r);break;case"overline":S(e,n.left,Math.round(n.top),n.width,1,r);break;case"line-through":S(e,n.left,Math.ceil(n.top+i.middle+i.lineWidth),n.width,1,r)}}(o,u,n,r,s))}))}function C(e,t,n){var i,r,a,o,s,u,l,c=t.ctx,d=z(e,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(d)){if(i=function(e,t){var n,i=function(e){var t=-1,n=1,i=e.parentNode.childNodes;if(e.parentNode){for(;i[++t]!==e;)1===i[t].nodeType&&n++;return n}return-1}(e);switch(t){case"decimal":n=i;break;case"decimal-leading-zero":n=1===i.toString().length?i="0"+i.toString():i.toString();break;case"upper-roman":n=q.Generate.ListRoman(i);break;case"lower-roman":n=q.Generate.ListRoman(i).toLowerCase();break;case"lower-alpha":n=q.Generate.ListAlpha(i).toLowerCase();break;case"upper-alpha":n=q.Generate.ListAlpha(i)}return n+". "}(e,d),a=e,o=i,(l=b.createElement("boundelement")).style.display="inline",s=a.style.listStyleType,a.style.listStyleType="none",l.appendChild(b.createTextNode(o)),a.insertBefore(l,a.firstChild),u=L.Bounds(l),a.removeChild(l),a.style.listStyleType=s,r=u,m(c,e,"none",z(e,"color")),"inside"!==z(e,"listStylePosition"))return;c.setVariable("textAlign","left"),p(i,n.left,r.bottom,c)}}function N(e){var t=n[e];return!(!t||!0!==t.succeeded)&&t.img}function k(e,t){var n=Math.max(e.left,t.left),i=Math.max(e.top,t.top);return{left:n,top:i,width:Math.min(e.left+e.width,t.left+t.width)-n,height:Math.min(e.top+e.height,t.top+t.height)-i}}function I(e,t,n,i,r){var a=w(t,"paddingLeft"),o=w(t,"paddingTop"),s=w(t,"paddingRight"),u=w(t,"paddingBottom");l(e,n,0,0,n.width,n.height,i.left+a+r[3].width,i.top+o+r[0].width,i.width-(r[1].width+r[3].width+a+s),i.height-(r[0].width+r[2].width+o+u))}t.innerHTML="."+D+'-before:before { content: "" !important; display: none !important; }.'+D+'-after:after { content: "" !important; display: none !important; }',o.appendChild(t),n=n||{};var u,R=(u=(Math.sqrt(2)-1)/3*4,function(e,t,n,i){var r=n*u,a=i*u,o=e+n,s=t+i;return{topLeft:g({x:e,y:s},{x:e,y:s-a},{x:o-r,y:t},{x:o,y:t}),topRight:g({x:e,y:t},{x:e+r,y:t},{x:o,y:s-a},{x:o,y:s}),bottomRight:g({x:o,y:t},{x:o,y:t+a},{x:e+r,y:s},{x:e,y:s}),bottomLeft:g({x:o,y:s},{x:o-r,y:s},{x:e,y:t+a},{x:e,y:t})}});function g(s,u,l,c){var d=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:s,startControl:u,endControl:l,end:c,subdivide:function(e){var t=d(s,u,e),n=d(u,l,e),i=d(l,c,e),r=d(t,n,e),a=d(n,i,e),o=d(r,a,e);return[g(s,t,r,o),g(o,a,i,c)]},curveTo:function(e){e.push(["bezierCurve",u.x,u.y,l.x,l.y,c.x,c.y])},curveToReversed:function(e){e.push(["bezierCurve",l.x,l.y,u.x,u.y,s.x,s.y])}}}function P(e,t,n,i,r,a,o){0<t[0]||0<t[1]?(e.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(e),i[1].curveTo(e)):e.push(["line",a,o]),(0<n[0]||0<n[1])&&e.push(["line",r[0].start.x,r[0].start.y])}function Y(e,t,n,i,r,a,o){var s=[];return 0<t[0]||0<t[1]?(s.push(["line",i[1].start.x,i[1].start.y]),i[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),0<n[0]||0<n[1]?(s.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(s),s.push(["line",o[0].end.x,o[0].end.y]),o[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),0<t[0]||0<t[1]?(s.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function j(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,m,f,g,_,y,v,M,A,b,w,x,E,L,T,D,S=t.left,C=t.top,N=t.width,k=t.height,I=(D=e,["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return z(D,"border"+e+"Radius")})),j=(c=I,d=n,h=(l=t).left,p=l.top,m=l.width,f=l.height,g=c[0][0],_=c[0][1],y=c[1][0],v=c[1][1],M=c[2][0],A=c[2][1],b=c[3][0],w=c[3][1],x=m-y,E=f-A,L=m-M,T=f-w,{topLeftOuter:R(h,p,g,_).topLeft.subdivide(.5),topLeftInner:R(h+d[3].width,p+d[0].width,Math.max(0,g-d[3].width),Math.max(0,_-d[0].width)).topLeft.subdivide(.5),topRightOuter:R(h+x,p,y,v).topRight.subdivide(.5),topRightInner:R(h+Math.min(x,m+d[3].width),p+d[0].width,x>m+d[3].width?0:y-d[3].width,v-d[0].width).topRight.subdivide(.5),bottomRightOuter:R(h+L,p+E,M,A).bottomRight.subdivide(.5),bottomRightInner:R(h+Math.min(L,m+d[3].width),p+Math.min(E,f+d[0].width),Math.max(0,M-d[1].width),Math.max(0,A-d[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:R(h,p+T,b,w).bottomLeft.subdivide(.5),bottomLeftInner:R(h+d[3].width,p+T,Math.max(0,b-d[3].width),Math.max(0,w-d[2].width)).bottomLeft.subdivide(.5)}),O={clip:function(e,t,n,i,r){var a=[];switch(z(e,"backgroundClip")){case"content-box":case"padding-box":P(a,i[0],i[1],t.topLeftInner,t.topRightInner,r.left+n[3].width,r.top+n[0].width),P(a,i[1],i[2],t.topRightInner,t.bottomRightInner,r.left+r.width-n[1].width,r.top+n[0].width),P(a,i[2],i[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-n[1].width,r.top+r.height-n[2].width),P(a,i[3],i[0],t.bottomLeftInner,t.topLeftInner,r.left+n[3].width,r.top+r.height-n[2].width);break;default:P(a,i[0],i[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),P(a,i[1],i[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),P(a,i[2],i[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),P(a,i[3],i[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return a}(e,j,n,I,t),borders:[]};for(i=0;i<4;i++)if(0<n[i].width){switch(r=S,a=C,o=N,s=k-n[2].width,i){case 0:s=n[0].width,u=Y({c1:[r,a],c2:[r+o,a],c3:[r+o-n[1].width,a+s],c4:[r+n[3].width,a+s]},I[0],I[1],j.topLeftOuter,j.topLeftInner,j.topRightOuter,j.topRightInner);break;case 1:u=Y({c1:[(r=S+N-n[1].width)+(o=n[1].width),a],c2:[r+o,a+s+n[2].width],c3:[r,a+s],c4:[r,a+n[0].width]},I[1],I[2],j.topRightOuter,j.topRightInner,j.bottomRightOuter,j.bottomRightInner);break;case 2:u=Y({c1:[r+o,(a=a+k-n[2].width)+(s=n[2].width)],c2:[r,a+s],c3:[r+n[3].width,a],c4:[r+o-n[3].width,a]},I[2],I[3],j.bottomRightOuter,j.bottomRightInner,j.bottomLeftOuter,j.bottomLeftInner);break;case 3:o=n[3].width,u=Y({c1:[r,a+s+n[2].width],c2:[r,a],c3:[r+o,a+n[0].width],c4:[r+o,a+s]},I[3],I[0],j.bottomLeftOuter,j.bottomLeftInner,j.topLeftOuter,j.topLeftInner)}O.borders.push({args:u,color:n[i].color})}return O}function O(e,t){var n=e.drawShape();return t.forEach(function(e,t){n[0===t?"moveTo":e[0]+"To"].apply(null,e.slice(1))}),n}function B(t,e,n){var i,r,a=b.createElement("valuewrap");["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"].forEach(function(e){try{a.style[e]=z(t,e)}catch(e){L.log("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}}),a.style.borderColor="black",a.style.borderStyle="solid",a.style.display="block",a.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(t.type)||"SELECT"===t.nodeName)&&(a.style.lineHeight=z(t,"height")),a.style.top=e.top+"px",a.style.left=e.left+"px",(i="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value)||(i=t.placeholder),r=b.createTextNode(i),a.appendChild(r),o.appendChild(a),s(t,r,n),o.removeChild(a)}function l(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1)),1}function U(e,t){var n=x.getComputedStyle(e,t);if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var i=n.content+"",r=i.substr(0,1);r===i.substr(i.length-1)&&r.match(/'|"/)&&(i=i.substr(1,i.length-2));var a="url"===i.substr(0,3),o=E.createElement(a?"img":"span");return o.className=D+"-before "+D+"-after",Object.keys(n).filter(c).forEach(function(t){try{o.style[t]=n[t]}catch(e){L.log(["Tried to assign readonly property ",t,"Error:",e])}}),a?o.src=L.parseBackgroundImage(i)[0].args[0]:o.innerHTML=i,o}}function c(e){return isNaN(x.parseInt(e,10))}function _(e,t,n,i){var r=Math.round(i.left+n.left),a=Math.round(i.top+n.top);e.createPattern(t),e.translate(r,a),e.fill(),e.translate(-r,-a)}function y(e,t,n,i,r,a,o,s){var u=[];u.push(["line",Math.round(r),Math.round(a)]),u.push(["line",Math.round(r+o),Math.round(a)]),u.push(["line",Math.round(r+o),Math.round(s+a)]),u.push(["line",Math.round(r),Math.round(s+a)]),O(e,u),e.save(),e.clip(),_(e,t,n,i),e.restore()}function H(e,t,n,i,r){var a=L.BackgroundSize(e,t,i,r),o=L.BackgroundPosition(e,t,i,r,a),s=z(e,"backgroundRepeat").split(",").map(L.trimText);switch(i=function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=b.createElement("canvas");return n.width=t.width,n.height=t.height,l(n.getContext("2d"),e,0,0,e.width,e.height,0,0,t.width,t.height),n}(i,a),s=s[r]||s[0]){case"repeat-x":y(n,i,o,t,t.left,t.top+o.top,99999,i.height);break;case"repeat-y":y(n,i,o,t,t.left+o.left,t.top,i.width,99999);break;case"no-repeat":y(n,i,o,t,t.left+o.left,t.top+o.top,i.width,i.height);break;default:_(n,i,o,{top:t.top,left:t.left,width:i.width,height:i.height})}}function F(e){return e.replace("px","")}var i,r,a,G=/(matrix)\((.+)\)/;function V(e,t,n,i){var r,a,o,s,u,l,c,d,h,p,m,f,g,_,y,v=(u=t?n.width:Math.max(Math.max(b.body.scrollWidth,b.documentElement.scrollWidth),Math.max(b.body.offsetWidth,b.documentElement.offsetWidth),Math.max(b.body.clientWidth,b.documentElement.clientWidth)),l=t?n.height:Math.max(Math.max(b.body.scrollHeight,b.documentElement.scrollHeight),Math.max(b.body.offsetHeight,b.documentElement.offsetHeight),Math.max(b.body.clientHeight,b.documentElement.clientHeight)),{storage:c=[],width:u,height:l,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[];return c.push({type:"function",name:"drawShape",arguments:e}),{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){return c.push({type:"variable",name:e,arguments:t}),t}}),M={ctx:v,opacity:(a=v,o=e,s=t,a.setVariable("globalAlpha",z(o,"opacity")*(s?s.opacity:1))),cssPosition:z(e,"position"),borders:(r=e,["Top","Right","Bottom","Left"].map(function(e){return{width:w(r,"border"+e+"Width"),color:z(r,"border"+e+"Color")}})),transform:i,clip:t&&t.clip?L.Extend({},t.clip):null};return d=e,p=t,f="static"!==(h=M).cssPosition,g=f?z(d,"zIndex"):"auto",_=z(d,"opacity"),y="none"!==z(d,"cssFloat"),h.zIndex=m={zindex:g,children:[]},m.isPositioned=f,m.isFloated=y,m.opacity=_,m.ownStacking="auto"!==g||_<1,p&&p.zIndex.children.push(h),!0===A.useOverflow&&!0===/(hidden|scroll|auto)/.test(z(e,"overflow"))&&!1===/(BODY)/i.test(e.nodeName)&&(M.clip=M.clip?k(M.clip,n):n),M}function v(e,t,n,i){var r,a,o,s,u,l,c,d,h,p,m,f,g,_,y=function(e,t){var n,i=z(e,"transform")||z(e,"-webkit-transform")||z(e,"-moz-transform")||z(e,"-ms-transform")||z(e,"-o-transform"),r=z(e,"transform-origin")||z(e,"-webkit-transform-origin")||z(e,"-moz-transform-origin")||z(e,"-ms-transform-origin")||z(e,"-o-transform-origin")||"0px 0px";if(r=r.split(" ").map(F).map(L.asFloat),i&&"none"!==i){var a=i.match(G);if(a)switch(a[1]){case"matrix":n=a[2].split(",").map(L.trimText).map(L.asFloat)}}return{origin:r,matrix:n}}(e),v=(l=e,d=(c=y).matrix?L.OffsetBounds(l):L.Bounds(l),c.origin[0]+=d.left,c.origin[1]+=d.top,d),M=V(e,t,v,y),A=M.borders,b=M.ctx,w=(a=A,o=v,s=M.clip,u={left:o.left+a[3].width,top:o.top+a[0].width,width:o.width-(a[1].width+a[3].width),height:o.height-(a[0].width+a[2].width)},s&&(u=k(u,s)),u),x=j(e,v,A),E=T.test(e.nodeName)?"#efefef":z(e,"backgroundColor");switch(O(b,x.clip),b.save(),b.clip(),0<w.height&&0<w.width&&!i?(p=E,S(b,(h=v).left,h.top,h.width,h.height,p),function(e,t,n){for(var i,r=z(e,"backgroundImage"),a=L.parseBackgroundImage(r),o=a.length;o--;)(r=a[o]).args&&0!==r.args.length&&((i=N("url"===r.method?r.args[0]:r.value))?H(e,t,n,i,o):L.log("html2canvas: Error loading background:",r))}(e,w,b)):i&&(M.backgroundColor=E),b.restore(),x.borders.forEach(function(e){var t,n,i;t=b,n=e.args,"transparent"!==(i=e.color)&&(t.setVariable("fillStyle",i),O(t,n),t.fill(),1)}),n||(f=M,g=U(m=e,":before"),_=U(m,":after"),(g||_)&&(g&&(m.className+=" "+D+"-before",m.parentNode.insertBefore(g,m),W(g,f,!0),m.parentNode.removeChild(g),m.className=m.className.replace(D+"-before","").trim()),_&&(m.className+=" "+D+"-after",m.appendChild(_),W(_,f,!0),m.removeChild(_),m.className=m.className.replace(D+"-after","").trim()))),e.nodeName){case"IMG":(r=N(e.getAttribute("src")))?I(b,e,r,v,A):L.log("html2canvas: Error loading <img>:"+e.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&0<(e.value||e.placeholder||"").length&&B(e,v,M);break;case"TEXTAREA":0<(e.value||e.placeholder||"").length&&B(e,v,M);break;case"SELECT":0<(e.options||e.placeholder||"").length&&B(e,v,M);break;case"LI":C(e,M,w);break;case"CANVAS":I(b,e,e,v,A)}return M}function W(e,t,n){var i;"none"===z(i=e,"display")||"hidden"===z(i,"visibility")||i.hasAttribute("data-html2canvas-ignore")||(t=v(e,t,n,!1)||t,T.test(e.nodeName)||M(e,t,n))}function M(t,n,i){L.Children(t).forEach(function(e){e.nodeType===e.ELEMENT_NODE?W(e,n,i):e.nodeType===e.TEXT_NODE&&s(t,e,n)})}return i=z(E.documentElement,"backgroundColor"),r=L.isTransparent(i)&&e===E.body,a=v(e,null,!1,r),M(e,a),r&&(i=a.backgroundColor),o.removeChild(t),{backgroundColor:i,stack:a}},q.Preload=function(o){var r,s,e,t,u={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},a=q.Util,l=0,n=o.elements[0]||E.body,c=n.ownerDocument,i=n.getElementsByTagName("img"),d=i.length,h=c.createElement("a"),p=(new Image).crossOrigin!==Q;function m(){a.log("html2canvas: start: images: "+u.numLoaded+" / "+u.numTotal+" (failed: "+u.numFailed+")"),!u.firstRun&&u.numLoaded>=u.numTotal&&(a.log("Finished loading images: # "+u.numTotal+" (failed: "+u.numFailed+")"),"function"==typeof o.complete&&o.complete(u))}function f(e,t,n){var i,r,a=o.proxy;h.href=e,e=h.href,i="html2canvas_"+l++,n.callbackname=i,-1<a.indexOf("?")?a+="&":a+="?",a+="url="+encodeURIComponent(e)+"&callback="+i,r=c.createElement("script"),x[i]=function(e){"error:"===e.substring(0,6)?(n.succeeded=!1,u.numLoaded++,u.numFailed++,m()):(v(t,n),t.src=e),x[i]=Q;try{delete x[i]}catch(e){}r.parentNode.removeChild(r),r=null,delete n.script,delete n.callbackname},r.setAttribute("type","text/javascript"),r.setAttribute("src",a),n.script=r,x.document.body.appendChild(r)}function g(e,t){var n=x.getComputedStyle(e,t),i=n.content;"url"===i.substr(0,3)&&s.loadImage(q.Util.parseBackgroundImage(i)[0].args[0]),y(n.backgroundImage,e)}function _(e){return e&&e.method&&e.args&&0<e.args.length}function y(e,r){var a;q.Util.parseBackgroundImage(e).filter(_).forEach(function(e){var t,n,i;"url"===e.method?s.loadImage(e.args[0]):e.method.match(/\-?gradient$/)&&(a===Q&&(a=q.Util.Bounds(r)),t=e.value,n=a,(i=q.Generate.Gradient(t,n))!==Q&&(u[t]={img:i,succeeded:!0},u.numTotal++,u.numLoaded++,m()))})}function v(t,n){t.onload=function(){n.timer!==Q&&x.clearTimeout(n.timer),u.numLoaded++,n.succeeded=!0,t.onerror=t.onload=null,m()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(x.clearTimeout(n.timer),o.proxy)){var e=t.src;return t=new Image,(n.img=t).src=e,void f(t.src,t,n)}u.numLoaded++,u.numFailed++,n.succeeded=!1,t.onerror=t.onload=null,m()}}for(h.href=x.location.href,r=h.protocol+h.host,s={loadImage:function(e){var t,n,i;e&&u[e]===Q&&(t=new Image,e.match(/data:image\/.*;base64,/i)?(t.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),n=u[e]={img:t},u.numTotal++,v(t,n)):(i=e,h.href=i,h.href=h.href,h.protocol+h.host===r||!0===o.allowTaint?(n=u[e]={img:t},u.numTotal++,v(t,n),t.src=e):p&&!o.allowTaint&&o.useCORS?(t.crossOrigin="anonymous",n=u[e]={img:t},u.numTotal++,v(t,n),t.src=e):o.proxy&&(n=u[e]={img:t},u.numTotal++,f(e,t,n))))},cleanupDOM:function(e){var t,n;if(!u.cleanupDone){for(n in e&&"string"==typeof e?a.log("html2canvas: Cleanup because: "+e):a.log("html2canvas: Cleanup after timeout: "+o.timeout+" ms."),u)if(u.hasOwnProperty(n)&&"object"==typeof(t=u[n])&&t.callbackname&&t.succeeded===Q){x[t.callbackname]=Q;try{delete x[t.callbackname]}catch(e){}t.script&&t.script.parentNode&&(t.script.setAttribute("src","about:blank"),t.script.parentNode.removeChild(t.script)),u.numLoaded++,u.numFailed++,a.log("html2canvas: Cleaned up failed img: '"+n+"' Steps: "+u.numLoaded+" / "+u.numTotal)}x.stop!==Q?x.stop():E.execCommand!==Q&&E.execCommand("Stop",!1),E.close!==Q&&E.close(),u.cleanupDone=!0,e&&"string"==typeof e||m()}},renderingDone:function(){t&&x.clearTimeout(t)}},0<o.timeout&&(t=x.setTimeout(s.cleanupDOM,o.timeout)),a.log("html2canvas: Preload starts: finding background-images"),u.firstRun=!0,function e(t){var n,i=!1;try{a.Children(t).forEach(e)}catch(e){}try{i=t.nodeType}catch(e){i=!1,a.log("html2canvas: failed to access some element's nodeType - Exception: "+e.message)}if(1===i||i===Q){g(n=t,":before"),g(n,":after");try{y(a.getCSS(t,"backgroundImage"),t)}catch(e){a.log("html2canvas: failed to get background-image - Exception: "+e.message)}y(t)}}(n),a.log("html2canvas: Preload: Finding images"),e=0;e<d;e+=1)s.loadImage(i[e].getAttribute("src"));return u.firstRun=!1,a.log("html2canvas: Preload: Done."),u.numTotal===u.numLoaded&&m(),s},q.Renderer=function(e,n){return function(e){var t;if("string"==typeof n.renderer&&q.Renderer[e]!==Q)t=q.Renderer[e](n);else{if("function"!=typeof e)throw new Error("Unknown renderer");t=e(n)}if("function"!=typeof t)throw new Error("Invalid renderer defined");return t}(n.renderer)(e,n,E,(t=e.stack,s=[],function t(e,n,i){var r="auto"===n.zIndex.zindex?0:Number(n.zIndex.zindex),a=e,o=n.zIndex.isPositioned,s=n.zIndex.isFloated,u={node:n},l=i;n.zIndex.ownStacking?(a=u.context={"!":[{node:n,children:[]}]},l=Q):(o||s)&&(l=u.children=[]),0===r&&i?i.push(u):(e[r]||(e[r]=[]),e[r].push(u)),n.zIndex.children.forEach(function(e){t(a,e,l)})}(i={},t),function a(o){Object.keys(o).sort().forEach(function(e){var t=[],n=[],i=[],r=[];o[e].forEach(function(e){e.node.zIndex.isPositioned||e.node.zIndex.opacity<1?i.push(e):e.node.zIndex.isFloated?n.push(e):t.push(e)}),function t(e){e.forEach(function(e){r.push(e),e.children&&t(e.children)})}(t.concat(n,i)),r.forEach(function(e){e.context?a(e.context):s.push(e.node)})})}(i),s),q);var t,i,s},q.Util.Support=function(e,i){return{rangeBounds:(r=!1,i.createRange&&(t=i.createRange()).getBoundingClientRect&&((n=i.createElement("boundtest")).style.height="123px",n.style.display="block",i.body.appendChild(n),t.selectNode(n),123===t.getBoundingClientRect().height&&(r=!0),i.body.removeChild(n)),r),svgRendering:e.svgRendering&&function(){var e=new Image,t=i.createElement("canvas"),n=t.getContext!==Q&&t.getContext("2d");if(!1===n)return!1;t.width=t.height=10,e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{n.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return q.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}()};var t,n,r},x.html2canvas=function(e,t){var n,i,r={logging:!1,elements:e=e.length?e:[e],background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return r=q.Util.Extend(t,r),q.logging=r.logging,r.complete=function(e){"function"==typeof r.onpreloaded&&!1===r.onpreloaded(e)||(n=q.Parse(e,r),"function"==typeof r.onparsed&&!1===r.onparsed(n)||(i=q.Renderer(n,r),"function"==typeof r.onrendered&&r.onrendered(i)))},x.setTimeout(function(){q.Preload(r)},0),{render:function(e,t){return q.Renderer(e,q.Util.Extend(t,r))},parse:function(e,t){return q.Parse(e,q.Util.Extend(t,r))},preload:function(e){return q.Preload(q.Util.Extend(e,r))},log:q.Util.log}},x.html2canvas.log=q.Util.log,x.html2canvas.Renderer={Canvas:Q},q.Renderer.Canvas=function(r){r=r||{};var a=E,o=[],s=E.createElement("canvas"),u=s.getContext("2d"),c=q.Util,d=r.canvas||a.createElement("canvas");function h(e,t){switch(t.type){case"variable":e[t.name]=t.arguments;break;case"function":switch(t.name){case"createPattern":if(0<t.arguments[0].width&&0<t.arguments[0].height)try{e.fillStyle=e.createPattern(t.arguments[0],"repeat")}catch(e){c.log("html2canvas: Renderer: Error creating pattern",e.message)}break;case"drawShape":n=e,i=t.arguments,n.beginPath(),i.forEach(function(e){n[e.name].apply(n,e.arguments)}),n.closePath();break;case"drawImage":0<t.arguments[8]&&0<t.arguments[7]&&(!r.taintTest||r.taintTest&&function(e){if(-1===o.indexOf(e.arguments[0].src)){u.drawImage(e.arguments[0],0,0);try{u.getImageData(0,0,1,1)}catch(e){return s=a.createElement("canvas"),u=s.getContext("2d"),!1}o.push(e.arguments[0].src)}return!0}(t))&&e.drawImage.apply(e,t.arguments);break;default:e[t.name].apply(e,t.arguments)}}var n,i}return function(e,t,n,i,r){var a,o,s,u=d.getContext("2d"),l=e.stack;return d.width=d.style.width=t.width||l.ctx.width,d.height=d.style.height=t.height||l.ctx.height,s=u.fillStyle,u.fillStyle=c.isTransparent(l.backgroundColor)&&t.background!==Q?t.background:e.backgroundColor,u.fillRect(0,0,d.width,d.height),u.fillStyle=s,i.forEach(function(e){u.textBaseline="bottom",u.save(),e.transform.matrix&&(u.translate(e.transform.origin[0],e.transform.origin[1]),u.transform.apply(u,e.transform.matrix),u.translate(-e.transform.origin[0],-e.transform.origin[1])),e.clip&&(u.beginPath(),u.rect(e.clip.left,e.clip.top,e.clip.width,e.clip.height),u.clip()),e.ctx.storage&&e.ctx.storage.forEach(function(e){h(u,e)}),u.restore()}),c.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===t.elements.length&&"object"==typeof t.elements[0]&&"BODY"!==t.elements[0].nodeName?(o=r.Util.Bounds(t.elements[0]),(a=n.createElement("canvas")).width=Math.ceil(o.width),a.height=Math.ceil(o.height),(u=a.getContext("2d")).drawImage(d,o.left,o.top,o.width,o.height,0,0,o.width,o.height),d=null,a):d}}}(window,document),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).leafletImage=e()}}(function(){return function a(o,s,u){function l(n,e){if(!s[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};o[n][0].call(r.exports,function(e){var t=o[n][1][e];return l(t||e)},r,r.exports,a,o,s,u)}return s[n].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){var A=e("d3-queue").queue,c=+new Date;t.exports=function(g,n){var _=!!L.mapbox,y=g.getSize(),t=new A(1),i=document.createElement("canvas");i.width=y.x,i.height=y.y;var r=i.getContext("2d"),v=document.createElement("canvas");v.width=1,v.height=1;var e=v.getContext("2d");if(e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),g.eachLayer(function(e){e instanceof L.TileLayer?t.defer(o,e):e._heat&&t.defer(s,e._canvas)}),g.eachLayer(function(e){if(!L.esri)return;e instanceof L.esri.DynamicMapLayer&&t.defer(l,e)}),g._pathRoot)t.defer(s,g._pathRoot);else if(g._panes){var a=g._panes.overlayPane.getElementsByTagName("canvas").item(0);a&&t.defer(s,a)}function o(a,n){var o=L.TileLayer.Canvas&&a instanceof L.TileLayer.Canvas,i=document.createElement("canvas");i.width=y.x,i.height=y.y;var t=i.getContext("2d"),s=g.getPixelBounds(),e=g.getZoom(),u=a.options.tileSize;if(e>a.options.maxZoom||e<a.options.minZoom||_&&a instanceof L.mapbox.tileLayer&&!a.options.tiles)return n();var r,l,c=L.bounds(s.min.divideBy(u)._floor(),s.max.divideBy(u)._floor()),d=[],h=new A(1);for(r=c.min.y;r<=c.max.y;r++)for(l=c.min.x;l<=c.max.x;l++)d.push(new L.Point(l,r));function p(e,t,n,i){i(null,{img:e,pos:t,size:n})}function m(e,t,n,i){var r=new Image;r.crossOrigin="",r.onload=function(){i(null,{img:this,pos:t,size:n})},r.onerror=function(e){""!=a.options.errorTileUrl&&void 0===e.target.errorCheck?(e.target.errorCheck=!0,e.target.src=a.options.errorTileUrl):i(null,{img:v,pos:t,size:n})},r.src=e}function f(e){t.drawImage(e.img,Math.floor(e.pos.x),Math.floor(e.pos.y),e.size,e.size)}d.forEach(function(e){var t=e.clone();a._adjustTilePoint&&a._adjustTilePoint(e);var n=t.scaleBy(new L.Point(u,u)).subtract(s.min);if(0<=e.y)if(o){var i=a._tiles[e.x+":"+e.y];h.defer(p,i,n,u)}else{var r=M(a.getTileUrl(e));h.defer(m,r,n,u)}}),h.awaitAll(function(e,t){t.forEach(f),n(null,{canvas:i})})}function s(t,e){var n=g.getPixelBounds(),i=g.getPixelOrigin(),r=document.createElement("canvas");r.width=y.x,r.height=y.y;var a=r.getContext("2d"),o=L.DomUtil.getPosition(t).subtract(n.min).add(i);try{a.drawImage(t,o.x,o.y,r.width-2*o.x,r.height-2*o.y),e(null,{canvas:r})}catch(e){console.error("Element could not be drawn on canvas",t)}}function u(e,t){var n=document.createElement("canvas"),i=n.getContext("2d"),r=g.getPixelBounds(),a=new L.Point(r.min.x,r.min.y),o=g.project(e.getLatLng()),s=/^data\:/.test(e._icon.src),u=s?e._icon.src:M(e._icon.src),l=new Image,c=e.options.icon.options,d=c.iconSize,h=o.subtract(a),p=L.point(c.iconAnchor||d&&d.divideBy(2,!0));d instanceof L.Point&&(d=[d.x,d.y]);var m=Math.round(h.x-d[0]+p.x),f=Math.round(h.y-p.y);n.width=y.x,n.height=y.y,l.crossOrigin="",l.onload=function(){i.drawImage(this,m,f,d[0],d[1]),t(null,{canvas:n})},l.src=u,s&&l.onload()}function l(e,t){var n=document.createElement("canvas");n.width=y.x,n.height=y.y;var i=n.getContext("2d"),r=new Image;r.crossOrigin="",r.src=M(e._currentImage._image.src),r.onload=function(){i.drawImage(r,0,0),t(null,{canvas:n})}}function M(e){return e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)||-1!==e.indexOf("mapbox.com/styles/v1")?e:e+(e.match(/\?/)?"&":"?")+"cache="+c}g.eachLayer(function(e){e instanceof L.Marker&&e.options.icon instanceof L.Icon&&t.defer(u,e)}),t.awaitAll(function(e,t){if(e)throw e;t.forEach(function(e){e&&e.canvas&&r.drawImage(e.canvas,0,0)}),n(null,i)})}},{"d3-queue":2}],2:[function(e,t,n){var i;i=this,function(e){"use strict";var n=[].slice,a={};function t(e){if(!(1<=e))throw new Error;this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function r(t){if(!t._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],i=n.length-1,r=n[i];n[i]=o(e,t),--e._waiting,++e._active,n=r.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||a)}}(t)}catch(e){t._tasks[t._ended+t._active-1]&&s(t,e)}}function o(n,i){return function(e,t){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=e?s(n,e):(n._data[i]=t,n._waiting?r(n):u(n))))}}function s(e,t){var n,i=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;0<=--i;)if((n=e._tasks[i])&&(e._tasks[i]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,u(e)}function u(e){!e._active&&e._call&&e._call(e._error,e._data)}function i(e){return new t(arguments.length?+e:1/0)}t.prototype=i.prototype={constructor:t,defer:function(e){if("function"!=typeof e||this._call)throw new Error;if(null!=this._error)return this;var t=n.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),r(this),this},abort:function(){return null==this._error&&s(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(e,t){n.apply(null,[e].concat(t))},u(this),this},awaitAll:function(e){if("function"!=typeof e||this._call)throw new Error;return this._call=e,u(this),this}},e.version="2.0.3",e.queue=i}("object"==typeof n&&void 0!==t?n:i.d3_queue=i.d3_queue||{})},{}]},{},[1])(1)}),function(){var j={version:"3.5.17"},a=[].slice,h=function(e){return a.call(e)},v=this.document;function s(e){return e&&(e.ownerDocument||e.document||e).documentElement}function O(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(v)try{h(v.documentElement.childNodes)[0].nodeType}catch(e){h=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var t=this.Element.prototype,n=t.setAttribute,i=t.setAttributeNS,r=this.CSSStyleDeclaration.prototype,o=r.setProperty;t.setAttribute=function(e,t){n.call(this,e,t+"")},t.setAttributeNS=function(e,t,n){i.call(this,e,t,n+"")},r.setProperty=function(e,t,n){o.call(this,e,t+"",n)}}function u(e,t){return e<t?-1:t<e?1:t<=e?0:NaN}function l(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function e(a){return{left:function(e,t,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var r=n+i>>>1;a(e[r],t)<0?n=r+1:i=r}return n},right:function(e,t,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var r=n+i>>>1;0<a(e[r],t)?i=r:n=r+1}return n}}}j.ascending=u,j.descending=function(e,t){return t<e?-1:e<t?1:e<=t?0:NaN},j.min=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&i<n&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i<=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&i<n&&(n=i)}return n},j.max=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&n<i&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i<=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&n<i&&(n=i)}return n},j.extent=function(e,t){var n,i,r,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=e[a])&&i<=i){n=r=i;break}for(;++a<o;)null!=(i=e[a])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++a<o;)if(null!=(i=t.call(e,e[a],a))&&i<=i){n=r=i;break}for(;++a<o;)null!=(i=t.call(e,e[a],a))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},j.sum=function(e,t){var n,i=0,r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)c(n=+e[a])&&(i+=n);else for(;++a<r;)c(n=+t.call(e,e[a],a))&&(i+=n);return i},j.mean=function(e,t){var n,i=0,r=e.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)c(n=l(e[a]))?i+=n:--o;else for(;++a<r;)c(n=l(t.call(e,e[a],a)))?i+=n:--o;if(o)return i/o},j.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],a=n-i;return a?r+a*(e[i]-r):r},j.median=function(e,t){var n,i=[],r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)c(n=l(e[a]))&&i.push(n);else for(;++a<r;)c(n=l(t.call(e,e[a],a)))&&i.push(n);if(i.length)return j.quantile(i.sort(u),.5)},j.variance=function(e,t){var n,i,r=e.length,a=0,o=0,s=-1,u=0;if(1===arguments.length)for(;++s<r;)c(n=l(e[s]))&&(o+=(i=n-a)*(n-(a+=i/++u)));else for(;++s<r;)c(n=l(t.call(e,e[s],s)))&&(o+=(i=n-a)*(n-(a+=i/++u)));if(1<u)return o/(u-1)},j.deviation=function(){var e=j.variance.apply(this,arguments);return e?Math.sqrt(e):e};var d=e(u);function p(e){return e.length}j.bisectLeft=d.left,j.bisect=j.bisectRight=d.right,j.bisector=function(n){return e(1===n.length?function(e,t){return u(n(e),t)}:n)},j.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var i,r,a=n-t;a;)r=Math.random()*a--|0,i=e[a+t],e[a+t]=e[r+t],e[r+t]=i;return e},j.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},j.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},j.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=j.min(e,p),i=new Array(n);++t<n;)for(var r,a=-1,o=i[t]=new Array(r);++a<r;)o[a]=e[a][t];return i},j.zip=function(){return j.transpose(arguments)},j.keys=function(e){var t=[];for(var n in e)t.push(n);return t},j.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},j.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},j.merge=function(e){for(var t,n,i,r=e.length,a=-1,o=0;++a<r;)o+=e[a].length;for(n=new Array(o);0<=--r;)for(t=(i=e[r]).length;0<=--t;)n[--o]=i[t];return n};var I=Math.abs;function m(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function y(){this._=Object.create(null)}j.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],a=function(e){var t=1;for(;e*t%1;)t*=10;return t}(I(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(i=e+n*++o)>t;)r.push(i/a);else for(;(i=e+n*++o)<t;)r.push(i/a);return r},j.map=function(e,t){var n=new y;if(e instanceof y)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,a=e.length;if(1===arguments.length)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t.call(e,i=e[r],r),i)}else for(var o in e)n.set(o,e[o]);return n};var f="__proto__",g="\0";function _(e){return(e+="")===f||e[0]===g?g+e:e}function M(e){return(e+="")[0]===g?e.slice(1):e}function A(e){return _(e)in this._}function b(e){return(e=_(e))in this._&&delete this._[e]}function w(){var e=[];for(var t in this._)e.push(M(t));return e}function x(){var e=0;for(var t in this._)++e;return e}function E(){for(var e in this._)return!1;return!0}function L(){this._=Object.create(null)}function z(e){return e}function T(t,n,i){return function(){var e=i.apply(n,arguments);return e===n?t:e}}function D(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=S.length;n<i;++n){var r=S[n]+t;if(r in e)return r}}m(y,{has:A,get:function(e){return this._[_(e)]},set:function(e,t){return this._[_(e)]=t},remove:b,keys:w,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:M(t),value:this._[t]});return e},size:x,empty:E,forEach:function(e){for(var t in this._)e.call(this,M(t),this._[t])}}),j.nest=function(){var d,h,p={},m=[],t=[];function f(n,e,i){if(i>=m.length)return h?h.call(p,e):d?e.sort(d):e;for(var t,r,a,o,s=-1,u=e.length,l=m[i++],c=new y;++s<u;)(o=c.get(t=l(r=e[s])))?o.push(r):c.set(t,[r]);return n?(r=n(),a=function(e,t){r.set(e,f(n,t,i))}):(r={},a=function(e,t){r[e]=f(n,t,i)}),c.forEach(a),r}return p.map=function(e,t){return f(t,e,0)},p.entries=function(e){return function n(e,i){if(i>=m.length)return e;var r=[],a=t[i++];return e.forEach(function(e,t){r.push({key:e,values:n(t,i)})}),a?r.sort(function(e,t){return a(e.key,t.key)}):r}(f(j.map,e,0),0)},p.key=function(e){return m.push(e),p},p.sortKeys=function(e){return t[m.length-1]=e,p},p.sortValues=function(e){return d=e,p},p.rollup=function(e){return h=e,p},p},j.set=function(e){var t=new L;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},m(L,{has:A,add:function(e){return this._[_(e+="")]=!0,e},remove:b,values:w,size:x,empty:E,forEach:function(e){for(var t in this._)e.call(this,M(t))}}),j.behavior={},j.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=T(e,t,t[n]);return e};var S=["webkit","ms","moz","Moz","o","O"];function C(){}function N(){}function k(r){var a=[],o=new y;function e(){for(var e,t=a,n=-1,i=t.length;++n<i;)(e=t[n].on)&&e.apply(this,arguments);return r}return e.on=function(e,t){var n,i=o.get(e);return arguments.length<2?i&&i.on:(i&&(i.on=null,a=a.slice(0,n=a.indexOf(i)).concat(a.slice(n+1)),o.remove(e)),t&&a.push(o.set(e,{on:t})),r)},e}function R(){j.event.preventDefault()}function P(){for(var e,t=j.event;e=t.sourceEvent;)t=e;return t}function Y(r){for(var a=new N,e=0,t=arguments.length;++e<t;)a[arguments[e]]=k(a);return a.of=function(n,i){return function(e){try{var t=e.sourceEvent=j.event;e.target=r,j.event=e,a[e.type].apply(n,i)}finally{j.event=t}}},a}j.dispatch=function(){for(var e=new N,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=k(e);return e},N.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(0<=n&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},j.event=null,j.requote=function(e){return e.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function H(e){return U(e,W),e}var F=function(e,t){return t.querySelector(e)},G=function(e,t){return t.querySelectorAll(e)},V=function(e,t){var n=e.matches||e[D(e,"matchesSelector")];return(V=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(F=function(e,t){return Sizzle(e,t)[0]||null},G=Sizzle,V=Sizzle.matchesSelector),j.selection=function(){return j.select(v.documentElement)};var W=j.selection.prototype=[];function Q(e){return"function"==typeof e?e:function(){return F(e,this)}}function q(e){return"function"==typeof e?e:function(){return G(e,this)}}W.select=function(e){var t,n,i,r,a=[];e=Q(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(i=this[o]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(t.push(n=e.call(r,r.__data__,u,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return H(a)},W.selectAll=function(e){var t,n,i=[];e=q(e);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,u=o.length;++s<u;)(n=o[s])&&(i.push(t=h(e.call(n,n.__data__,s,r))),t.parentNode=n);return H(i)};var Z="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function J(t,n){return t=j.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function K(e){return e.trim().replace(/\s+/g," ")}function $(e){return new RegExp("(?:^|\\s+)"+j.requote(e)+"(?:\\s+|$)","g")}function ee(e){return(e+"").trim().split(/^|\s+/)}function te(n,i){var r=(n=ee(n).map(ne)).length;return"function"==typeof i?function(){for(var e=-1,t=i.apply(this,arguments);++e<r;)n[e](this,t)}:function(){for(var e=-1;++e<r;)n[e](this,i)}}function ne(i){var r=$(i);return function(e,t){if(n=e.classList)return t?n.add(i):n.remove(i);var n=e.getAttribute("class")||"";t?(r.lastIndex=0,r.test(n)||e.setAttribute("class",K(n+" "+i))):e.setAttribute("class",K(n.replace(r," ")))}}function ie(t,n,i){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,i)}:function(){this.style.setProperty(t,n,i)}}function re(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function ae(n){return"function"==typeof n?n:(n=j.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Z&&e.documentElement.namespaceURI===Z?e.createElement(n):e.createElementNS(t,n)}}function oe(){var e=this.parentNode;e&&e.removeChild(this)}function se(e){return{__data__:e}}function ue(e){return function(){return V(this,e)}}function le(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,a=e[n],o=0,s=a.length;o<s;o++)(r=a[o])&&t(r,o,n);return e}function ce(e){return U(e,de),e}j.ns={prefix:X,qualify:function(e){var t=e.indexOf(":"),n=e;return 0<=t&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),X.hasOwnProperty(n)?{space:X[n],local:e}:e}},W.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=j.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(J(t,e[t]));return this}return this.each(J(e,t))},W.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=ee(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!$(e[r]).test(t))return!1;return!0}for(t in e)this.each(te(t,e[t]));return this}return this.each(te(e,t))},W.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(ie(n,e[n],t));return this}if(i<2){var r=this.node();return O(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(ie(e,t,n))},W.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(re(t,e[t]));return this}return this.each(re(e,t))},W.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},W.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},W.append=function(e){return e=ae(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},W.insert=function(e,t){return e=ae(e),t=Q(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},W.remove=function(){return this.each(oe)},W.data=function(e,m){var t,n,i=-1,r=this.length;if(!arguments.length){for(e=new Array(r=(t=this[0]).length);++i<r;)(n=t[i])&&(e[i]=n.__data__);return e}function a(e,t){var n,i,r,a=e.length,o=t.length,s=Math.min(a,o),u=new Array(o),l=new Array(o),c=new Array(a);if(m){var d,h=new y,p=new Array(a);for(n=-1;++n<a;)(i=e[n])&&(h.has(d=m.call(i,i.__data__,n))?c[n]=i:h.set(d,i),p[n]=d);for(n=-1;++n<o;)(i=h.get(d=m.call(t,r=t[n],n)))?!0!==i&&((u[n]=i).__data__=r):l[n]=se(r),h.set(d,!0);for(n=-1;++n<a;)n in p&&!0!==h.get(p[n])&&(c[n]=e[n])}else{for(n=-1;++n<s;)i=e[n],r=t[n],i?(i.__data__=r,u[n]=i):l[n]=se(r);for(;n<o;++n)l[n]=se(t[n]);for(;n<a;++n)c[n]=e[n]}l.update=u,l.parentNode=u.parentNode=c.parentNode=e.parentNode,f.push(l),g.push(u),_.push(c)}var f=ce([]),g=H([]),_=H([]);if("function"==typeof e)for(;++i<r;)a(t=this[i],e.call(t,t.parentNode.__data__,i));else for(;++i<r;)a(t=this[i],e);return g.enter=function(){return f},g.exit=function(){return _},g},W.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},W.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=ue(e));for(var a=0,o=this.length;a<o;a++){r.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&e.call(i,i.__data__,s,a)&&t.push(i)}return H(r)},W.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,a=i[r];0<=--r;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},W.sort=function(e){e=function(n){arguments.length||(n=u);return function(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},W.each=function(i){return le(this,function(e,t,n){i.call(e,e.__data__,t,n)})},W.call=function(e){var t=h(arguments);return e.apply(t[0]=this,t),this},W.empty=function(){return!this.node()},W.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},W.size=function(){var e=0;return le(this,function(){++e}),e};var de=[];function he(r,t,n){var i="__on"+r,e=r.indexOf("."),a=me;0<e&&(r=r.slice(0,e));var o=pe.get(r);function s(){var e=this[i];e&&(this.removeEventListener(r,e,e.$),delete this[i])}return o&&(r=o,a=fe),e?t?function(){var e=a(t,h(arguments));s.call(this),this.addEventListener(r,this[i]=e,e.$=n),e._=t}:s:t?C:function(){var e,t=new RegExp("^__on([^.]+)"+j.requote(r)+"$");for(var n in this)if(e=n.match(t)){var i=this[n];this.removeEventListener(e[1],i,i.$),delete this[n]}}}j.selection.enter=ce,(j.selection.enter.prototype=de).append=W.append,de.empty=W.empty,de.node=W.node,de.call=W.call,de.size=W.size,de.select=function(e){for(var t,n,i,r,a,o=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,o.push(t=[]),t.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(a=r[l])?(t.push(i[l]=n=e.call(r.parentNode,a.__data__,l,s)),n.__data__=a.__data__):t.push(null)}return H(o)},de.insert=function(e,t){var o,s,u;return arguments.length<2&&(o=this,t=function(e,t,n){var i,r=o[n].update,a=r.length;for(n!=u&&(u=n,s=0),s<=t&&(s=t+1);!(i=r[s])&&++s<a;);return i}),W.insert.call(this,e,t)},j.select=function(e){var t;return"string"==typeof e?(t=[F(e,v)]).parentNode=v.documentElement:(t=[e]).parentNode=s(e),H([t])},j.selectAll=function(e){var t;return"string"==typeof e?(t=h(G(e,v))).parentNode=v.documentElement:(t=h(e)).parentNode=null,H([t])},W.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(he(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(he(e,t,n))};var pe=j.map({mouseenter:"mouseover",mouseleave:"mouseout"});function me(n,i){return function(e){var t=j.event;j.event=e,i[0]=this.__data__;try{n.apply(this,i)}finally{j.event=t}}}function fe(e,t){var n=me(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}v&&pe.forEach(function(e){"on"+e in v&&pe.remove(e)});var ge,_e=0;function ye(e){var n=".dragsuppress-"+ ++_e,i="click"+n,r=j.select(O(e)).on("touchmove"+n,R).on("dragstart"+n,R).on("selectstart"+n,R);if(null==ge&&(ge=!("onselectstart"in e)&&D(e.style,"userSelect")),ge){var a=s(e).style,o=a[ge];a[ge]="none"}return function(e){if(r.on(n,null),ge&&(a[ge]=o),e){var t=function(){r.on(i,null)};r.on(i,function(){R(),t()},!0),setTimeout(t,0)}}}j.mouse=function(e){return Me(e,P())};var ve=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Me(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(ve<0){var r=O(e);if(r.scrollX||r.scrollY){var a=(n=j.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ve=!(a.f||a.e),n.remove()}}return ve?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function Ae(){return j.event.changedTouches[0].identifier}j.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=P().changedTouches),t)for(var i,r=0,a=t.length;r<a;++r)if((i=t[r]).identifier===n)return Me(e,i)},j.behavior.drag=function(){var f=Y(n,"drag","dragstart","dragend"),g=null,e=i(C,j.mouse,O,"mousemove","mouseup"),t=i(Ae,j.touch,z,"touchmove","touchend");function n(){this.on("mousedown.drag",e).on("touchstart.drag",t)}function i(c,d,h,p,m){return function(){var i,e=j.event.target.correspondingElement||j.event.target,r=this.parentNode,a=f.of(this,arguments),o=0,s=c(),t=".drag"+(null==s?"":"-"+s),n=j.select(h(e)).on(p+t,function(){var e,t,n=d(r,s);if(!n)return;e=n[0]-l[0],t=n[1]-l[1],o|=e|t,a({type:"drag",x:(l=n)[0]+i[0],y:n[1]+i[1],dx:e,dy:t})}).on(m+t,function(){if(!d(r,s))return;n.on(p+t,null).on(m+t,null),u(o),a({type:"dragend"})}),u=ye(e),l=d(r,s);i=g?[(i=g.apply(this,arguments)).x-l[0],i.y-l[1]]:[0,0],a({type:"dragstart"})}}return n.origin=function(e){return arguments.length?(g=e,n):g},j.rebind(n,f,"on")},j.touches=function(n,e){return arguments.length<2&&(e=P().touches),e?h(e).map(function(e){var t=Me(n,e);return t.identifier=e.identifier,t}):[]};var be=1e-6,we=be*be,xe=Math.PI,Ee=2*xe,Le=Ee-be,Te=xe/2,De=xe/180,Se=180/xe;function Ce(e){return 0<e?1:e<0?-1:0}function Ne(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ke(e){return 1<e?0:e<-1?xe:Math.acos(e)}function Ie(e){return 1<e?Te:e<-1?-Te:Math.asin(e)}function je(e){return((e=Math.exp(e))+1/e)/2}function Oe(e){return(e=Math.sin(e/2))*e}var ze=Math.SQRT2;j.interpolateZoom=function(e,t){var n,o,s=e[0],u=e[1],l=e[2],i=t[0],r=t[1],a=t[2],c=i-s,d=r-u,h=c*c+d*d;if(h<we)o=Math.log(a/l)/ze,n=function(e){return[s+e*c,u+e*d,l*Math.exp(ze*e*o)]};else{var p=Math.sqrt(h),m=(a*a-l*l+4*h)/(2*l*2*p),f=(a*a-l*l-4*h)/(2*a*2*p),g=Math.log(Math.sqrt(m*m+1)-m),_=Math.log(Math.sqrt(f*f+1)-f);o=(_-g)/ze,n=function(e){var t,n,i=e*o,r=je(g),a=l/(2*p)*(r*(n=ze*i+g,((n=Math.exp(2*n))-1)/(n+1))-(t=g,((t=Math.exp(t))-1/t)/2));return[s+a*c,u+a*d,l*r/je(ze*i+g)]}}return n.duration=1e3*o,n},j.behavior.zoom=function(){var t,u,n,i,M,r,a,o,s,A={x:0,y:0,k:1},l=[960,500],c=Ye,d=250,h=0,b="mousedown.zoom",p="mousemove.zoom",m="mouseup.zoom",w="touchstart.zoom",x=Y(f,"zoomstart","zoom","zoomend");function f(e){e.on(b,k).on(Pe+".zoom",_).on("dblclick.zoom",y).on(w,I)}function E(e){return[(e[0]-A.x)/A.k,(e[1]-A.y)/A.k]}function L(e){A.k=Math.max(c[0],Math.min(c[1],e))}function T(e,t){var n;t=[(n=t)[0]*A.k+A.x,n[1]*A.k+A.y],A.x+=e[0]-t[0],A.y+=e[1]-t[1]}function D(e,t,n,i){e.__chart__={x:A.x,y:A.y,k:A.k},L(Math.pow(2,i)),T(u=t,n),e=j.select(e),0<d&&(e=e.transition().duration(d)),e.call(f.event)}function g(){a&&a.domain(r.range().map(function(e){return(e-A.x)/A.k}).map(r.invert)),s&&s.domain(o.range().map(function(e){return(e-A.y)/A.k}).map(o.invert))}function S(e){h++||e({type:"zoomstart"})}function C(e){g(),e({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function N(e){--h||(e({type:"zoomend"}),u=null)}function k(){var e=this,t=x.of(e,arguments),n=0,i=j.select(O(e)).on(p,function(){n=1,T(j.mouse(e),r),C(t)}).on(m,function(){i.on(p,null).on(m,null),a(n),N(t)}),r=E(j.mouse(e)),a=ye(e);ls.call(e),S(t)}function I(){var l,c=this,d=x.of(c,arguments),h={},p=0,r=".zoom-"+j.event.changedTouches[0].identifier,m="touchmove"+r,f="touchend"+r,g=[],a=j.select(c),o=ye(c);function _(){var e=j.touches(c);return l=A.k,e.forEach(function(e){e.identifier in h&&(h[e.identifier]=E(e))}),e}function e(){var e=j.event.target;j.select(e).on(m,y).on(f,v),g.push(e);for(var t=j.event.changedTouches,n=0,i=t.length;n<i;++n)h[t[n].identifier]=null;var r=_(),a=Date.now();if(1===r.length){if(a-M<500){var o=r[0];D(c,o,h[o.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),R()}M=a}else if(1<r.length){o=r[0];var s=r[1],u=o[0]-s[0],l=o[1]-s[1];p=u*u+l*l}}function y(){var e,t,n,i,r=j.touches(c);ls.call(c);for(var a=0,o=r.length;a<o;++a,i=null)if(n=r[a],i=h[n.identifier]){if(t)break;e=n,t=i}if(i){var s=(s=n[0]-e[0])*s+(s=n[1]-e[1])*s,u=p&&Math.sqrt(s/p);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],L(u*l)}M=null,T(e,t),C(d)}function v(){if(j.event.touches.length){for(var e=j.event.changedTouches,t=0,n=e.length;t<n;++t)delete h[e[t].identifier];for(var i in h)return void _()}j.selectAll(g).on(r,null),a.on(b,k).on(w,I),o(),N(d)}e(),S(d),a.on(b,null).on(w,e)}function _(){var e=x.of(this,arguments);i?clearTimeout(i):(ls.call(this),t=E(u=n||j.mouse(this)),S(e)),i=setTimeout(function(){i=null,N(e)},50),R(),L(Math.pow(2,.002*Re())*A.k),T(u,t),C(e)}function y(){var e=j.mouse(this),t=Math.log(A.k)/Math.LN2;D(this,e,E(e),j.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return Pe||(Pe="onwheel"in v?(Re=function(){return-j.event.deltaY*(j.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Re=function(){return j.event.wheelDelta},"mousewheel"):(Re=function(){return-j.event.detail},"MozMousePixelScroll")),f.event=function(e){e.each(function(){var s=x.of(this,arguments),t=A;hs?j.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var i=l[0],e=l[1],r=u?u[0]:i/2,a=u?u[1]:e/2,o=j.interpolateZoom([(r-A.x)/A.k,(a-A.y)/A.k,i/A.k],[(r-t.x)/t.k,(a-t.y)/t.k,i/t.k]);return function(e){var t=o(e),n=i/t[2];this.__chart__=A={x:r-t[0]*n,y:a-t[1]*n,k:n},C(s)}}).each("interrupt.zoom",function(){N(s)}).each("end.zoom",function(){N(s)}):(this.__chart__=A,S(s),C(s),N(s))})},f.translate=function(e){return arguments.length?(A={x:+e[0],y:+e[1],k:A.k},g(),f):[A.x,A.y]},f.scale=function(e){return arguments.length?(A={x:A.x,y:A.y,k:null},L(+e),g(),f):A.k},f.scaleExtent=function(e){return arguments.length?(c=null==e?Ye:[+e[0],+e[1]],f):c},f.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],f):n},f.size=function(e){return arguments.length?(l=e&&[+e[0],+e[1]],f):l},f.duration=function(e){return arguments.length?(d=+e,f):d},f.x=function(e){return arguments.length?(r=(a=e).copy(),A={x:0,y:0,k:1},f):a},f.y=function(e){return arguments.length?(o=(s=e).copy(),A={x:0,y:0,k:1},f):s},j.rebind(f,x,"on")};var Re,Pe,Ye=[0,1/0];function Be(){}function Ue(e,t,n){return this instanceof Ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Ue?new Ue(e.h,e.s,e.l):lt(""+e,ct,Ue):new Ue(e,t,n)}(j.color=Be).prototype.toString=function(){return this.rgb()+""};var He=(j.hsl=Ue).prototype=new Be;function Fe(e,t,n){var i,r;function a(e){return Math.round(255*(360<(t=e)?t-=360:t<0&&(t+=360),t<60?i+(r-i)*t/60:t<180?r:t<240?i+(r-i)*(240-t)/60:i));var t}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:1<t?1:t,i=2*(n=n<0?0:1<n?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new rt(a(e+120),a(e),a(e-120))}function Ge(e,t,n){return this instanceof Ge?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof Ge?new Ge(e.h,e.c,e.l):et(e instanceof Qe?e.l:(e=dt((e=j.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ge(e,t,n)}He.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,this.l/e)},He.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,e*this.l)},He.rgb=function(){return Fe(this.h,this.s,this.l)};var Ve=(j.hcl=Ge).prototype=new Be;function We(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Qe(n,Math.cos(e*=De)*t,Math.sin(e)*t)}function Qe(e,t,n){return this instanceof Qe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Qe?new Qe(e.l,e.a,e.b):e instanceof Ge?We(e.h,e.c,e.l):dt((e=rt(e)).r,e.g,e.b):new Qe(e,t,n)}Ve.brighter=function(e){return new Ge(this.h,this.c,Math.min(100,this.l+qe*(arguments.length?e:1)))},Ve.darker=function(e){return new Ge(this.h,this.c,Math.max(0,this.l-qe*(arguments.length?e:1)))},Ve.rgb=function(){return We(this.h,this.c,this.l).rgb()},j.lab=Qe;var qe=18,Ze=.95047,Xe=1,Je=1.08883,Ke=Qe.prototype=new Be;function $e(e,t,n){var i=(e+16)/116,r=i+t/500,a=i-n/200;return new rt(it(3.2404542*(r=tt(r)*Ze)-1.5371385*(i=tt(i)*Xe)-.4985314*(a=tt(a)*Je)),it(-.969266*r+1.8760108*i+.041556*a),it(.0556434*r-.2040259*i+1.0572252*a))}function et(e,t,n){return 0<e?new Ge(Math.atan2(n,t)*Se,Math.sqrt(t*t+n*n),e):new Ge(NaN,NaN,e)}function tt(e){return.206893034<e?e*e*e:(e-4/29)/7.787037}function nt(e){return.008856<e?Math.pow(e,1/3):7.787037*e+4/29}function it(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function rt(e,t,n){return this instanceof rt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof rt?new rt(e.r,e.g,e.b):lt(""+e,rt,Fe):new rt(e,t,n)}function at(e){return new rt(e>>16,e>>8&255,255&e)}function ot(e){return at(e)+""}Ke.brighter=function(e){return new Qe(Math.min(100,this.l+qe*(arguments.length?e:1)),this.a,this.b)},Ke.darker=function(e){return new Qe(Math.max(0,this.l-qe*(arguments.length?e:1)),this.a,this.b)},Ke.rgb=function(){return $e(this.l,this.a,this.b)};var st=(j.rgb=rt).prototype=new Be;function ut(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function lt(e,t,n){var i,r,a,o=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(pt(r[0]),pt(r[1]),pt(r[2]))}return(a=mt.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,u=15&a,u|=u<<4):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,u=255&a)),t(o,s,u))}function ct(e,t,n){var i,r,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,u=(o+a)/2;return s?(r=u<.5?s/(o+a):s/(2-o-a),i=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=0<u&&u<1?0:i),new Ue(i,r,u)}function dt(e,t,n){var i=nt((.4124564*(e=ht(e))+.3575761*(t=ht(t))+.1804375*(n=ht(n)))/Ze),r=nt((.2126729*e+.7151522*t+.072175*n)/Xe);return Qe(116*r-16,500*(i-r),200*(r-nt((.0193339*e+.119192*t+.9503041*n)/Je)))}function ht(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}st.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b;return t||n||i?(t&&t<30&&(t=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new rt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new rt(30,30,30)},st.darker=function(e){return new rt((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},st.hsl=function(){return ct(this.r,this.g,this.b)},st.toString=function(){return"#"+ut(this.r)+ut(this.g)+ut(this.b)};var mt=j.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ft(e){return"function"==typeof e?e:function(){return e}}function gt(i){return function(e,t,n){return 2===arguments.length&&"function"==typeof t&&(n=t,t=null),_t(e,t,i,n)}}function _t(r,a,o,e){var n,s={},u=j.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,d=null;function t(){var e,t,n,i=c.status;if(!i&&((n=(t=c).responseType)&&"text"!==n?t.response:t.responseText)||200<=i&&i<300||304===i){try{e=o.call(s,c)}catch(e){return void u.error.call(s,e)}u.load.call(s,e)}else u.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(r)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=t:c.onreadystatechange=function(){3<c.readyState&&t()},c.onprogress=function(e){var t=j.event;j.event=e;try{u.progress.call(s,c)}finally{j.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(a=null==e?null:e+"",s):a},s.responseType=function(e){return arguments.length?(d=e,s):d},s.response=function(e){return o=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(h(arguments)))}}),s.send=function(e,t,n){if(2===arguments.length&&"function"==typeof t&&(n=t,t=null),c.open(e,r,!0),null==a||"accept"in l||(l.accept=a+",*/*"),c.setRequestHeader)for(var i in l)c.setRequestHeader(i,l[i]);return null!=a&&c.overrideMimeType&&c.overrideMimeType(a),null!=d&&(c.responseType=d),null!=n&&s.on("error",n).on("load",function(e){n(null,e)}),u.beforesend.call(s,c),c.send(null==t?null:t),s},s.abort=function(){return c.abort(),s},j.rebind(s,u,"on"),null==e?s:s.get(1===(n=e).length?function(e,t){n(null==e?t:null)}:n)}mt.forEach(function(e,t){mt.set(e,at(t))}),j.functor=ft,j.xhr=gt(z),j.dsv=function(r,a){var t=new RegExp('["'+r+"\n]"),h=r.charCodeAt(0);function o(e,t,n){arguments.length<3&&(n=t,t=null);var i=_t(e,a,null==t?s:u(t),n);return i.row=function(e){return arguments.length?i.response(null==(t=e)?s:u(e)):t},i}function s(e){return o.parse(e.responseText)}function u(t){return function(e){return o.parse(e.responseText,t)}}function n(e){return e.map(l).join(r)}function l(e){return t.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return o.parse=function(e,i){var r;return o.parseRows(e,function(e,t){if(r)return r(e,t-1);var n=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=i?function(e,t){return i(n(e),t)}:n})},o.parseRows=function(r,e){var t,a,o={},s={},n=[],u=r.length,l=0,i=0;function c(){if(u<=l)return s;if(a)return a=!1,o;var e=l;if(34===r.charCodeAt(e)){for(var t=e;t++<u;)if(34===r.charCodeAt(t)){if(34!==r.charCodeAt(t+1))break;++t}return l=t+2,13===(n=r.charCodeAt(t+1))?(a=!0,10===r.charCodeAt(t+2)&&++l):10===n&&(a=!0),r.slice(e+1,t).replace(/""/g,'"')}for(;l<u;){var n,i=1;if(10===(n=r.charCodeAt(l++)))a=!0;else if(13===n)a=!0,10===r.charCodeAt(l)&&(++l,++i);else if(n!==h)continue;return r.slice(e,l-i)}return r.slice(e)}for(;(t=c())!==s;){for(var d=[];t!==o&&t!==s;)d.push(t),t=c();e&&null==(d=e(d,i++))||n.push(d)}return n},o.format=function(e){if(Array.isArray(e[0]))return o.formatRows(e);var n=new L,i=[];return e.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(l).join(r)].concat(e.map(function(t){return i.map(function(e){return l(t[e])}).join(r)})).join("\n")},o.formatRows=function(e){return e.map(n).join("\n")},o},j.csv=j.dsv(",","text/csv"),j.tsv=j.dsv("\t","text/tab-separated-values");var yt,vt,Mt,At,bt=this[D(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function wt(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r={c:e,t:n+t,n:null};return vt?vt.n=r:yt=r,vt=r,Mt||(At=clearTimeout(At),Mt=1,bt(xt)),r}function xt(){var e=Et(),t=Lt()-e;24<t?(isFinite(t)&&(clearTimeout(At),At=setTimeout(xt,t)),Mt=0):(Mt=1,bt(xt))}function Et(){for(var e=Date.now(),t=yt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Lt(){for(var e,t=yt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:yt=t.n;return vt=e,n}function Tt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}j.timer=function(){wt.apply(this,arguments)},j.timer.flush=function(){Et(),Lt()},j.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Dt=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*I(8-t));return{scale:8<t?function(e){return e/n}:function(e){return e*n},symbol:e}});j.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=j.round(e,Tt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Dt[8+n/3]};var St=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ct=j.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=j.round(e,Tt(e,t))).toFixed(Math.max(0,Math.min(20,Tt(e*(1+1e-15),t))))}});function Nt(e){return e+""}var kt=j.time={},It=Date;function jt(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ot.setUTCDate.apply(this._,arguments)},setDay:function(){Ot.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ot.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ot.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ot.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ot.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ot.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ot.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ot.setTime.apply(this._,arguments)}};var Ot=Date.prototype;function zt(i,a,o){function e(e){var t=i(e),n=r(t,1);return e-t<n-e?t:n}function s(e){return a(e=i(new It(e-1)),1),e}function r(e,t){return a(e=new It(+e),t),e}function u(e,t,n){var i=s(e),r=[];if(1<n)for(;i<t;)o(i)%n||r.push(new Date(+i)),a(i,1);else for(;i<t;)r.push(new Date(+i)),a(i,1);return r}(i.floor=i).round=e,i.ceil=s,i.offset=r,i.range=u;var t=i.utc=Rt(i);return(t.floor=t).round=Rt(e),t.ceil=Rt(s),t.offset=Rt(r),t.range=function(e,t,n){try{var i=new(It=jt);return i._=e,u(i,t,n)}finally{It=Date}},i}function Rt(i){return function(e,t){try{var n=new(It=jt);return n._=e,i(n,t)._}finally{It=Date}}}kt.year=zt(function(e){return(e=kt.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),kt.years=kt.year.range,kt.years.utc=kt.year.utc.range,kt.day=zt(function(e){var t=new It(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),kt.days=kt.day.range,kt.days.utc=kt.day.utc.range,kt.dayOfYear=function(e){var t=kt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,n){n=7-n;var t=kt[e]=zt(function(e){return(e=kt.day(e)).setDate(e.getDate()-(e.getDay()+n)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var t=kt.year(e).getDay();return Math.floor((kt.dayOfYear(e)+(t+n)%7)/7)-(t!==n)});kt[e+"s"]=t.range,kt[e+"s"].utc=t.utc.range,kt[e+"OfYear"]=function(e){var t=kt.year(e).getDay();return Math.floor((kt.dayOfYear(e)+(t+n)%7)/7)}}),kt.week=kt.sunday,kt.weeks=kt.sunday.range,kt.weeks.utc=kt.sunday.utc.range,kt.weekOfYear=kt.sundayOfYear;var Pt={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,Bt=/^%/;function Ut(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function Ht(e){return new RegExp("^(?:"+e.map(j.requote).join("|")+")","i")}function Ft(e){for(var t=new y,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Gt(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Vt(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Wt(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Qt(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function qt(e,t,n){Yt.lastIndex=0;var i,r=Yt.exec(t.slice(n,n+2));return r?(e.y=(i=+r[0])+(68<i?1900:2e3),n+r[0].length):-1}function Zt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Xt(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Jt(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Kt(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function $t(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function en(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function tn(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function nn(e,t,n){Yt.lastIndex=0;var i=Yt.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function rn(e){var t=e.getTimezoneOffset(),n=0<t?"-":"+",i=I(t)/60|0,r=I(t)%60;return n+Ut(i,"0",2)+Ut(r,"0",2)}function an(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function on(i){for(var e=i.length,t=-1;++t<e;)i[t][0]=this(i[t][0]);return function(e){for(var t=0,n=i[t];!n[1](e);)n=i[++t];return n[0](e)}}j.locale=function(e){return{numberFormat:(t=e,x=t.decimal,s=t.thousands,u=t.grouping,i=t.currency,E=u&&s?function(e,t){for(var n=e.length,i=[],r=0,a=u[0],o=0;0<n&&0<a&&(t<o+a+1&&(a=Math.max(1,t-o)),i.push(e.substring(n-=a,n+a)),!((o+=a+1)>t));)a=u[r=(r+1)%u.length];return i.reverse().join(s)}:z,function(e){var t=St.exec(e),c=t[1]||" ",d=t[2]||">",h=t[3]||"-",n=t[4]||"",p=t[5],m=+t[6],f=t[7],g=t[8],_=t[9],y=1,v="",M="",A=!1,b=!0;switch(g&&(g=+g.substring(1)),(p||"0"===c&&"="===d)&&(p=c="0",d="="),_){case"n":f=!0,_="g";break;case"%":y=100,M="%",_="f";break;case"p":y=100,M="%",_="r";break;case"b":case"o":case"x":case"X":"#"===n&&(v="0"+_.toLowerCase());case"c":b=!1;case"d":A=!0,g=0;break;case"s":y=-1,_="r"}"$"===n&&(v=i[0],M=i[1]),"r"!=_||g||(_="g"),null!=g&&("g"==_?g=Math.max(1,Math.min(21,g)):"e"!=_&&"f"!=_||(g=Math.max(0,Math.min(20,g)))),_=Ct.get(_)||Nt;var w=p&&f;return function(e){var t=M;if(A&&e%1)return"";var n=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===h?"":h;if(y<0){var i=j.formatPrefix(e,g);e=i.scale(e),t=i.symbol+M}else e*=y;var r,a,o=(e=_(e,g)).lastIndexOf(".");if(o<0){var s=b?e.lastIndexOf("e"):-1;s<0?(r=e,a=""):(r=e.substring(0,s),a=e.substring(s))}else r=e.substring(0,o),a=x+e.substring(o+1);!p&&f&&(r=E(r,1/0));var u=v.length+r.length+a.length+(w?0:n.length),l=u<m?new Array(u=m-u+1).join(c):"";return w&&(r=E(l+r,l.length?m-a.length:1/0)),n+=v,e=r+a,("<"===d?n+e+l:">"===d?l+n+e:"^"===d?l.substring(0,u>>=1)+n+e+l.substring(u):n+(w?e:l+e))+t}}),timeFormat:function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths;function l(s){var u=s.length;function e(e){for(var t,n,i,r=[],a=-1,o=0;++a<u;)37===s.charCodeAt(a)&&(r.push(s.slice(o,a)),null!=(n=Pt[t=s.charAt(++a)])&&(t=s.charAt(++a)),(i=M[t])&&(t=i(e,null==n?"e"===t?" ":"0":n)),r.push(t),o=a+1);return r.push(s.slice(o,a)),r.join("")}return e.parse=function(e){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(t,s,e,0)!=e.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);var n=null!=t.Z&&It!==jt,i=new(n?jt:It);return"j"in t?i.setFullYear(t.y,0,t.j):"W"in t||"U"in t?("w"in t||(t.w="W"in t?1:0),i.setFullYear(t.y,0,1),i.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(i.getDay()+5)%7:t.w+7*t.U-(i.getDay()+6)%7)):i.setFullYear(t.y,t.m,t.d),i.setHours(t.H+(t.Z/100|0),t.M+t.Z%100,t.S,t.L),n?i._:i},e.toString=function(){return s},e}function c(e,t,n,i){for(var r,a,o,s=0,u=t.length,l=n.length;s<u;){if(l<=i)return-1;if(37===(r=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=A[o in Pt?t.charAt(s++):o])||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}l.multi=(l.utc=function(e){var n=l(e);function t(e){try{var t=new(It=jt);return t._=e,n(t)}finally{It=Date}}return t.parse=function(e){try{It=jt;var t=n.parse(e);return t&&t._}finally{It=Date}},t.toString=n.toString,t}).multi=on;var d=j.map(),h=Ht(a),p=Ft(a),m=Ht(o),f=Ft(o),g=Ht(s),_=Ft(s),y=Ht(u),v=Ft(u);r.forEach(function(e,t){d.set(e.toLowerCase(),t)});var M={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:l(t),d:function(e,t){return Ut(e.getDate(),t,2)},e:function(e,t){return Ut(e.getDate(),t,2)},H:function(e,t){return Ut(e.getHours(),t,2)},I:function(e,t){return Ut(e.getHours()%12||12,t,2)},j:function(e,t){return Ut(1+kt.dayOfYear(e),t,3)},L:function(e,t){return Ut(e.getMilliseconds(),t,3)},m:function(e,t){return Ut(e.getMonth()+1,t,2)},M:function(e,t){return Ut(e.getMinutes(),t,2)},p:function(e){return r[+(12<=e.getHours())]},S:function(e,t){return Ut(e.getSeconds(),t,2)},U:function(e,t){return Ut(kt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ut(kt.mondayOfYear(e),t,2)},x:l(n),X:l(i),y:function(e,t){return Ut(e.getFullYear()%100,t,2)},Y:function(e,t){return Ut(e.getFullYear()%1e4,t,4)},Z:rn,"%":function(){return"%"}},A={a:function(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){h.lastIndex=0;var i=h.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){g.lastIndex=0;var i=g.exec(t.slice(n));return i?(e.m=_.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,t,n){return c(e,M.c.toString(),t,n)},d:Jt,e:Jt,H:$t,I:$t,j:Kt,L:nn,m:Xt,M:en,p:function(e,t,n){var i=d.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)},S:tn,U:Vt,w:Gt,W:Wt,x:function(e,t,n){return c(e,M.x.toString(),t,n)},X:function(e,t,n){return c(e,M.X.toString(),t,n)},y:qt,Y:Qt,Z:Zt,"%":an};return l}(e)};var t,x,s,u,i,E};var sn=j.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function un(){}j.format=sn.numberFormat,j.geo={},un.prototype={s:0,t:0,add:function(e){cn(e,this.t,ln),cn(ln.s,this.s,this),this.s?this.t+=ln.t:this.s=ln.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ln=new un;function cn(e,t,n){var i=n.s=e+t,r=i-e,a=i-r;n.t=e-a+(t-r)}function dn(e,t){e&&pn.hasOwnProperty(e.type)&&pn[e.type](e,t)}j.geo.stream=function(e,t){e&&hn.hasOwnProperty(e.type)?hn[e.type](e,t):dn(e,t)};var hn={Feature:function(e,t){dn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)dn(n[i].geometry,t)}},pn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){mn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)mn(n[i],t,0)},Polygon:function(e,t){fn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)fn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)dn(n[i],t)}};function mn(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function fn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)mn(e[n],t,1);t.polygonEnd()}j.geo.area=function(e){return gn=0,j.geo.stream(e,Sn),gn};var gn,_n,yn,vn,Mn,An,bn,wn,xn,En,Ln,Tn,Dn=new un,Sn={sphere:function(){gn+=4*xe},point:C,lineStart:C,lineEnd:C,polygonStart:function(){Dn.reset(),Sn.lineStart=Cn},polygonEnd:function(){var e=2*Dn;gn+=e<0?4*xe+e:e,Sn.lineStart=Sn.lineEnd=Sn.point=C}};function Cn(){var n,i,c,d,h;function r(e,t){t=t*De/2+xe/4;var n=(e*=De)-c,i=0<=n?1:-1,r=i*n,a=Math.cos(t),o=Math.sin(t),s=h*o,u=d*a+s*Math.cos(r),l=s*i*Math.sin(r);Dn.add(Math.atan2(l,u)),c=e,d=a,h=o}Sn.point=function(e,t){Sn.point=r,c=(n=e)*De,d=Math.cos(t=(i=t)*De/2+xe/4),h=Math.sin(t)},Sn.lineEnd=function(){r(n,i)}}function Nn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function kn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function In(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function jn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function On(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function zn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Rn(e){return[Math.atan2(e[1],e[0]),Ie(e[2])]}function Pn(e,t){return I(e[0]-t[0])<be&&I(e[1]-t[1])<be}j.geo.bounds=function(){var c,d,h,p,m,i,r,f,a,u,l,g={point:_,lineStart:e,lineEnd:t,polygonStart:function(){g.point=n,g.lineStart=s,g.lineEnd=y,a=0,Sn.polygonStart()},polygonEnd:function(){Sn.polygonEnd(),g.point=_,g.lineStart=e,g.lineEnd=t,Dn<0?(c=-(h=180),d=-(p=90)):be<a?p=90:a<-be&&(d=-90),l[0]=c,l[1]=h}};function _(e,t){u.push(l=[c=e,h=e]),t<d&&(d=t),p<t&&(p=t)}function o(e,t){var n=Nn([e*De,t*De]);if(f){var i=In(f,n),r=In([i[1],-i[0],0],i);zn(r),r=Rn(r);var a=e-m,o=0<a?1:-1,s=r[0]*Se*o,u=180<I(a);if(u^(o*m<s&&s<o*e)){var l=r[1]*Se;p<l&&(p=l)}else if(u^(o*m<(s=(s+360)%360-180)&&s<o*e)){(l=-r[1]*Se)<d&&(d=l)}else t<d&&(d=t),p<t&&(p=t);u?e<m?v(c,e)>v(c,h)&&(h=e):v(e,h)>v(c,h)&&(c=e):c<=h?(e<c&&(c=e),h<e&&(h=e)):m<e?v(c,e)>v(c,h)&&(h=e):v(e,h)>v(c,h)&&(c=e)}else _(e,t);f=n,m=e}function e(){g.point=o}function t(){l[0]=c,l[1]=h,g.point=_,f=null}function n(e,t){if(f){var n=e-m;a+=180<I(n)?n+(0<n?360:-360):n}else i=e,r=t;Sn.point(e,t),o(e,t)}function s(){Sn.lineStart()}function y(){n(i,r),Sn.lineEnd(),I(a)>be&&(c=-(h=180)),l[0]=c,l[1]=h,f=null}function v(e,t){return(t-=e)<0?t+360:t}function M(e,t){return e[0]-t[0]}function A(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(e){if(p=h=-(c=d=1/0),u=[],j.geo.stream(e,g),r=u.length){u.sort(M);for(var t=1,n=[s=u[0]];t<r;++t)A((a=u[t])[0],s)||A(a[1],s)?(v(s[0],a[1])>v(s[0],s[1])&&(s[1]=a[1]),v(a[0],s[1])>v(s[0],s[1])&&(s[0]=a[0])):n.push(s=a);for(var i,r,a,o=-1/0,s=(t=0,n[r=n.length-1]);t<=r;s=a,++t)a=n[t],(i=v(s[1],a[0]))>o&&(o=i,c=a[0],h=s[1])}return u=l=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[h,p]]}}(),j.geo.centroid=function(e){_n=yn=vn=Mn=An=bn=wn=xn=En=Ln=Tn=0,j.geo.stream(e,Yn);var t=En,n=Ln,i=Tn,r=t*t+n*n+i*i;return r<we&&(t=bn,n=wn,i=xn,yn<be&&(t=vn,n=Mn,i=An),(r=t*t+n*n+i*i)<we)?[NaN,NaN]:[Math.atan2(n,t)*Se,Ie(i/Math.sqrt(r))*Se]};var Yn={sphere:C,point:Bn,lineStart:Hn,lineEnd:Fn,polygonStart:function(){Yn.lineStart=Gn},polygonEnd:function(){Yn.lineStart=Hn}};function Bn(e,t){e*=De;var n=Math.cos(t*=De);Un(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Un(e,t,n){vn+=(e-vn)/++_n,Mn+=(t-Mn)/_n,An+=(n-An)/_n}function Hn(){var s,u,l;function i(e,t){e*=De;var n=Math.cos(t*=De),i=n*Math.cos(e),r=n*Math.sin(e),a=Math.sin(t),o=Math.atan2(Math.sqrt((o=u*a-l*r)*o+(o=l*i-s*a)*o+(o=s*r-u*i)*o),s*i+u*r+l*a);yn+=o,bn+=o*(s+(s=i)),wn+=o*(u+(u=r)),xn+=o*(l+(l=a)),Un(s,u,l)}Yn.point=function(e,t){e*=De;var n=Math.cos(t*=De);s=n*Math.cos(e),u=n*Math.sin(e),l=Math.sin(t),Yn.point=i,Un(s,u,l)}}function Fn(){Yn.point=Bn}function Gn(){var i,r,p,m,f;function a(e,t){e*=De;var n=Math.cos(t*=De),i=n*Math.cos(e),r=n*Math.sin(e),a=Math.sin(t),o=m*a-f*r,s=f*i-p*a,u=p*r-m*i,l=Math.sqrt(o*o+s*s+u*u),c=p*i+m*r+f*a,d=l&&-ke(c)/l,h=Math.atan2(l,c);En+=d*o,Ln+=d*s,Tn+=d*u,yn+=h,bn+=h*(p+(p=i)),wn+=h*(m+(m=r)),xn+=h*(f+(f=a)),Un(p,m,f)}Yn.point=function(e,t){i=e,r=t,Yn.point=a,e*=De;var n=Math.cos(t*=De);p=n*Math.cos(e),m=n*Math.sin(e),f=Math.sin(t),Un(p,m,f)},Yn.lineEnd=function(){a(i,r),Yn.lineEnd=Fn,Yn.point=Bn}}function Vn(n,i){function e(e,t){return e=n(e,t),i(e[0],e[1])}return n.invert&&i.invert&&(e.invert=function(e,t){return(e=i.invert(e,t))&&n.invert(e[0],e[1])}),e}function Wn(){return!0}function Qn(e,t,n,i,s){var u=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(Pn(n,i)){s.lineStart();for(var r=0;r<t;++r)s.point((n=e[r])[0],n[1]);s.lineEnd()}else{var a=new Zn(n,e,null,!0),o=new Zn(n,null,a,!1);a.o=o,u.push(a),l.push(o),o=new Zn(i,null,a=new Zn(i,e,null,!1),!0),a.o=o,u.push(a),l.push(o)}}}),l.sort(t),qn(u),qn(l),u.length){for(var r=0,a=n,o=l.length;r<o;++r)l[r].e=a=!a;for(var c,d,h=u[0];;){for(var p=h,m=!0;p.v;)if((p=p.n)===h)return;c=p.z,s.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(r=0,o=c.length;r<o;++r)s.point((d=c[r])[0],d[1]);else i(p.x,p.n.x,1,s);p=p.n}else{if(m)for(r=(c=p.p.z).length-1;0<=r;--r)s.point((d=c[r])[0],d[1]);else i(p.x,p.p.x,-1,s);p=p.p}c=(p=p.o).z,m=!m}while(!p.v);s.lineEnd()}}}function qn(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Zn(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Xn(y,v,M,A){return function(i,o){var s,r=v(o),t=i.invert(A[0],A[1]),n={point:a,lineStart:u,lineEnd:l,polygonStart:function(){n.point=f,n.lineStart=g,n.lineEnd=_,s=[],c=[]},polygonEnd:function(){n.point=a,n.lineStart=u,n.lineEnd=l,s=j.merge(s);var e=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Dn.reset();for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.length;if(c)for(var d=l[0],h=d[0],p=d[1]/2+xe/4,m=Math.sin(p),f=Math.cos(p),g=1;;){g===c&&(g=0);var _=(e=l[g])[0],y=e[1]/2+xe/4,v=Math.sin(y),M=Math.cos(y),A=_-h,b=0<=A?1:-1,w=b*A,x=xe<w,E=m*v;if(Dn.add(Math.atan2(E*b*Math.sin(w),f*M+E*Math.cos(w))),a+=x?A+b*Ee:A,x^n<=h^n<=_){var L=In(Nn(d),Nn(e));zn(L);var T=In(r,L);zn(T);var D=(x^0<=A?-1:1)*Ie(T[2]);(D<i||i===D&&(L[0]||L[1]))&&(o+=x^0<=A?1:-1)}if(!g++)break;h=_,m=v,f=M,d=e}}return(a<-be||a<be&&Dn<-be)^1&o}(t,c);s.length?(m||(o.polygonStart(),m=!0),Qn(s,$n,e,M,o)):e&&(m||(o.polygonStart(),m=!0),o.lineStart(),M(null,null,1,o),o.lineEnd()),m&&(o.polygonEnd(),m=!1),s=c=null},sphere:function(){o.polygonStart(),o.lineStart(),M(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function a(e,t){var n=i(e,t);y(e=n[0],t=n[1])&&o.point(e,t)}function e(e,t){var n=i(e,t);r.point(n[0],n[1])}function u(){n.point=e,r.lineStart()}function l(){n.point=a,r.lineEnd()}var c,d,h=Kn(),p=v(h),m=!1;function f(e,t){d.push([e,t]);var n=i(e,t);p.point(n[0],n[1])}function g(){p.lineStart(),d=[]}function _(){f(d[0][0],d[0][1]),p.lineEnd();var e,t=p.clean(),n=h.buffer(),i=n.length;if(d.pop(),c.push(d),d=null,i)if(1&t){var r,a=-1;if(0<(i=(e=n[0]).length-1)){for(m||(o.polygonStart(),m=!0),o.lineStart();++a<i;)o.point((r=e[a])[0],r[1]);o.lineEnd()}}else 1<i&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Jn))}return n}}function Jn(e){return 1<e.length}function Kn(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(e,t){n.push([e,t])},lineEnd:C,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))}}}function $n(e,t){return((e=e.x)[0]<0?e[1]-Te-be:Te-e[1])-((t=t.x)[0]<0?t[1]-Te-be:Te-t[1])}var ei=Xn(Wn,function(d){var h,p=NaN,m=NaN,f=NaN;return{lineStart:function(){d.lineStart(),h=1},point:function(e,t){var n,i,r,a,o,s,u,l=0<e?xe:-xe,c=I(e-p);I(c-xe)<be?(d.point(p,m=0<(m+t)/2?Te:-Te),d.point(f,m),d.lineEnd(),d.lineStart(),d.point(l,m),d.point(e,m),h=0):f!==l&&xe<=c&&(I(p-f)<be&&(p-=f*be),I(e-l)<be&&(e-=l*be),n=p,i=m,r=e,a=t,u=Math.sin(n-r),m=I(u)>be?Math.atan((Math.sin(i)*(s=Math.cos(a))*Math.sin(r)-Math.sin(a)*(o=Math.cos(i))*Math.sin(n))/(o*s*u)):(i+a)/2,d.point(f,m),d.lineEnd(),d.lineStart(),d.point(l,m),h=0),d.point(p=e,m=t),f=l},lineEnd:function(){d.lineEnd(),p=m=NaN},clean:function(){return 2-h}}},function(e,t,n,i){var r;if(null==e)r=n*Te,i.point(-xe,r),i.point(0,r),i.point(xe,r),i.point(xe,0),i.point(xe,-r),i.point(0,-r),i.point(-xe,-r),i.point(-xe,0),i.point(-xe,r);else if(I(e[0]-t[0])>be){var a=e[0]<t[0]?xe:-xe;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])},[-xe,-xe/2]);function ti(c,d,h,p){return function(e){var t,n=e.a,i=e.b,r=n.x,a=n.y,o=0,s=1,u=i.x-r,l=i.y-a;if(t=c-r,u||!(0<t)){if(t/=u,u<0){if(t<o)return;t<s&&(s=t)}else if(0<u){if(s<t)return;o<t&&(o=t)}if(t=h-r,u||!(t<0)){if(t/=u,u<0){if(s<t)return;o<t&&(o=t)}else if(0<u){if(t<o)return;t<s&&(s=t)}if(t=d-a,l||!(0<t)){if(t/=l,l<0){if(t<o)return;t<s&&(s=t)}else if(0<l){if(s<t)return;o<t&&(o=t)}if(t=p-a,l||!(t<0)){if(t/=l,l<0){if(s<t)return;o<t&&(o=t)}else if(0<l){if(t<o)return;t<s&&(s=t)}return 0<o&&(e.a={x:r+o*u,y:a+o*l}),s<1&&(e.b={x:r+s*u,y:a+s*l}),e}}}}}}var ni=1e9;function ii(M,A,b,w){return function(r){var i,c,a,o,s,u,l,d,h,p,m,f=r,e=Kn(),g=ti(M,A,b,w),t={point:n,lineStart:function(){t.point=v,c&&c.push(a=[]);p=!0,h=!1,l=d=NaN},lineEnd:function(){i&&(v(o,s),u&&h&&e.rejoin(),i.push(e.buffer()));t.point=n,h&&r.lineEnd()},polygonStart:function(){r=e,i=[],c=[],m=!0},polygonEnd:function(){r=f,i=j.merge(i);var e=function(e){for(var t=0,n=c.length,i=e[1],r=0;r<n;++r)for(var a,o=1,s=c[r],u=s.length,l=s[0];o<u;++o)a=s[o],l[1]<=i?a[1]>i&&0<Ne(l,a,e)&&++t:a[1]<=i&&Ne(l,a,e)<0&&--t,l=a;return 0!==t}([M,w]),t=m&&e,n=i.length;(t||n)&&(r.polygonStart(),t&&(r.lineStart(),_(null,null,1,r),r.lineEnd()),n&&Qn(i,E,e,_,r),r.polygonEnd()),i=c=a=null}};function _(e,t,n,i){var r=0,a=0;if(null==e||(r=x(e,n))!==(a=x(t,n))||L(e,t)<0^0<n)for(;i.point(0===r||3===r?M:b,1<r?w:A),(r=(r+n+4)%4)!==a;);else i.point(t[0],t[1])}function y(e,t){return M<=e&&e<=b&&A<=t&&t<=w}function n(e,t){y(e,t)&&r.point(e,t)}function v(e,t){var n=y(e=Math.max(-ni,Math.min(ni,e)),t=Math.max(-ni,Math.min(ni,t)));if(c&&a.push([e,t]),p)o=e,s=t,p=!1,(u=n)&&(r.lineStart(),r.point(e,t));else if(n&&h)r.point(e,t);else{var i={a:{x:l,y:d},b:{x:e,y:t}};g(i)?(h||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),m=!1):n&&(r.lineStart(),r.point(e,t),m=!1)}l=e,d=t,h=n}return t};function x(e,t){return I(e[0]-M)<be?0<t?0:3:I(e[0]-b)<be?0<t?2:1:I(e[1]-A)<be?0<t?1:0:0<t?3:2}function E(e,t){return L(e.x,t.x)}function L(e,t){var n=x(e,1),i=x(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ri(e){var t=0,n=xe/3,i=Di(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*xe/180,n=e[1]*xe/180):[t/xe*180,n/xe*180]},r}function ai(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),a=Math.sqrt(r)/i;function o(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,Ie((r-(e*e+n*n)*i*i)/(2*i))]},o}j.geo.clipExtent=function(){var t,n,i,r,a,o,s={stream:function(e){return a&&(a.valid=!1),(a=o(e)).valid=!0,a},extent:function(e){return arguments.length?(o=ii(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),a&&(a.valid=!1,a=null),s):[[t,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(j.geo.conicEqualArea=function(){return ri(ai)}).raw=ai,j.geo.albers=function(){return j.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},j.geo.albersUsa=function(){var i,r,a,o,s=j.geo.albers(),u=j.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=j.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){i=[e,t]}};function d(e){var t=e[0],n=e[1];return i=null,r(t,n),i||(a(t,n),i)||o(t,n),i}return d.invert=function(e){var t=s.scale(),n=s.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?u:.166<=r&&r<.234&&-.214<=i&&i<-.115?l:s).invert(e)},d.stream=function(e){var n=s.stream(e),i=u.stream(e),r=l.stream(e);return{point:function(e,t){n.point(e,t),i.point(e,t),r.point(e,t)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},d.precision=function(e){return arguments.length?(s.precision(e),u.precision(e),l.precision(e),d):s.precision()},d.scale=function(e){return arguments.length?(s.scale(e),u.scale(.35*e),l.scale(e),d.translate(s.translate())):s.scale()},d.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),n=+e[0],i=+e[1];return r=s.translate(e).clipExtent([[n-.455*t,i-.238*t],[n+.455*t,i+.238*t]]).stream(c).point,a=u.translate([n-.307*t,i+.201*t]).clipExtent([[n-.425*t+be,i+.12*t+be],[n-.214*t-be,i+.234*t-be]]).stream(c).point,o=l.translate([n-.205*t,i+.212*t]).clipExtent([[n-.214*t+be,i+.166*t+be],[n-.115*t-be,i+.234*t-be]]).stream(c).point,d},d.scale(1070)};var oi,si,ui,li,ci,di,hi={point:C,lineStart:C,lineEnd:C,polygonStart:function(){si=0,hi.lineStart=pi},polygonEnd:function(){hi.lineStart=hi.lineEnd=hi.point=C,oi+=I(si/2)}};function pi(){var n,i,r,a;function o(e,t){si+=a*e-r*t,r=e,a=t}hi.point=function(e,t){hi.point=o,n=r=e,i=a=t},hi.lineEnd=function(){o(n,i)}}var mi={point:function(e,t){e<ui&&(ui=e);ci<e&&(ci=e);t<li&&(li=t);di<t&&(di=t)},lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C};function fi(){var n=gi(4.5),i=[],r={point:e,lineStart:function(){r.point=t},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=e},pointRadius:function(e){return n=gi(e),r},result:function(){if(i.length){var e=i.join("");return i=[],e}}};function e(e,t){i.push("M",e,",",t,n)}function t(e,t){i.push("M",e,",",t),r.point=a}function a(e,t){i.push("L",e,",",t)}function o(){r.point=e}function s(){i.push("Z")}return r}function gi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var _i,yi={point:vi,lineStart:Mi,lineEnd:Ai,polygonStart:function(){yi.lineStart=bi},polygonEnd:function(){yi.point=vi,yi.lineStart=Mi,yi.lineEnd=Ai}};function vi(e,t){vn+=e,Mn+=t,++An}function Mi(){var a,o;function n(e,t){var n=e-a,i=t-o,r=Math.sqrt(n*n+i*i);bn+=r*(a+e)/2,wn+=r*(o+t)/2,xn+=r,vi(a=e,o=t)}yi.point=function(e,t){yi.point=n,vi(a=e,o=t)}}function Ai(){yi.point=vi}function bi(){var n,i,a,o;function r(e,t){var n=e-a,i=t-o,r=Math.sqrt(n*n+i*i);bn+=r*(a+e)/2,wn+=r*(o+t)/2,xn+=r,En+=(r=o*e-a*t)*(a+e),Ln+=r*(o+t),Tn+=3*r,vi(a=e,o=t)}yi.point=function(e,t){yi.point=r,vi(n=a=e,i=o=t)},yi.lineEnd=function(){r(n,i)}}function wi(n){var i=4.5,r={point:e,lineStart:function(){r.point=t},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=e},pointRadius:function(e){return i=e,r},result:C};function e(e,t){n.moveTo(e+i,t),n.arc(e,t,i,0,Ee)}function t(e,t){n.moveTo(e,t),r.point=a}function a(e,t){n.lineTo(e,t)}function o(){r.point=e}function s(){n.closePath()}return r}function xi(S){var C=.5,N=Math.cos(30*De),A=16;function t(e){return(A?function(r){var n,i,a,o,s,u,l,c,d,h,p,m,f={point:e,lineStart:t,lineEnd:_,polygonStart:function(){r.polygonStart(),f.lineStart=y},polygonEnd:function(){r.polygonEnd(),f.lineStart=t}};function e(e,t){e=S(e,t),r.point(e[0],e[1])}function t(){c=NaN,f.point=g,r.lineStart()}function g(e,t){var n=Nn([e,t]),i=S(e,t);k(c,d,l,h,p,m,c=i[0],d=i[1],l=e,h=n[0],p=n[1],m=n[2],A,r),r.point(c,d)}function _(){f.point=e,r.lineEnd()}function y(){t(),f.point=v,f.lineEnd=M}function v(e,t){g(n=e,t),i=c,a=d,o=h,s=p,u=m,f.point=g}function M(){k(c,d,l,h,p,m,i,a,n,o,s,u,A,r),(f.lineEnd=_)()}return f}:function(n){return Li(n,function(e,t){e=S(e,t),n.point(e[0],e[1])})})(e)}function k(e,t,n,i,r,a,o,s,u,l,c,d,h,p){var m=o-e,f=s-t,g=m*m+f*f;if(4*C<g&&h--){var _=i+l,y=r+c,v=a+d,M=Math.sqrt(_*_+y*y+v*v),A=Math.asin(v/=M),b=I(I(v)-1)<be||I(n-u)<be?(n+u)/2:Math.atan2(y,_),w=S(b,A),x=w[0],E=w[1],L=x-e,T=E-t,D=f*L-m*T;(C<D*D/g||.3<I((m*L+f*T)/g-.5)||i*l+r*c+a*d<N)&&(k(e,t,n,i,r,a,x,E,b,_/=M,y/=M,v,h,p),p.point(x,E),k(x,E,b,_,y,v,o,s,u,l,c,d,h,p))}}return t.precision=function(e){return arguments.length?(A=0<(C=e*e)&&16,t):Math.sqrt(C)},t}function Ei(e){this.stream=e}function Li(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Ti(e){return Di(function(){return e})()}function Di(e){var n,t,i,r,a,o,s=xi(function(e,t){return[(e=n(e,t))[0]*u+r,a-e[1]*u]}),u=150,l=480,c=250,d=0,h=0,p=0,m=0,f=0,g=ei,_=z,y=null,v=null;function M(e){return[(e=i(e[0]*De,e[1]*De))[0]*u+r,a-e[1]*u]}function A(e){return(e=i.invert((e[0]-r)/u,(a-e[1])/u))&&[e[0]*Se,e[1]*Se]}function b(){i=Vn(t=ki(p,m,f),n);var e=n(d,h);return r=l-e[0]*u,a=c+e[1]*u,w()}function w(){return o&&(o.valid=!1,o=null),M}return M.stream=function(e){return o&&(o.valid=!1),(o=Si(g(t,s(_(e))))).valid=!0,o},M.clipAngle=function(e){return arguments.length?(g=null==e?(y=e,ei):function(r){var L=Math.cos(r),p=0<L,m=I(L)>be;return Xn(f,function(s){var u,l,c,d,h;return{lineStart:function(){d=c=!1,h=1},point:function(e,t){var n,i=[e,t],r=f(e,t),a=p?r?0:_(e,t):r?_(e+(e<0?xe:-xe),t):0;if(!u&&(d=c=r)&&s.lineStart(),r!==c&&(n=g(u,i),(Pn(u,n)||Pn(i,n))&&(i[0]+=be,i[1]+=be,r=f(i[0],i[1]))),r!==c)h=0,r?(s.lineStart(),n=g(i,u),s.point(n[0],n[1])):(n=g(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(m&&u&&p^r){var o;a&l||!(o=g(i,u,!0))||(h=0,p?(s.lineStart(),s.point(o[0][0],o[0][1]),s.point(o[1][0],o[1][1]),s.lineEnd()):(s.point(o[1][0],o[1][1]),s.lineEnd(),s.lineStart(),s.point(o[0][0],o[0][1])))}!r||u&&Pn(u,i)||s.point(i[0],i[1]),u=i,c=r,l=a},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return h|(d&&c)<<1}}},zi(r,6*De),p?[0,-r]:[-xe,r-xe]);function f(e,t){return Math.cos(e)*Math.cos(t)>L}function g(e,t,n){var i=[1,0,0],r=In(Nn(e),Nn(t)),a=kn(r,r),o=r[0],s=a-o*o;if(!s)return!n&&e;var u=L*a/s,l=-L*o/s,c=In(i,r),d=On(i,u);jn(d,On(r,l));var h=c,p=kn(d,h),m=kn(h,h),f=p*p-m*(kn(d,d)-1);if(!(f<0)){var g=Math.sqrt(f),_=On(h,(-p-g)/m);if(jn(_,d),_=Rn(_),!n)return _;var y,v=e[0],M=t[0],A=e[1],b=t[1];M<v&&(y=v,v=M,M=y);var w=M-v,x=I(w-xe)<be;if(!x&&b<A&&(y=A,A=b,b=y),x||w<be?x?0<A+b^_[1]<(I(_[0]-v)<be?A:b):A<=_[1]&&_[1]<=b:xe<w^(v<=_[0]&&_[0]<=M)){var E=On(h,(-p+g)/m);return jn(E,d),[_,Rn(E)]}}}function _(e,t){var n=p?r:xe-r,i=0;return e<-n?i|=1:n<e&&(i|=2),t<-n?i|=4:n<t&&(i|=8),i}}((y=+e)*De),w()):y},M.clipExtent=function(e){return arguments.length?(_=(v=e)?ii(e[0][0],e[0][1],e[1][0],e[1][1]):z,w()):v},M.scale=function(e){return arguments.length?(u=+e,b()):u},M.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],b()):[l,c]},M.center=function(e){return arguments.length?(d=e[0]%360*De,h=e[1]%360*De,b()):[d*Se,h*Se]},M.rotate=function(e){return arguments.length?(p=e[0]%360*De,m=e[1]%360*De,f=2<e.length?e[2]%360*De:0,b()):[p*Se,m*Se,f*Se]},j.rebind(M,s,"precision"),function(){return n=e.apply(this,arguments),M.invert=n.invert&&A,b()}}function Si(n){return Li(n,function(e,t){n.point(e*De,t*De)})}function Ci(e,t){return[e,t]}function Ni(e,t){return[xe<e?e-Ee:e<-xe?e+Ee:e,t]}function ki(e,t,n){return e?t||n?Vn(ji(e),Oi(t,n)):ji(e):t||n?Oi(t,n):Ni}function Ii(n){return function(e,t){return[xe<(e+=n)?e-Ee:e<-xe?e+Ee:e,t]}}function ji(e){var t=Ii(e);return t.invert=Ii(-e),t}function Oi(e,t){var s=Math.cos(e),u=Math.sin(e),l=Math.cos(t),c=Math.sin(t);function n(e,t){var n=Math.cos(t),i=Math.cos(e)*n,r=Math.sin(e)*n,a=Math.sin(t),o=a*s+i*u;return[Math.atan2(r*l-o*c,i*s-a*u),Ie(o*l+r*c)]}return n.invert=function(e,t){var n=Math.cos(t),i=Math.cos(e)*n,r=Math.sin(e)*n,a=Math.sin(t),o=a*l-r*c;return[Math.atan2(r*l+a*c,i*s+o*u),Ie(o*s-i*u)]},n}function zi(s,u){var l=Math.cos(s),c=Math.sin(s);return function(e,t,n,i){var r=n*u;null!=e?(e=Ri(l,e),t=Ri(l,t),(0<n?e<t:t<e)&&(e+=n*Ee)):(e=s+n*Ee,t=s-.5*r);for(var a,o=e;0<n?t<o:o<t;o-=r)i.point((a=Rn([l,-c*Math.cos(o),-c*Math.sin(o)]))[0],a[1])}}function Ri(e,t){var n=Nn(t);n[0]-=e,zn(n);var i=ke(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-be)%(2*Math.PI)}function Pi(e,t,n){var i=j.range(e,t-be,n).concat(t);return function(t){return i.map(function(e){return[t,e]})}}function Yi(e,t,n){var i=j.range(e,t-be,n).concat(t);return function(t){return i.map(function(e){return[e,t]})}}function Bi(e){return e.source}function Ui(e){return e.target}j.geo.path=function(){var i,t,r,n,a,o=4.5;function s(e){return e&&("function"==typeof o&&n.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=r(n)),j.geo.stream(e,a)),n.result()}function u(){return a=null,s}return s.area=function(e){return oi=0,j.geo.stream(e,r(hi)),oi},s.centroid=function(e){return vn=Mn=An=bn=wn=xn=En=Ln=Tn=0,j.geo.stream(e,r(yi)),Tn?[En/Tn,Ln/Tn]:xn?[bn/xn,wn/xn]:An?[vn/An,Mn/An]:[NaN,NaN]},s.bounds=function(e){return ci=di=-(ui=li=1/0),j.geo.stream(e,r(mi)),[[ui,li],[ci,di]]},s.projection=function(e){return arguments.length?(r=(i=e)?e.stream||(n=e,t=xi(function(e,t){return n([e*Se,t*Se])}),function(e){return Si(t(e))}):z,u()):i;var n,t},s.context=function(e){return arguments.length?(n=null==(t=e)?new fi:new wi(e),"function"!=typeof o&&n.pointRadius(o),u()):t},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(n.pointRadius(+e),+e),s):o},s.projection(j.geo.albersUsa()).context(null)},j.geo.transform=function(i){return{stream:function(e){var t=new Ei(e);for(var n in i)t[n]=i[n];return t}}},Ei.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},j.geo.projection=Ti,j.geo.projectionMutator=Di,(j.geo.equirectangular=function(){return Ti(Ci)}).raw=Ci.invert=Ci,j.geo.rotation=function(t){function e(e){return(e=t(e[0]*De,e[1]*De))[0]*=Se,e[1]*=Se,e}return t=ki(t[0]%360*De,t[1]*De,2<t.length?t[2]*De:0),e.invert=function(e){return(e=t.invert(e[0]*De,e[1]*De))[0]*=Se,e[1]*=Se,e},e},Ni.invert=Ci,j.geo.circle=function(){var t,r,a=[0,0],n=6;function i(){var e="function"==typeof a?a.apply(this,arguments):a,n=ki(-e[0]*De,-e[1]*De,0).invert,i=[];return r(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=Se,e[1]*=Se}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(a=e,i):a},i.angle=function(e){return arguments.length?(r=zi((t=+e)*De,n*De),i):t},i.precision=function(e){return arguments.length?(r=zi(t*De,(n=+e)*De),i):n},i.angle(90)},j.geo.distance=function(e,t){var n,i=(t[0]-e[0])*De,r=e[1]*De,a=t[1]*De,o=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=l*c-u*d*s)*n),u*c+l*d*s)},j.geo.graticule=function(){var t,n,i,r,a,o,s,u,l,c,d,h,p=10,m=p,f=90,g=360,_=2.5;function y(){return{type:"MultiLineString",coordinates:e()}}function e(){return j.range(Math.ceil(r/f)*f,i,f).map(d).concat(j.range(Math.ceil(u/g)*g,s,g).map(h)).concat(j.range(Math.ceil(n/p)*p,t,p).filter(function(e){return I(e%f)>be}).map(l)).concat(j.range(Math.ceil(o/m)*m,a,m).filter(function(e){return I(e%g)>be}).map(c))}return y.lines=function(){return e().map(function(e){return{type:"LineString",coordinates:e}})},y.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(s).slice(1),d(i).reverse().slice(1),h(u).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.majorExtent(e).minorExtent(e):y.minorExtent()},y.majorExtent=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],u=+e[0][1],s=+e[1][1],i<r&&(e=r,r=i,i=e),s<u&&(e=u,u=s,s=e),y.precision(_)):[[r,u],[i,s]]},y.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],a=+e[1][1],t<n&&(e=n,n=t,t=e),a<o&&(e=o,o=a,a=e),y.precision(_)):[[n,o],[t,a]]},y.step=function(e){return arguments.length?y.majorStep(e).minorStep(e):y.minorStep()},y.majorStep=function(e){return arguments.length?(f=+e[0],g=+e[1],y):[f,g]},y.minorStep=function(e){return arguments.length?(p=+e[0],m=+e[1],y):[p,m]},y.precision=function(e){return arguments.length?(_=+e,l=Pi(o,a,90),c=Yi(n,t,_),d=Pi(u,s,90),h=Yi(r,i,_),y):_},y.majorExtent([[-180,-90+be],[180,90-be]]).minorExtent([[-180,-80-be],[180,80+be]])},j.geo.greatArc=function(){var t,n,i=Bi,r=Ui;function a(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}return a.distance=function(){return j.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},a.source=function(e){return arguments.length?(t="function"==typeof(i=e)?null:e,a):i},a.target=function(e){return arguments.length?(n="function"==typeof(r=e)?null:e,a):r},a.precision=function(){return arguments.length?a:0},a},j.geo.interpolate=function(e,t){return n=e[0]*De,i=e[1]*De,r=t[0]*De,a=t[1]*De,o=Math.cos(i),s=Math.sin(i),u=Math.cos(a),l=Math.sin(a),c=o*Math.cos(n),d=o*Math.sin(n),h=u*Math.cos(r),p=u*Math.sin(r),m=2*Math.asin(Math.sqrt(Oe(a-i)+o*u*Oe(r-n))),f=1/Math.sin(m),(g=m?function(e){var t=Math.sin(e*=m)*f,n=Math.sin(m-e)*f,i=n*c+t*h,r=n*d+t*p,a=n*s+t*l;return[Math.atan2(r,i)*Se,Math.atan2(a,Math.sqrt(i*i+r*r))*Se]}:function(){return[n*Se,i*Se]}).distance=m,g;var n,i,r,a,o,s,u,l,c,d,h,p,m,f,g},j.geo.length=function(e){return _i=0,j.geo.stream(e,Hi),_i};var Hi={sphere:C,point:C,lineStart:function(){var o,s,u;function n(e,t){var n=Math.sin(t*=De),i=Math.cos(t),r=I((e*=De)-o),a=Math.cos(r);_i+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=u*n-s*i*a)*r),s*n+u*i*a),o=e,s=n,u=i}Hi.point=function(e,t){o=e*De,s=Math.sin(t*=De),u=Math.cos(t),Hi.point=n},Hi.lineEnd=function(){Hi.point=Hi.lineEnd=C}},lineEnd:C,polygonStart:C,polygonEnd:C};function Fi(a,o){function e(e,t){var n=Math.cos(e),i=Math.cos(t),r=a(n*i);return[r*i*Math.sin(e),r*Math.sin(t)]}return e.invert=function(e,t){var n=Math.sqrt(e*e+t*t),i=o(n),r=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*r,n*a),Math.asin(n&&t*r/n)]},e}var Gi=Fi(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(j.geo.azimuthalEqualArea=function(){return Ti(Gi)}).raw=Gi;var Vi=Fi(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},z);function Wi(e,t){var n=Math.cos(e),i=function(e){return Math.tan(xe/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),a=n*Math.pow(i(e),r)/r;if(!r)return Zi;function o(e,t){0<a?t<-Te+be&&(t=-Te+be):Te-be<t&&(t=Te-be);var n=a/Math.pow(i(t),r);return[n*Math.sin(r*e),a-n*Math.cos(r*e)]}return o.invert=function(e,t){var n=a-t,i=Ce(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(a/i,1/r))-Te]},o}function Qi(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(I(i)<be)return Ci;function a(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}return a.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-Ce(i)*Math.sqrt(e*e+n*n)]},a}(j.geo.azimuthalEquidistant=function(){return Ti(Vi)}).raw=Vi,(j.geo.conicConformal=function(){return ri(Wi)}).raw=Wi,(j.geo.conicEquidistant=function(){return ri(Qi)}).raw=Qi;var qi=Fi(function(e){return 1/e},Math.atan);function Zi(e,t){return[e,Math.log(Math.tan(xe/4+t/2))]}function Xi(e){var r,a=Ti(e),o=a.scale,s=a.translate,u=a.clipExtent;return a.scale=function(){var e=o.apply(a,arguments);return e===a?r?a.clipExtent(null):a:e},a.translate=function(){var e=s.apply(a,arguments);return e===a?r?a.clipExtent(null):a:e},a.clipExtent=function(e){var t=u.apply(a,arguments);if(t===a){if(r=null==e){var n=xe*o(),i=s();u([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(t=null);return t},a.clipExtent(null)}(j.geo.gnomonic=function(){return Ti(qi)}).raw=qi,Zi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Te]},(j.geo.mercator=function(){return Xi(Zi)}).raw=Zi;var Ji=Fi(function(){return 1},Math.asin);(j.geo.orthographic=function(){return Ti(Ji)}).raw=Ji;var Ki=Fi(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function $i(e,t){return[Math.log(Math.tan(xe/4+t/2)),-e]}function er(e){return e[0]}function tr(e){return e[1]}function nr(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;1<i&&Ne(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ir(e,t){return e[0]-t[0]||e[1]-t[1]}(j.geo.stereographic=function(){return Ti(Ki)}).raw=Ki,$i.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Te]},(j.geo.transverseMercator=function(){var e=Xi($i),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],2<e.length?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=$i,j.geom={},j.geom.hull=function(e){var h=er,p=tr;if(arguments.length)return t(e);function t(e){if(e.length<3)return[];var t,n=ft(h),i=ft(p),r=e.length,a=[],o=[];for(t=0;t<r;t++)a.push([+n.call(this,e[t],t),+i.call(this,e[t],t),t]);for(a.sort(ir),t=0;t<r;t++)o.push([a[t][0],-a[t][1]]);var s=nr(a),u=nr(o),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],d=[];for(t=s.length-1;0<=t;--t)d.push(e[a[s[t]][2]]);for(t=+l;t<u.length-c;++t)d.push(e[a[u[t]][2]]);return d}return t.x=function(e){return arguments.length?(h=e,t):h},t.y=function(e){return arguments.length?(p=e,t):p},t},j.geom.polygon=function(e){return U(e,rr),e};var rr=j.geom.polygon.prototype=[];function ar(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function or(e,t,n,i){var r=e[0],a=n[0],o=t[0]-r,s=i[0]-a,u=e[1],l=n[1],c=t[1]-u,d=i[1]-l,h=(s*(u-l)-d*(r-a))/(d*o-s*c);return[r+h*o,u+h*c]}function sr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}rr.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},rr.centroid=function(e){var t,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},rr.clip=function(e){for(var t,n,i,r,a,o,s=sr(e),u=-1,l=this.length-sr(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,r=this[u],a=t[(i=t.length-s)-1],n=-1;++n<i;)ar(o=t[n],c,r)?(ar(a,c,r)||e.push(or(a,o,c,r)),e.push(o)):ar(a,c,r)&&e.push(or(a,o,c,r)),a=o;s&&e.push(e[0]),c=r}return e};var ur,lr,cr,dr,hr,pr=[],mr=[];function fr(){Ir(this),this.edge=this.site=this.circle=null}function gr(e){var t=pr.pop()||new fr;return t.site=e,t}function _r(e){Lr(e),cr.remove(e),pr.push(e),Ir(e)}function yr(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},a=e.P,o=e.N,s=[e];_r(e);for(var u=a;u.circle&&I(n-u.circle.x)<be&&I(i-u.circle.cy)<be;)a=u.P,s.unshift(u),_r(u),u=a;s.unshift(u),Lr(u);for(var l=o;l.circle&&I(n-l.circle.x)<be&&I(i-l.circle.cy)<be;)o=l.N,s.push(l),_r(l),l=o;s.push(l),Lr(l);var c,d=s.length;for(c=1;c<d;++c)l=s[c],u=s[c-1],Cr(l.edge,u.site,l.site,r);u=s[0],(l=s[d-1]).edge=Sr(u.site,l.site,null,r),Er(u),Er(l)}function vr(e){for(var t,n,i,r,a=e.x,o=e.y,s=cr._;s;)if(i=Mr(s,o)-a,be<i)s=s.L;else{if(r=a-Ar(s,o),!(be<r)){-be<i?(t=s.P,n=s):-be<r?n=(t=s).N:t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=gr(e);if(cr.insert(t,u),t||n){if(t===n)return Lr(t),n=gr(t.site),cr.insert(u,n),u.edge=n.edge=Sr(t.site,u.site),Er(t),void Er(n);if(n){Lr(t),Lr(n);var l=t.site,c=l.x,d=l.y,h=e.x-c,p=e.y-d,m=n.site,f=m.x-c,g=m.y-d,_=2*(h*g-p*f),y=h*h+p*p,v=f*f+g*g,M={x:(g*y-p*v)/_+c,y:(h*v-f*y)/_+d};Cr(n.edge,l,m,M),u.edge=Sr(l,e,null,M),n.edge=Sr(e,m,null,M),Er(t),Er(n)}else u.edge=Sr(t.site,u.site)}}function Mr(e,t){var n=e.site,i=n.x,r=n.y,a=r-t;if(!a)return i;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,u=n.y,l=u-t;if(!l)return s;var c=s-i,d=1/a-1/l,h=c/l;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*l)-u+l/2+r-a/2)))/d+i:(i+s)/2}function Ar(e,t){var n=e.N;if(n)return Mr(n,t);var i=e.site;return i.y===t?i.x:1/0}function br(e){this.site=e,this.edges=[]}function wr(e,t){return t.angle-e.angle}function xr(){Ir(this),this.x=this.y=this.arc=this.site=this.cy=null}function Er(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,a=n.site;if(i!==a){var o=r.x,s=r.y,u=i.x-o,l=i.y-s,c=a.x-o,d=2*(u*(g=a.y-s)-l*c);if(!(-we<=d)){var h=u*u+l*l,p=c*c+g*g,m=(g*h-l*p)/d,f=(u*p-c*h)/d,g=f+s,_=mr.pop()||new xr;_.arc=e,_.site=r,_.x=m+o,_.y=g+Math.sqrt(m*m+f*f),_.cy=g,e.circle=_;for(var y=null,v=hr._;v;)if(_.y<v.y||_.y===v.y&&_.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}hr.insert(y,_),y||(dr=_)}}}}function Lr(e){var t=e.circle;t&&(t.P||(dr=t.N),hr.remove(t),mr.push(t),Ir(t),e.circle=null)}function Tr(e,t){var n=e.b;if(n)return!0;var i,r,a=e.a,o=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,d=e.r,h=c.x,p=c.y,m=d.x,f=d.y,g=(h+m)/2,_=(p+f)/2;if(f===p){if(g<o||s<=g)return;if(m<h){if(a){if(a.y>=l)return}else a={x:g,y:u};n={x:g,y:l}}else{if(a){if(a.y<u)return}else a={x:g,y:l};n={x:g,y:u}}}else if(r=_-(i=(h-m)/(f-p))*g,i<-1||1<i)if(m<h){if(a){if(a.y>=l)return}else a={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(a){if(a.y<u)return}else a={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(p<f){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return e.a=a,e.b=n,!0}function Dr(e,t){this.l=e,this.r=t,this.a=this.b=null}function Sr(e,t,n,i){var r=new Dr(e,t);return ur.push(r),n&&Cr(r,e,t,n),i&&Cr(r,t,e,i),lr[e.i].edges.push(new Nr(r,e,t)),lr[t.i].edges.push(new Nr(r,t,e)),r}function Cr(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Nr(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function kr(){this._=null}function Ir(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function jr(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Or(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function zr(e){for(;e.L;)e=e.L;return e}function Rr(e,t){var n,i,r,a=e.sort(Pr).pop();for(ur=[],lr=new Array(e.length),cr=new kr,hr=new kr;;)if(r=dr,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(lr[a.i]=new br(a),vr(a),n=a.x,i=a.y),a=e.pop();else{if(!r)break;yr(r.arc)}t&&(function(e){for(var t,n=ur,i=ti(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(!Tr(t=n[r],e)||!i(t)||I(t.a.x-t.b.x)<be&&I(t.a.y-t.b.y)<be)&&(t.a=t.b=null,n.splice(r,1))}(t),function(e){for(var t,n,i,r,a,o,s,u,l,c,d=e[0][0],h=e[1][0],p=e[0][1],m=e[1][1],f=lr,g=f.length;g--;)if((a=f[g])&&a.prepare())for(u=(s=a.edges).length,o=0;o<u;)i=(c=s[o].end()).x,r=c.y,t=(l=s[++o%u].start()).x,n=l.y,(I(i-t)>be||I(r-n)>be)&&(s.splice(o,0,new Nr((_=a.site,y=c,v=I(i-d)<be&&be<m-r?{x:d,y:I(t-d)<be?n:m}:I(r-m)<be&&be<h-i?{x:I(n-m)<be?t:h,y:m}:I(i-h)<be&&be<r-p?{x:h,y:I(t-h)<be?n:p}:I(r-p)<be&&be<i-d?{x:I(n-p)<be?t:d,y:p}:null,M=void 0,M=new Dr(_,null),M.a=y,M.b=v,ur.push(M),M),a.site,null)),++u);var _,y,v,M}(t));var o={cells:lr,edges:ur};return cr=hr=ur=lr=null,o}function Pr(e,t){return t.y-e.y||t.x-e.x}br.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(wr),t.length},Nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},kr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=zr(this._),t.P=null,(t.N=e).P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(jr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Or(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Or(this,n),n=(e=n).U),n.C=!1,i.C=!0,jr(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,a=e.L,o=e.R;if(n=a?o?zr(o):a:o,r?r.L===e?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=e.C,((n.L=a).U=n)!==o?(r=n.U,n.U=e.U,e=n.R,r.L=e,(n.R=o).U=n):(n.U=r,e=(r=n).R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,jr(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Or(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,jr(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Or(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,jr(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Or(this,r),e=this._;break}t.C=!0,r=(e=r).U}while(!e.C);e&&(e.C=!1)}}},j.geom.voronoi=function(e){var t=er,n=tr,i=t,r=n,c=Yr;if(e)return a(e);function a(r){var a=new Array(r.length),o=c[0][0],s=c[0][1],u=c[1][0],l=c[1][1];return Rr(d(r),c).cells.forEach(function(e,t){var n=e.edges,i=e.site;(a[t]=n.length?n.map(function(e){var t=e.start();return[t.x,t.y]}):i.x>=o&&i.x<=u&&i.y>=s&&i.y<=l?[[o,l],[u,l],[u,s],[o,s]]:[]).point=r[t]}),a}function d(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/be)*be,y:Math.round(r(e,t)/be)*be,i:t}})}return a.links=function(t){return Rr(d(t)).edges.filter(function(e){return e.l&&e.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(h){var p=[];return Rr(d(h)).cells.forEach(function(e,t){for(var n,i,r,a,o=e.site,s=e.edges.sort(wr),u=-1,l=s.length,c=s[l-1].edge,d=c.l===o?c.r:c.l;++u<l;)c,n=d,d=(c=s[u].edge).l===o?c.r:c.l,t<n.i&&t<d.i&&(r=n,a=d,((i=o).x-a.x)*(r.y-i.y)-(i.x-r.x)*(a.y-i.y)<0)&&p.push([h[t],h[n.i],h[d.i]])}),p},a.x=function(e){return arguments.length?(i=ft(t=e),a):t},a.y=function(e){return arguments.length?(r=ft(n=e),a):n},a.clipExtent=function(e){return arguments.length?(c=null==e?Yr:e,a):c===Yr?null:c},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):c===Yr?null:c&&c[1]},a};var Yr=[[-1e6,-1e6],[1e6,1e6]];function Br(e){return e.x}function Ur(e){return e.y}function Hr(e,t){e=j.rgb(e),t=j.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,o=t.g-i,s=t.b-r;return function(e){return"#"+ut(Math.round(n+a*e))+ut(Math.round(i+o*e))+ut(Math.round(r+s*e))}}function Fr(e,t){var n,i={},r={};for(n in e)n in t?i[n]=qr(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function Gr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Vr(e,i){var t,n,r,a=Wr.lastIndex=Qr.lastIndex=0,o=-1,s=[],u=[];for(e+="",i+="";(t=Wr.exec(e))&&(n=Qr.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(t=t[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:Gr(t,n)})),a=Qr.lastIndex;return a<i.length&&(r=i.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?(i=u[0].x,function(e){return i(e)+""}):function(){return i}:(i=u.length,function(e){for(var t,n=0;n<i;++n)s[(t=u[n]).i]=t.x(e);return s.join("")})}j.geom.delaunay=function(e){return j.geom.voronoi().triangles(e)},j.geom.quadtree=function(e,y,v,M,A){var b,w=er,E=tr;if(b=arguments.length)return w=Br,E=Ur,3===b&&(A=v,M=y,v=y=0),t(e);function t(e){var t,n,i,r,a,o,s,u,l,c=ft(w),d=ft(E);if(null!=y)o=y,s=v,u=M,l=A;else if(u=l=-(o=s=1/0),n=[],i=[],a=e.length,b)for(r=0;r<a;++r)(t=e[r]).x<o&&(o=t.x),t.y<s&&(s=t.y),t.x>u&&(u=t.x),t.y>l&&(l=t.y),n.push(t.x),i.push(t.y);else for(r=0;r<a;++r){var h=+c(t=e[r],r),p=+d(t,r);h<o&&(o=h),p<s&&(s=p),u<h&&(u=h),l<p&&(l=p),n.push(h),i.push(p)}var m=u-o,f=l-s;function g(e,t,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var u=e.x,l=e.y;if(null!=u)if(I(u-n)+I(l-i)<.01)_(e,t,n,i,r,a,o,s);else{var c=e.point;e.x=e.y=e.point=null,_(e,c,u,l,r,a,o,s),_(e,t,n,i,r,a,o,s)}else e.x=n,e.y=i,e.point=t}else _(e,t,n,i,r,a,o,s)}function _(e,t,n,i,r,a,o,s){var u=.5*(r+o),l=.5*(a+s),c=u<=n,d=l<=i,h=d<<1|c;e.leaf=!1,c?r=u:o=u,d?a=l:s=l,g(e=e.nodes[h]||(e.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,i,r,a,o,s)}f<m?l=s+m:u=o+f;var x={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){g(x,e,+c(e,++r),+d(e,r),o,s,u,l)}};if(x.visit=function(e){!function e(t,n,i,r,a,o){if(!t(n,i,r,a,o)){var s=.5*(i+a),u=.5*(r+o),l=n.nodes;l[0]&&e(t,l[0],i,r,s,u),l[1]&&e(t,l[1],s,r,a,u),l[2]&&e(t,l[2],i,u,s,o),l[3]&&e(t,l[3],s,u,a,o)}}(e,x,o,s,u,l)},x.find=function(e){return t=x,g=e[0],_=e[1],w=1/0,function e(t,n,i,r,a){if(!(M<n||A<i||r<y||a<v)){if(o=t.point){var o,s=g-t.x,u=_-t.y,l=s*s+u*u;if(l<w){var c=Math.sqrt(w=l);y=g-c,v=_-c,M=g+c,A=_+c,b=o}}for(var d=t.nodes,h=.5*(n+r),p=.5*(i+a),m=(p<=_)<<1|h<=g,f=m+4;m<f;++m)if(t=d[3&m])switch(3&m){case 0:e(t,n,i,h,p);break;case 1:e(t,h,i,r,p);break;case 2:e(t,n,p,h,a);break;case 3:e(t,h,p,r,a)}}}(t,y=o,v=s,M=u,A=l),b;var t,g,_,y,v,M,A,b,w},r=-1,null==y){for(;++r<a;)g(x,e[r],n[r],i[r],o,s,u,l);--r}else e.forEach(x.add);return n=i=e=t=null,x}return t.x=function(e){return arguments.length?(w=e,t):w},t.y=function(e){return arguments.length?(E=e,t):E},t.extent=function(e){return arguments.length?(null==e?y=v=M=A=null:(y=+e[0][0],v=+e[0][1],M=+e[1][0],A=+e[1][1]),t):null==y?null:[[y,v],[M,A]]},t.size=function(e){return arguments.length?(null==e?y=v=M=A=null:(y=v=0,M=+e[0],A=+e[1]),t):null==y?null:[M-y,A-v]},t},j.interpolateRgb=Hr,j.interpolateObject=Fr,j.interpolateNumber=Gr,j.interpolateString=Vr;var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qr=new RegExp(Wr.source,"g");function qr(e,t){for(var n,i=j.interpolators.length;0<=--i&&!(n=j.interpolators[i](e,t)););return n}function Zr(e,t){var n,i=[],r=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)i.push(qr(e[n],t[n]));for(;n<a;++n)r[n]=e[n];for(;n<o;++n)r[n]=t[n];return function(e){for(n=0;n<s;++n)r[n]=i[n](e);return r}}j.interpolate=qr,j.interpolators=[function(e,t){var n=typeof t;return("string"===n?mt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Hr:Vr:t instanceof Be?Hr:Array.isArray(t)?Zr:"object"===n&&isNaN(t)?Fr:Gr)(e,t)}],j.interpolateArray=Zr;var Xr=function(){return z},Jr=j.map({linear:Xr,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ta},cubic:function(){return na},sin:function(){return ra},exp:function(){return aa},circle:function(){return oa},elastic:function(t,n){var i;arguments.length<2&&(n=.45);arguments.length?i=n/Ee*Math.asin(1/t):(t=1,i=n/4);return function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-i)*Ee/n)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return sa}}),Kr=j.map({in:z,out:$r,"in-out":ea,"out-in":function(e){return ea($r(e))}});function $r(t){return function(e){return 1-t(1-e)}}function ea(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ta(e){return e*e}function na(e){return e*e*e}function ia(e){if(e<=0)return 0;if(1<=e)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function ra(e){return 1-Math.cos(e*Te)}function aa(e){return Math.pow(2,10*(e-1))}function oa(e){return 1-Math.sqrt(1-e*e)}function sa(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ua(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function la(e){var t,n,i,r=[e.a,e.b],a=[e.c,e.d],o=da(r),s=ca(r,a),u=da(((t=a)[0]+=(i=-s)*(n=r)[0],t[1]+=i*n[1],t))||0;r[0]*a[1]<a[0]*r[1]&&(r[0]*=-1,r[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*Se,this.translate=[e.e,e.f],this.scale=[o,u],this.skew=u?Math.atan2(s,u)*Se:0}function ca(e,t){return e[0]*t[0]+e[1]*t[1]}function da(e){var t=Math.sqrt(ca(e,e));return t&&(e[0]/=t,e[1]/=t),t}j.ease=function(e){var t,n=e.indexOf("-"),i=0<=n?e.slice(0,n):e,r=0<=n?e.slice(n+1):"in";return i=Jr.get(i)||Xr,r=Kr.get(r)||z,t=r(i.apply(null,a.call(arguments,1))),function(e){return e<=0?0:1<=e?1:t(e)}},j.interpolateHcl=function(e,t){e=j.hcl(e),t=j.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,o=t.c-i,s=t.l-r;isNaN(o)&&(o=0,i=isNaN(i)?t.c:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):180<a?a-=360:a<-180&&(a+=360);return function(e){return We(n+a*e,i+o*e,r+s*e)+""}},j.interpolateHsl=function(e,t){e=j.hsl(e),t=j.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,o=t.s-i,s=t.l-r;isNaN(o)&&(o=0,i=isNaN(i)?t.s:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):180<a?a-=360:a<-180&&(a+=360);return function(e){return Fe(n+a*e,i+o*e,r+s*e)+""}},j.interpolateLab=function(e,t){e=j.lab(e),t=j.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,o=t.a-i,s=t.b-r;return function(e){return $e(n+a*e,i+o*e,r+s*e)+""}},j.interpolateRound=ua,j.transform=function(e){var n=v.createElementNS(j.ns.prefix.svg,"g");return(j.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new la(t?t.matrix:ha)})(e)},la.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ha={a:1,b:0,c:0,d:1,e:0,f:0};function pa(e){return e.length?e.pop()+",":""}function ma(e,t){var n,i,r,a,o,s,u,l,c=[],d=[];return e=j.transform(e),t=j.transform(t),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Gr(e[0],t[0])},{i:r-2,x:Gr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,c,d),n=e.rotate,i=t.rotate,r=c,a=d,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),a.push({i:r.push(pa(r)+"rotate(",null,")")-2,x:Gr(n,i)})):i&&r.push(pa(r)+"rotate("+i+")"),o=e.skew,s=t.skew,u=c,l=d,o!==s?l.push({i:u.push(pa(u)+"skewX(",null,")")-2,x:Gr(o,s)}):s&&u.push(pa(u)+"skewX("+s+")"),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(pa(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Gr(e[0],t[0])},{i:r-2,x:Gr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(pa(n)+"scale("+t+")")}(e.scale,t.scale,c,d),e=t=null,function(e){for(var t,n=-1,i=d.length;++n<i;)c[(t=d[n]).i]=t.x(e);return c.join("")}}function fa(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function ga(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function _a(e){for(var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=ya(e),i=ya(t),r=n.pop(),a=i.pop(),o=null;for(;r===a;)o=r,r=n.pop(),a=i.pop();return o}(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function ya(e){for(var t=[],n=e.parent;null!=n;)t.push(e),n=(e=n).parent;return t.push(e),t}function va(e){e.fixed|=2}function Ma(e){e.fixed&=-7}function Aa(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ba(e){e.fixed&=-5}j.interpolateTransform=ma,j.layout={},j.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(_a(e[n]));return t}},j.layout.chord=function(){var g,_,y,v,M,A,b,t={},w=0;function e(){var e,t,n,i,r,a={},o=[],s=j.range(v),u=[];for(g=[],_=[],e=0,i=-1;++i<v;){for(t=0,r=-1;++r<v;)t+=y[i][r];o.push(t),u.push(j.range(v)),e+=t}for(M&&s.sort(function(e,t){return M(o[e],o[t])}),A&&u.forEach(function(e,n){e.sort(function(e,t){return A(y[n][e],y[n][t])})}),e=(Ee-w*v)/e,t=0,i=-1;++i<v;){for(n=t,r=-1;++r<v;){var l=s[i],c=u[l][r],d=y[l][c],h=t,p=t+=d*e;a[l+"-"+c]={index:l,subindex:c,startAngle:h,endAngle:p,value:d}}_[l]={index:l,startAngle:n,endAngle:t,value:o[l]},t+=w}for(i=-1;++i<v;)for(r=i-1;++r<v;){var m=a[i+"-"+r],f=a[r+"-"+i];(m.value||f.value)&&g.push(m.value<f.value?{source:f,target:m}:{source:m,target:f})}b&&x()}function x(){g.sort(function(e,t){return b((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return t.matrix=function(e){return arguments.length?(v=(y=e)&&y.length,g=_=null,t):y},t.padding=function(e){return arguments.length?(w=e,g=_=null,t):w},t.sortGroups=function(e){return arguments.length?(M=e,g=_=null,t):M},t.sortSubgroups=function(e){return arguments.length?(A=e,g=null,t):A},t.sortChords=function(e){return arguments.length?(b=e,g&&x(),t):b},t.chords=function(){return g||e(),g},t.groups=function(){return _||e(),_},t},j.layout.force=function(){var d,e,h,p,m,f,r={},g=j.dispatch("start","tick","end"),_=[1,1],y=.9,a=wa,o=xa,v=-30,c=Ea,M=.1,A=.64,b=[],w=[];function x(l){return function(e,t,n,i){if(e.point!==l){var r=e.cx-l.x,a=e.cy-l.y,o=i-t,s=r*r+a*a;if(o*o/A<s){if(s<c){var u=e.charge/s;l.px-=r*u,l.py-=a*u}return!0}if(e.point&&s&&s<c){u=e.pointCharge/s;l.px-=r*u,l.py-=a*u}}return!e.charge}}function t(e){e.px=j.event.x,e.py=j.event.y,r.resume()}return r.tick=function(){if((h*=.99)<.005)return d=null,g.end({type:"end",alpha:h=0}),!0;var e,t,n,i,r,a,o,s,u,l=b.length,c=w.length;for(t=0;t<c;++t)i=(n=w[t]).source,(a=(s=(r=n.target).x-i.x)*s+(u=r.y-i.y)*u)&&(s*=a=h*m[t]*((a=Math.sqrt(a))-p[t])/a,u*=a,r.x-=s*(o=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=u*o,i.x+=s*(o=1-o),i.y+=u*o);if((o=h*M)&&(s=_[0]/2,u=_[1]/2,t=-1,o))for(;++t<l;)(n=b[t]).x+=(s-n.x)*o,n.y+=(u-n.y)*o;if(v)for(!function e(t,n,i){var r=0,a=0;t.charge=0;if(!t.leaf)for(var o,s=t.nodes,u=s.length,l=-1;++l<u;)null!=(o=s[l])&&(e(o,n,i),t.charge+=o.charge,r+=o.charge*o.cx,a+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*i[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,a+=c*t.point.y}t.cx=r/t.charge;t.cy=a/t.charge}(e=j.geom.quadtree(b),h,f),t=-1;++t<l;)(n=b[t]).fixed||e.visit(x(n));for(t=-1;++t<l;)(n=b[t]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);g.tick({type:"tick",alpha:h})},r.nodes=function(e){return arguments.length?(b=e,r):b},r.links=function(e){return arguments.length?(w=e,r):w},r.size=function(e){return arguments.length?(_=e,r):_},r.linkDistance=function(e){return arguments.length?(a="function"==typeof e?e:+e,r):a},r.distance=r.linkDistance,r.linkStrength=function(e){return arguments.length?(o="function"==typeof e?e:+e,r):o},r.friction=function(e){return arguments.length?(y=+e,r):y},r.charge=function(e){return arguments.length?(v="function"==typeof e?e:+e,r):v},r.chargeDistance=function(e){return arguments.length?(c=e*e,r):Math.sqrt(c)},r.gravity=function(e){return arguments.length?(M=+e,r):M},r.theta=function(e){return arguments.length?(A=e*e,r):Math.sqrt(A)},r.alpha=function(e){return arguments.length?(e=+e,h?0<e?h=e:(d.c=null,d.t=NaN,d=null,g.end({type:"end",alpha:h=0})):0<e&&(g.start({type:"start",alpha:h=e}),d=wt(r.tick)),r):h},r.start=function(){var s,u,e,l=b.length,c=w.length,t=_[0],n=_[1];for(s=0;s<l;++s)(e=b[s]).index=s,e.weight=0;for(s=0;s<c;++s)"number"==typeof(e=w[s]).source&&(e.source=b[e.source]),"number"==typeof e.target&&(e.target=b[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<l;++s)e=b[s],isNaN(e.x)&&(e.x=i("x",t)),isNaN(e.y)&&(e.y=i("y",n)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof a)for(s=0;s<c;++s)p[s]=+a.call(this,w[s],s);else for(s=0;s<c;++s)p[s]=a;if(m=[],"function"==typeof o)for(s=0;s<c;++s)m[s]=+o.call(this,w[s],s);else for(s=0;s<c;++s)m[s]=o;if(f=[],"function"==typeof v)for(s=0;s<l;++s)f[s]=+v.call(this,b[s],s);else for(s=0;s<l;++s)f[s]=v;function i(e,t){if(!u){for(u=new Array(l),a=0;a<l;++a)u[a]=[];for(a=0;a<c;++a){var n=w[a];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var i,r=u[s],a=-1,o=r.length;++a<o;)if(!isNaN(i=r[a][e]))return i;return Math.random()*t}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(e||(e=j.behavior.drag().origin(z).on("dragstart.force",va).on("drag.force",t).on("dragend.force",Ma)),!arguments.length)return e;this.on("mouseover.force",Aa).on("mouseout.force",ba).call(e)},j.rebind(r,g,"on")};var wa=20,xa=1,Ea=1/0;function La(e,t){return j.rebind(e,t,"sort","children","value"),(e.nodes=e).links=ka,e}function Ta(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function Da(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(a=e.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(e=i.pop());)t(e)}function Sa(e){return e.children}function Ca(e){return e.value}function Na(e,t){return t.value-e.value}function ka(e){return j.merge(e.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}j.layout.hierarchy=function(){var s=Na,u=Sa,l=Ca;function c(e){var t,n=[e],i=[];for(e.depth=0;null!=(t=n.pop());)if(i.push(t),(a=u.call(c,t,t.depth))&&(r=a.length)){for(var r,a,o;0<=--r;)n.push(o=a[r]),o.parent=t,o.depth=t.depth+1;l&&(t.value=0),t.children=a}else l&&(t.value=+l.call(c,t,t.depth)||0),delete t.children;return Da(e,function(e){var t,n;s&&(t=e.children)&&t.sort(s),l&&(n=e.parent)&&(n.value+=e.value)}),i}return c.sort=function(e){return arguments.length?(s=e,c):s},c.children=function(e){return arguments.length?(u=e,c):u},c.value=function(e){return arguments.length?(l=e,c):l},c.revalue=function(e){return l&&(Ta(e,function(e){e.children&&(e.value=0)}),Da(e,function(e){var t;e.children||(e.value=+l.call(c,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},c},j.layout.partition=function(){var i=j.layout.hierarchy(),r=[1,1];function t(e,t){var n=i.call(this,e,t);return function e(t,n,i,r){var a=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,a&&(o=a.length)){var o,s,u,l=-1;for(i=t.value?i/t.value:0;++l<o;)e(s=a[l],n,u=s.value*i,r),n+=u}}(n[0],0,r[0],r[1]/function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}(n[0])),n}return t.size=function(e){return arguments.length?(r=e,t):r},La(t,i)},j.layout.pie=function(){var h=Number,p=Ia,m=0,f=Ee,g=0;function _(n){var t,e=n.length,i=n.map(function(e,t){return+h.call(_,e,t)}),r=+("function"==typeof m?m.apply(this,arguments):m),a=("function"==typeof f?f.apply(this,arguments):f)-r,o=Math.min(Math.abs(a)/e,+("function"==typeof g?g.apply(this,arguments):g)),s=o*(a<0?-1:1),u=j.sum(i),l=u?(a-e*s)/u:0,c=j.range(e),d=[];return null!=p&&c.sort(p===Ia?function(e,t){return i[t]-i[e]}:function(e,t){return p(n[e],n[t])}),c.forEach(function(e){d[e]={data:n[e],value:t=i[e],startAngle:r,endAngle:r+=t*l+s,padAngle:o}}),d}return _.value=function(e){return arguments.length?(h=e,_):h},_.sort=function(e){return arguments.length?(p=e,_):p},_.startAngle=function(e){return arguments.length?(m=e,_):m},_.endAngle=function(e){return arguments.length?(f=e,_):f},_.padAngle=function(e){return arguments.length?(g=e,_):g},_};var Ia={};function ja(e){return e.x}function Oa(e){return e.y}function za(e,t,n){e.y0=t,e.y=n}j.layout.stack=function(){var d=z,h=Ya,p=Ba,m=za,f=ja,g=Oa;function _(e,t){if(!(a=e.length))return e;var n=e.map(function(e,t){return d.call(_,e,t)}),i=n.map(function(e){return e.map(function(e,t){return[f.call(_,e,t),g.call(_,e,t)]})}),r=h.call(_,i,t);n=j.permute(n,r),i=j.permute(i,r);var a,o,s,u,l=p.call(_,i,t),c=n[0].length;for(s=0;s<c;++s)for(m.call(_,n[0][s],u=l[s],i[0][s][1]),o=1;o<a;++o)m.call(_,n[o][s],u+=i[o-1][s][1],i[o][s][1]);return e}return _.values=function(e){return arguments.length?(d=e,_):d},_.order=function(e){return arguments.length?(h="function"==typeof e?e:Ra.get(e)||Ya,_):h},_.offset=function(e){return arguments.length?(p="function"==typeof e?e:Pa.get(e)||Ba,_):p},_.x=function(e){return arguments.length?(f=e,_):f},_.y=function(e){return arguments.length?(g=e,_):g},_.out=function(e){return arguments.length?(m=e,_):m},_};var Ra=j.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(Ua),a=e.map(Ha),o=j.range(i).sort(function(e,t){return r[e]-r[t]}),s=0,u=0,l=[],c=[];for(t=0;t<i;++t)n=o[t],s<u?(s+=a[n],l.push(n)):(u+=a[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return j.range(e.length).reverse()},default:Ya}),Pa=j.map({silhouette:function(e){var t,n,i,r=e.length,a=e[0].length,o=[],s=0,u=[];for(n=0;n<a;++n){for(i=t=0;t<r;t++)i+=e[t][n][1];s<i&&(s=i),o.push(i)}for(n=0;n<a;++n)u[n]=(s-o[n])/2;return u},wiggle:function(e){var t,n,i,r,a,o,s,u,l,c=e.length,d=e[0],h=d.length,p=[];for(p[0]=u=l=0,n=1;n<h;++n){for(r=t=0;t<c;++t)r+=e[t][n][1];for(a=t=0,s=d[n][0]-d[n-1][0];t<c;++t){for(i=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)o+=(e[i][n][1]-e[i][n-1][1])/s;a+=o*e[t][n][1]}p[n]=u-=r?a/r*s:0,u<l&&(l=u)}for(n=0;n<h;++n)p[n]-=l;return p},expand:function(e){var t,n,i,r=e.length,a=e[0].length,o=1/r,s=[];for(n=0;n<a;++n){for(i=t=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:Ba});function Ya(e){return j.range(e.length)}function Ba(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function Ua(e){for(var t,n=1,i=0,r=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function Ha(e){return e.reduce(Fa,0)}function Fa(e,t){return e+t[1]}function Ga(e,t){return Va(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Va(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,a=[];++n<=t;)a[n]=r*n+i;return a}function Wa(e){return[j.min(e),j.max(e)]}function Qa(e,t){return e.value-t.value}function qa(e,t){var n=e._pack_next;(e._pack_next=t)._pack_prev=e,(t._pack_next=n)._pack_prev=t}function Za(e,t){(e._pack_next=t)._pack_prev=e}function Xa(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return n*n+i*i<.999*r*r}function Ja(e){if((t=e.children)&&(u=t.length)){var t,n,i,r,a,o,s,u,l=1/0,c=-1/0,d=1/0,h=-1/0;if(t.forEach(Ka),(n=t[0]).x=-n.r,n.y=0,v(n),1<u&&((i=t[1]).x=i.r,i.y=0,v(i),2<u))for(eo(n,i,r=t[2]),v(r),qa(n,r),qa(n._pack_prev=r,i),i=n._pack_next,a=3;a<u;a++){eo(n,i,r=t[a]);var p=0,m=1,f=1;for(o=i._pack_next;o!==i;o=o._pack_next,m++)if(Xa(o,r)){p=1;break}if(1==p)for(s=n._pack_prev;s!==o._pack_prev&&!Xa(s,r);s=s._pack_prev,f++);p?(m<f||m==f&&i.r<n.r?Za(n,i=o):Za(n=s,i),a--):(qa(n,r),v(i=r))}var g=(l+c)/2,_=(d+h)/2,y=0;for(a=0;a<u;a++)(r=t[a]).x-=g,r.y-=_,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=y,t.forEach($a)}function v(e){l=Math.min(e.x-e.r,l),c=Math.max(e.x+e.r,c),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}}function Ka(e){e._pack_next=e._pack_prev=e}function $a(e){delete e._pack_next,delete e._pack_prev}function eo(e,t,n){var i=e.r+n.r,r=t.x-e.x,a=t.y-e.y;if(i&&(r||a)){var o=t.r+n.r,s=r*r+a*a,u=.5+((i*=i)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=e.x+u*r+l*a,n.y=e.y+u*a-l*r}else n.x=e.x+i,n.y=e.y}function to(e,t){return e.parent==t.parent?1:2}function no(e){var t=e.children;return t.length?t[0]:e.t}function io(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ro(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function ao(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function oo(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),a<0&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function so(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function uo(e){return e.rangeExtent?e.rangeExtent():so(e.range())}function lo(e,t,n,i){var r=n(e[0],e[1]),a=i(t[0],t[1]);return function(e){return a(r(e))}}function co(e,t){var n,i=0,r=e.length-1,a=e[i],o=e[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),e[i]=t.floor(a),e[r]=t.ceil(o),e}function ho(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:po}j.layout.histogram=function(){var d=!0,h=Number,p=Wa,m=Ga;function n(e,t){for(var n,i,r=[],a=e.map(h,this),o=p.call(this,a,t),s=m.call(this,o,a,t),u=(t=-1,a.length),l=s.length-1,c=d?1:1/u;++t<l;)(n=r[t]=[]).dx=s[t+1]-(n.x=s[t]),n.y=0;if(0<l)for(t=-1;++t<u;)(i=a[t])>=o[0]&&i<=o[1]&&((n=r[j.bisect(s,i,1,l)-1]).y+=c,n.push(e[t]));return r}return n.value=function(e){return arguments.length?(h=e,n):h},n.range=function(e){return arguments.length?(p=ft(e),n):p},n.bins=function(t){return arguments.length?(m="number"==typeof t?function(e){return Va(e,t)}:ft(t),n):m},n.frequency=function(e){return arguments.length?(d=!!e,n):d},n},j.layout.pack=function(){var u,l=j.layout.hierarchy().sort(Qa),c=0,d=[1,1];function t(e,t){var n=l.call(this,e,t),i=n[0],r=d[0],a=d[1],o=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(i.x=i.y=0,Da(i,function(e){e.r=+o(e.value)}),Da(i,Ja),c){var s=c*(u?1:Math.max(2*i.r/r,2*i.r/a))/2;Da(i,function(e){e.r+=s}),Da(i,Ja),Da(i,function(e){e.r-=s})}return function e(t,n,i,r){var a=t.children;t.x=n+=r*t.x;t.y=i+=r*t.y;t.r*=r;if(a)for(var o=-1,s=a.length;++o<s;)e(a[o],n,i,r)}(i,r/2,a/2,u?1:1/Math.max(2*i.r/r,2*i.r/a)),n}return t.size=function(e){return arguments.length?(d=e,t):d},t.radius=function(e){return arguments.length?(u=null==e||"function"==typeof e?e:+e,t):u},t.padding=function(e){return arguments.length?(c=+e,t):c},La(t,l)},j.layout.tree=function(){var d=j.layout.hierarchy().sort(null).value(null),f=to,h=[1,1],p=null;function t(e,t){var n=d.call(this,e,t),i=n[0],r=function(e){var t,n={A:null,children:[e]},i=[n];for(;null!=(t=i.pop());)for(var r,a=t.children,o=0,s=a.length;o<s;++o)i.push((a[o]=r={_:a[o],parent:t,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}(i);if(Da(r,m),r.parent.m=-r.z,Ta(r,g),p)Ta(i,_);else{var a=i,o=i,s=i;Ta(i,function(e){e.x<a.x&&(a=e),e.x>o.x&&(o=e),e.depth>s.depth&&(s=e)});var u=f(a,o)/2-a.x,l=h[0]/(o.x+f(o,a)/2+u),c=h[1]/(s.depth||1);Ta(i,function(e){e.x=(e.x+u)*l,e.y=e.depth*c})}return n}function m(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){!function(e){var t,n=0,i=0,r=e.children,a=r.length;for(;0<=--a;)(t=r[a]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var r=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+f(e._,i._),e.m=e.z-r):e.z=r}else i&&(e.z=i.z+f(e._,i._));e.parent.A=function(e,t,n){if(t){for(var i,r=e,a=e,o=t,s=r.parent.children[0],u=r.m,l=a.m,c=o.m,d=s.m;o=io(o),r=no(r),o&&r;)s=no(s),(a=io(a)).a=e,0<(i=o.z+c-r.z-u+f(o._,r._))&&(ro((p=e,m=n,(h=o).a.parent===p.parent?h.a:m),e,i),u+=i,l+=i),c+=o.m,u+=r.m,d+=s.m,l+=a.m;o&&!io(a)&&(a.t=o,a.m+=c-l),r&&!no(s)&&(s.t=r,s.m+=u-d,n=e)}var h,p,m;return n}(e,i,e.parent.A||n[0])}function g(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function _(e){e.x*=h[0],e.y=e.depth*h[1]}return t.separation=function(e){return arguments.length?(f=e,t):f},t.size=function(e){return arguments.length?(p=null==(h=e)?_:null,t):p?null:h},t.nodeSize=function(e){return arguments.length?(p=null==(h=e)?null:_,t):p?h:null},La(t,d)},j.layout.cluster=function(){var c=j.layout.hierarchy().sort(null).value(null),d=to,h=[1,1],p=!1;function t(e,t){var r,n=c.call(this,e,t),i=n[0],a=0;Da(i,function(e){var t,n,i=e.children;i&&i.length?(e.x=(n=i).reduce(function(e,t){return e+t.x},0)/n.length,e.y=(t=i,1+j.max(t,function(e){return e.y}))):(e.x=r?a+=d(e,r):0,e.y=0,r=e)});var o=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(i),s=function e(t){var n,i=t.children;return i&&(n=i.length)?e(i[n-1]):t}(i),u=o.x-d(o,s)/2,l=s.x+d(s,o)/2;return Da(i,p?function(e){e.x=(e.x-i.x)*h[0],e.y=(i.y-e.y)*h[1]}:function(e){e.x=(e.x-u)/(l-u)*h[0],e.y=(1-(i.y?e.y/i.y:1))*h[1]}),n}return t.separation=function(e){return arguments.length?(d=e,t):d},t.size=function(e){return arguments.length?(p=null==(h=e),t):p?null:h},t.nodeSize=function(e){return arguments.length?(p=null!=(h=e),t):p?h:null},La(t,c)},j.layout.treemap=function(){var i,r=j.layout.hierarchy(),c=Math.round,a=[1,1],o=null,d=ao,s=!1,h="squarify",u=.5*(1+Math.sqrt(5));function p(e,t){for(var n,i,r=-1,a=e.length;++r<a;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function m(e){var t=e.children;if(t&&t.length){var n,i,r,a=d(e),o=[],s=t.slice(),u=1/0,l="slice"===h?a.dx:"dice"===h?a.dy:"slice-dice"===h?1&e.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(p(s,a.dx*a.dy/e.value),o.area=0;0<(r=s.length);)o.push(n=s[r-1]),o.area+=n.area,"squarify"!==h||(i=f(o,l))<=u?(s.pop(),u=i):(o.area-=o.pop().area,g(o,l,a,!1),l=Math.min(a.dx,a.dy),o.length=o.area=0,u=1/0);o.length&&(g(o,l,a,!0),o.length=o.area=0),t.forEach(m)}}function l(e){var t=e.children;if(t&&t.length){var n,i=d(e),r=t.slice(),a=[];for(p(r,i.dx*i.dy/e.value),a.area=0;n=r.pop();)a.push(n),a.area+=n.area,null!=n.z&&(g(a,n.z?i.dx:i.dy,i,!r.length),a.length=a.area=0);t.forEach(l)}}function f(e,t){for(var n,i=e.area,r=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(n<a&&(a=n),r<n&&(r=n));return t*=t,(i*=i)?Math.max(t*r*u/i,i/(t*a*u)):1/0}function g(e,t,n,i){var r,a=-1,o=e.length,s=n.x,u=n.y,l=t?c(e.area/t):0;if(t==n.dx){for((i||l>n.dy)&&(l=n.dy);++a<o;)(r=e[a]).x=s,r.y=u,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?c(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++a<o;)(r=e[a]).x=s,r.y=u,r.dx=l,u+=r.dy=Math.min(n.y+n.dy-u,l?c(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function _(e){var t=i||r(e),n=t[0];return n.x=n.y=0,n.value?(n.dx=a[0],n.dy=a[1]):n.dx=n.dy=0,i&&r.revalue(n),p([n],n.dx*n.dy/n.value),(i?l:m)(n),s&&(i=t),t}return _.size=function(e){return arguments.length?(a=e,_):a},_.padding=function(n){if(!arguments.length)return o;function e(e){return oo(e,n)}var t;return d=null==(o=n)?ao:"function"==(t=typeof n)?function(e){var t=n.call(_,e,e.depth);return null==t?ao(e):oo(e,"number"==typeof t?[t,t,t,t]:t)}:("number"===t&&(n=[n,n,n,n]),e),_},_.round=function(e){return arguments.length?(c=e?Math.round:Number,_):c!=Number},_.sticky=function(e){return arguments.length?(s=e,i=null,_):s},_.ratio=function(e){return arguments.length?(u=e,_):u},_.mode=function(e){return arguments.length?(h=e+"",_):h},La(_,r)},j.random={normal:function(i,r){var e=arguments.length;return e<2&&(r=1),e<1&&(i=0),function(){for(var e,t,n;!(n=(e=2*Math.random()-1)*e+(t=2*Math.random()-1)*t)||1<n;);return i+r*e*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var e=j.random.normal.apply(j,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=j.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(n){return function(){for(var e=0,t=0;t<n;t++)e+=Math.random();return e}}},j.scale={};var po={floor:z,ceil:z};function mo(n,e,t,i){var r=[],a=[],o=0,s=Math.min(n.length,e.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(t(n[o-1],n[o])),a.push(i(e[o-1],e[o]));return function(e){var t=j.bisect(n,e,1,s)-1;return a[t](r[t](e))}}function fo(e,t){return j.rebind(e,t,"range","rangeRound","interpolate","clamp")}function go(e,t){return co(e,ho(_o(e,t)[2])),co(e,ho(_o(e,t)[2])),e}function _o(e,t){null==t&&(t=10);var n=so(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=t/i*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function yo(e,t){return j.range.apply(j,_o(e,t))}function vo(e,t,n){var i,r,a,o=_o(e,t);if(n){var s=St.exec(n);if(s.shift(),"s"===s[8]){var u=j.formatPrefix(Math.max(I(o[0]),I(o[1])));return s[7]||(s[7]="."+Ao(u.scale(o[2]))),s[8]="f",n=j.format(s.join("")),function(e){return n(u.scale(e))+u.symbol}}s[7]||(s[7]="."+(i=s[8],a=Ao((r=o)[2]),i in Mo?Math.abs(a-Ao(Math.max(I(r[0]),I(r[1]))))+ +("e"!==i):a-2*("%"===i))),n=s.join("")}else n=",."+Ao(o[2])+"f";return j.format(n)}j.scale.linear=function(){return function e(n,i,r,a){var o,s;function t(){var e=2<Math.min(n.length,i.length)?mo:lo,t=a?ga:fa;return o=e(n,i,t,r),s=e(i,n,t,qr),u}function u(e){return o(e)}u.invert=function(e){return s(e)};u.domain=function(e){return arguments.length?(n=e.map(Number),t()):n};u.range=function(e){return arguments.length?(i=e,t()):i};u.rangeRound=function(e){return u.range(e).interpolate(ua)};u.clamp=function(e){return arguments.length?(a=e,t()):a};u.interpolate=function(e){return arguments.length?(r=e,t()):r};u.ticks=function(e){return yo(n,e)};u.tickFormat=function(e,t){return vo(n,e,t)};u.nice=function(e){return go(n,e),t()};u.copy=function(){return e(n,i,r,a)};return t()}([0,1],[0,1],qr,!1)};var Mo={s:1,g:1,p:1,r:1,e:1};function Ao(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}j.scale.log=function(){return function e(t,u,l,c){function d(e){return(l?Math.log(e<0?0:e):-Math.log(0<e?0:-e))/Math.log(u)}function h(e){return l?Math.pow(u,e):-Math.pow(u,-e)}function r(e){return t(d(e))}r.invert=function(e){return h(t.invert(e))};r.domain=function(e){return arguments.length?(l=0<=e[0],t.domain((c=e.map(Number)).map(d)),r):c};r.base=function(e){return arguments.length?(u=+e,t.domain(c.map(d)),r):u};r.nice=function(){var e=co(c.map(d),l?Math:wo);return t.domain(e),c=e.map(h),r};r.ticks=function(){var e=so(c),t=[],n=e[0],i=e[1],r=Math.floor(d(n)),a=Math.ceil(d(i)),o=u%1?2:u;if(isFinite(a-r)){if(l){for(;r<a;r++)for(var s=1;s<o;s++)t.push(h(r)*s);t.push(h(r))}else for(t.push(h(r));r++<a;)for(var s=o-1;0<s;s--)t.push(h(r)*s);for(r=0;t[r]<n;r++);for(a=t.length;t[a-1]>i;a--);t=t.slice(r,a)}return t};r.tickFormat=function(e,n){if(!arguments.length)return bo;arguments.length<2?n=bo:"function"!=typeof n&&(n=j.format(n));var i=Math.max(1,u*e/r.ticks().length);return function(e){var t=e/h(Math.round(d(e)));return t*u<u-.5&&(t*=u),t<=i?n(e):""}};r.copy=function(){return e(t.copy(),u,l,c)};return fo(r,t)}(j.scale.linear().domain([0,1]),10,!0,[1,10])};var bo=j.format(".0e"),wo={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function xo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}j.scale.pow=function(){return function e(t,n,i){var r=xo(n),a=xo(1/n);function o(e){return t(r(e))}o.invert=function(e){return a(t.invert(e))};o.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),o):i};o.ticks=function(e){return yo(i,e)};o.tickFormat=function(e,t){return vo(i,e,t)};o.nice=function(e){return o.domain(go(i,e))};o.exponent=function(e){return arguments.length?(r=xo(n=e),a=xo(1/n),t.domain(i.map(r)),o):n};o.copy=function(){return e(t.copy(),n,i)};return fo(o,t)}(j.scale.linear(),1,[0,1])},j.scale.sqrt=function(){return j.scale.pow().exponent(.5)},j.scale.ordinal=function(){return function e(s,u){var r,l,c;function d(e){return l[((r.get(e)||("range"===u.t?r.set(e,s.push(e)):NaN))-1)%l.length]}function h(t,n){return j.range(s.length).map(function(e){return t+n*e})}d.domain=function(e){if(!arguments.length)return s;s=[],r=new y;for(var t,n=-1,i=e.length;++n<i;)r.has(t=e[n])||r.set(t,s.push(t));return d[u.t].apply(d,u.a)};d.range=function(e){return arguments.length?(l=e,c=0,u={t:"range",a:arguments},d):l};d.rangePoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],i=e[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+t);return l=h(n+r*t/2,r),c=0,u={t:"rangePoints",a:arguments},d};d.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],i=e[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+t)|0;return l=h(n+Math.round(r*t/2+(i-n-(s.length-1+t)*r)/2),r),c=0,u={t:"rangeRoundPoints",a:arguments},d};d.rangeBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var i=e[1]<e[0],r=e[i-0],a=e[1-i],o=(a-r)/(s.length-t+2*n);return l=h(r+o*n,o),i&&l.reverse(),c=o*(1-t),u={t:"rangeBands",a:arguments},d};d.rangeRoundBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var i=e[1]<e[0],r=e[i-0],a=e[1-i],o=Math.floor((a-r)/(s.length-t+2*n));return l=h(r+Math.round((a-r-(s.length-t)*o)/2),o),i&&l.reverse(),c=Math.round(o*(1-t)),u={t:"rangeRoundBands",a:arguments},d};d.rangeBand=function(){return c};d.rangeExtent=function(){return so(u.a[0])};d.copy=function(){return e(s,u)};return d.domain(s)}([],{t:"range",a:[[]]})},j.scale.category10=function(){return j.scale.ordinal().range(Eo)},j.scale.category20=function(){return j.scale.ordinal().range(Lo)},j.scale.category20b=function(){return j.scale.ordinal().range(To)},j.scale.category20c=function(){return j.scale.ordinal().range(Do)};var Eo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ot),Lo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ot),To=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ot),Do=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ot);function So(){return 0}j.scale.quantile=function(){return function e(n,i){var r;function t(){var e=0,t=i.length;for(r=[];++e<t;)r[e-1]=j.quantile(n,e/t);return a}function a(e){if(!isNaN(e=+e))return i[j.bisect(r,e)]}a.domain=function(e){return arguments.length?(n=e.map(l).filter(c).sort(u),t()):n};a.range=function(e){return arguments.length?(i=e,t()):i};a.quantiles=function(){return r};a.invertExtent=function(e){return(e=i.indexOf(e))<0?[NaN,NaN]:[0<e?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]};a.copy=function(){return e(n,i)};return t()}([],[])},j.scale.quantize=function(){return function e(t,n,i){var r,a;function o(e){return i[Math.max(0,Math.min(a,Math.floor(r*(e-t))))]}function s(){return r=i.length/(n-t),a=i.length-1,o}o.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]};o.range=function(e){return arguments.length?(i=e,s()):i};o.invertExtent=function(e){return[e=(e=i.indexOf(e))<0?NaN:e/r+t,e+1/r]};o.copy=function(){return e(t,n,i)};return s()}(0,1,[0,1])},j.scale.threshold=function(){return function e(t,n){function i(e){if(e<=e)return n[j.bisect(t,e)]}i.domain=function(e){return arguments.length?(t=e,i):t};i.range=function(e){return arguments.length?(n=e,i):n};i.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]};i.copy=function(){return e(t,n)};return i}([.5],[0,1])},j.scale.identity=function(){return function e(n){function t(e){return+e}t.invert=t;t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n};t.ticks=function(e){return yo(n,e)};t.tickFormat=function(e,t){return vo(n,e,t)};t.copy=function(){return e(n)};return t}([0,1])},j.svg={},j.svg.arc=function(){var P=No,Y=ko,B=So,U=Co,H=Io,F=jo,G=Oo;function t(){var e=Math.max(0,+P.apply(this,arguments)),t=Math.max(0,+Y.apply(this,arguments)),n=H.apply(this,arguments)-Te,i=F.apply(this,arguments)-Te,r=Math.abs(i-n),a=i<n?0:1;if(t<e&&(o=t,t=e,e=o),Le<=r)return V(t,a)+(e?V(e,1-a):"")+"Z";var o,s,u,l,c,d,h,p,m,f,g,_,y=0,v=0,M=[];if((l=(+G.apply(this,arguments)||0)/2)&&(u=U===Co?Math.sqrt(e*e+t*t):+U.apply(this,arguments),a||(v*=-1),t&&(v=Ie(u/t*Math.sin(l))),e&&(y=Ie(u/e*Math.sin(l)))),t){c=t*Math.cos(n+v),d=t*Math.sin(n+v),h=t*Math.cos(i-v),p=t*Math.sin(i-v);var A=Math.abs(i-n-2*v)<=xe?0:1;if(v&&zo(c,d,h,p)===a^A){var b=(n+i)/2;c=t*Math.cos(b),d=t*Math.sin(b),h=p=null}}else c=d=0;if(e){m=e*Math.cos(i-y),f=e*Math.sin(i-y),g=e*Math.cos(n+y),_=e*Math.sin(n+y);var w=Math.abs(n-i+2*y)<=xe?0:1;if(y&&zo(m,f,g,_)===1-a^w){var x=(n+i)/2;m=e*Math.cos(x),f=e*Math.sin(x),g=_=null}}else m=f=0;if(be<r&&.001<(o=Math.min(Math.abs(t-e)/2,+B.apply(this,arguments)))){s=e<t^a?0:1;var E=o,L=o;if(r<xe){var T=null==g?[m,f]:null==h?[c,d]:or([c,d],[g,_],[h,p],[m,f]),D=c-T[0],S=d-T[1],C=h-T[0],N=p-T[1],k=1/Math.sin(Math.acos((D*C+S*N)/(Math.sqrt(D*D+S*S)*Math.sqrt(C*C+N*N)))/2),I=Math.sqrt(T[0]*T[0]+T[1]*T[1]);L=Math.min(o,(e-I)/(k-1)),E=Math.min(o,(t-I)/(k+1))}if(null!=h){var j=Ro(null==g?[m,f]:[g,_],[c,d],t,E,a),O=Ro([h,p],[m,f],t,E,a);o===E?M.push("M",j[0],"A",E,",",E," 0 0,",s," ",j[1],"A",t,",",t," 0 ",1-a^zo(j[1][0],j[1][1],O[1][0],O[1][1]),",",a," ",O[1],"A",E,",",E," 0 0,",s," ",O[0]):M.push("M",j[0],"A",E,",",E," 0 1,",s," ",O[0])}else M.push("M",c,",",d);if(null!=g){var z=Ro([c,d],[g,_],e,-L,a),R=Ro([m,f],null==h?[c,d]:[h,p],e,-L,a);o===L?M.push("L",R[0],"A",L,",",L," 0 0,",s," ",R[1],"A",e,",",e," 0 ",a^zo(R[1][0],R[1][1],z[1][0],z[1][1]),",",1-a," ",z[1],"A",L,",",L," 0 0,",s," ",z[0]):M.push("L",R[0],"A",L,",",L," 0 0,",s," ",z[0])}else M.push("L",m,",",f)}else M.push("M",c,",",d),null!=h&&M.push("A",t,",",t," 0 ",A,",",a," ",h,",",p),M.push("L",m,",",f),null!=g&&M.push("A",e,",",e," 0 ",w,",",1-a," ",g,",",_);return M.push("Z"),M.join("")}function V(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return t.innerRadius=function(e){return arguments.length?(P=ft(e),t):P},t.outerRadius=function(e){return arguments.length?(Y=ft(e),t):Y},t.cornerRadius=function(e){return arguments.length?(B=ft(e),t):B},t.padRadius=function(e){return arguments.length?(U=e==Co?Co:ft(e),t):U},t.startAngle=function(e){return arguments.length?(H=ft(e),t):H},t.endAngle=function(e){return arguments.length?(F=ft(e),t):F},t.padAngle=function(e){return arguments.length?(G=ft(e),t):G},t.centroid=function(){var e=(+P.apply(this,arguments)+ +Y.apply(this,arguments))/2,t=(+H.apply(this,arguments)+ +F.apply(this,arguments))/2-Te;return[Math.cos(t)*e,Math.sin(t)*e]},t};var Co="auto";function No(e){return e.innerRadius}function ko(e){return e.outerRadius}function Io(e){return e.startAngle}function jo(e){return e.endAngle}function Oo(e){return e&&e.padAngle}function zo(e,t,n,i){return 0<(e-n)*t-(t-i)*e?0:1}function Ro(e,t,n,i,r){var a=e[0]-t[0],o=e[1]-t[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=e[0]+u,d=e[1]+l,h=t[0]+u,p=t[1]+l,m=(c+h)/2,f=(d+p)/2,g=h-c,_=p-d,y=g*g+_*_,v=n-i,M=c*p-h*d,A=(_<0?-1:1)*Math.sqrt(Math.max(0,v*v*y-M*M)),b=(M*_-g*A)/y,w=(-M*g-_*A)/y,x=(M*_+g*A)/y,E=(-M*g+_*A)/y,L=b-m,T=w-f,D=x-m,S=E-f;return D*D+S*S<L*L+T*T&&(b=x,w=E),[[b-u,w-l],[b*n/v,w*n/v]]}function Po(l){var c=er,d=tr,h=Wn,p=Bo,t=p.key,m=.7;function n(e){var t,n=[],i=[],r=-1,a=e.length,o=ft(c),s=ft(d);function u(){n.push("M",p(l(i),m))}for(;++r<a;)h.call(this,t=e[r],r)?i.push([+o.call(this,t,r),+s.call(this,t,r)]):i.length&&(u(),i=[]);return i.length&&u(),n.length?n.join(""):null}return n.x=function(e){return arguments.length?(c=e,n):c},n.y=function(e){return arguments.length?(d=e,n):d},n.defined=function(e){return arguments.length?(h=e,n):h},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?p=e:(p=Yo.get(e)||Bo).key,n):t},n.tension=function(e){return arguments.length?(m=e,n):m},n}j.svg.line=function(){return Po(z)};var Yo=j.map({linear:Bo,"linear-closed":Uo,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);1<n&&r.push("H",i[0]);return r.join("")},"step-before":Ho,"step-after":Fo,basis:Wo,"basis-open":function(e){if(e.length<4)return Bo(e);var t,n=[],i=-1,r=e.length,a=[0],o=[0];for(;++i<3;)t=e[i],a.push(t[0]),o.push(t[1]);n.push(Qo(Xo,a)+","+Qo(Xo,o)),--i;for(;++i<r;)t=e[i],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),Jo(n,a,o);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,a=r+4,o=[],s=[];for(;++i<4;)n=e[i%r],o.push(n[0]),s.push(n[1]);t=[Qo(Xo,o),",",Qo(Xo,s)],--i;for(;++i<a;)n=e[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Jo(t,o,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,a=e[0][0],o=e[0][1],s=e[n][0]-a,u=e[n][1]-o,l=-1;++l<=n;)i=e[l],r=l/n,i[0]=t*i[0]+(1-t)*(a+r*s),i[1]=t*i[1]+(1-t)*(o+r*u);return Wo(e)},cardinal:function(e,t){return e.length<3?Bo(e):e[0]+Go(e,Vo(e,t))},"cardinal-open":function(e,t){return e.length<4?Bo(e):e[1]+Go(e.slice(1,-1),Vo(e,t))},"cardinal-closed":function(e,t){return e.length<3?Uo(e):e[0]+Go((e.push(e[0]),e),Vo([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Bo(e):e[0]+Go(e,function(e){var t,n,i,r,a=[],o=function(e){var t=0,n=e.length-1,i=[],r=e[0],a=e[1],o=i[0]=Ko(r,a);for(;++t<n;)i[t]=(o+(o=Ko(r=a,a=e[t+1])))/2;return i[t]=o,i}(e),s=-1,u=e.length-1;for(;++s<u;)t=Ko(e[s],e[s+1]),I(t)<be?o[s]=o[s+1]=0:(n=o[s]/t,i=o[s+1]/t,9<(r=n*n+i*i)&&(r=3*t/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));s=-1;for(;++s<=u;)r=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}(e))}});function Bo(e){return 1<e.length?e.join("L"):e+"Z"}function Uo(e){return e.join("L")+"Z"}function Ho(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function Fo(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function Go(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Bo(e);var n=e.length!=t.length,i="",r=e[0],a=e[1],o=t[0],s=o,u=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=e[1],u=2),1<t.length){s=t[1],a=e[u],u++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<t.length;l++,u++)a=e[u],s=t[l],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[u];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Vo(e,t){for(var n,i=[],r=(1-t)/2,a=e[0],o=e[1],s=1,u=e.length;++s<u;)n=a,a=o,o=e[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function Wo(e){if(e.length<3)return Bo(e);var t=1,n=e.length,i=e[0],r=i[0],a=i[1],o=[r,r,r,(i=e[1])[0]],s=[a,a,a,i[1]],u=[r,",",a,"L",Qo(Xo,o),",",Qo(Xo,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Jo(u,o,s);return e.pop(),u.push("L",i),u.join("")}function Qo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Yo.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var qo=[0,2/3,1/3,0],Zo=[0,1/3,2/3,0],Xo=[0,1/6,2/3,1/6];function Jo(e,t,n){e.push("C",Qo(qo,t),",",Qo(qo,n),",",Qo(Zo,t),",",Qo(Zo,n),",",Qo(Xo,t),",",Qo(Xo,n))}function Ko(e,t){return(t[1]-e[1])/(t[0]-e[0])}function $o(e){for(var t,n,i,r=-1,a=e.length;++r<a;)n=(t=e[r])[0],i=t[1]-Te,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function es(m){var f=er,g=er,_=0,y=tr,v=Wn,M=Bo,t=M.key,A=M,b="L",w=.7;function n(e){var t,n,i,r=[],a=[],o=[],s=-1,u=e.length,l=ft(f),c=ft(_),d=f===g?function(){return n}:ft(g),h=_===y?function(){return i}:ft(y);function p(){r.push("M",M(m(o),w),b,A(m(a.reverse()),w),"Z")}for(;++s<u;)v.call(this,t=e[s],s)?(a.push([n=+l.call(this,t,s),i=+c.call(this,t,s)]),o.push([+d.call(this,t,s),+h.call(this,t,s)])):a.length&&(p(),a=[],o=[]);return a.length&&p(),r.length?r.join(""):null}return n.x=function(e){return arguments.length?(f=g=e,n):g},n.x0=function(e){return arguments.length?(f=e,n):f},n.x1=function(e){return arguments.length?(g=e,n):g},n.y=function(e){return arguments.length?(_=y=e,n):y},n.y0=function(e){return arguments.length?(_=e,n):_},n.y1=function(e){return arguments.length?(y=e,n):y},n.defined=function(e){return arguments.length?(v=e,n):v},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?M=e:(M=Yo.get(e)||Bo).key,A=M.reverse||M,b=M.closed?"M":"L",n):t},n.tension=function(e){return arguments.length?(w=e,n):w},n}function ts(e){return e.radius}function ns(e){return[e.x,e.y]}function is(){return 64}function rs(){return"circle"}function as(e){var t=Math.sqrt(e/xe);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}j.svg.line.radial=function(){var e=Po($o);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},(Ho.reverse=Fo).reverse=Ho,j.svg.area=function(){return es(z)},j.svg.area.radial=function(){var e=es($o);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},j.svg.chord=function(){var o=Bi,s=Ui,u=ts,l=Io,c=jo;function t(e,t){var n,i,r=d(this,o,e,t),a=d(this,s,e,t);return"M"+r.p0+h(r.r,r.p1,r.a1-r.a0)+(i=a,(n=r).a0==i.a0&&n.a1==i.a1?p(r.r,r.p1,r.r,r.p0):p(r.r,r.p1,a.r,a.p0)+h(a.r,a.p1,a.a1-a.a0)+p(a.r,a.p1,r.r,r.p0))+"Z"}function d(e,t,n,i){var r=t.call(e,n,i),a=u.call(e,r,i),o=l.call(e,r,i)-Te,s=c.call(e,r,i)-Te;return{r:a,a0:o,a1:s,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(s),a*Math.sin(s)]}}function h(e,t,n){return"A"+e+","+e+" 0 "+ +(xe<n)+",1 "+t}function p(e,t,n,i){return"Q 0,0 "+i}return t.radius=function(e){return arguments.length?(u=ft(e),t):u},t.source=function(e){return arguments.length?(o=ft(e),t):o},t.target=function(e){return arguments.length?(s=ft(e),t):s},t.startAngle=function(e){return arguments.length?(l=ft(e),t):l},t.endAngle=function(e){return arguments.length?(c=ft(e),t):c},t},j.svg.diagonal=function(){var o=Bi,s=Ui,u=ns;function t(e,t){var n=o.call(this,e,t),i=s.call(this,e,t),r=(n.y+i.y)/2,a=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(a=a.map(u))[0]+"C"+a[1]+" "+a[2]+" "+a[3]}return t.source=function(e){return arguments.length?(o=ft(e),t):o},t.target=function(e){return arguments.length?(s=ft(e),t):s},t.projection=function(e){return arguments.length?(u=e,t):u},t},j.svg.diagonal.radial=function(){var e=j.svg.diagonal(),t=ns,n=e.projection;return e.projection=function(e){return arguments.length?n((i=t=e,function(){var e=i.apply(this,arguments),t=e[0],n=e[1]-Te;return[t*Math.cos(n),t*Math.sin(n)]})):t;var i},e},j.svg.symbol=function(){var n=rs,i=is;function t(e,t){return(os.get(n.call(this,e,t))||as)(i.call(this,e,t))}return t.type=function(e){return arguments.length?(n=ft(e),t):n},t.size=function(e){return arguments.length?(i=ft(e),t):i},t};var os=j.map({circle:as,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*us)),n=t*us;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ss),n=t*ss/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ss),n=t*ss/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});j.svg.symbolTypes=os.keys();var ss=Math.sqrt(3),us=Math.tan(30*De);W.transition=function(e){for(var t,n,i=hs||++fs,r=ys(e),a=[],o=ps||{time:Date.now(),ease:ia,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,d=l.length;++c<d;)(n=l[c])&&vs(n,c,r,i,o),t.push(n)}return ds(a,r,i)},W.interrupt=function(e){return this.each(null==e?ls:cs(ys(e)))};var ls=cs(ys());function cs(i){return function(){var e,t,n;(e=this[i])&&(n=e[t=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[t]:delete this[i],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function ds(e,t,n){return U(e,ms),e.namespace=t,e.id=n,e}var hs,ps,ms=[],fs=0;function gs(e,i,r,a){var o=e.id,s=e.namespace;return le(e,"function"==typeof r?function(e,t,n){e[s][o].tween.set(i,a(r.call(e,e.__data__,t,n)))}:(r=a(r),function(e){e[s][o].tween.set(i,r)}))}function _s(e){return null==e&&(e=""),function(){this.textContent=e}}function ys(e){return null==e?"__transition__":"__transition_"+e+"__"}function vs(a,o,r,s,e){var u,l,c,d,h,p=a[r]||(a[r]={active:0,count:0}),m=p[s];function n(e){var t=p.active,n=p[t];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[t],n.event&&n.event.interrupt.call(a,a.__data__,n.index)),p)if(+i<s){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}l.c=f,wt(function(){return l.c&&f(e||1)&&(l.c=null,l.t=NaN),1},0,u),p.active=s,m.event&&m.event.start.call(a,a.__data__,o),h=[],m.tween.forEach(function(e,t){(t=t.call(a,a.__data__,o))&&h.push(t)}),d=m.ease,c=m.duration}function f(e){for(var t=e/c,n=d(t),i=h.length;0<i;)h[--i].call(a,n);if(1<=t)return m.event&&m.event.end.call(a,a.__data__,o),--p.count?delete p[s]:delete a[r],1}m||(u=e.time,l=wt(function(e){var t=m.delay;if(l.t=t+u,t<=e)return n(e-t);l.c=n},0,u),m=p[s]={tween:new y,time:u,timer:l,delay:e.delay,duration:e.duration,ease:e.ease,index:o},e=null,++p.count)}ms.call=W.call,ms.empty=W.empty,ms.node=W.node,ms.size=W.size,j.transition=function(e,t){return e&&e.transition?hs?e.transition(t):e:j.selection().transition(e)},(j.transition.prototype=ms).select=function(e){var t,n,i,r=this.id,a=this.namespace,o=[];e=Q(e);for(var s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,d=l.length;++c<d;)(i=l[c])&&(n=e.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),vs(n,c,a,r,i[a][r]),t.push(n)):t.push(null)}return ds(o,a,r)},ms.selectAll=function(e){var t,n,i,r,a,o=this.id,s=this.namespace,u=[];e=q(e);for(var l=-1,c=this.length;++l<c;)for(var d=this[l],h=-1,p=d.length;++h<p;)if(i=d[h]){a=i[s][o],n=e.call(i,i.__data__,h,l),u.push(t=[]);for(var m=-1,f=n.length;++m<f;)(r=n[m])&&vs(r,m,s,o,a),t.push(r)}return ds(u,s,o)},ms.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=ue(e));for(var r=0,a=this.length;r<a;r++){i.push(t=[]);for(var o,s=0,u=(o=this[r]).length;s<u;s++)(n=o[s])&&e.call(n,n.__data__,s,r)&&t.push(n)}return ds(i,this.namespace,this.id)},ms.tween=function(t,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(t):le(this,null==n?function(e){e[r][i].tween.remove(t)}:function(e){e[r][i].tween.set(t,n)})},ms.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var i="transform"==e?ma:qr,r=j.ns.qualify(e);function a(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}return gs(this,"attr."+e,t,r.local?function(n){return null==n?o:(n+="",function(){var t,e=this.getAttributeNS(r.space,r.local);return e!==n&&(t=i(e,n),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}:function(n){return null==n?a:(n+="",function(){var t,e=this.getAttribute(r);return e!==n&&(t=i(e,n),function(e){this.setAttribute(r,t(e))})})})},ms.attrTween=function(e,i){var r=j.ns.qualify(e);return this.tween("attr."+e,r.local?function(e,t){var n=i.call(this,e,t,this.getAttributeNS(r.space,r.local));return n&&function(e){this.setAttributeNS(r.space,r.local,n(e))}}:function(e,t){var n=i.call(this,e,t,this.getAttribute(r));return n&&function(e){this.setAttribute(r,n(e))}})},ms.style=function(i,e,r){var t=arguments.length;if(t<3){if("string"!=typeof i){for(r in t<2&&(e=""),i)this.style(r,i[r],e);return this}r=""}function a(){this.style.removeProperty(i)}return gs(this,"style."+i,e,function(n){return null==n?a:(n+="",function(){var t,e=O(this).getComputedStyle(this,null).getPropertyValue(i);return e!==n&&(t=qr(e,n),function(e){this.style.setProperty(i,t(e),r)})})})},ms.styleTween=function(i,r,a){return arguments.length<3&&(a=""),this.tween("style."+i,function(e,t){var n=r.call(this,e,t,O(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(e){this.style.setProperty(i,n(e),a)}})},ms.text=function(e){return gs(this,"text",e,_s)},ms.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ms.ease=function(t){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof t&&(t=j.ease.apply(j,arguments)),le(this,function(e){e[i][n].ease=t}))},ms.delay=function(i){var r=this.id,a=this.namespace;return arguments.length<1?this.node()[a][r].delay:le(this,"function"==typeof i?function(e,t,n){e[a][r].delay=+i.call(e,e.__data__,t,n)}:(i=+i,function(e){e[a][r].delay=i}))},ms.duration=function(i){var r=this.id,a=this.namespace;return arguments.length<1?this.node()[a][r].duration:le(this,"function"==typeof i?function(e,t,n){e[a][r].duration=Math.max(1,i.call(e,e.__data__,t,n))}:(i=Math.max(1,i),function(e){e[a][r].duration=i}))},ms.each=function(i,n){var r=this.id,a=this.namespace;if(arguments.length<2){var e=ps,t=hs;try{hs=r,le(this,function(e,t,n){ps=e[a][r],i.call(e,e.__data__,t,n)})}finally{ps=e,hs=t}}else le(this,function(e){var t=e[a][r];(t.event||(t.event=j.dispatch("start","end","interrupt"))).on(i,n)});return this},ms.transition=function(){for(var e,t,n,i=this.id,r=++fs,a=this.namespace,o=[],s=0,u=this.length;s<u;s++){o.push(e=[]);for(var l,c=0,d=(l=this[s]).length;c<d;c++)(t=l[c])&&vs(t,c,a,r,{time:(n=t[a][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return ds(o,a,r)},j.svg.axis=function(){var L,T=j.scale.linear(),D=Ms,S=6,C=6,N=3,k=[10],I=null;function n(e){e.each(function(){var e,t=j.select(this),n=this.__chart__||T,i=this.__chart__=T.copy(),r=null==I?i.ticks?i.ticks.apply(i,k):i.domain():I,a=null==L?i.tickFormat?i.tickFormat.apply(i,k):z:L,o=t.selectAll(".tick").data(r,i),s=o.enter().insert("g",".domain").attr("class","tick").style("opacity",be),u=j.transition(o.exit()).style("opacity",be).remove(),l=j.transition(o.order()).style("opacity",1),c=Math.max(S,0)+N,d=uo(i),h=t.selectAll(".domain").data([0]),p=(h.enter().append("path").attr("class","domain"),j.transition(h));s.append("line"),s.append("text");var m,f,g,_,y=s.select("line"),v=l.select("line"),M=o.select("text").text(a),A=s.select("text"),b=l.select("text"),w="top"===D||"left"===D?-1:1;if("bottom"===D||"top"===D?(e=bs,m="x",g="y",f="x2",_="y2",M.attr("dy",w<0?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+d[0]+","+w*C+"V0H"+d[1]+"V"+w*C)):(e=ws,m="y",g="x",f="y2",_="x2",M.attr("dy",".32em").style("text-anchor",w<0?"end":"start"),p.attr("d","M"+w*C+","+d[0]+"H0V"+d[1]+"H"+w*C)),y.attr(_,w*S),A.attr(g,w*c),v.attr(f,0).attr(_,w*S),b.attr(m,0).attr(g,w*c),i.rangeBand){var x=i,E=x.rangeBand()/2;n=i=function(e){return x(e)+E}}else n.rangeBand?n=i:u.call(e,i,n);s.call(e,n,i),l.call(e,i,i)})}return n.scale=function(e){return arguments.length?(T=e,n):T},n.orient=function(e){return arguments.length?(D=e in As?e+"":Ms,n):D},n.ticks=function(){return arguments.length?(k=h(arguments),n):k},n.tickValues=function(e){return arguments.length?(I=e,n):I},n.tickFormat=function(e){return arguments.length?(L=e,n):L},n.tickSize=function(e){var t=arguments.length;return t?(S=+e,C=+arguments[t-1],n):S},n.innerTickSize=function(e){return arguments.length?(S=+e,n):S},n.outerTickSize=function(e){return arguments.length?(C=+e,n):C},n.tickPadding=function(e){return arguments.length?(N=+e,n):N},n.tickSubdivide=function(){return arguments.length&&n},n};var Ms="bottom",As={top:1,right:1,bottom:1,left:1};function bs(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate("+(isFinite(t)?t:i(e))+",0)"})}function ws(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate(0,"+(isFinite(t)?t:i(e))+")"})}j.svg.brush=function(){var y,v,M=Y(T,"brushstart","brush","brushend"),A=null,b=null,w=[0,0],x=[0,0],E=!0,L=!0,o=Es[0];function T(e){e.each(function(){var e=j.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(o,z);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return xs[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",T.empty()?"none":null);var i,r=j.transition(e),a=j.transition(t);A&&(i=uo(A),a.attr("x",i[0]).attr("width",i[1]-i[0]),S(r)),b&&(i=uo(b),a.attr("y",i[0]).attr("height",i[1]-i[0]),C(r)),D(r)})}function D(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+w[+/e$/.test(e)]+","+x[+/^s/.test(e)]+")"})}function S(e){e.select(".extent").attr("x",w[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",w[1]-w[0])}function C(e){e.select(".extent").attr("y",x[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",x[1]-x[0])}function s(){var d,n,i=this,e=j.select(j.event.target),r=M.of(i,arguments),a=j.select(i),t=e.datum(),o=!/^(n|s)$/.test(t)&&A,s=!/^(e|w)$/.test(t)&&b,h=e.classed("extent"),u=ye(i),p=j.mouse(i),l=j.select(O(i)).on("keydown.brush",function(){32==j.event.keyCode&&(h||(d=null,p[0]-=w[1],p[1]-=x[1],h=2),R())}).on("keyup.brush",function(){32==j.event.keyCode&&2==h&&(p[0]+=w[1],p[1]+=x[1],h=0,R())});if(j.event.changedTouches?l.on("touchmove.brush",f).on("touchend.brush",_):l.on("mousemove.brush",f).on("mouseup.brush",_),a.interrupt().selectAll("*").interrupt(),h)p[0]=w[0]-p[0],p[1]=x[0]-p[1];else if(t){var c=+/w$/.test(t),m=+/^n/.test(t);n=[w[1-c]-p[0],x[1-m]-p[1]],p[0]=w[c],p[1]=x[m]}else j.event.altKey&&(d=p.slice());function f(){var e=j.mouse(i),t=!1;n&&(e[0]+=n[0],e[1]+=n[1]),h||(j.event.altKey?(d||(d=[(w[0]+w[1])/2,(x[0]+x[1])/2]),p[0]=w[+(e[0]<d[0])],p[1]=x[+(e[1]<d[1])]):d=null),o&&g(e,A,0)&&(S(a),t=!0),s&&g(e,b,1)&&(C(a),t=!0),t&&(D(a),r({type:"brush",mode:h?"move":"resize"}))}function g(e,t,n){var i,r,a=uo(t),o=a[0],s=a[1],u=p[n],l=n?x:w,c=l[1]-l[0];if(h&&(o-=u,s-=c+u),i=(n?L:E)?Math.max(o,Math.min(s,e[n])):e[n],h?r=(i+=u)+c:(d&&(u=Math.max(o,Math.min(s,2*d[n]-i))),u<i?(r=i,i=u):r=u),l[0]!=i||l[1]!=r)return n?v=null:y=null,l[0]=i,l[1]=r,!0}function _(){f(),a.style("pointer-events","all").selectAll(".resize").style("display",T.empty()?"none":null),j.select("body").style("cursor",null),l.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),u(),r({type:"brushend"})}a.style("pointer-events","none").selectAll(".resize").style("display",null),j.select("body").style("cursor",e.style("cursor")),r({type:"brushstart"}),f()}return T.event=function(e){e.each(function(){var i=M.of(this,arguments),r={x:w,y:x,i:y,j:v},e=this.__chart__||r;this.__chart__=r,hs?j.select(this).transition().each("start.brush",function(){y=e.i,v=e.j,w=e.x,x=e.y,i({type:"brushstart"})}).tween("brush:brush",function(){var t=Zr(w,r.x),n=Zr(x,r.y);return y=v=null,function(e){w=r.x=t(e),x=r.y=n(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=r.i,v=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},T.x=function(e){return arguments.length?(o=Es[!(A=e)<<1|!b],T):A},T.y=function(e){return arguments.length?(o=Es[!A<<1|!(b=e)],T):b},T.clamp=function(e){return arguments.length?(A&&b?(E=!!e[0],L=!!e[1]):A?E=!!e:b&&(L=!!e),T):A&&b?[E,L]:A?E:b?L:null},T.extent=function(e){var t,n,i,r,a;return arguments.length?(A&&(t=e[0],n=e[1],b&&(t=t[0],n=n[0]),y=[t,n],A.invert&&(t=A(t),n=A(n)),n<t&&(a=t,t=n,n=a),t==w[0]&&n==w[1]||(w=[t,n])),b&&(i=e[0],r=e[1],A&&(i=i[1],r=r[1]),v=[i,r],b.invert&&(i=b(i),r=b(r)),r<i&&(a=i,i=r,r=a),i==x[0]&&r==x[1]||(x=[i,r])),T):(A&&(y?(t=y[0],n=y[1]):(t=w[0],n=w[1],A.invert&&(t=A.invert(t),n=A.invert(n)),n<t&&(a=t,t=n,n=a))),b&&(v?(i=v[0],r=v[1]):(i=x[0],r=x[1],b.invert&&(i=b.invert(i),r=b.invert(r)),r<i&&(a=i,i=r,r=a))),A&&b?[[t,i],[n,r]]:A?[t,n]:b&&[i,r])},T.clear=function(){return T.empty()||(w=[0,0],x=[0,0],y=v=null),T},T.empty=function(){return!!A&&w[0]==w[1]||!!b&&x[0]==x[1]},j.rebind(T,M,"on")};var xs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Es=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ls=kt.format=sn.timeFormat,Ts=Ls.utc,Ds=Ts("%Y-%m-%dT%H:%M:%S.%LZ");function Ss(e){return e.toISOString()}function Cs(t,r,e){function o(e){return t(e)}function s(e,t){var n=(e[1]-e[0])/t,i=j.bisect(ks,n);return i==ks.length?[r.year,_o(e.map(function(e){return e/31536e6}),t)[2]]:i?r[n/ks[i-1]<ks[i]/n?i-1:i]:[Os,_o(e,t)[2]]}return o.invert=function(e){return Ns(t.invert(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain().map(Ns)},o.nice=function(t,n){var e=o.domain(),i=so(e),r=null==t?s(i,10):"number"==typeof t&&s(i,t);function a(e){return!isNaN(e)&&!t.range(e,Ns(+e+1),n).length}return r&&(t=r[0],n=r[1]),o.domain(co(e,1<n?{floor:function(e){for(;a(e=t.floor(e));)e=Ns(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=Ns(+e+1);return e}}:t))},o.ticks=function(e,t){var n=so(o.domain()),i=null==e?s(n,10):"number"==typeof e?s(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],Ns(+n[1]+1),t<1?1:t)},o.tickFormat=function(){return e},o.copy=function(){return Cs(t.copy(),r,e)},fo(o,t)}function Ns(e){return new Date(e)}Ls.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ss:Ds,Ss.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Ss.toString=Ds.toString,kt.second=zt(function(e){return new It(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),kt.seconds=kt.second.range,kt.seconds.utc=kt.second.utc.range,kt.minute=zt(function(e){return new It(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),kt.minutes=kt.minute.range,kt.minutes.utc=kt.minute.utc.range,kt.hour=zt(function(e){var t=e.getTimezoneOffset()/60;return new It(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),kt.hours=kt.hour.range,kt.hours.utc=kt.hour.utc.range,kt.month=zt(function(e){return(e=kt.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),kt.months=kt.month.range,kt.months.utc=kt.month.utc.range;var ks=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Is=[[kt.second,1],[kt.second,5],[kt.second,15],[kt.second,30],[kt.minute,1],[kt.minute,5],[kt.minute,15],[kt.minute,30],[kt.hour,1],[kt.hour,3],[kt.hour,6],[kt.hour,12],[kt.day,1],[kt.day,2],[kt.week,1],[kt.month,1],[kt.month,3],[kt.year,1]],js=Ls.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Wn]]),Os={range:function(e,t,n){return j.range(Math.ceil(e/n)*n,+t,n).map(Ns)},floor:z,ceil:z};Is.year=kt.year,kt.scale=function(){return Cs(j.scale.linear(),Is,js)};var zs=Is.map(function(e){return[e[0].utc,e[1]]}),Rs=Ts.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Wn]]);function Ps(e){return JSON.parse(e.responseText)}function Ys(e){var t=v.createRange();return t.selectNode(v.body),t.createContextualFragment(e.responseText)}zs.year=kt.year.utc,kt.scale.utc=function(){return Cs(j.scale.linear(),zs,Rs)},j.text=gt(function(e){return e.responseText}),j.json=function(e,t){return _t(e,"application/json",Ps,t)},j.html=function(e,t){return _t(e,"text/html",Ys,t)},j.xml=gt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=j,define(j)):"object"==typeof module&&module.exports?module.exports=j:this.d3=j}(),function(){"use strict";var s="undefined"!=typeof process&&!process.browser,t=function(){throw new Error("The 'request' module is only available while running in Node.")};s&&(t=require("request"));var u=!1,r=!1;try{void 0!==(new XMLHttpRequest).withCredentials?u=!0:"XDomainRequest"in window&&(r=u=!0)}catch(e){}var a=Array.prototype.indexOf,n=function(e,t){var n=0,i=e.length;if(a&&e.indexOf===a)return e.indexOf(t);for(;n<i;n++)if(e[n]===t)return n;return-1},o=function(e){if(!(this&&this instanceof o))return new o(e);"string"==typeof e&&(e={key:e}),this.callback=e.callback,this.wanted=e.wanted||[],this.key=e.key,this.simpleSheet=!!e.simpleSheet,this.parseNumbers=!!e.parseNumbers,this.wait=!!e.wait,this.reverse=!!e.reverse,this.postProcess=e.postProcess,this.debug=!!e.debug,this.query=e.query||"",this.orderby=e.orderby,this.endpoint=e.endpoint||"https://spreadsheets.google.com",this.singleton=!!e.singleton,this.simpleUrl=!(!e.simpleUrl&&!e.simple_url),this.authkey=e.authkey,this.sheetPrivacy=this.authkey?"private":"public",this.callbackContext=e.callbackContext,this.prettyColumnNames=void 0===e.prettyColumnNames?!e.proxy:e.prettyColumnNames,void 0!==e.proxy&&(this.endpoint=e.proxy.replace(/\/$/,""),this.simpleUrl=!0,this.singleton=!0,u=!1),this.parameterize=e.parameterize||!1,this.singleton&&(void 0!==o.singleton&&this.log("WARNING! Tabletop singleton already defined"),o.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),/spreadsheets\/d/.test(this.key)&&(this.log("You passed the most recent version of Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)/")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.modelNames=[],this.model_names=this.modelNames,this.baseJsonPath="/feeds/worksheets/"+this.key+"/"+this.sheetPrivacy+"/basic?alt=",this.baseJsonPath+=s||u?"json":"json-in-script",this.wait||this.fetch()):this.log("You need to pass Tabletop a key!")};o.callbacks={},o.init=function(e){return new o(e)},o.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},o.prototype={fetch:function(e){void 0!==e&&(this.callback=e),this.requestData(this.baseJsonPath,this.loadSheets)},requestData:function(e,t){if(this.log("Requesting",e),s)this.serverSideFetch(e,t);else{var n=this.endpoint.split("//").shift()||"http";!u||r&&n!==location.protocol?this.injectScript(e,t):this.xhrFetch(e,t)}},xhrFetch:function(e,t){var n=r?new XDomainRequest:new XMLHttpRequest;n.open("GET",this.endpoint+e);var i=this;n.onload=function(){var e;try{e=JSON.parse(n.responseText)}catch(e){console.error(e)}t.call(i,e)},n.send()},injectScript:function(e,t){var n,i=document.createElement("script");if(this.singleton)t===this.loadSheets?n="Tabletop.singleton.loadSheets":t===this.loadSheet&&(n="Tabletop.singleton.loadSheet");else{var r=this;n="tt"+ +new Date+Math.floor(1e5*Math.random()),o.callbacks[n]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(r,e),i.parentNode.removeChild(i),delete o.callbacks[n]},n="Tabletop.callbacks."+n}var a=e+"&callback="+n;this.simpleUrl?-1!==e.indexOf("/list/")?i.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:i.src=this.endpoint+"/"+this.key:i.src=this.endpoint+a,this.parameterize&&(i.src=this.parameterize+encodeURIComponent(i.src)),this.log("Injecting",i.src),document.getElementsByTagName("script")[0].parentNode.appendChild(i)},serverSideFetch:function(e,i){var r=this;this.log("Fetching",this.endpoint+e),t({url:this.endpoint+e,json:!0},function(e,t,n){if(e)return console.error(e);i.call(r,n)})},isWanted:function(e){return 0===this.wanted.length||-1!==n(this.wanted,e)},data:function(){if(0!==this.modelNames.length)return this.simpleSheet?(1<this.modelNames.length&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.modelNames[0]].all()):this.models},addWanted:function(e){-1===n(this.wanted,e)&&this.wanted.push(e)},loadSheets:function(e){var t,n,i=[];for(this.googleSheetName=e.feed.title.$t,this.foundSheetNames=[],t=0,n=e.feed.entry.length;t<n;t++)if(this.foundSheetNames.push(e.feed.entry[t].title.$t),this.isWanted(e.feed.entry[t].content.$t)){var r=e.feed.entry[t].link.length-1,a=e.feed.entry[t].link[r].href.split("/").pop(),o="/feeds/list/"+this.key+"/"+a+"/"+this.sheetPrivacy+"/values?alt=";o+=s||u?"json":"json-in-script",this.query&&(o+="&tq="+this.query),this.orderby&&(o+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(o+="&reverse=true"),i.push(o)}for(this.sheetsToLoad=i.length,t=0,n=i.length;t<n;t++)this.requestData(i[t],this.loadSheet)},sheets:function(e){return void 0===e?this.models:void 0===this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,-1===n(this.modelNames,e.name)&&this.modelNames.push(e.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var t=this;new o.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(){this.debug&&"undefined"!=typeof console&&void 0!==console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},o.Model=function(e){var t,n,i,r;if(this.columnNames=[],this.column_names=this.columnNames,this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,void 0===e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.originalColumns=[],this.elements=[],void this.ready();for(var a in e.data.feed.entry[0])/^gsx/.test(a)&&this.columnNames.push(a.replace("gsx$",""));for(this.originalColumns=this.columnNames,this.original_columns=this.originalColumns,t=0,i=e.data.feed.entry.length;t<i;t++){var o=e.data.feed.entry[t],s={};for(n=0,r=this.columnNames.length;n<r;n++){var u=o["gsx$"+this.columnNames[n]];void 0!==u?e.parseNumbers&&""!==u.$t&&!isNaN(u.$t)?s[this.columnNames[n]]=+u.$t:s[this.columnNames[n]]=u.$t:s[this.columnNames[n]]=""}void 0===s.rowNumber&&(s.rowNumber=t+1),this.elements.push(s)}e.prettyColumnNames?this.fetchPrettyColumns():this.ready()},o.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),t=this;this.tabletop.requestData(e,function(e){t.loadPrettyColumns(e)})},beforeReady:function(){if(this.postProcess)for(i=0,ilen=this.elements.length;i<ilen;i++)this.postProcess(element)},ready:function(){this.beforeReady(),this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},n=this.columnNames,i=0,r=n.length;i<r;i++)void 0!==e.feed.entry[i].content.$t?t[n[i]]=e.feed.entry[i].content.$t:t[n[i]]=n[i];this.prettyColumns=t,this.pretty_columns=this.prettyColumns,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,n,i,r=[],a=[];for(t=0,i=this.columnNames.length;t<i;t++)a.push(this.prettyColumns[this.columnNames[t]]);for(e=0,n=this.elements.length;e<n;e++){var o={};for(t=0,i=this.columnNames.length;t<i;t++){o[this.prettyColumns[this.columnNames[t]]]=this.elements[e][this.columnNames[t]]}r.push(o)}this.elements=r,this.columnNames=a},toArray:function(){var e,t,n,i,r=[];for(e=0,n=this.elements.length;e<n;e++){var a=[];for(t=0,i=this.columnNames.length;t<i;t++)a.push(this.elements[e][this.columnNames[t]]);r.push(a)}return r}},"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd?define(function(){return o}):window.Tabletop=o}(),(DATAVERSE=DATAVERSE||{}).main=function(e){var n=this;window.onpopstate=function(e){e&&e.state&&location.reload()},n.options=e||{},n.run_app=function(){var t=this;t.assets=document.createElement("a-assets"),t.assets.classList.add("dataverse-added"),document.querySelector("a-scene").appendChild(t.assets);for(var e=[[[0,1.6,-4],[-4,1.6,0],[4,1.6,0],[0,1.6,4]],[[0,0,0],[0,90,0],[0,-90,0],[0,-180,0]]],n=0;n<e[0].length;n++){var i=document.createElement("a-plane");i.classList.add("dataverse-added"),i.setAttribute("position",{x:e[0][n][0],y:e[0][n][1],z:e[0][n][2]}),i.setAttribute("rotation",{x:e[1][n][0],y:e[1][n][1],z:e[1][n][2]}),i.setAttribute("width",1),i.setAttribute("height",1),i.setAttribute("src",DATAVERSE.paths.loading_thumbnail_static),document.querySelector("a-scene").appendChild(i);var r=document.createElement("a-text");r.classList.add("dataverse-added"),r.setAttribute("position",{x:e[0][n][0],y:e[0][n][1]-.75,z:e[0][n][2]}),r.setAttribute("rotation",{x:e[1][n][0],y:e[1][n][1],z:e[1][n][2]}),r.setAttribute("width",5),r.setAttribute("font","exo2bold"),r.setAttribute("anchor","center"),r.setAttribute("align","center"),r.setAttribute("value","Loading sheet data"),document.querySelector("a-scene").appendChild(r)}t.urls=new DATAVERSE.urls({},t),t.renderer=new DATAVERSE.renderer({},t),t.state=new DATAVERSE.state({},t,function(){"tests"in t.options?t.options.tests.forEach(function(e){DATAVERSE.tests[e](t)}):(t.renderer.init_scenes(),t.renderer.render_scene())})},$(document).ready(function(){var e=document.querySelector("body");n.interstitial=document.createElement("div"),n.interstitial.setAttribute("id","dataverse-interstitial"),n.interstitial.classList.add("dataverse-added"),e.appendChild(n.interstitial),n.interstitial_image=document.createElement("div"),n.interstitial_image.setAttribute("id","dataverse-interstitial-image"),n.interstitial_image.classList.add("dataverse-added"),e.appendChild(n.interstitial_image),document.getElementById("dataverse-interstitial").addEventListener("click",function(e){document.querySelector("a-scene").style.display="block",this.parentNode.removeChild(this),n.interstitial_image.parentNode.removeChild(n.interstitial_image),e.stopPropagation()}),document.getElementById("dataverse-interstitial-image").addEventListener("click",function(e){document.querySelector("a-scene").style.display="block",this.parentNode.removeChild(this),n.interstitial.parentNode.removeChild(n.interstitial),e.stopPropagation()});var t=document.querySelector("a-scene");t.hasLoaded?n.run_app():t.addEventListener("loaded",n.run_app())})},DATAVERSE.main.prototype={croak:function(e){console.log("CROAK"),console.log(e);var t=document.querySelector("body"),n=document.createElement("div");n.setAttribute("id","dataverse-interstitial"),n.classList.add("dataverse-added"),t.appendChild(n);var i=document.createElement("div");i.setAttribute("id","dataverse-interstitial-image"),i.classList.add("dataverse-added"),t.appendChild(i);var r=document.createElement("div");r.setAttribute("id","dataverse-interstitial-message"),r.classList.add("dataverse-added"),r.innerHTML="Error => "+e,t.appendChild(r),document.querySelector("a-scene").style.display="none"}},(DATAVERSE=DATAVERSE||{}).constants={default_theme:"dark",GOOGLE_UA:"UA-XXXXX-X"},DATAVERSE.cache={},DATAVERSE.paths={click_sound:"https://cdn.dataverse.xyz/audio/click.mp3",hover_sound:"https://cdn.dataverse.xyz/audio/hover.mp3",photo_thumbnail:"https://cdn.dataverse.xyz/img/plaholder-image.png",video_thumbnail:"https://cdn.dataverse.xyz/img/placeholder-video.png",viz_thumbnail:"https://cdn.dataverse.xyz/img/placeholder-vis.png",loading_thumbnail_static:"https://cdn.dataverse.xyz/img/loading_static.jpg"},DATAVERSE.dmms={close_button:40,plus_button:40,label:20,big_label:30,sublabel:16,subtitle:12,min_text:1,map_label:8,map_attribution:20},DATAVERSE.animation={geo:500,button:500},DATAVERSE.distances={close:1.75,panel:1.5},DATAVERSE.height=1.6,DATAVERSE.floor_vizs=["isotypes-radial-viz"],DATAVERSE.sky_vizs=["isotypes-radial-viz","timeline-viz","photogrid-viz","small-treemap-viz","tilemap-viz"],DATAVERSE.UIPACK_CONSTANTS={button_hover:1e3,menu_pitch:-90,menu_begin_pitch:-20,menu_distance:1.3,menu_tick_check:1,offset_player:.3,offset_buttons:.9,offset_icons:.15,icon_spacing:.05,menu_player_width:1,menu_player_height:.1,menu_player_button_radius:.03,button_spacing:.1,menu_button_width:3,icon_path:"themes/dark/icons/",button_radius:.05,button_distance:2.9,button_elevation:1.8,button_offset:.1,arc_color:"red",thumbnail_distance:3.1,thumbnail_elevation:1.8,thumbnail_icon:"arrow-up.png",play_icon:"play-circle-o.png",pause_icon:"pause-circle-o.png",label_distance:3.1,label_elevation:1.8,label_front_gap:.1,label_width:3},(DATAVERSE=DATAVERSE||{}).renderer=function(e,t){this.main=t,this.options=e},DATAVERSE.renderer.prototype={init_scenes:function(){this.scene=document.querySelector("a-scene"),this.camera=document.querySelector("a-camera"),this.cursor=document.querySelector("a-cursor")},render_intropanel:function(){var e=this;!(e.main.state.state.actual_scene in e.main.state.state.visited_scenes||"autohide_intro"in e.actual_scene_data&&"yes"===e.actual_scene_data.autohide_intro)?(e.intro_panel=document.createElement("a-entity"),e.intro_panel.classList.add("dataverse-added"),e.intro_panel.setAttribute("intro-panel",{theme:e.theme,credits:e.actual_scene_data.credits?e.actual_scene_data.credits:"",title:e.actual_scene_data.title,text:e.actual_scene_data.explain,yaw:e.counter_cam_rotation}),e.scene.appendChild(e.intro_panel),e.intro_panel.addEventListener("closed",function(){e.cursor.setAttribute("raycaster",{near:0,objects:".clickable"}),e.laser_controls&&e.laser_controls.setAttribute("raycaster",{near:0,objects:".clickable"})})):(e.cursor.setAttribute("raycaster",{near:0,objects:".clickable"}),e.laser_controls&&e.laser_controls.setAttribute("raycaster",{near:0,objects:".clickable"}))},set_cursor:function(){var e=this;console.log("HEADSET",AFRAME.utils.checkHeadsetConnected(),AFRAME.utils.isMobile(),AFRAME.utils.isGearVR(),navigator.userAgent);var t=AFRAME.utils.isMobile(),n=AFRAME.utils.checkHeadsetConnected(),i=!t&&!n;e.cursor.parentNode.removeChild(e.cursor),e.cursor=document.createElement("a-entity"),e.camera.appendChild(e.cursor),e.cursor.setAttribute("id","cursor"),e.cursor.setAttribute("cursor",{rayOrigin:i?"mouse":"entity",fuse:!0,fuseTimeout:DATAVERSE.animation.button}),e.cursor.setAttribute("position",{x:0,y:0,z:-1}),e.cursor.setAttribute("geometry",{primitive:"ring",radiusInner:.01,radiusOuter:.02}),e.cursor.setAttribute("material",{color:e.theme_data.cursor_color,shader:"flat"}),e.cursor.setAttribute("visible",!i),AFRAME.utils.isMobile()&&AFRAME.utils.isGearVR()&&(t=!(n=!0)),e.cursor.setAttribute("raycaster",{near:0,objects:".non_click_while_loading"}),n&&!t&&(console.log("INSERTING LASER CONTROLS"),e.laser_controls=document.createElement("a-entity"),e.laser_controls.setAttribute("laser-controls",{}),e.laser_controls.classList.add("dataverse-added"),e.laser_controls.setAttribute("line",{color:e.theme_data.cursor_color}),e.laser_controls.setAttribute("raycaster",{near:0,objects:".non_click_while_loading"}),e.cursor.setAttribute("visible",!1),e.cursor.setAttribute("raycaster",{far:0}),e.scene.appendChild(e.laser_controls)),DATAVERSE.cursor_mode=i?"desktop":t?"gaze":"laser"},render_aux_assets:function(){var e=this;e.ambient_light=document.createElement("a-entity"),e.ambient_light.setAttribute("light",{type:"ambient",color:"#AAA"}),e.ambient_light.classList.add("dataverse-added"),e.directional_light=document.createElement("a-entity"),e.directional_light.setAttribute("light",{type:"directional",color:"#EEE",intensity:.5}),e.directional_light.setAttribute("position",{x:1,y:10,z:-1}),e.directional_light.classList.add("dataverse-added"),e.set_cursor(),e.scene.appendChild(e.directional_light),e.scene.appendChild(e.ambient_light)},render_menu:function(e){var i=this;i.menu=document.createElement("a-entity"),i.menu.classList.add("dataverse-added");var r=0===i.main.state.state.scene_history.length?{icons:["home.png"],names:["home"]}:{icons:["arrow-left.png","home.png"],names:["back","home"]};e?i.menu.setAttribute("uipack-menu",{theme:i.theme,icons:r.icons,buttons:[],media_id:e,open:!0}):i.menu.setAttribute("uipack-menu",{theme:i.theme,icons:r.icons,buttons:[],open:!0}),i.scene.appendChild(i.menu),i.menu.addEventListener("clicked",function(e){if("icon"===e.detail.type&&"home"===r.names[e.detail.index]){i.main.state.state.scene_history.push(i.main.state.state.actual_scene);var t={Title:"",Url:window.location.origin+window.location.pathname+"?scene="+i.main.state.state.actual_scene};history.pushState(t,t.Title,t.Url),i.main.state.state.actual_scene=i.main.state.state.home_scene,i.render_scene()}if("icon"===e.detail.type&&"back"===r.names[e.detail.index]&&0<i.main.state.state.scene_history.length){var n=i.main.state.state.scene_history.pop();i.main.state.state.actual_scene=n,i.render_scene()}})},follow_link:function(e){this.main.state.state.scene_history.push(this.main.state.state.actual_scene);var t={Title:"",Url:window.location.origin+window.location.pathname+"?scene="+this.main.state.state.actual_scene};history.pushState(t,t.Title,t.Url),this.main.state.state.actual_scene=e,this.render_scene()},insert_loading_scene:function(){var e=document.createElement("img");e.setAttribute("id","loading_scene"),e.setAttribute("crossorigin","anonymous"),e.setAttribute("src",DATAVERSE.paths.loading_thumbnail_static),this.assets.appendChild(e);for(var t=[[[0,1.6,-4],[-4,1.6,0],[4,1.6,0],[0,1.6,4]],[[0,0,0],[0,90,0],[0,-90,0],[0,-180,0]]],n=0;n<t[0].length;n++)if(!this.loaded_scene){var i=document.createElement("a-plane");i.classList.add("dataverse-added","loading_scene"),i.setAttribute("position",{x:t[0][n][0],y:t[0][n][1],z:t[0][n][2]}),i.setAttribute("rotation",{x:t[1][n][0],y:t[1][n][1],z:t[1][n][2]}),i.setAttribute("width",1),i.setAttribute("height",1),i.setAttribute("src",DATAVERSE.paths.loading_thumbnail_static),document.querySelector("a-scene").appendChild(i);var r=document.createElement("a-text");r.classList.add("dataverse-added","loading_scene"),r.setAttribute("position",{x:t[0][n][0],y:t[0][n][1]-.75,z:t[0][n][2]}),r.setAttribute("rotation",{x:t[1][n][0],y:t[1][n][1],z:t[1][n][2]}),r.setAttribute("width",5),r.setAttribute("font","exo2bold"),r.setAttribute("anchor","center"),r.setAttribute("align","center"),r.setAttribute("value","Loading scene"),document.querySelector("a-scene").appendChild(r)}},render_scene:function(){var a=this;a.loaded_scene=!1,a.counter_cam_rotation=a.scene.camera.el.getAttribute("rotation").y,a.counter_cam_position=a.scene.camera.el.getAttribute("position");for(var e=[],t=0;t<a.scene.children.length;t++){var n=a.scene.children[t];n.classList.contains("dataverse-added")&&e.push(n)}if(e.forEach(function(e){a.scene.removeChild(e)}),a.assets=document.createElement("a-assets"),a.assets.classList.add("dataverse-added"),a.scene.appendChild(a.assets),a.actual_scene_data=a.main.state.state.scenes[a.main.state.state.actual_scene],void 0!==a.actual_scene_data&&a.actual_scene_data.type in AFRAME.components){a.theme=""!==a.actual_scene_data.theme?a.theme=a.actual_scene_data.theme:DATAVERSE.constants.default_theme,a.theme_data=DATAVERSE.themes[a.theme],DATAVERSE.scene_number=a.main.state.state.actual_scene,DATAVERSE.UIPACK_CONSTANTS.icon_path=a.theme_data.icon_path,a.render_aux_assets(),a.actual_scene_component=document.createElement("a-entity"),a.actual_scene_component.classList.add("dataverse-added"),a.actual_scene_component.setAttribute("visible",!1);var i=AFRAME.utils.styleParser.parse(a.actual_scene_data.params);if(i.title=a.actual_scene_data.title,i.explain=a.actual_scene_data.explain,i.source=a.main.state.state.scenes_data_source,"photo-viz"===a.actual_scene_data.type||"video-viz"===a.actual_scene_data.type?i.tab="labels":i.tab=a.actual_scene_data.tab,i.theme=a.theme,a.actual_scene_data.media_source&&(i.media_source=a.actual_scene_data.media_source),a.actual_scene_data.subtype&&(i.type=a.actual_scene_data.subtype),-1!==a.actual_scene_data.floor.indexOf("."))a.floor=document.createElement("a-plane"),a.floor.setAttribute("src",a.actual_scene_data.floor),a.floor.setAttribute("width",100),a.floor.setAttribute("height",100),a.floor.setAttribute("repeat","100 100"),a.floor.setAttribute("rotation",{x:-90,y:a.counter_cam_rotation,z:0}),a.floor.classList.add("dataverse-added"),a.floor.setAttribute("visible",!1),a.scene.appendChild(a.floor);else if(a.actual_scene_data.floor)a.floor=document.createElement("a-plane"),a.floor.setAttribute("color",a.actual_scene_data.floor),a.floor.setAttribute("width",100),a.floor.setAttribute("height",100),a.floor.setAttribute("repeat","100 100"),a.floor.setAttribute("rotation",{x:-90,y:a.counter_cam_rotation,z:0}),a.floor.classList.add("dataverse-added"),a.floor.setAttribute("visible",!1),a.scene.appendChild(a.floor);else if(-1!==DATAVERSE.floor_vizs.indexOf(a.actual_scene_data.type.toLowerCase())){var r=a.theme_data.floor;-1!==r.indexOf(".")?(a.floor=document.createElement("a-plane"),a.floor.setAttribute("src",r)):(a.floor=document.createElement("a-plane"),a.floor.setAttribute("color",r)),a.floor.setAttribute("width",100),a.floor.setAttribute("height",100),a.floor.setAttribute("repeat","100 100"),a.floor.setAttribute("rotation",{x:-90,y:a.counter_cam_rotation,z:0}),a.floor.classList.add("dataverse-added"),a.floor.setAttribute("visible",!1),a.scene.appendChild(a.floor)}if(-1!==a.actual_scene_data.background.indexOf("."))a.sky=document.createElement("a-sky"),a.sky.setAttribute("src",a.actual_scene_data.background),a.sky.classList.add("dataverse-added"),a.sky.setAttribute("rotation",{x:0,y:a.counter_cam_rotation,z:0}),a.sky.setAttribute("visible",!1),a.scene.appendChild(a.sky);else if(a.actual_scene_data.background)a.sky=document.createElement("a-sky"),a.sky.setAttribute("color",a.actual_scene_data.background),a.sky.classList.add("dataverse-added"),a.sky.setAttribute("rotation",{x:0,y:a.counter_cam_rotation,z:0}),a.sky.setAttribute("visible",!1),a.scene.appendChild(a.sky);else if(-1!==DATAVERSE.sky_vizs.indexOf(a.actual_scene_data.type.toLowerCase())){var o=a.theme_data.sky;-1!==o.indexOf(".")?(a.sky=document.createElement("a-sky"),a.sky.setAttribute("src",o)):(a.sky=document.createElement("a-sky"),a.sky.setAttribute("color",o)),a.sky.classList.add("dataverse-added"),a.sky.setAttribute("rotation",{x:0,y:a.counter_cam_rotation,z:0}),a.sky.setAttribute("visible",!1),a.scene.appendChild(a.sky)}"position"in i?(a.actual_scene_component.setAttribute("position",{x:a.counter_cam_position.x+i.position.split(" ")[0],y:a.actual_scene_component.getAttribute("position").y,z:a.counter_cam_position.z+ +i.position.split(" ")[2]}),delete i.position):a.actual_scene_component.setAttribute("position",{x:a.counter_cam_position.x,y:a.actual_scene_component.getAttribute("position").y,z:a.counter_cam_position.z}),"rotation"in i?(a.actual_scene_component.setAttribute("rotation",{x:i.rotation.split(" ")[0],y:(parseFloat(i.rotation.split(" ")[1])+a.counter_cam_rotation)%360,z:i.rotation.split(" ")[2]}),delete i.rotation):a.actual_scene_component.setAttribute("rotation",{x:0,y:a.counter_cam_rotation%360,z:0}),a.actual_scene_component.setAttribute(a.actual_scene_data.type,i),a.scene.appendChild(a.actual_scene_component),"video-viz"===a.actual_scene_data.type?a.actual_scene_component.addEventListener("asset_added",function(e){a.render_menu(e.detail.id)}):2<a.actual_scene_data.audio.length&&"video-viz"!==a.actual_scene_data.type?(a.audio=document.createElement("audio"),a.audio.classList.add("dataverse-added"),a.audio.setAttribute("crossorigin","anonymous"),a.audio.setAttribute("src",a.actual_scene_data.audio),a.audio.setAttribute("id","audio"),a.audio.setAttribute("autoplay",!0),a.audio.setAttribute("crossorigin","anonymous"),a.assets.appendChild(a.audio),a.render_menu("audio")):a.render_menu(),a.main.urls.set_params({scene:a.main.state.state.actual_scene,source:a.main.state.state.scenes_data_source}),a.back_sphere=document.createElement("a-sphere"),a.back_sphere.setAttribute("material",{shader:"flat",side:"back",color:"black"}),a.back_sphere.setAttribute("radius",5),a.back_sphere.setAttribute("opacity",1),a.back_sphere.classList.add("dataverse-added"),a.back_sphere.setAttribute("position",a.counter_cam_position),a.scene.appendChild(a.back_sphere),a.insert_loading_scene(),a.actual_scene_component.addEventListener("link",function(e){a.follow_link(e.detail.link)}),a.actual_scene_component.addEventListener("dv_loaded",function(e){a.loaded_scene=!0,a.actual_scene_component.setAttribute("visible",!0),a.sky&&a.sky.setAttribute("visible",!0),a.floor&&a.floor.setAttribute("visible",!0);var t=document.querySelectorAll(".skyspheres");[].forEach.call(t,function(e){e.setAttribute("visible",!0)});for(var n=a.scene.querySelectorAll(".loading_scene"),i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i]);if(a.render_intropanel(),a.main.state.state.visited_scenes[a.main.state.state.actual_scene]=!0,a.back_sphere.hasLoaded){var r=document.createElement("a-animation");r.setAttribute("attribute","opacity"),r.setAttribute("dur",2e3),r.setAttribute("from",1),r.setAttribute("to",0),a.back_sphere.appendChild(r),r.addEventListener("animationend",function(){a.back_sphere.parentNode.removeChild(a.back_sphere)})}else a.back_sphere.addEventListener("loaded",function(){var e=document.createElement("a-animation");e.setAttribute("attribute","opacity"),e.setAttribute("dur",2e3),e.setAttribute("from",1),e.setAttribute("to",0),a.back_sphere.appendChild(e),e.addEventListener("animationend",function(){a.back_sphere.parentNode.removeChild(a.back_sphere)})})})}else a.main.croak("Invalid type of scene in row or nonexistent scene: "+a.main.state.state.actual_scene)}},(DATAVERSE=DATAVERSE||{}).state=function(e,t,n){this.main=t,this.options=e,this.state={actual_scene:this.main.urls.get_params().scene?parseInt(this.main.urls.get_params().scene,10):2,scene_history:[],visited_scenes:{}},this.load_app_data(n)},DATAVERSE.state.prototype={load_app_data:function(i){var r=this,e=r.main.urls.get_params();if("source"in r.main.options&&(e.source=r.main.options.source),r.state.scenes_data_source=e.source,"source"in e){try{Tabletop.init({key:e.source,callback:function(e,t){if("scenes"in e){DATAVERSE.cache[r.main.options.source]=e,r.state.scenes=t.sheets("scenes").elements;var n={};r.state.home_scene=2,r.state.scenes.forEach(function(e,t){n[t+2]=e}),r.state.scenes=n,i()}else r.main.croak("Malformed spreadsheet: No 'scenes' sheet")},simpleSheet:!1,parseNumbers:!0})}catch(e){r.main.croak("Error accessing spreadsheet: ",e)}}else r.main.croak("No source file detected in URL")}},(DATAVERSE=DATAVERSE||{}).syntax=function(e,t){this.main=t,this.options=e},DATAVERSE.syntax.prototype={example_function:function(){}},(DATAVERSE=DATAVERSE||{}).tests={test_one:function(e){this.main=e,console.log("ENTERING TEST ONE")}},(DATAVERSE=DATAVERSE||{}).themes={dark:{color_scale:"category20b",default_color:"#CCCCCC",cursor_color:"#F91100",arc_color:"#F91100",floor:"#313037",sky:"https://cdn.dataverse.xyz/themes/dark/ground-bg.new.png",icon_path:"https://cdn.dataverse.xyz/themes/dark/icons",text_color:"#E5E8F2",text_background:"#313037",text_font:"exo2bold",text_attribution_color:"#48a4cd",map_provider:"CartoDB.DarkMatter",earth_texture:"https://cdn.dataverse.xyz/themes/dark/textures/8081-earthmap10k.new.jpg",timeline_color:"#313037",panel_color:"#313037",panel_aux_color:"#313037",panel_font:"roboto",panel_title_font:"exo2bold",panel_background:"#FFFFFF",panel_backpanel:"#E5E8F2",player_background:"white",player_text_color:"black",player_font:"25px Roboto"},light:{color_scale:"category20c",default_color:"#333333",cursor_color:"#F91100",arc_color:"#F91100",floor:"#B1B0B9",sky:"https://cdn.dataverse.xyz/themes/light/ground-bg.new.png",icon_path:"https://cdn.dataverse.xyz/themes/light/icons",text_color:"#313037",text_background:"#E5E8F2",text_attribution_color:"#48a4cd",text_font:"exo2bold",map_provider:"CartoDB.Positron",earth_texture:"https://cdn.dataverse.xyz/themes/light/textures/8081-earthmap10k.new.jpg",timeline_color:"#BFF",panel_color:"#E5E8F2",panel_aux_color:"#E5E8F2",panel_font:"roboto",panel_title_font:"exo2bold",panel_background:"#000000",panel_backpanel:"#313037",player_background:"#000000",player_text_color:"white",player_font:"25px Roboto"}},(DATAVERSE=DATAVERSE||{}).urls=function(e,t){var h;this.main=t,this.options=e,(h=jQuery).deparam=function(e,l){var c={},d={true:!0,false:!1,null:null};return h.each(e.replace(/\+/g," ").split("&"),function(e,t){var n,i=t.split("="),r=decodeURIComponent(i[0]),a=c,o=0,s=r.split("]["),u=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[u])?(s[u]=s[u].replace(/\]$/,""),u=(s=s.shift().split("[").concat(s)).length-1):u=0,2===i.length)if(n=decodeURIComponent(i[1]),l&&(n=n&&!isNaN(n)?+n:"undefined"===n?void 0:void 0!==d[n]?d[n]:n),u)for(;o<=u;o++)a=a[r=""===s[o]?a.length:s[o]]=o<u?a[r]||(s[o+1]&&isNaN(s[o+1])?{}:[]):n;else h.isArray(c[r])?c[r].push(n):void 0!==c[r]?c[r]=[c[r],n]:c[r]=n;else r&&(c[r]=l?void 0:"")}),c}},DATAVERSE.urls.prototype={get_params:function(){return $.deparam(location.search.substring(1))},set_params:function(e){window.history.replaceState({},document.title,window.location.origin+window.location.pathname+"?"+$.param(e))}};var GSVPANO=GSVPANO||{};GSVPANO.PanoLoader=function(e){"use strict";var s,u,t=e||{},a=new google.maps.StreetViewService,l=0,c=0,r=document.createElement("canvas"),o=r.getContext("2d");this.setProgress=function(e){this.onProgress&&this.onProgress(e)},this.throwError=function(e){this.onError?this.onError(e):console.error(e)},this.adaptTextureToZoom=function(){var e=416*Math.pow(2,s),t=416*Math.pow(2,s-1);r.width=e,r.height=t,o.translate(r.width,0),o.scale(-1,1)},this.composeFromTile=function(e,t,n){o.drawImage(n,512*e,512*t),l++;var i=Math.round(100*l/c);this.setProgress(i),l===c&&(this.canvas=r,this.loading=!1,this.onPanoramaLoad&&this.onPanoramaLoad())},this.composePanorama=function(e){this.setProgress(0);var i,t,n,r=Math.pow(2,s),a=Math.pow(2,s-1),o=this;for(3==s&&(r-=1),4==s&&(r-=3,a-=1),c=r*a,n=l=0;n<a;n++)for(t=0;t<r;t++)i="https://maps.google.com/cbk?output=tile&panoid="+u+"&zoom="+s+"&x="+t+"&y="+n,e||(i+="&"+Date.now()),function(e,t){var n=new Image;n.addEventListener("load",function(){o.composeFromTile(e,t,this)}),n.crossOrigin="",n.src=i}(t,n)},this.loadCB=function(e,t,n,i){var r=this;if(t===google.maps.StreetViewStatus.OK){r.onPanoramaData&&r.onPanoramaData(e);var a=google.maps.geometry.spherical.computeHeading(n,e.location.latLng);(e.tiles.centerHeading-a)*Math.PI/180,e.copyright,r.copyright=e.copyright,r.links=e.links,r.heading=e.tiles.centerHeading,u=e.location.pano,r.location=e.location,r.composePanorama(i)}else r.onNoPanoramaData&&r.onNoPanoramaData(t),r.loading=!1,r.throwError("Could not retrieve panorama for the following reason: "+t)},this.load=function(n,i){var r=this;r.loading||(r.loading=!0,i=i||!0,"string"==typeof n?a.getPanoramaById(n,function(e,t){r.loadCB(e,t,n,i)}):a.getPanoramaByLocation(n,50,function(e,t){r.loadCB(e,t,n,i)}))},this.setZoom=function(e){s=e,this.adaptTextureToZoom()},this.setZoom(t.zoom||1)},AFRAME.registerComponent("stereo",{schema:{eye:{type:"string",default:"left"},mode:{type:"string",default:"full"},split:{type:"string",default:"horizontal"}},init:function(){if(this.video_click_event_added=!1,this.material_is_a_video=!1,null!==this.el.getAttribute("material")&&"src"in this.el.getAttribute("material")&&""!==this.el.getAttribute("material").src){var e=this.el.getAttribute("material").src;"object"==typeof e&&"tagName"in e&&"VIDEO"===e.tagName&&(this.material_is_a_video=!0)}var t=this.el.object3D.children[0];if([THREE.SphereGeometry,THREE.SphereBufferGeometry,THREE.BufferGeometry].some(function(e){return t.geometry instanceof e})&&this.material_is_a_video){if("half"===this.data.mode)var n=this.el.getAttribute("geometry"),i=new THREE.SphereGeometry(n.radius||100,n.segmentsWidth||64,n.segmentsHeight||64,Math.PI/2,Math.PI,0,Math.PI);else n=this.el.getAttribute("geometry"),i=new THREE.SphereGeometry(n.radius||100,n.segmentsWidth||64,n.segmentsHeight||64);if(t.rotation.y=Math.PI/2,"left"===this.data.eye)for(var r=i.faceVertexUvs[0],a="vertical"===this.data.split?"y":"x",o=0;o<r.length;o++)for(var s=0;s<3;s++)"x"==a?r[o][s][a]*=.5:(r[o][s][a]*=.5,r[o][s][a]+=.5);if("right"===this.data.eye)for(r=i.faceVertexUvs[0],a="vertical"===this.data.split?"y":"x",o=0;o<r.length;o++)for(s=0;s<3;s++)"x"==a?(r[o][s][a]*=.5,r[o][s][a]+=.5):r[o][s][a]*=.5;t.geometry=(new THREE.BufferGeometry).fromGeometry(i)}else this.video_click_event_added=!0},update:function(e){var t=this.el.object3D.children[0],n=this.data;"both"===n.eye?t.layers.set(0):t.layers.set("left"===n.eye?1:2)},tick:function(e){this.video_click_event_added||void 0!==this.el.sceneEl.canvas&&(this.videoEl=this.el.object3D.children[0].material.map.image,this.video_click_event_added=!0)}}),AFRAME.registerComponent("stereocam",{schema:{eye:{type:"string",default:"left"}},init:function(){this.layer_changed=!1},tick:function(e){var t=this.data;if(!this.layer_changed){var i=[];this.el.object3D.children.forEach(function(e,t,n){i[t]=e.type});var n=i.indexOf("PerspectiveCamera"),r=this.el.object3D.children[n];"both"===t.eye?(r.layers.enable(1),r.layers.enable(2)):r.layers.enable("left"===t.eye?1:2)}}}),DATAVERSE_VIZ_AUX={color_scale:null,gsv_quality:4,global_tracking:{last_media:void 0,maps:{audio:{AUDIO_MAP:new WeakMap,CONTEXT_MAP:new WeakMap,ANALYSER_MAP:new WeakMap}}},non_theme_defaults:{color_scale:"category20",default_color:"black",cursor_color:"yellow",floor:"black",sky:"black",icon_path:"icons"},isInt:function(e){return e%1==0},pretty_print_number:function(e){return this.isInt(e)?e:e.toFixed(2)},return_color_scale_from_data:function(e){return e instanceof Array?d3.scale.ordinal().range(e):d3.scale[e]()},get_default_color_from_theme:function(e){return""!==e?DATAVERSE.themes[e].default_color:this.non_theme_defaults.default_color},get_color_scale_from_theme:function(e){return""!==e?this.return_color_scale_from_data(DATAVERSE.themes[e].color_scale):this.return_color_scale_from_data(this.non_theme_defaults.color_scale)},get_scene_type:function(t,n){if(void 0===t)return"";if(""===t)return"";try{var e=parseInt(t,10)-2,i=n.scenes.elements[e];return"photo-viz"===i.type?"photo":"video-viz"===i.type?"video":"viz"}catch(e){console.error("ERROR GETTING SCENE THUMBNAIL IN ",t,n,e.mesage)}},get_scene_thumbnail:function(t,n){if(void 0===t)return"";if(""===t)return"";try{var e=parseInt(t,10)-2,i=n.scenes.elements[e];if(i.thumbnail)return i.thumbnail;if(!i.media_source)return DATAVERSE.paths.viz_thumbnail;if("video-viz"===i.type)return DATAVERSE.paths.video_thumbnail;if("photo-viz"===i.type){return-1!==i.media_source.search(/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i)?i.media_source:DATAVERSE.paths.photo_thumbnail}}catch(e){console.error("ERROR GETTING SCENE THUMBNAIL IN ",t,n,e.mesage)}},get_distance:function(e,t){var n=new THREE.Vector3;n.setFromMatrixPosition(e.object3D.matrixWorld);var i=new THREE.Vector3;return i.setFromMatrixPosition(t.object3D.matrixWorld),new THREE.Vector3(n.x,n.y,n.z).distanceTo(new THREE.Vector3(i.x,i.y,i.z))},get_distance_xz:function(e,t){var n=new THREE.Vector3;n.setFromMatrixPosition(e.object3D.matrixWorld),n.setY(0);var i=new THREE.Vector3;return i.setFromMatrixPosition(t.object3D.matrixWorld),i.setY(0),new THREE.Vector3(n.x,n.y,n.z).distanceTo(new THREE.Vector3(i.x,i.y,i.z))},yaw_pointing_to_object:function(e,t){var n=new THREE.Vector3;n.setFromMatrixPosition(e.object3D.matrixWorld),n.setY(0);var i=new THREE.Vector3;i.setFromMatrixPosition(t.object3D.matrixWorld),i.setY(0);var r=i.sub(n);return Math.atan2(-r.z,r.x)*THREE.Math.RAD2DEG-90},cam_destination_to_object:function(e,t,n){var i=new THREE.Vector3;i.setFromMatrixPosition(e.object3D.matrixWorld),i.setY(0);var r=new THREE.Vector3;r.setFromMatrixPosition(t.object3D.matrixWorld),r.setY(0);var a=(i.distanceTo(r)-n)/i.distanceTo(r);return a=a<0?0:a,i.lerp(r,a).setY(e.getAttribute("position").y)},load_data:function(n,i,r,a){if(i.endsWith(".csv"))d3.csv(i,function(e){a&&a(e)});else if(i.includes("docs.google.com"))if(r){if(null!=DATAVERSE)if("cache"in DATAVERSE&&i in DATAVERSE.cache)r in DATAVERSE.cache[i]?a(DATAVERSE.cache[i][r].elements,DATAVERSE.cache[i]):a(null,DATAVERSE.cache[i]);else try{Tabletop.init({key:i,callback:function(e,t){r in e?(DATAVERSE.cache[i]=e,a(e[r].elements,e)):console.error("Seems like tab ",r," does not exist.",n,i,r)},parseNumbers:!0})}catch(e){console.error("Error accessing spreadsheet: ",e,n,i,r),a&&a(data)}}else try{Tabletop.init({key:i,callback:function(e,t){a(e)},simpleSheet:!0,parseNumbers:!0})}catch(e){console.error("Error accessing spreadsheet: ",n,e,i),a&&a(data)}else console.error("Data for viz is not in a recognizable format (csv or GSheets)",n),a(null)}},AFRAME.registerSystem("geo-viz",{schema:{},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("geo-viz",{schema:{initial_delay:{type:"number",default:7e3},source:{type:"string",default:""},tab:{type:"string",default:""},theme:{type:"string",default:""},point_radius:{type:"number",default:-1},point_radius_max:{type:"number",default:3},point_radius_min:{type:"number",default:1},arc_color:{type:"string",default:"red"},point_color:{type:"string",default:""},radius:{type:"number",default:50},legend_dmms:{type:"number",default:12},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},earth_texture:{type:"string",default:"img/8081-earthmap10k.jpg"},title:{type:"string",default:""},debug:{type:"boolean",default:!1}},init:function(){var n=this;n.rendered=!1,n.panel_timestamp=Date.now(),""!==n.data.source&&this.system.load_data("geo-viz",n.data.source,n.data.tab,function(e,t){null!==e?(n.scene_data=t,console.log(n.scene_data),n.geo_data=e,n.update()):console.error("Could not load data file ",n.data.source)})},calculate_max_mins:function(){var r=this;r.max_mins={radius:[]},r.geo_data.forEach(function(e){r.max_mins.radius.push(e.value)}),Object.keys(r.max_mins).forEach(function(e){var t=r.max_mins[e];if(0<t.length){var n=d3.max(t),i=d3.min(t);r.max_mins[e]={max:n,min:i,scale:"radius"===e?d3.scale.sqrt().domain([i,n]).range([r.data[["point",e,"min"].join("_")],r.data[["point",e,"max"].join("_")]]).clamp(!0):d3.scale.linear().domain([i,n]).range([r.data[["point",e,"min"].join("_")],r.data[["point",e,"max"].join("_")]]).clamp(!0)}}})},render_a_point:function(i,r){var t=this,e=i.long,n=i.lat,a=t.from_lat_lon_to_point(n,e,.95),o=a.x,s=a.y,u=a.z,l=document.createElement("a-circle");l.setAttribute("color",""!==i.color?i.color:DATAVERSE_VIZ_AUX.get_default_color_from_theme(t.data.theme)),l.setAttribute("radius",-1==t.data.point_radius?t.max_mins.radius.scale(i.value):t.data.point_radius),l.setAttribute("position",{x:o,y:s,z:u}),l.setAttribute("rotation",{x:n,y:-(e+90),z:0});var c=THREE.Math.radToDeg(Math.atan(l.getAttribute("radius")/t.data.radius))+2;if(l.classList.add("geo_geometry"),l.classList.add("clickable"),t.el.appendChild(l),""!=i.headline){var d=document.createElement("a-text");d.classList.add("geo_geometry");var h=i.headline;d.setAttribute("value",h);var p=i.long,m=i.lat+c,f=t.from_lat_lon_to_point(m,p,.9);d.setAttribute("position",{x:f.x,y:f.y,z:f.z}),d.setAttribute("rotation",{x:m,y:-(p+90),z:0}),d.setAttribute("scale",{x:t.data.point_legend_scale,y:t.data.point_legend_scale,z:t.data.point_legend_scale}),d.setAttribute("align","center"),d.setAttribute("color",t.data.theme?DATAVERSE.themes[t.data.theme].text_color:t.data.text_color),d.setAttribute("font",t.data.theme?DATAVERSE.themes[t.data.theme].text_font:t.data.text_font),d.setAttribute("width",t.data.legend_dmms*t.data.radius*(i.headline.length+4)/1e3),d.setAttribute("wrap-count",i.headline.length+4),t.el.appendChild(d)}if(t.button_mode=DATAVERSE&&"cursor_mode"in DATAVERSE?DATAVERSE.cursor_mode:"desktop","desktop"===t.button_mode){var g=t.data;l.addEventListener("mousedown",function(e){new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),l.emit("clicked",null,!1)}),l.addEventListener("mouseenter",function(e){t.el.sceneEl.canvas.classList.remove("a-grab-cursor")}),l.addEventListener("mouseleave",function(e){t.el.sceneEl.canvas.classList.add("a-grab-cursor")})}else{l.first_hover=!0;g=t.data;l.addEventListener("raycaster-intersected",function(e){var t=this;if(t.first_hover){t.ring=document.createElement("a-ring"),t.ring.setAttribute("radius-inner",1*t.getAttribute("radius")),t.ring.setAttribute("radius-outer",1.2*t.getAttribute("radius")),t.ring.setAttribute("material","color:"+(g.theme?DATAVERSE.themes[g.theme].arc_color:t.data.arc_color)),t.ring.setAttribute("visible",!0),t.appendChild(t.ring),t.animation=document.createElement("a-animation"),t.animation.setAttribute("easing","linear"),t.animation.setAttribute("attribute","geometry.thetaLength"),t.animation.setAttribute("dur",DATAVERSE.animation.geo),t.animation.setAttribute("from","0"),t.animation.setAttribute("to","360"),t.ring.appendChild(t.animation);t.el;t.first_hover=!1,t.animation.addEventListener("animationend",function(){var e=this.parentNode.parentNode;setTimeout(function(){t.first_hover=!0},500),new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),e.emit("clicked",null,!1),e.removeChild(t.ring)})}}),l.addEventListener("raycaster-intersected-cleared",function(e){this.first_hover=!0,this.ring.parentNode&&this.ring.parentNode.removeChild(this.ring)})}var _=t.data.theme,y=t.el,v=t,M=t.panel_timestamp;l.addEventListener("clicked",function(e){var t=this;v.el.sceneEl.restore_clickable&&v.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(t.sceneEl.camera.el,this);var n=t.sceneEl.camera.el.getAttribute("rotation").y%360;t.sceneEl.camera.el.getAttribute("rotation").x;if(t.sceneEl.media_panel&&t.sceneEl.media_panel.parentNode){if(t.sceneEl.media_panel_id===r)return;t.sceneEl.media_panel.parentNode.removeChild(t.sceneEl.media_panel)}t.media_panel=document.createElement("a-entity"),t.media_panel.setAttribute("position",t.sceneEl.camera.el.getAttribute("position")),t.media_panel.setAttribute("shadow",{cast:!0}),t.media_panel.classList.add("dataverse-added"),t.media_panel.setAttribute("uipack-mediapanel",{yaw:n,theme:_,distance:DATAVERSE.distances.panel,title:i.headline,text:i.text,media_url:i.media,media_caption:i.media_caption,media_credit:i.media_credit,link:i.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(i.link,v.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(i.link,v.scene_data),id:"point_"+r+"_"+M}),t.media_panel.addEventListener("link",function(e){y.emit("link",{link:e.detail.link},!1)}),t.sceneEl.appendChild(t.media_panel),t.sceneEl.media_panel=t.media_panel,t.sceneEl.media_panel_id=r,v.el.sceneEl.restore_clickable=this,v.el.sceneEl.restore_clickable.classList.remove("clickable")})},from_lat_lon_to_point:function(e,t,n){return{x:this.data.radius*n*Math.cos(THREE.Math.degToRad(e))*Math.cos(THREE.Math.degToRad(t)),y:this.data.radius*n*Math.sin(THREE.Math.degToRad(e)),z:this.data.radius*n*Math.cos(THREE.Math.degToRad(e))*Math.sin(THREE.Math.degToRad(t))}},render_points:function(){var n=this;n.geo_data.forEach(function(e,t){n.render_a_point(e,t)})},render_earth:function(){var e=this,t=document.getElementsByTagName("a-assets")[0],n=document.createElement("img");n.setAttribute("id","skymap"),n.setAttribute("crossorigin","anonymous"),n.setAttribute("src",e.data.theme?DATAVERSE.themes[e.data.theme].earth_texture:e.data.earth_texture),t.appendChild(n),e.map_sphere=document.createElement("a-sphere"),e.map_sphere.classList.add("skyspheres"),e.map_sphere.classList.add("dataverse-added"),e.map_sphere.setAttribute("visible",!1),e.map_sphere.setAttribute("geometry",{primitive:"sphere",radius:e.data.radius,segmentsWidth:64,segmentsHeight:64}),e.map_sphere.setAttribute("material",{shader:"flat",src:"#skymap",side:"back"}),e.map_sphere.setAttribute("scale","1 1 -1"),e.map_sphere.setAttribute("rotation",{x:0,y:e.el.getAttribute("rotation").y,z:0}),e.map_sphere.setAttribute("position",e.el.getAttribute("position")),n.addEventListener("load",function(){e.calculate_max_mins(),e.render_points(),e.el.emit("dv_loaded",null,!1)}),e.el.sceneEl.appendChild(e.map_sphere)},update:function(e){void 0===this.geo_data||this.rendered||(this.rendered=!0,this.render_earth())},remove:function(){}}),AFRAME.registerComponent("intro-panel",{schema:{distance:{type:"number",default:1.5},theme:{type:"string",default:""},yaw:{type:"number",default:0},pitch:{type:"number",default:0},coverage:{type:"number",default:60},height:{type:"number",default:30},text_color:{type:"string",default:"black"},text_font:{type:"string",default:"roboto"},title_font:{type:"string",default:"roboto"},background_color:{type:"string",default:"white"},title:{type:"string",default:""},text:{type:"string",default:""},credits:{type:"string",default:""}},init:function(){this.is_loaded=!1,this.constants={dmm:{title:40,body:18,credits:12,loading:12,link:16},separations:{title:.2,body:0,loading:.2,credits:.1},overlap_factor:.99,margin:.1,gif_height:.1,gif_pos:-.7},this.el.classList.add("intro-panel","clickable"),this.el.setAttribute("rotation",{x:this.data.pitch,y:this.data.yaw,z:0}),this.el.setAttribute("visible",!1)},get_count_from_dmms:function(e,t,n){return Math.floor(1e3*e/(t*n))},draw_text:function(){var i=this,r=i.data.distance,a=i.width*(1-2*i.constants.margin),o=i.height;i.title=document.createElement("a-entity"),i.title.setAttribute("text",{value:i.data.title,align:"center",baseline:"top",width:a,wrapCount:i.get_count_from_dmms(a,r*i.constants.overlap_factor,i.constants.dmm.title),color:i.data.theme?DATAVERSE.themes[i.data.theme].panel_color:i.data.text_color,font:i.data.theme?DATAVERSE.themes[i.data.theme].panel_title_font:i.data.title_font});var n=o/2-o*i.constants.separations.title;i.title.setAttribute("position",{x:0,y:n,z:-r*i.constants.overlap_factor}),i.title.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),i.title.setAttribute("material",{shader:"flat",visible:!1}),i.text_panel.appendChild(i.title),i.total_height=o*i.constants.separations.title,i.title.addEventListener("textfontset",function(){var e=i.title.components.geometry.data.height;i.total_height+=e+o*i.constants.separations.body;var t=n-o*i.constants.separations.body-e;i.text=document.createElement("a-entity"),i.text.setAttribute("text",{value:i.data.text,align:"center",anchor:"center",baseline:"top",width:a,wrapCount:i.get_count_from_dmms(a,r*i.constants.overlap_factor,i.constants.dmm.body),color:i.data.theme?DATAVERSE.themes[i.data.theme].panel_color:i.data.text_color,font:i.data.theme?DATAVERSE.themes[i.data.theme].panel_font:i.data.text_font}),i.text.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),i.text.setAttribute("material",{shader:"flat",visible:!1}),i.text.setAttribute("position",{x:0,y:t,z:-r*i.constants.overlap_factor}),i.text_panel.appendChild(i.text),i.text.addEventListener("textfontset",function(){var e=i.text.components.geometry.data.height+o*i.constants.separations.credits;i.total_height+=e+o*i.constants.separations.credits;var n=t-o*i.constants.separations.credits-e;i.credits=document.createElement("a-entity"),i.credits.setAttribute("text",{value:i.data.credits,align:"center",anchor:"center",baseline:"top",width:a,wrapCount:i.get_count_from_dmms(a,r*i.constants.overlap_factor,i.constants.dmm.credits),color:i.data.theme?DATAVERSE.themes[i.data.theme].panel_color:i.data.text_color,font:i.data.theme?DATAVERSE.themes[i.data.theme].panel_font:i.data.text_font}),i.credits.setAttribute("position",{x:0,y:n,z:-r*i.constants.overlap_factor}),i.credits.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),i.credits.setAttribute("material",{shader:"flat",visible:!1}),i.text_panel.appendChild(i.credits),i.credits.addEventListener("textfontset",function(){var e=i.credits.components.geometry.data.height;i.total_height+=e+o*i.constants.separations.loading,i.loading_position=n-e-o*i.constants.separations.loading,i.close=document.createElement("a-entity"),i.close.setAttribute("uipack-button",{theme:i.data.theme,icon_name:"times-circle.png",radius:DATAVERSE.dmms.close_button*i.data.distance/1e3}),i.close.setAttribute("position",{x:0,y:-i.height/2,z:-i.data.distance*i.constants.overlap_factor}),i.close.classList.add("non_click_while_loading");var t=i.el;i.close.addEventListener("clicked",function(){i.el.emit("closed"),t.parentNode.removeChild(t)}),i.el.appendChild(i.close),i.fix_positions()})})})},fix_positions:function(){var e=this;e.old_height=e.height,e.new_height_margins=e.total_height*(1+2*e.constants.margin),e.new_height_margins=e.total_height,e.new_height=e.total_height,e.back_panel.setAttribute("height",e.new_height_margins),e.offset_y=e.new_height-e.old_height,e.text_panel.setAttribute("position",{x:0,y:e.offset_y/2,z:0}),e.height=e.new_height_margins,e.close&&e.close.setAttribute("position",{x:0,y:-e.height/2,z:-e.data.distance*e.constants.overlap_factor}),e.el.setAttribute("visible",!0)},update:function(e){var t=this;t.back_panel=document.createElement("a-plane"),t.height=2*t.data.distance*Math.tan(THREE.Math.degToRad(t.data.height/2)),t.width=2*t.data.distance*Math.tan(THREE.Math.degToRad(t.data.coverage/2));var n=t.el.sceneEl.camera.el.getAttribute("position");t.el.setAttribute("position",{x:n.x,y:DATAVERSE.height,z:n.z}),t.back_panel.setAttribute("height",t.height),t.back_panel.setAttribute("width",t.width),t.back_panel.setAttribute("material",{shader:"flat",color:t.data.theme?DATAVERSE.themes[t.data.theme].panel_background:t.data.background_color}),t.back_panel.setAttribute("position",{x:0,y:0,z:-t.data.distance}),t.el.appendChild(t.back_panel),t.text_panel=document.createElement("a-entity"),t.text_panel.setAttribute("position",{x:0,y:0,z:0}),t.el.appendChild(t.text_panel),t.draw_text()},tick:function(e){}}),AFRAME.registerSystem("isotypes-radial-viz",{schema:{},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("isotypes-radial-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},text_color:{type:"string",default:"white"},text_background:{type:"string",default:"#222"},text_font:{type:"string",default:"roboto"},legend_height:{type:"float",default:2},sublegend_height:{type:"float",default:1},theme:{type:"string",default:""},size:{type:"float",default:5},title:{type:"string",default:""},explain:{type:"string",default:""},gap_ratio:{type:"string",default:.1},group_gap:{type:"float",default:5},subgroup_gap:{type:"float",default:2.5},degrees:{type:"float",default:360}},init:function(){var n=this;n.panel_timestamp=Date.now(),""!==n.data.source&&this.system.load_data("isotypes",n.data.source,n.data.tab,function(e,t){null!==e?(n.scene_data=t,n.objects=[],n.titles=[],n.isotype_data=n.system.parse_data(e,n.data),n.color_scale=DATAVERSE_VIZ_AUX.get_color_scale_from_theme(n.data.theme),n.update()):(console.error("Could not load data file ",n.data.source),console.log(n.isotype_data))})},render_one:function(e,t,n){var i=document.createElement("a-plane");i.setAttribute("transparent",!0),i.setAttribute("shader","flat"),i.setAttribute("src","#"+n[e.image]),1<e.color.length?i.setAttribute("color",e.color):i.setAttribute("color",this.color_scale(e.group+"_"+e.subgroup_title)),i.setAttribute("rotation",{x:0,y:t/Math.PI*180+180,z:0});var r=document.getElementById(n[e.image]),a=r.naturalWidth,o=r.naturalHeight,s=2*Math.sin(this.object_separation*(1-this.data.gap_ratio)/2)*this.data.size,u=s*(o/a);i.setAttribute("height",u),i.setAttribute("width",s),i.setAttribute("position",{x:this.data.size*Math.sin(t),y:u/2,z:this.data.size*Math.cos(t)}),u>this.max_height&&(this.max_height=u),this.el.appendChild(i)},check_images:function(){var n=!0;this.images.forEach(function(e,t){!1===e.loaded&&(n=!1)}),n&&this.el.emit("loaded_images",null,!1)},add_more_button:function(e,t,n,i){var r=this;if(!("subgroups"in t)||"subgroups"in t&&0==t.subgroups){var a=t.datum;if(""!==a.headline){var o=document.createElement("a-entity"),s=DATAVERSE.dmms.plus_button*r.data.size/1e3;o.setAttribute("uipack-button",{theme:r.data.theme,icon_name:"plus.png",radius:DATAVERSE.dmms.plus_button*r.data.size/1e3}),o.setAttribute("position",{x:0,y:i/2+1.5*s,z:0}),e.appendChild(o),o.addEventListener("clicked",function(){r.el.sceneEl.restore_clickable&&r.el.sceneEl.restore_clickable.classList.add("clickable");var e=r.el.sceneEl.camera.el.getAttribute("rotation").y%360;r.el.sceneEl.camera.el.getAttribute("rotation").x;r.el.sceneEl.media_panel&&r.el.sceneEl.media_panel.parentNode&&r.el.sceneEl.media_panel.parentNode.removeChild(r.el.sceneEl.media_panel),r.media_panel=document.createElement("a-entity");var t=r.el.sceneEl.camera.el.getAttribute("position");r.media_panel.setAttribute("position",{x:t.x,y:t.y,z:t.z}),r.media_panel.classList.add("dataverse-added"),r.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:r.data.theme,title:a.headline,subtitle:"",text:a.text,media_url:a.media,media_caption:a.media_caption,media_credit:a.media_credit,link:a.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(a.link,r.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(a.link,r.scene_data),id:"isotype"+n+"_"+r.panel_timestamp}),r.media_panel.addEventListener("link",function(e){r.el.emit("link",{link:e.detail.link},!1)}),r.el.sceneEl.appendChild(r.media_panel),r.el.sceneEl.media_panel=r.media_panel,r.el.sceneEl.restore_clickable=this,r.el.sceneEl.restore_clickable.classList.remove("clickable")})}}},update:function(e){var c=this;if(void 0!==c.isotype_data&&void 0===c.group_info){c.num_groups=0,c.num_subgroups=0,c.num_objects=0,c.group_info={},c.subgroup_info={},c.max_height=0;for(var d=null,t=0;t<c.isotype_data.length;t++){(m=c.isotype_data[t]).group!=d&&(d=m.group,c.group_info[m.group]={start_radians:THREE.Math.DEG2RAD*c.data.degrees,end_radians:0,title:m.title,datum:m,subgroups:!1},c.num_groups++),0<m.subgroup_title.length&&(c.group_info[m.group].subgroups=!0,c.subgroup_info[c.num_subgroups]={group:m.group,start_radians:THREE.Math.DEG2RAD*c.data.degrees,end_radians:0,title:m.subgroup_title,datum:m},c.num_subgroups++),c.num_objects+=m.count}c.length=THREE.Math.DEG2RAD*c.data.degrees-c.num_groups*(THREE.Math.DEG2RAD*c.data.group_gap)-(c.num_subgroups-1)*(THREE.Math.DEG2RAD*c.data.subgroup_gap),c.object_separation=c.length/c.num_objects;var h=d=-1,n=document.querySelector("a-assets"),p={};c.images=[];var i=0;for(t=0;t<c.isotype_data.length;t++){var m;(m=c.isotype_data[t]).image;if(!(m.image in p)){var r="img_"+i;p[m.image]=r;var a=document.createElement("img");a.setAttribute("id",r),a.setAttribute("src",m.image+"?"+Date.now()),a.setAttribute("crossorigin","anonymous"),n.appendChild(a),c.images.push({el:a,id:r,loaded:!1}),i++}}c.images.forEach(function(e){e.el.addEventListener("load",function(){e.loaded=!0,c.check_images()})}),c.el.addEventListener("loaded_images",function(){var e=0;for(r=0;r<c.isotype_data.length;r++){(m=c.isotype_data[r]).group!=d?(d=m.group,e+=THREE.Math.DEG2RAD*c.data.group_gap,""!==m.subgroup_title&&h++):(e+=THREE.Math.DEG2RAD*c.data.subgroup_gap,h++);for(var t=0<m.subgroup_title.length,n=0;n<m.count;n++)e<c.group_info[m.group].start_radians&&(c.group_info[m.group].start_radians=e),e>c.group_info[m.group].end_radians&&(c.group_info[m.group].end_radians=e),t&&(e<c.subgroup_info[h].start_radians&&(c.subgroup_info[h].start_radians=e),e>c.subgroup_info[h].end_radians&&(c.subgroup_info[h].end_radians=e)),c.render_one(m,e,p),0,e+=c.object_separation}for(var i=0,r=0;r<Object.keys(c.group_info).length;r++){m=c.group_info[Object.keys(c.group_info)[r]];var a=document.createElement("a-entity");e=(m.start_radians+m.end_radians)/2;a.setAttribute("position",{x:c.data.size*Math.sin(e),y:c.data.legend_height,z:c.data.size*Math.cos(e)}),a.setAttribute("rotation",{x:0,y:180<e/Math.PI*180?e/Math.PI*180-180:180+e/Math.PI*180,z:0});var o=m.datum.real_number&&!m.subgroups?m.title+" ("+m.datum.real_number+")":m.title,s=DATAVERSE.dmms.label*c.data.size*(o.length+4)/1e3;a.setAttribute("text",{value:o,align:"center",font:c.data.theme?DATAVERSE.themes[c.data.theme].text_font:c.data.text_font,color:c.data.theme?DATAVERSE.themes[c.data.theme].text_color:c.data.text_color,width:s,wrapCount:o.length+4,zOffset:.01});var u=DATAVERSE.dmms.label*c.data.size/1e3*3;a.setAttribute("geometry",{primitive:"plane",height:u,width:"auto"}),a.setAttribute("material",{color:c.data.theme?DATAVERSE.themes[c.data.theme].text_background:c.data.text_background,shader:"flat"}),c.add_more_button(a,m,i,u),c.el.appendChild(a),i++}var l=0;for(r=0;r<Object.keys(c.subgroup_info).length;r++){m=c.subgroup_info[Object.keys(c.subgroup_info)[r]],a=document.createElement("a-entity"),e=(m.start_radians+m.end_radians)/2,a.setAttribute("position",{x:c.data.size*Math.sin(e),y:c.data.sublegend_height,z:c.data.size*Math.cos(e)}),a.setAttribute("rotation",{x:0,y:180<e/Math.PI*180?e/Math.PI*180-180:180+e/Math.PI*180,z:0});o=m.datum.real_number?m.title+" ("+m.datum.real_number+")":m.title,s=DATAVERSE.dmms.sublabel*c.data.size*(o.length+4)/1e3,u=DATAVERSE.dmms.sublabel*c.data.size/1e3*3;a.setAttribute("text",{value:o,font:c.data.theme?DATAVERSE.themes[c.data.theme].text_font:c.data.text_font,align:"center",color:c.data.theme?DATAVERSE.themes[c.data.theme].text_color:c.data.text_color,width:s,wrapCount:o.length+4,zOffset:.01}),a.setAttribute("geometry",{primitive:"plane",height:u,width:"auto"}),a.setAttribute("material",{color:c.data.theme?DATAVERSE.themes[c.data.theme].text_background:c.data.text_background,shader:"flat"}),c.add_more_button(a,m,"sub"+l,u),c.el.appendChild(a),l++}c.el.emit("dv_loaded",null,!1)})}},remove:function(){}}),AFRAME.registerComponent("photo-viz",{schema:{media_source:{type:"string",default:""},source:{type:"string",default:""},tab:{type:"string",default:""},theme:{type:"string",default:""},title_scale:{type:"float",default:1.5},explain_scale:{type:"float",default:1},title:{type:"string",default:""},explain:{type:"string",default:""},label_distance:{type:"number",default:10},label_height:{type:"number",default:1.6},label_background:{type:"string",default:"black"},label_color:{type:"string",default:"white"},label_font:{type:"string",default:"roboto"},debug:{type:"boolean",default:!1}},init:function(){if(this.panel_timestamp=Date.now(),0==document.getElementsByTagName("a-sky").length){var e=document.createElement("a-sky");e.classList.add("dataverse-added"),document.getElementsByTagName("a-scene")[0].appendChild(e)}document.getElementsByTagName("a-sky")[0].setAttribute("rotation",{x:0,y:this.el.getAttribute("rotation").y,z:0}),document.getElementsByTagName("a-sky")[0].classList.add("skyspheres")},add_more_button:function(e,n,i,t){var r=this;if(""!==n.headline&&""!==n.text){var a=document.createElement("a-entity"),o=DATAVERSE.dmms.plus_button*r.data.label_distance/1e3;a.setAttribute("uipack-button",{theme:r.data.theme,icon_name:"plus.png",radius:o}),a.setAttribute("position",{x:0,y:t/2+1.5*o,z:0}),e.appendChild(a),a.addEventListener("clicked",function(){r.el.sceneEl.restore_clickable&&r.el.sceneEl.restore_clickable.classList.add("clickable");var e=r.el.sceneEl.camera.el.getAttribute("rotation").y%360;r.el.sceneEl.camera.el.getAttribute("rotation").x;r.el.sceneEl.media_panel&&r.el.sceneEl.media_panel.parentNode&&r.el.sceneEl.media_panel.parentNode.removeChild(r.el.sceneEl.media_panel),r.media_panel=document.createElement("a-entity");var t=r.el.sceneEl.camera.el.getAttribute("position");r.media_panel.setAttribute("position",{x:t.x,y:t.y,z:t.z}),r.media_panel.classList.add("dataverse-added"),r.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:r.data.theme,title:n.headline,subtitle:"",text:n.text,media_url:n.media,media_caption:n.media_caption,media_credit:n.media_credit,link:n.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(n.link,r.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(n.link,r.scene_data),id:"photo-viz"+i+"_"+r.panel_timestamp}),r.media_panel.addEventListener("link",function(e){r.el.emit("link",{link:e.detail.link},!1)}),r.el.sceneEl.appendChild(r.media_panel),r.el.sceneEl.media_panel=r.media_panel,r.el.sceneEl.restore_clickable=this,r.el.sceneEl.restore_clickable.classList.remove("clickable")})}},render_tab:function(){var s=this;s.prepared_data.forEach(function(e,t){if(e.scene===DATAVERSE.scene_number){var n=document.createElement("a-entity"),i=(e.yaw+180)*THREE.Math.DEG2RAD;n.setAttribute("position",{x:s.data.label_distance*Math.sin(i),y:"height"in e&&"number"==typeof e.height?e.height:s.data.label_height,z:s.data.label_distance*Math.cos(i)}),n.setAttribute("rotation",{x:0,y:180<i/Math.PI*180?i/Math.PI*180-180:180+i/Math.PI*180,z:0});var r=e.headline,a=DATAVERSE.dmms.label*s.data.label_distance*(r.length+4)/1e3;n.setAttribute("text",{value:r,align:"center",color:s.data.theme?DATAVERSE.themes[s.data.theme].text_color:s.data.label_color,font:s.data.theme?DATAVERSE.themes[s.data.theme].text_font:s.data.label_font,width:a,wrapCount:r.length+4,zOffset:.01});var o=DATAVERSE.dmms.label*s.data.label_distance/1e3*3;n.setAttribute("geometry",{primitive:"plane",height:o,width:"auto"}),n.setAttribute("material",{color:s.data.theme?DATAVERSE.themes[s.data.theme].text_background:s.data.label_background,shader:"flat"}),s.add_more_button(n,e,t,o),s.el.appendChild(n)}})},update:function(e){var i=this;if(-1!==i.data.media_source.search(/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i)){var t=i.data.media_source.trim().split(","),n=parseFloat(t[0].trim()),r=parseFloat(t[1].trim()),a=new GSVPANO.PanoLoader;a.setZoom(DATAVERSE_VIZ_AUX.gsv_quality),a.onPanoramaLoad=function(){var e=new THREE.CanvasTexture(this.canvas),t=document.getElementsByTagName("a-sky")[0];t.setAttribute("scale","1 1 1");var n=t.getAttribute("rotation");t.setAttribute("rotation",{x:n.x,y:n.y+180,z:n.z}),t.getOrCreateObject3D("mesh").material=new THREE.MeshBasicMaterial({map:e,side:THREE.BackSide}),i.el.emit("dv_loaded",null,!1)},a.load(new google.maps.LatLng(n,r))}else{var o=document.querySelector("a-assets"),s=document.createElement("img"),u="photosphere_"+Date.now();s.setAttribute("id",u),s.setAttribute("src",i.data.media_source),s.setAttribute("crossorigin","anonymous"),s.classList.add("dataverse-added"),o.appendChild(s),document.getElementsByTagName("a-sky")[0].setAttribute("src","#"+u),document.getElementsByTagName("a-sky")[0].removeAttribute("color"),s.onload=function(){i.el.emit("dv_loaded",null,!1)}}i.data.tab&&i.data.source&&DATAVERSE_VIZ_AUX.load_data("photo-viz",i.data.source,i.data.tab,function(e,t){null!==e&&(i.prepared_data=e,i.scene_data=t,i.render_tab())})},remove:function(){}}),AFRAME.registerSystem("photogrid-viz",{schema:{},init:function(){},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("photogrid-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},theme:{type:"string",default:""},width:{type:"float",default:15},rows:{type:"int",default:3},distance:{type:"float",default:10},form_factor_x:{type:"float",default:1.25},form_factor_y:{type:"float",default:1.5}},init:function(){var n=this;n.panel_timestamp=Date.now(),n.rendered=!1,""!==n.data.source&&this.system.load_data("photogrid",n.data.source,n.data.tab,function(e,t){null!==e&&(n.scene_data=t,n.parsed_data=n.system.parse_data(e,n.data),n.update())})},insert_a_thumbnail:function(t,e,n,i,r,a){var o=this,s=a?{x:e.last_horizontal_scale(i),y:e.vertical_scale(n),z:-o.data.distance}:{x:e.horizontal_scale(i),y:e.vertical_scale(n),z:-o.data.distance},u=document.createElement("a-plane");u.setAttribute("width",e.thumbnail_size),u.setAttribute("height",e.thumbnail_size),u.setAttribute("material",{shader:"flat"}),u.setAttribute("src",t.image),u.setAttribute("position",s),u.addEventListener("materialtextureloaded",function(){if("material"in this.components.material&&"material"in this.components.material&&this.components.material.material.map&&"image"in this.components.material.material.map){var e=this.components.material.material.map.image.naturalWidth,t=this.components.material.material.map.image.naturalHeight;t<=e?(this.components.material.material.map.repeat={x:t/e,y:1},this.components.material.material.map.offset={x:(1-t/e)/2,y:0}):(this.components.material.material.map.repeat={x:1,y:e/t},this.components.material.material.map.offset={x:0,y:(1-e/t)/2}),this.components.material.material.map.needsUpdate=!0}});var l=document.createElement("a-text");l.setAttribute("value",t.headline),l.setAttribute("align","center"),l.setAttribute("width",e.thumbnail_size*o.data.form_factor_x),l.setAttribute("wrap-count",r),l.setAttribute("position",{x:0,y:.6*-e.thumbnail_size,z:0}),l.setAttribute("color",o.data.theme?DATAVERSE.themes[o.data.theme].text_color:o.data.text_color),l.setAttribute("font",o.data.theme?DATAVERSE.themes[o.data.theme].text_font:o.data.text_font);e.thumbnail_size,o.data.form_factor_x;if(u.appendChild(l),o.el.appendChild(u),""!=t.text||""!=t.media||""!=t.media_credit||""!=t.media_caption||""!=t.link){var c=document.createElement("a-entity"),d=DATAVERSE.dmms.plus_button*o.data.distance/1e3;c.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"plus.png",radius:d}),c.setAttribute("position",{x:0,y:e.thumbnail_size/2,z:.1}),u.appendChild(c),c.addEventListener("clicked",function(){o.el.sceneEl.restore_clickable&&o.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(o.el.sceneEl.camera.el,this);var e=o.el.sceneEl.camera.el.getAttribute("rotation").y%360;o.el.sceneEl.camera.el.getAttribute("rotation").x;o.el.sceneEl.media_panel&&o.el.sceneEl.media_panel.parentNode&&o.el.sceneEl.media_panel.parentNode.removeChild(o.el.sceneEl.media_panel),o.media_panel=document.createElement("a-entity"),o.media_panel.setAttribute("position",o.el.sceneEl.camera.el.getAttribute("position")),o.media_panel.setAttribute("shadow",{cast:!0}),o.media_panel.classList.add("dataverse-added"),o.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:o.data.theme,title:t.headline,subtitle:"",text:t.text,media_url:t.media,media_caption:t.media_caption,media_credit:t.media_credit,link:t.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(t.link,o.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(t.link,o.scene_data),id:"treemap_"+n+"_"+i+"_"+o.panel_timestamp}),o.media_panel.addEventListener("link",function(e){o.el.emit("link",{link:e.detail.link},!1)}),o.el.sceneEl.appendChild(o.media_panel),o.el.sceneEl.media_panel=o.media_panel,o.el.sceneEl.restore_clickable=this,o.el.sceneEl.restore_clickable.classList.remove("clickable")})}},update:function(e){var t=this;if(t.parsed_data&&!t.rendered){if(t.rendered=!0,t.el.children&&0<t.el.children.length)for(var n=0;n<t.el.children.length;n++)t.el.removeChild(t.el.children[n]);var i=t.el.getAttribute("position");t.el.setAttribute("position",{x:i.x,y:t.el.sceneEl.camera.el.getAttribute("position").y+i.y,z:i.z});var r=t.parsed_data.slice(0).sort(function(e,t){return t.headline.length-e.headline.length})[0].headline.length,a={};a.thumbnail_number=t.parsed_data.length,a.number_cols=Math.ceil(a.thumbnail_number/t.data.rows),a.last_row_cols=a.thumbnail_number-(t.data.rows-1)*a.number_cols,a.thumbnail_size=t.data.width/((a.number_cols-1)*t.data.form_factor_x),a.vertical_span=a.thumbnail_size*t.data.form_factor_y*(t.data.rows-1),a.last_horizontal_span=a.thumbnail_size*t.data.form_factor_x*(a.last_row_cols-1),a.horizontal_scale=d3.scale.linear().domain([0,a.number_cols-1]).range([-t.data.width/2,t.data.width/2]),a.vertical_scale=d3.scale.linear().domain([0,t.data.rows-1]).range([a.vertical_span/2,-a.vertical_span/2]),a.last_horizontal_scale=d3.scale.linear().domain([0,a.last_row_cols-1]).range([-a.last_horizontal_span/2,a.last_horizontal_span/2]);for(n=0;n<t.data.rows;n++)if(n!==t.data.rows-1)for(var o=0;o<a.number_cols;o++){var s=n*a.number_cols+o,u=t.parsed_data[s];t.insert_a_thumbnail(u,a,n,o,r,!1)}else for(o=0;o<a.last_row_cols;o++){s=n*a.number_cols+o,u=t.parsed_data[s];t.insert_a_thumbnail(u,a,n,o,r,!0)}t.el.emit("dv_loaded",null,!1)}},remove:function(){}}),AFRAME.registerComponent("face-camera",{schema:{},init:function(){this.vector=new THREE.Vector3},update:function(e){},tick:function(e){this.cameraObject=this.el.sceneEl.camera;var t=new THREE.Vector3;t.setFromMatrixPosition(this.cameraObject.matrixWorld);var n=new THREE.Vector3;n.setFromMatrixPosition(this.el.object3D.matrixWorld);var i=t.clone().sub(n).setY(0).normalize(),r=(t.clone().sub(n).setX(0).normalize(),t.clone().sub(n).normalize(),this.el.getAttribute("rotation"));r.y=180*Math.atan2(i.x,i.z)/Math.PI,this.el.setAttribute("rotation",r)}}),AFRAME.registerSystem("tilemap-viz",{schema:{},init:function(){},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,t){return e}}),AFRAME.registerComponent("tilemap-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},theme:{type:"string",default:""},provider:{type:"string",default:"CartoDB.Positron"},default_provider:{type:"string",default:"CartoDB.Positron"},lat:{type:"float",default:51.4825757},long:{type:"float",default:-.0164351},zoom:{type:"number",default:18},size:{type:"number",default:10},canvas_size:{type:"number",default:2048},marker_size:{type:"number",default:.25},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},text_background:{type:"string",default:"black"},text_attribution_color:{type:"string",default:"#48a4cd"},map_y:{type:"float",default:0}},init:function(){var n=this;n.panel_timestamp=Date.now(),n.el.setAttribute("rotation",{x:0,y:0,z:0}),""!==n.data.source&&this.system.load_data("tilemap",n.data.source,n.data.tab,function(e,t){null!==e?(n.prepared_data=e,n.scene_data=t,n.map_div=document.createElement("div"),n.map_div.setAttribute("id","map"),n.map_div.style.height=n.data.canvas_size+"px",n.map_div.style.width=n.data.canvas_size+"px",n.map_div.style["z-index"]=-9999,document.querySelector("body").appendChild(n.map_div),n.map=L.map("map").setView([n.data.lat,n.data.long],n.data.zoom),n.data.theme&&n.data.provider!==n.data.default_provider?n.layer=L.tileLayer.provider(n.data.provider,{crossOrigin:!0}):n.layer=L.tileLayer.provider(n.data.theme?DATAVERSE.themes[n.data.theme].map_provider:n.data.provider,{crossOrigin:!0}),n.layer.addTo(n.map),n.layer.on("load",function(){html2canvas(document.getElementById("map"),{useCORS:!0,onrendered:function(e){setTimeout(function(){n.map_texture=new THREE.CanvasTexture(e),n.update()},1e3)}})})):console.error("Could not load data file ",n.data.source)})},insert_marker:function(i,e,r){var t,o=this,s=document.createElement("a-entity");s.classList.add("marker"),s.__data__=i,s.setAttribute("shadow",{cast:!0}),s.setAttribute("position",e),t=1<i.color.length?i.color:DATAVERSE_VIZ_AUX.get_default_color_from_theme(o.data.theme);var n=o.data.marker_size/4,a=document.createElement("a-sphere");a.setAttribute("position",{x:0,y:-n,z:0}),a.setAttribute("color",t),a.setAttribute("radius",n);var u=document.createElement("a-cone");u.setAttribute("height",3*n),u.setAttribute("color",t),u.setAttribute("position",{x:0,y:2.5*-n,z:0}),u.setAttribute("radius-top",n),u.setAttribute("radius-bottom",0);var l=DATAVERSE.dmms.plus_button/2*(o.data.size/2)/1e3,c=document.createElement("a-entity"),d=DATAVERSE.dmms.map_label*(o.data.size/2)*(i.headline.length+2)/1e3;c.setAttribute("text",{value:i.headline,align:"center",color:o.data.theme?DATAVERSE.themes[o.data.theme].text_color:o.data.label_color,font:o.data.theme?DATAVERSE.themes[o.data.theme].text_font:o.data.label_font,width:d,wrapCount:i.headline.length+4,zOffset:.01});var h=DATAVERSE.dmms.map_label*(o.data.size/2)/1e3*3;c.setAttribute("geometry",{primitive:"plane",height:h,width:"auto"}),c.setAttribute("material",{color:o.data.theme?DATAVERSE.themes[o.data.theme].text_background:o.data.text_background,shader:"flat",opacity:.2,transparent:!0}),c.setAttribute("position",{x:0,y:o.data.marker_size/2+d/2+2*l,z:0}),c.setAttribute("rotation",{x:0,y:0,z:90}),c.setAttribute("face-camera","");var p=document.createElement("a-entity");p.setAttribute("position",{x:0,y:0,z:0}),p.setAttribute("face-camera",""),p.setAttribute("rotation",{x:0,y:0,z:0});var m=document.createElement("a-entity");m.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"plus.png",radius:l}),m.setAttribute("position",{x:0,y:1.5*l,z:0}),m.addEventListener("clicked",function(){o.el.sceneEl.restore_clickable&&o.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(o.el.sceneEl.camera.el,this);var e=o.el.sceneEl.camera.el.getAttribute("rotation").y%360;o.el.sceneEl.camera.el.getAttribute("rotation").x;o.media_panel&&o.media_panel.parentNode&&o.media_panel.parentNode.removeChild(o.media_panel),o.media_panel=document.createElement("a-entity"),o.media_panel_position={x:o.el.sceneEl.camera.el.getAttribute("position").x-o.el.getAttribute("position").x,y:o.el.sceneEl.camera.el.getAttribute("position").y-o.el.getAttribute("position").y,z:o.el.sceneEl.camera.el.getAttribute("position").z-o.el.getAttribute("position").z};for(var t=o.el.sceneEl.querySelectorAll(".marker"),n=0;n<t.length;n++){t[n].setAttribute("visible",!1)}o.media_panel.setAttribute("position",o.media_panel_position),o.media_panel.setAttribute("shadow",{cast:!0}),o.media_panel.classList.add("dataverse-added"),o.media_panel.setAttribute("uipack-mediapanel",{yaw:e,distance:DATAVERSE.distances.panel,theme:o.data.theme,title:i.headline,text:i.text,low_height:1,media_url:i.media,media_caption:i.media_caption,media_credit:i.media_credit,link:i.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(i.link,o.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(i.link,o.scene_data),id:"marker_"+r+"_"+o.panel_timestamp}),o.media_panel.addEventListener("link",function(e){o.el.emit("link",{link:e.detail.link},!1)}),o.media_panel.addEventListener("panel_closed",function(){for(var e=o.el.sceneEl.querySelectorAll(".marker"),t=0;t<e.length;t++){e[t].setAttribute("visible",!0)}}),o.el.appendChild(o.media_panel),o.el.sceneEl.restore_clickable=this,o.el.sceneEl.restore_clickable.classList.remove("clickable")});var f=document.createElement("a-entity");f.setAttribute("uipack-button",{theme:o.data.theme,icon_name:"arrow-up.png",radius:l}),f.setAttribute("position",{x:0,y:4*l,z:0}),f.addEventListener("clicked",function(){var e=o.el.sceneEl.camera.el.getAttribute("position"),t=DATAVERSE_VIZ_AUX.cam_destination_to_object(o.el.sceneEl.camera.el,s,.5),n=t.x-e.x,i=t.y-e.y,r=t.z-e.z,a=o.el.getAttribute("position");o.el.setAttribute("position",{x:a.x-n,y:a.y-i,z:a.z-r})}),s.appendChild(a),s.appendChild(u),s.appendChild(c),p.appendChild(m),s.appendChild(p),o.el.appendChild(s)},put_attribution:function(){var e=this,t=e.layer.options.attribution;t=(t=(t=t.replace(/&copy;/gi,"(c)")).replace(/&mdash;/gi,"--")).replace(/<.*?>/gi,"");var n=document.createElement("a-entity"),i=1.6*DATAVERSE.dmms.map_attribution*(t.length+2)/1e3;n.setAttribute("text",{value:t,align:"center",color:e.data.theme?DATAVERSE.themes[e.data.theme].text_attribution_color:e.data.text_attribution_color,font:e.data.theme?DATAVERSE.themes[e.data.theme].text_font:e.data.label_font,width:i,wrapCount:t.length+2,zOffset:.01});var r=1.6*DATAVERSE.dmms.map_attribution/1e3*3;n.setAttribute("geometry",{primitive:"plane",height:r,width:"auto"}),n.setAttribute("material",{color:e.data.theme?DATAVERSE.themes[e.data.theme].text_background:e.data.text_background,shader:"flat",opacity:.5,transparent:!0}),n.setAttribute("position",{x:0,y:.1,z:0}),n.setAttribute("rotation",{x:-90,y:0,z:0}),e.el.appendChild(n)},update:function(e){var i=this;void 0!==i.prepared_data&&void 0!==i.map_texture&&(i.marker_scale=d3.scale.linear().domain([0,i.data.canvas_size]).range([-i.data.size/2,i.data.size/2]),i.prepared_data.forEach(function(e,t){var n=i.map.latLngToLayerPoint(L.latLng(e.lat,e.long));0<=n.x&&n.x<i.data.canvas_size&&0<=n.y&&n.y<i.data.canvas_size&&i.insert_marker(e,{x:i.marker_scale(n.x),y:i.data.map_y+i.data.marker_size,z:i.marker_scale(n.y)},t)}),i.plane=document.createElement("a-circle"),i.plane.setAttribute("position",{x:0,y:i.data.map_y,z:0}),i.plane.setAttribute("rotation","-90 0 0"),i.plane.setAttribute("radius",i.data.size/2),i.el.appendChild(i.plane),i.plane.addEventListener("loaded",function(e){i.plane.getObject3D("mesh").material=new THREE.MeshBasicMaterial({map:i.map_texture})}),i.put_attribution(),i.el.emit("dv_loaded",null,!1))},remove:function(){this.map_div.parentNode.removeChild(this.map_div),this.map_texture}}),AFRAME.registerSystem("timeline-viz",{schema:{},init:function(){this.types={depth:{trigger:.95,legends:.9,slide_image:1,slide_text:1,media_controls:.9},vertical_size:{slide_image:3},height:{trigger:.5,media_controls:.6,legend_date_explain:.25,legend_title:0,slide_image:2.5,slide_title:3.8,slide_supertitle:3.5,slide_explain:2.25,slide_caption:.75,slide_credit:1.1},offset:{trigger:0,legends:0,slide_image:0,slide_text:-30,slide_caption:30},breadth:{trigger:2,legends:5,slide_image:60,slide_text:60},scales:{legend_date_explain:.5,legend_title:1,slide_title:1,slide_explain:.5}},this.audio_analyser={width:1024,height:1024}},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},arrange_dates:function(e){var t=null,n=0,i=1,r=0,a=0,o=0;if((0<e.year.length||"number"==typeof e.year)&&(t=parseInt(e.year,10),(0<e.month.length||"number"==typeof e.month)&&(n=parseInt(e.month,10)-1),(0<e.day.length||"number"==typeof e.day)&&(i=parseInt(e.day,10)),0<e.time.length||"number"==typeof e.time)){var s=e.time.split(":");r=s[0],a=s[1],o=s[2]}if(null!==t){var u=new Date(t,n,i,r,a,o);return{begin:{date:u,ts:u.getTime()},end:null}}return{begin:null,end:null}},arrange_media:function(e){return 2<e.media.length?{url:e.media,credits:e.media_credit,caption:e.media_caption}:{}},arrange_entry:function(e){var t={};return"title"===e.type?(t.title=e.headline,t.text=e.text,t.media=this.arrange_media(e),t.type=e.type,t.group=e.group):(t.title=e.headline,t.text=e.text,t.media=this.arrange_media(e),t.type=e.type,t.group=e.group,t.dates=this.arrange_dates(e)),t.original_datum=e,t},parse_data:function(e,t){this.dates_ts=[];for(var n={title:null,milestones:[],now_playing:-1},i=(document.getElementsByTagName("a-assets")[0],0);i<e.length;i++){var r=e[i];if("title"===r.type)n.title=this.arrange_entry(r);else{var a=this.arrange_entry(r);n.milestones.push(a),null!==a.dates.begin&&this.dates_ts.push(a.dates.begin.ts)}}return this.min_ts=d3.min(this.dates_ts),this.max_ts=d3.max(this.dates_ts),n.milestones.sort(function(e,t){return e.dates.begin.ts-t.dates.begin.ts}),n}}),AFRAME.registerComponent("timeline-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},theme:{type:"string",default:"dark"},degrees:{type:"float",default:220},margins:{type:"float",default:20},legend_height:{type:"float",default:2},legend_dmms:{type:"float",default:20},sublegend_dmms:{type:"float",default:12},sublegend_height:{type:"float",default:1},color:{type:"string",default:"#333355"},trigger_color:{type:"string",default:"black"},active_trigger_color:{type:"string",default:"red"},size:{type:"float",default:5},height:{type:"float",default:1},y_position:{type:"float",default:0},title:{type:"string",default:""},explain:{type:"string",default:""},panel_elevation:{type:"float",default:2},panel_height:{type:"float",default:30}},init:function(){var r=this;r.panel_timestamp=Date.now(),""!==r.data.source&&this.system.load_data("timeline",r.data.source,r.data.tab,function(e,t){if(null!==e){r.scene_data=t,r.timeline_data=r.system.parse_data(e,r.data),r.max_ts=r.system.max_ts,r.min_ts=r.system.min_ts,r.timeline_scale=d3.scale.linear().domain([r.max_ts,r.min_ts]).range([r.data.margins/180*Math.PI,(r.data.degrees-r.data.margins)/180*Math.PI]).clamp(!0),r.el.setAttribute("position",{x:r.el.getAttribute("position").x,y:r.data.y_position,z:r.el.getAttribute("position").z});var n=r.el.getAttribute("rotation"),i=(n.y+(-r.data.degrees/2+180))%360;r.el.setAttribute("rotation",{x:n.x,y:i,z:n.z}),r.update()}else console.error("Could not load data file ",r.data.source),console.log(r.timeline_data)})},get_date_explain:function(e){if(""!=e.original_datum.display_date)return e.original_datum.display_date;var t=moment(e.dates.begin.date);return""===e.original_datum.day&&""===e.original_datum.month?t.format("Y"):""!==e.original_datum.day&&""!=e.original_datum.month?""!==e.original_datum.time?t.format("Y/MM/DD HH:mm:ss"):t.format("Y/MM/DD"):""!==e.original_datum.month?t.format("Y/MM"):""},get_coords_and_rotation:function(e,t,n,i){var r=this.system.types.depth[e]*this.data.size,a=this.system.types.height[t]*this.data.height,o=this.timeline_scale(n);return{position:{x:r*Math.sin(o+THREE.Math.degToRad(i)),y:a,z:r*Math.cos(o+THREE.Math.degToRad(i))},rotation:{x:0,y:180+THREE.Math.radToDeg(o)+i,z:0}}},render_timeline:function(){var l=this;l.timeline=document.createElement("a-cylinder"),l.timeline.setAttribute("material",{color:l.data.theme?DATAVERSE.themes[l.data.theme].timeline_color:l.data.color,side:"double"}),l.timeline.setAttribute("radius",l.data.size),l.timeline.setAttribute("height",l.data.height),l.timeline.setAttribute("theta-length",l.data.degrees),l.timeline.setAttribute("theta-start",0),l.timeline.setAttribute("scale","1 1 1"),l.timeline.setAttribute("open-ended",!0),l.el.appendChild(l.timeline),l.timeline_data.milestones.forEach(function(a,o){var e=(a=l.timeline_data.milestones[o]).dates.begin.ts,t=document.createElement("a-text");s=l.get_coords_and_rotation("legends","legend_date_explain",e,0),t.setAttribute("position",s.position),t.setAttribute("rotation",s.rotation);var n=DATAVERSE.dmms.subtitle*l.data.size*(l.get_date_explain(a).length+4)/1e3;t.setAttribute("value",l.get_date_explain(a)),t.setAttribute("align","center"),t.setAttribute("width",n),t.setAttribute("wrap-count",l.get_date_explain(a).length+4),t.setAttribute("color",l.data.theme?DATAVERSE.themes[l.data.theme].text_color:l.data.text_color),t.setAttribute("font",l.data.theme?DATAVERSE.themes[l.data.theme].text_font:l.data.text_font),l.el.appendChild(t);var i=document.createElement("a-text");s=l.get_coords_and_rotation("legends","legend_title",e,0),i.setAttribute("position",s.position),i.setAttribute("rotation",s.rotation);var r=DATAVERSE.dmms.label*l.data.size*(a.title.length+4)/1e3;i.setAttribute("value",a.title),i.setAttribute("align","center"),i.setAttribute("width",r),i.setAttribute("wrap-count",a.title.length+4),i.setAttribute("color",l.data.theme?DATAVERSE.themes[l.data.theme].text_color:l.data.text_color),i.setAttribute("font",l.data.theme?DATAVERSE.themes[l.data.theme].text_font:l.data.text_font),l.el.appendChild(i);var s=l.get_coords_and_rotation("trigger","trigger",e,0),u=document.createElement("a-entity");u.setAttribute("uipack-button",{theme:l.data.theme,icon_name:"plus.png",radius:DATAVERSE.dmms.plus_button*l.data.size/1e3}),u.setAttribute("position",s.position),u.setAttribute("rotation",s.rotation),l.el.appendChild(u),u.addEventListener("clicked",function(e){l.el.sceneEl.restore_clickable&&l.el.sceneEl.restore_clickable.classList.add("clickable");var t=DATAVERSE_VIZ_AUX.get_distance_xz(l.el.sceneEl.camera.el,this),n=(l.el.sceneEl.camera.el.getAttribute("rotation").y,this.getAttribute("position"),DATAVERSE_VIZ_AUX.yaw_pointing_to_object(l.el.sceneEl.camera.el,this));l.el.sceneEl.camera.el.getAttribute("rotation").x;l.el.sceneEl.media_panel&&l.el.sceneEl.media_panel.parentNode&&l.el.sceneEl.media_panel.parentNode.removeChild(l.el.sceneEl.media_panel),l.media_panel=document.createElement("a-entity");var i=l.el.sceneEl.camera.el.getAttribute("position");l.media_panel.setAttribute("position",{x:i.x,y:i.y,z:i.z}),l.media_panel.setAttribute("position",{x:i.x,y:i.y,z:i.z}),l.media_panel.setAttribute("shadow",{cast:!0}),l.media_panel.classList.add("dataverse-added");var r=.5*l.data.height+l.data.y_position+DATAVERSE.dmms.plus_button*l.data.size/1e3*(a.original_datum.link?5:2);l.media_panel.setAttribute("uipack-mediapanel",{yaw:n,low_height:r,theme:l.data.theme,height:l.data.panel_height,distance:t,title:a.title,subtitle:l.get_date_explain(a),text:a.text,media_url:a.media.url,media_caption:a.media.caption,media_credit:a.media.credits,link:a.original_datum.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(a.original_datum.link,l.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(a.original_datum.link,l.scene_data),id:"slide_"+o+"_"+l.panel_timestamp}),l.media_panel.addEventListener("link",function(e){l.el.emit("link",{link:e.detail.link},!1)}),l.el.sceneEl.appendChild(l.media_panel),l.el.sceneEl.media_panel=l.media_panel,l.el.sceneEl.restore_clickable=this,l.el.sceneEl.restore_clickable.classList.remove("clickable")})})},update:function(e){var t=this;if(void 0!==t.timeline_data&&void 0===t.rendered){document.getElementsByTagName("a-assets")[0];t.render_timeline();t.timeline_data.title,t.data.size,t.el.sceneEl.camera.el.getAttribute("rotation").y,t.el.sceneEl.camera.el.getAttribute("rotation").x;t.el.sceneEl.media_panel&&t.el.sceneEl.media_panel.parentNode&&t.el.sceneEl.media_panel.parentNode.removeChild(t.el.sceneEl.media_panel),t.rendered=!0,t.el.emit("dv_loaded",null,!1)}},tick:function(e,t){},remove:function(){}}),AFRAME.registerComponent("treemap-viz",{schema:{treemap_data:{default:{}},id:{type:"int",default:1},depth:{type:"int",default:1},width:{type:"number",default:2},height:{type:"number",default:2},title_max_chars:{type:"number",default:30},show_numbers:{type:"boolean",default:!1},title_x_factor:{type:"number",default:1.25},form_factor_y:{type:"number",default:1.5},title:{type:"string",default:""},distance:{type:"number",default:3},buttons:{type:"boolean",default:!0},theme:{type:"string",default:""},text_color:{type:"string",default:"white"},text_color_float:{type:"string",default:"black"},text_font:{type:"string",default:"roboto"},other:{type:"boolean",default:!1},unique_color_scale:{type:"boolean",default:!0},general_button_dmms:{type:"int",default:20}},init:function(){this.panel_timestamp=Date.now()},re_scale:function(e){this.treemap_container.setAttribute("scale",{x:e,y:e,z:e})},draw_plank:function(e,t){var n=this;if(e.depth==n.data.depth||n.data.other&&1===e.depth){if(0<e.dx&&0<e.dy){var i=document.createElement("a-plane"),r=(e.dx-t)/1e3,a=(e.dy-t)/1e3,o=e.name;if(o+=n.data.show_numbers?" ("+DATAVERSE_VIZ_AUX.pretty_print_number(e.value)+")":"",i.setAttribute("width",r),i.setAttribute("height",a),i.setAttribute("color",1==e.depth?n.color_scale([e.name]):n.color_scale([e.parent.name])),i.setAttribute("position",{x:(e.x+(e.dx+t)/2)/1e3-n.data.width/2,y:(e.y+(e.dy-t)/2)/1e3-n.data.height/2,z:0}),n.treemap_container.appendChild(i),(s=document.createElement("a-text")).setAttribute("value",o),s.setAttribute("align","center"),s.setAttribute("color",n.data.theme?DATAVERSE.themes[n.data.theme].text_color:n.data.text_color),s.setAttribute("font",n.data.theme?DATAVERSE.themes[n.data.theme].text_font:n.data.text_font),s.setAttribute("position",{x:(e.x+(e.dx+t)/2)/1e3-n.data.width/2,y:(e.y+(e.dy-t)/2)/1e3-n.data.height/2,z:0}),a<=r){if(r/a<7)r/(o.length+4)/n.data.distance*1e3>DATAVERSE.dmms.min_text&&(s.setAttribute("width",r),s.setAttribute("wrap-count",o.length+4),n.treemap_container.appendChild(s))}else if(a/r<7)a/(o.length+4)/n.data.distance*1e3>DATAVERSE.dmms.min_text&&(s.setAttribute("width",a),s.setAttribute("wrap-count",o.length+4),s.setAttribute("rotation",{x:0,y:0,z:90}),n.treemap_container.appendChild(s))}}else if(1==e.depth&&2==n.data.depth&&0<e.dx&&0<e.dy){var s;r=(e.dx-t)/1e3,a=(e.dy-t)/1e3,o=e.name;if(o+=n.data.show_numbers?" ("+DATAVERSE_VIZ_AUX.pretty_print_number(e.value)+")":"",(s=document.createElement("a-text")).setAttribute("value",o),s.setAttribute("align","center"),s.setAttribute("color",n.data.theme?DATAVERSE.themes[n.data.theme].text_background:n.data.text_color_float),s.setAttribute("font",n.data.theme?DATAVERSE.themes[n.data.theme].text_font:n.data.text_font),s.setAttribute("position",{x:(e.x+(e.dx+t)/2)/1e3-n.data.width/2,y:(e.y+(e.dy-t)/2)/1e3-n.data.height/2,z:.1}),a<=r){if(r/a<7)r/(o.length+4)/n.data.distance*1e3>DATAVERSE.dmms.min_text&&(s.setAttribute("width",r),s.setAttribute("wrap-count",o.length+4),n.treemap_container.appendChild(s))}else if(a/r<7)a/(o.length+4)/n.data.distance*1e3>DATAVERSE.dmms.min_text&&(s.setAttribute("width",a),s.setAttribute("wrap-count",o.length+4),s.setAttribute("rotation",{x:0,y:0,z:90}),n.treemap_container.appendChild(s))}},update:function(e){var n=this;if(n.el.children&&0<n.el.children.length&&n.el.children.forEach(function(e){n.el.removeChild(e)}),n.treemap_container=document.createElement("a-entity"),n.el.appendChild(n.treemap_container),n.color_scale=n.data.unique_color_scale?DATAVERSE_VIZ_AUX.color_scale:DATAVERSE_VIZ_AUX.get_color_scale_from_theme(n.data.theme),n.layout=d3.layout.treemap().size([1e3*n.data.width,1e3*n.data.height]).padding(5*(n.data.width+n.data.height)),n.nodes=n.layout.nodes(n.data.treemap_data),n.nodes.forEach(function(e){n.draw_plank(e,2.5*(n.data.width+n.data.height))}),n.label=document.createElement("a-text"),n.label.setAttribute("value",n.data.title),n.label.setAttribute("align","center"),n.label.setAttribute("width",n.data.width*n.data.title_x_factor),n.label.setAttribute("wrap-count",n.data.title_max_chars),n.label.setAttribute("position",{x:0,y:.6*-n.data.height,z:0}),n.label.setAttribute("color",n.data.theme?DATAVERSE.themes[n.data.theme].text_color:n.data.text_color),n.label.setAttribute("font",n.data.theme?DATAVERSE.themes[n.data.theme].text_font:n.data.text_font),n.el.appendChild(n.label),n.data.buttons){var t=DATAVERSE.dmms.plus_button*n.data.distance/1e3,i=document.createElement("a-entity");if(i.setAttribute("position",{x:0,y:n.data.height/2,z:.01}),n.el.appendChild(i),"headline"in n.data.treemap_data&&""!=n.data.treemap_data.headline){var r=document.createElement("a-entity");r.setAttribute("uipack-button",{theme:n.data.theme,icon_name:"plus.png",radius:t}),r.setAttribute("position",{x:1.1*-t,y:0,z:0}),i.appendChild(r),r.addEventListener("clicked",function(){n.el.sceneEl.restore_clickable&&n.el.sceneEl.restore_clickable.classList.add("clickable");DATAVERSE_VIZ_AUX.get_distance_xz(n.el.sceneEl.camera.el,this);var e=n.el.sceneEl.camera.el.getAttribute("rotation").y%360;n.el.sceneEl.camera.el.getAttribute("rotation").x;n.el.sceneEl.media_panel&&n.el.sceneEl.media_panel.parentNode&&n.el.sceneEl.media_panel.parentNode.removeChild(n.el.sceneEl.media_panel),n.media_panel=document.createElement("a-entity"),n.media_panel.setAttribute("position",n.el.sceneEl.camera.el.getAttribute("position")),n.media_panel.setAttribute("shadow",{cast:!0});var t=n.data.treemap_data;n.media_panel.classList.add("dataverse-added"),n.media_panel.setAttribute("uipack-mediapanel",{yaw:e,theme:n.data.theme,distance:DATAVERSE.distances.panel,title:t.headline,subtitle:"",text:t.text,media_url:t.media,media_caption:t.media_caption,media_credit:t.media_credit,link:t.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(t.link,DATAVERSE_VIZ_AUX.treemap_scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(t.link,DATAVERSE_VIZ_AUX.treemap_scene_data),id:"treemap_"+n.data.id+"_"+n.panel_timestamp}),n.media_panel.addEventListener("link",function(e){n.el.parentNode.emit("link",{link:e.detail.link},!1)}),n.el.sceneEl.appendChild(n.media_panel),n.el.sceneEl.media_panel=n.media_panel,n.el.sceneEl.restore_clickable=this,n.el.sceneEl.restore_clickable.classList.remove("clickable")})}var a=document.createElement("a-entity");a.setAttribute("uipack-button",{theme:n.data.theme,icon_name:"search.png",radius:t}),a.setAttribute("position",{x:""!=n.data.treemap_data.headline?1.1*t:0,y:0,z:0}),i.appendChild(a),a.addEventListener("clicked",function(){d3.selectAll(".bigtreemap").remove(),n.el.parentNode.components["small-treemap-viz"].draw_big_treemap(n.data.id)})}},remove:function(){}}),AFRAME.registerSystem("small-treemap-viz",{schema:{},init:function(){},load_data:function(e,t,n,i){DATAVERSE_VIZ_AUX.load_data(e,t,n,i)},parse_data:function(e,s){var u=[],l=[];e.forEach(function(e,t){if(1<e.treemap.length)if(e.treemap in u||(u[e.treemap]={name:"root",children:{}},l[e.treemap]=0),0==e.value){var n=e;n.children=u[e.treemap].children,n.name=""===n.name||"root"===n.name?n.treemap:n.name,u[e.treemap]=n}else e.category in u[e.treemap].children||(u[e.treemap].children[e.category]=[]),u[e.treemap].children[e.category].push(e),l[e.treemap]+=e.value});var n=Object.keys(l).sort(function(e,t){return l[t]-l[e]}),c={};function o(e,t,n){e in c||(c[e]={}),t in c[e]||(c[e][t]=0),c[e][t]+=n}n.forEach(function(e,t){var r=e;if(t<(s.other_treemap?s.max_items-1:s.max_items)||s.max_items==n.length){var a=[];Object.keys(u[r].children).forEach(function(e,t){var n=e,i={name:n,children:[]};u[r].children[n].forEach(function(e){i.children.push(e),o(r,n,e.value)}),a.push(i)}),u[r].children=a}else s.other_treemap&&("Other"in u||(u.Other={name:"Other",children:{}}),Object.keys(u[r].children).forEach(function(e,t){var n=e;n in u.Other.children||(u.Other.children[n]=[]),u[r].children[n].forEach(function(e){u.Other.children[n].push(e),o("Other",n,e.value)})})),delete u[r]}),Object.keys(u).forEach(function(n){var i={name:"Other",children:[{name:"Other",value:0}]},r=[];if("Other"!==n){var a=Object.keys(c[n]).sort(function(e,t){return c[n][t]-c[n][e]}).slice(0,s.max_items-1);u[n].children.forEach(function(e,t){-1==a.indexOf(e.name)?e.children.forEach(function(e,t){i.children[0].value+=e.value}):r.push(e)}),r.push(i),u[n].children=r}else{var o=0;a=Object.keys(c[n]).sort(function(e,t){return c[n][t]-c[n][e]}).slice(0,s.max_items-1);Object.keys(c[n]).forEach(function(e,t){if(-1==a.indexOf(e))i.children[0].value+=c[n][e];else{c[n][e],c[n][e];r.push({name:e,value:c[n][e],children:{name:e,value:c[n][e]}})}o+=c[n][e]}),r.push(i),u[n].children=r,l.Other=o}});var t=Object.keys(l).sort(function(e,t){return l[t]-l[e]}).slice(0,s.max_items),i={};return t.forEach(function(e){i[e]=l[e]}),{data:u,treemap_counts:i}}}),AFRAME.registerComponent("small-treemap-viz",{schema:{source:{type:"string",default:""},tab:{type:"string",default:""},width:{type:"float",default:5},rows:{type:"int",default:3},depth:{type:"int",default:2},show_numbers:{type:"boolean",default:!1},show_proportional:{type:"boolean",default:!0},max_items:{type:"int",default:9},distance:{type:"float",default:3},theme:{type:"string",default:""},text_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},unique_color_scale:{type:"boolean",default:!0},form_factor_x:{type:"float",default:1.25},form_factor_y:{type:"float",default:1.5},other_treemap:{type:"boolean",default:!0},general_text_dmms:{type:"int",default:30},general_button_dmms:{type:"int",default:20}},init:function(){var n=this;""!==n.data.source&&this.system.load_data("treemap",n.data.source,n.data.tab,function(e,t){null!==e&&(n.scene_data=t,DATAVERSE_VIZ_AUX.treemap_scene_data=t,n.parsed_data=n.system.parse_data(e,n.data),n.parsed_data_deepcopy=jQuery.extend(!0,{},n.parsed_data),n.update())})},draw_big_treemap:function(e){var t=this,n=t.treemap_list[e],i=jQuery.extend(!0,{},t.parsed_data_deepcopy.data[n]),r=(t.el.sceneEl.camera.el.getAttribute("rotation").y-t.el.getAttribute("rotation").y)%360;t.big_treemap_container=document.createElement("a-entity"),t.big_treemap_container.setAttribute("rotation",{x:0,y:r,z:0}),t.big_treemap_container.classList.add("bigtreemap");var a=t.el.sceneEl.camera.el.getAttribute("position");t.big_treemap_container.setAttribute("position",{x:a.x-t.el.getAttribute("position").x,y:0,z:a.z-t.el.getAttribute("position").z}),t.el.appendChild(t.big_treemap_container),t.big_treemap_background=document.createElement("a-plane"),t.big_treemap_background.setAttribute("width",t.data.width/2),t.big_treemap_background.setAttribute("height",t.data.width/2),t.big_treemap_background.setAttribute("color","black"),t.big_treemap_background.setAttribute("position",{x:0,y:0,z:-1.01*DATAVERSE.distances.close}),t.big_treemap_container.appendChild(t.big_treemap_background);var o=document.createElement("a-entity");o.setAttribute("treemap-viz",{treemap_data:i,theme:t.data.theme,unique_color_scale:t.data.unique_color_scale,other:"Other"===n,title:n,width:t.data.width/2,height:t.data.width/2,title_max_chars:n.length+4,title_x_factor:t.data.form_factor_x,distance:DATAVERSE.distances.close,buttons:!1,depth:t.data.depth,show_numbers:t.data.show_numbers,text_color:t.text_color,text_font:t.text_font}),o.setAttribute("position",{x:0,y:0,z:-DATAVERSE.distances.close}),t.big_treemap=o,t.big_treemap_container.appendChild(o);var s=DATAVERSE.dmms.plus_button*t.data.distance/1e3;t.close_button=document.createElement("a-entity"),t.close_button.setAttribute("uipack-button",{theme:t.data.theme,icon_name:"times.png",radius:s}),t.close_button.setAttribute("position",{x:0,y:t.data.width/2*.5+s,z:-DATAVERSE.distances.close}),t.big_treemap_container.appendChild(t.close_button),t.close_button.addEventListener("clicked",function(){t.el.removeChild(t.big_treemap_container)})},update:function(e){var i=this;if(i.parsed_data&&i.parsed_data_deepcopy&&void 0===i.treemaps){if(i.el.children&&0<i.el.children.length)for(var t=0;t<i.el.children.length;t++)i.el.removeChild(i.el.children[t]);var n=i.el.getAttribute("position");i.el.setAttribute("position",{x:n.x,y:i.el.sceneEl.camera.el.getAttribute("position").y+n.y,z:n.z}),DATAVERSE_VIZ_AUX.color_scale=DATAVERSE_VIZ_AUX.get_color_scale_from_theme(i.data.theme);var r=Object.keys(i.parsed_data.treemap_counts).sort(function(e,t){return i.parsed_data.data[t].name.length-i.parsed_data.data[e].name.length})[0],a=i.parsed_data.data[r].name.length,o={};o.treemap_list=Object.keys(i.parsed_data.treemap_counts).sort(function(e,t){return i.parsed_data.treemap_counts[t]-i.parsed_data.treemap_counts[e]}),i.treemap_list=o.treemap_list,o.treemap_number=o.treemap_list.length,o.number_cols=Math.ceil(o.treemap_number/i.data.rows),o.last_row_cols=o.treemap_number-(i.data.rows-1)*o.number_cols,o.treemap_size=i.data.width/((o.number_cols-1)*i.data.form_factor_x),o.vertical_span=o.treemap_size*i.data.form_factor_y*(i.data.rows-1),o.last_horizontal_span=o.treemap_size*i.data.form_factor_x*(o.last_row_cols-1),o.horizontal_scale=d3.scale.linear().domain([0,o.number_cols-1]).range([-i.data.width/2,i.data.width/2]),o.vertical_scale=d3.scale.linear().domain([0,i.data.rows-1]).range([o.vertical_span/2,-o.vertical_span/2]),o.last_horizontal_scale=d3.scale.linear().domain([0,o.last_row_cols-1]).range([-o.last_horizontal_span/2,o.last_horizontal_span/2]),i.treemaps=[],i.value_treemaps=[];for(t=0;t<i.data.rows;t++)if(t!==i.data.rows-1)for(var s=0;s<o.number_cols;s++){var u=t*o.number_cols+s,l=o.treemap_list[u],c=i.parsed_data.data[l],d={x:o.horizontal_scale(s),y:o.vertical_scale(t),z:-i.data.distance};(h=document.createElement("a-entity")).setAttribute("treemap-viz",{treemap_data:c,theme:i.data.theme,unique_color_scale:i.data.unique_color_scale,title:c.name,width:o.treemap_size,height:o.treemap_size,title_max_chars:a,form_factor_y:i.data.form_factor_y,title_x_factor:i.data.form_factor_x,distance:i.data.distance,id:u,text_color:i.text_color,text_font:i.text_font}),h.setAttribute("position",d),i.el.appendChild(h),i.treemaps.push(h),i.value_treemaps.push(i.parsed_data.treemap_counts[l])}else for(s=0;s<o.last_row_cols;s++){var h;u=t*o.number_cols+s,l=o.treemap_list[u],c=i.parsed_data.data[l],d={x:o.last_horizontal_scale(s),y:o.vertical_scale(t),z:-i.data.distance};(h=document.createElement("a-entity")).setAttribute("treemap-viz",{treemap_data:c,theme:i.data.theme,unique_color_scale:i.data.unique_color_scale,title:c.name,width:o.treemap_size,height:o.treemap_size,title_max_chars:a,form_factor_y:i.data.form_factor_y,title_x_factor:i.data.form_factor_x,distance:i.data.distance,id:u,text_color:i.text_color,text_font:i.text_font}),h.setAttribute("position",d),i.el.appendChild(h),i.treemaps.push(h),i.value_treemaps.push(i.parsed_data.treemap_counts[l])}if(i.data.show_proportional){var p=DATAVERSE.dmms.plus_button*i.data.distance/1e3,m=document.createElement("a-text"),f="See proportional sizes",g=DATAVERSE.dmms.big_label*i.data.distance*f.length/1e3;m.setAttribute("value",f),m.setAttribute("align","center"),m.setAttribute("baseline","top"),m.setAttribute("color",i.data.theme?DATAVERSE.themes[i.data.theme].text_color:i.data.text_color),m.setAttribute("font",i.data.theme?DATAVERSE.themes[i.data.theme].text_font:i.data.text_font),m.setAttribute("wrapCount",f.length),m.setAttribute("width",g),m.setAttribute("position",{x:0,y:o.vertical_scale(i.data.rows-.35)-.5*p,z:-i.data.distance}),i.el.appendChild(m);var _=document.createElement("a-entity");_.setAttribute("uipack-button",{theme:i.data.theme,icon_name:"toggle-off.png",radius:p}),_.setAttribute("position",{x:0,y:o.vertical_scale(i.data.rows-.35)+p,z:-i.data.distance}),i.el.appendChild(_),i.proportional=!1,_.addEventListener("clicked",function(){i.proportional=!i.proportional,i.proportional?(_.setAttribute("uipack-button",{theme:i.data.theme,icon_name:"toggle-on.png",radius:DATAVERSE.dmms.plus_button*i.data.distance/1e3}),i.treemaps.forEach(function(e,t){var n=Math.sqrt(e.components["treemap-viz"].data.treemap_data.value/d3.max(i.value_treemaps));e.components["treemap-viz"].re_scale(n)})):(_.setAttribute("uipack-button",{theme:i.data.theme,icon_name:"toggle-off.png",radius:DATAVERSE.dmms.plus_button*i.data.distance/1e3}),i.treemaps.forEach(function(e,t){e.components["treemap-viz"].re_scale(1)}))})}i.el.emit("dv_loaded",null,!1)}},remove:function(){}}),AFRAME.registerComponent("video-viz",{schema:{media_source:{type:"string",default:""},source:{type:"string",default:""},theme:{type:"string",default:""},type:{type:"string",default:"360"},title_scale:{type:"float",default:1.5},explain_scale:{type:"float",default:1},title:{type:"string",default:""},explain:{type:"string",default:""},label_distance:{type:"number",default:10},label_height:{type:"number",default:1.6},label_background:{type:"string",default:"black"},label_color:{type:"string",default:"white"},label_font:{type:"string",default:"roboto"}},init:function(){this.video_timestamp=Date.now(),this.video_type={coverage:"full",stereo:!1,split:"horizontal"},this.data.type.includes("180")&&(this.video_type.coverage="half"),this.data.type.includes("stereo")&&(this.video_type.stereo=!0),this.data.type.includes("vertical")&&(this.video_type.split="vertical"),null!==document.getElementsByTagName("a-camera")[0]&&document.getElementsByTagName("a-camera")[0].setAttribute("stereocam","eye:left")},add_more_button:function(e,n,i,t){var r=this;if(""!==n.headline&&""!==n.text){var a=document.createElement("a-entity"),o=DATAVERSE.dmms.plus_button*r.data.label_distance/1e3;a.setAttribute("uipack-button",{theme:r.data.theme,icon_name:"plus.png",radius:o}),a.setAttribute("position",{x:0,y:t/2+1.5*o,z:0}),e.appendChild(a),a.addEventListener("clicked",function(){r.el.sceneEl.restore_clickable&&r.el.sceneEl.restore_clickable.classList.add("clickable");var e=r.el.sceneEl.camera.el.getAttribute("rotation").y%360;r.el.sceneEl.camera.el.getAttribute("rotation").x;r.el.sceneEl.media_panel&&r.el.sceneEl.media_panel.parentNode&&r.el.sceneEl.media_panel.parentNode.removeChild(r.el.sceneEl.media_panel),r.media_panel=document.createElement("a-entity");var t=r.el.sceneEl.camera.el.getAttribute("position");r.media_panel.setAttribute("position",{x:t.x,y:t.y,z:t.z}),r.media_panel.classList.add("dataverse-added"),r.media_panel.setAttribute("uipack-mediapanel",{yaw:e,theme:r.data.theme,distance:DATAVERSE.distances.panel,title:n.headline,subtitle:"",text:n.text,media_url:n.media,media_caption:n.media_caption,media_credit:n.media_credit,link:n.link,link_thumbnail:DATAVERSE_VIZ_AUX.get_scene_thumbnail(n.link,r.scene_data),link_type:DATAVERSE_VIZ_AUX.get_scene_type(n.link,r.scene_data),id:"video-viz"+i}),r.media_panel.addEventListener("link",function(e){r.el.emit("link",{link:e.detail.link},!1)}),r.el.sceneEl.appendChild(r.media_panel),r.el.sceneEl.media_panel=r.media_panel,r.el.sceneEl.restore_clickable=this,r.el.sceneEl.restore_clickable.classList.remove("clickable")})}},render_tab:function(){var s=this;s.prepared_data.forEach(function(e,t){if(e.scene===DATAVERSE.scene_number){var n=document.createElement("a-entity"),i=e.yaw*THREE.Math.DEG2RAD;n.setAttribute("position",{x:s.data.label_distance*Math.sin(i),y:"height"in e&&"number"==typeof e.height?e.height:s.data.label_height,z:s.data.label_distance*Math.cos(i)}),n.setAttribute("rotation",{x:0,y:180<i/Math.PI*180?i/Math.PI*180-180:180+i/Math.PI*180,z:0});var r=e.headline,a=DATAVERSE.dmms.label*s.data.label_distance*(r.length+4)/1e3;n.setAttribute("text",{value:r,align:"center",color:s.data.theme?DATAVERSE.themes[s.data.theme].text_color:s.data.label_color,font:s.data.theme?DATAVERSE.themes[s.data.theme].text_font:s.data.label_font,width:a,wrapCount:r.length+4,zOffset:.01});var o=DATAVERSE.dmms.label*s.data.label_distance/1e3*3;n.setAttribute("geometry",{primitive:"plane",height:o,width:"auto"}),n.setAttribute("material",{color:s.data.theme?DATAVERSE.themes[s.data.theme].text_background:s.data.label_background,shader:"flat"}),s.add_more_button(n,e,t,o),s.el.appendChild(n)}})},update:function(e){var n=this;if(n.video_type.stereo){var t="stereo_video_"+n.video_timestamp,i=(document.getElementsByTagName("a-scene")[0],document.getElementsByTagName("a-assets")[0]);n.video=document.createElement("video"),n.video.setAttribute("src",n.data.media_source),n.video.setAttribute("id",t),n.video.setAttribute("loop",!1),n.video.setAttribute("autoplay","true"),n.video.setAttribute("crossorigin","anonymous"),i.appendChild(n.video),n.el.emit("asset_added",{id:t},!1),n.stereo_left_sphere=document.createElement("a-entity"),n.stereo_left_sphere.setAttribute("class","videospheres dataverse-added skyspheres"),n.stereo_left_sphere.setAttribute("geometry","primitive:sphere; radius:100; segmentsWidth: 64; segmentsHeight:64"),n.stereo_left_sphere.setAttribute("material",{shader:"flat",src:"#"+t,side:"back"}),n.stereo_left_sphere.setAttribute("scale","-1 1 1"),n.stereo_left_sphere.setAttribute("visible",!1),n.stereo_left_sphere.setAttribute("rotation",{x:0,y:n.el.getAttribute("rotation").y,z:0}),AFRAME.utils.entity.setComponentProperty(n.stereo_left_sphere,"stereo",{eye:"left",mode:n.video_type.mode,split:n.video_type.split}),n.el.sceneEl.appendChild(n.stereo_left_sphere),n.stereo_right_sphere=document.createElement("a-entity"),n.stereo_right_sphere.setAttribute("class","videospheres dataverse-added skyspheres"),n.stereo_right_sphere.setAttribute("geometry","primitive:sphere; radius:100; segmentsWidth: 64; segmentsHeight:64"),n.stereo_right_sphere.setAttribute("material",{shader:"flat",src:"#"+t,side:"back"}),n.stereo_right_sphere.setAttribute("scale","-1 1 1"),n.stereo_right_sphere.setAttribute("visible",!1),n.stereo_right_sphere.setAttribute("rotation",{x:0,y:n.el.getAttribute("rotation").y,z:0}),n.stereo_right_sphere.addEventListener("materialvideoloadeddata",function(){n.el.emit("dv_loaded",null,!1)}),AFRAME.utils.entity.setComponentProperty(n.stereo_right_sphere,"stereo",{eye:"right",mode:n.video_type.mode,split:n.video_type.split}),n.video.play(),n.el.sceneEl.appendChild(n.stereo_right_sphere)}else{t="mono_video_"+n.video_timestamp,document.getElementsByTagName("a-scene")[0],i=document.getElementsByTagName("a-assets")[0];n.video=document.createElement("video"),n.video.setAttribute("src",n.data.media_source),n.video.setAttribute("id",t),n.video.setAttribute("loop",!1),n.video.setAttribute("autoplay","true"),n.video.setAttribute("crossorigin","anonymous"),i.appendChild(n.video),n.el.emit("asset_added",{id:t},!1),n.mono_sphere=document.createElement("a-entity"),n.mono_sphere.setAttribute("class","videospheres dataverse-added skyspheres"),n.mono_sphere.setAttribute("geometry","primitive:sphere; radius:100; segmentsWidth: 64; segmentsHeight:64"),n.mono_sphere.setAttribute("material",{shader:"flat",src:"#"+t,side:"back"}),n.mono_sphere.setAttribute("scale","-1 1 1"),n.mono_sphere.setAttribute("visible",!1),n.mono_sphere.setAttribute("rotation",{x:0,y:n.el.getAttribute("rotation").y,z:0}),n.mono_sphere.addEventListener("materialvideoloadeddata",function(){n.el.emit("dv_loaded",null,!1)}),n.video.play(),n.el.sceneEl.appendChild(n.mono_sphere)}n.data.tab&&n.data.source&&DATAVERSE_VIZ_AUX.load_data("photo-viz",n.data.source,n.data.tab,function(e,t){null!==e&&(n.prepared_data=e,n.scene_data=t,n.render_tab())})},remove:function(){}}),AFRAME.registerComponent("uipack-button",{schema:{icon_name:{type:"string"},yaw:{type:"number",default:0},elevation:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_elevation},distance:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_distance},absolute_pos:{type:"boolean",default:!1},radius:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_radius},arc_color:{type:"string",default:"red"},theme:{type:"string",default:""}},init:function(){var t=this;t.button_mode=DATAVERSE&&"cursor_mode"in DATAVERSE?DATAVERSE.cursor_mode:"desktop",t.button=document.createElement("a-circle"),this.el.appendChild(t.button),this.el.classList.add("uipack","uipack-button","clickable"),"desktop"===t.button_mode?(this.el.addEventListener("mousedown",function(e){new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),t.el.emit("clicked",null,!1)}),this.el.addEventListener("mouseenter",function(e){t.el.sceneEl.canvas.classList.remove("a-grab-cursor")}),this.el.addEventListener("mouseleave",function(e){t.el.sceneEl.canvas.classList.add("a-grab-cursor")})):(t.first_hover=!0,this.el.addEventListener("raycaster-intersected",function(e){t.first_hover&&(t.ring=document.createElement("a-ring"),t.ring.setAttribute("radius-inner",1*t.data.radius),t.ring.setAttribute("radius-outer",1.2*t.data.radius),t.ring.setAttribute("material","color:"+(t.data.theme?DATAVERSE.themes[t.data.theme].arc_color:t.data.arc_color)),t.ring.setAttribute("visible",!0),t.animation=document.createElement("a-animation"),t.animation.setAttribute("easing","linear"),t.animation.setAttribute("attribute","geometry.thetaLength"),t.animation.setAttribute("dur",DATAVERSE.animation.button),t.animation.setAttribute("from","0"),t.animation.setAttribute("to","360"),t.ring.appendChild(t.animation),t.el.appendChild(t.ring),t.first_hover=!1,t.animation.addEventListener("animationend",function(){setTimeout(function(){t.first_hover=!0},500),new Howl({src:DATAVERSE.paths.click_sound,volume:.25}).play(),t.el.emit("clicked",null,!1),t.ring.parentNode.removeChild(t.ring)}))}),this.el.addEventListener("raycaster-intersected-cleared",function(e){t.first_hover=!0,e.detail.el.setAttribute("scale","1 1 1"),t.ring.parentNode&&t.ring.parentNode.removeChild(t.ring)}))},update:function(e){var t=this;t.icon_path=(""!==t.data.theme?DATAVERSE.themes[t.data.theme].icon_path:DATAVERSE.UIPACK_CONSTANTS.icon_path)+"/"+t.data.icon_name,t.button.setAttribute("material",{src:"url("+t.icon_path+")",shader:"flat"}),t.button.setAttribute("radius",t.data.radius),(t.el.parentEl===t.el.sceneEl||t.data.absolute_pos)&&(t.x_position=t.data.distance*Math.cos(this.data.yaw*Math.PI/180),t.y_position=t.data.elevation,t.z_position=-t.data.distance*Math.sin(this.data.yaw*Math.PI/180),this.el.setAttribute("rotation",{x:0,y:this.data.yaw-90,z:0}),this.el.setAttribute("position",[t.x_position,t.y_position,t.z_position].join(" ")))}}),AFRAME.registerComponent("uipack-mediacontrols",{schema:{src:{type:"string"},width:{type:"number",default:2},height:{type:"number",default:.2},button_radius:{type:"number",default:.3},backgroundColor:{default:"black"},barColor:{default:"red"},textColor:{default:"yellow"},statusTextFont:{default:"50px Helvetica Neue"},timeTextFont:{default:"60px Helvetica Neue"},theme:{type:"string",default:""}},position_time_from_steps:function(){var e=this.current_step/this.bar_steps;0<this.video_el.readyState&&(this.video_el.currentTime=e*this.video_el.duration)},init:function(){var i=this;i.el.setAttribute("class","uipack uipack-mediacontrols clickable"),this.bar_steps=10,this.current_step=0,this.el.setAttribute("visible",!0),this.video_selector=this.data.src,this.video_el=document.querySelector(this.video_selector),i.icon=document.createElement("a-entity"),i.icon.setAttribute("uipack-button",{theme:i.data.theme,icon_name:DATAVERSE.UIPACK_CONSTANTS.play_icon,radius:i.data.button_radius}),this.el.appendChild(i.icon),this.video_el.paused?i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon):i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.pause_icon),this.video_el.addEventListener("ended",function(e){i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon)}),this.video_el.addEventListener("pause",function(e){i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon)}),this.video_el.addEventListener("playing",function(e){i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.pause_icon)}),this.bar_canvas=document.createElement("canvas"),this.bar_canvas.setAttribute("id","video_player_canvas"),this.bar_canvas.width=1024,this.bar_canvas.height=64,this.bar_canvas.style.display="none",this.context=this.bar_canvas.getContext("2d"),this.texture=new THREE.Texture(this.bar_canvas),i.icon.addEventListener("clicked",function(e){i.video_el.paused?(i.video_el.play(),i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.pause_icon)):(i.video_el.pause(),i.icon.setAttribute("uipack-button","icon_name",DATAVERSE.UIPACK_CONSTANTS.play_icon))}),window.addEventListener("keypress",function(e){switch(e.keyCode){case 32:i.icon.emit("clicked",null,!1);break;case 37:i.current_step=0,i.position_time_from_steps();break;case 39:i.current_step=i.bar_steps,i.position_time_from_steps();break;case 38:i.current_step=i.current_step<i.bar_steps?i.current_step+1:i.current_step,i.position_time_from_steps();break;case 40:i.current_step=0<i.current_step?i.current_step-1:i.current_step,i.position_time_from_steps()}},!1),this.bar=document.createElement("a-plane"),this.bar.setAttribute("color",i.data.theme?DATAVERSE.themes[i.data.theme].player_background:i.data.backgroundColor),this.real_bar_width=this.data.width-5*this.data.button_radius,i.button_mode=DATAVERSE&&"cursor_mode"in DATAVERSE?DATAVERSE.cursor_mode:"desktop","desktop"===i.button_mode?(this.bar.addEventListener("mousedown",function(e){var t=e.detail.intersection.point,n=this.object3D.worldToLocal(t).x/i.real_bar_width+.5;i.current_step=Math.round(n*i.bar_steps);i.ray_timeout=setTimeout(function(){0<i.video_el.readyState&&(i.video_el.currentTime=n*i.video_el.duration)},300)}),this.bar.addEventListener("mouseenter",function(e){i.el.sceneEl.canvas.classList.remove("a-grab-cursor")}),this.bar.addEventListener("mouseleave",function(e){i.el.sceneEl.canvas.classList.add("a-grab-cursor"),clearTimeout(i.ray_timeout)})):(i.first_hover=!0,this.bar.addEventListener("raycaster-intersected",function(e){if(i.first_hover){i.first_hover=!1;var t=e.detail.intersection.point,n=this.object3D.worldToLocal(t).x/i.real_bar_width+.5;i.current_step=Math.round(n*i.bar_steps);i.ray_timeout=setTimeout(function(){0<i.video_el.readyState&&(i.video_el.currentTime=n*i.video_el.duration)},300),e.stopPropagation(),e.preventDefault()}}),this.bar.addEventListener("raycaster-intersected-cleared",function(e){i.first_hover=!0,clearTimeout(i.ray_timeout)})),this.back_plane=document.createElement("a-plane"),this.back_plane.setAttribute("material",{color:i.data.theme?DATAVERSE.themes[i.data.theme].player_background:i.data.backgroundColor,shader:"flat"}),this.el.appendChild(this.bar_canvas),this.el.appendChild(this.bar),this.el.appendChild(this.back_plane)},update:function(e){this.bar.setAttribute("height",this.data.height/2),this.bar.setAttribute("width",this.real_bar_width),this.bar.setAttribute("position",{x:2*this.data.button_radius,y:0,z:.01}),this.back_plane.setAttribute("height",this.data.height),this.back_plane.setAttribute("width",this.data.width),this.icon.setAttribute("position",{x:-this.data.width/2+2*this.data.button_radius,y:0,z:.01})},tick:function(e){if(void 0===this.last_time||250<e-this.last_time){if(0<this.video_el.readyState){var t=Math.floor(this.video_el.currentTime/60),n=Math.floor(this.video_el.currentTime%60);t=t<10?"0"+t:t,n=n<10?"0"+n:n;var i=Math.floor(this.video_el.duration/60),r=Math.floor(this.video_el.duration%60),a=t+":"+n+" / "+(i=i<10?"0"+i:i)+":"+(r=r<10?"0"+r:r),o=this.bar_canvas.width/this.video_el.duration;if(0<this.video_el.buffered.length){this.current_step=Math.round(this.video_el.currentTime/this.video_el.duration*this.bar_steps);var s=this.context;s.fillStyle=this.data.theme?DATAVERSE.themes[this.data.theme].player_background:this.data.backgroundColor,s.fillRect(0,0,this.bar_canvas.width,this.bar_canvas.height),s.font=this.data.theme?DATAVERSE.themes[this.data.theme].player_font:this.data.timeTextFont,s.fillStyle=this.data.theme?DATAVERSE.themes[this.data.theme].player_text_color:this.data.textColor,s.textAlign="center",s.fillText(a,.45*this.bar_canvas.width,1*this.bar_canvas.height),this.video_el.seeking;for(var u=0;u<this.video_el.buffered.length;u++){var l=this.video_el.buffered.start(u)*o,c=this.video_el.buffered.end(u)*o-l;s.fillStyle="grey",s.fillRect(l,0,c,this.bar_canvas.height/2)}s.fillStyle=this.data.barColor,s.fillRect(0,0,this.video_el.currentTime/this.video_el.duration*this.bar_canvas.width,this.bar_canvas.height/2)}0<this.bar.object3D.children.length&&(null===this.bar.object3D.children[0].material.map&&(this.bar.object3D.children[0].material=new THREE.MeshBasicMaterial,this.bar.object3D.children[0].material.map=this.texture),this.texture.needsUpdate=!0)}this.last_time=e}}}),AFRAME.registerComponent("uipack-mediapanel",{schema:{id:{type:"string",default:""},distance:{type:"number",default:3},theme:{type:"string",default:""},yaw:{type:"number",default:0},pitch:{type:"number",default:0},coverage:{type:"number",default:60},aspect_ratio:{type:"number",default:16/9},height:{type:"number",default:30},text_color:{type:"string",default:"black"},aux_color:{type:"string",default:"white"},text_font:{type:"string",default:"roboto"},title_font:{type:"string",default:"roboto"},background_color:{type:"string",default:"white"},backpanel_color:{type:"string",default:"black"},media_url:{type:"string",default:""},title:{type:"string",default:""},low_height:{type:"number",default:-1},subtitle:{type:"string",default:""},text:{type:"string",default:""},media_caption:{type:"string",default:""},media_credit:{type:"string",default:""},link:{type:"string",default:""},link_thumbnail:{type:"string",default:""},link_type:{type:"string",default:""},close_button_dmms:{type:"number",default:40}},init:function(){var e=this;e.media_detect={photo:[/\.jpg$/i,/\.jpeg$/i,/\.png$/i],video:[/\.mp4$/i],audio:[/\.mp3$/i]},e.media_renderers={photo:e.render_photo,video:e.render_video,audio:e.render_audio,link:e.render_link,text:e.render_text},e.audio_analyser={width:1024,height:1024},e.constants={overlap_factor:.99,media_dim:.9,margin:.1,audio_analyser:{width:1024,height:1024},dmm:{title:40,subtitle:28,body:18,footnote:12,link:16},heights:{title:.8,subtitle:.4,body:-.3,footnote:-.8},media_heights:{player:.085,text_box:.15},separations:{title:.2,body:.1,credits:.1},media_text_pos:{title:.35,body:.15,credits:-.3},media_text_dmms:{title:16,body:12,credits:8}},e.el.classList.add("uipack","uipack-mediapanel","clickable"),e.el.setAttribute("rotation",{x:e.data.pitch,y:e.data.yaw,z:0}),e.assets=document.querySelector("a-assets"),void 0!==DATAVERSE_VIZ_AUX.global_tracking.last_media&&(DATAVERSE_VIZ_AUX.global_tracking.last_media.pause(),DATAVERSE_VIZ_AUX.global_tracking.last_media=void 0)},get_media_type:function(e){for(var t=0;t<Object.keys(this.media_detect).length;t++)for(var n=Object.keys(this.media_detect)[t],i=this.media_detect[n],r=0;r<i.length;r++)if(-1!==e.search(i[r]))return n},get_count_from_dmms:function(e,t,n){return Math.floor(1e3*e/(t*n))},render_audio_analyser:function(){var e=this;e.analyser.getByteTimeDomainData(e.dataArray),e.audio_context.fillStyle=e.data.theme?DATAVERSE.themes[e.data.theme].panel_backpanel:e.data.backpanel_color,e.audio_context.fillRect(0,0,e.constants.audio_analyser.width,e.constants.audio_analyser.height),e.audio_context.lineWidth=10,e.audio_context.strokeStyle=e.data.theme?DATAVERSE.themes[e.data.theme].panel_aux_color:e.data.aux_color,e.audio_context.beginPath();for(var t=e.constants.audio_analyser.width/e.audioBufferLength,n=0,i=0;i<e.audioBufferLength;i++){var r=e.dataArray[i]/128*e.constants.audio_analyser.height/2;0===i?e.audio_context.moveTo(n,r):e.audio_context.lineTo(n,r),n+=t}e.audio_context.lineTo(e.constants.audio_analyser.width,e.constants.audio_analyser.height/2),e.audio_context.stroke()},render_text:function(){this.media_height=0,this.media_control_height=0,this.render_media_texts(!0)},render_media_texts:function(r){var a=this;a.media_box_offset=a.media_height/2+a.media_control_height+a.width*a.constants.media_heights.text_box/2,a.media_box_offset=1.02*a.media_box_offset,a.close_button_y=-a.media_box_offset-a.width*a.constants.media_heights.text_box/2,a.link_button_y=-a.media_box_offset-a.width*a.constants.media_heights.text_box/2,a.media_box_height=a.width*a.constants.media_heights.text_box,a.media_text=document.createElement("a-plane"),a.media_text.setAttribute("height",a.media_box_height),a.media_text.setAttribute("width",a.width),a.media_text.setAttribute("material",{shader:"flat",color:a.data.theme?DATAVERSE.themes[a.data.theme].panel_background:a.data.background_color}),a.media_text.setAttribute("position",{x:0,y:-a.media_box_offset,z:-a.data.distance*a.constants.overlap_factor}),a.el.appendChild(a.media_text),a.media_text_container=document.createElement("a-entity"),a.media_text.appendChild(a.media_text_container);var e=a.data.subtitle?a.data.title+" ("+a.data.subtitle+")":a.data.title;a.title=document.createElement("a-entity"),a.title.setAttribute("text",{value:e,align:"left",anchor:"left",baseline:"top",width:a.width*(1-2*a.constants.margin),wrapCount:a.get_count_from_dmms(a.width*(1-2*a.constants.margin),a.data.distance*a.constants.overlap_factor,a.constants.media_text_dmms.title),color:a.data.theme?DATAVERSE.themes[a.data.theme].panel_color:a.data.color,font:a.data.theme?DATAVERSE.themes[a.data.theme].panel_title_font:a.data.title_font}),a.title.setAttribute("position",{x:-a.width/2*(1-a.constants.margin),y:a.media_box_height*(.5-a.constants.separations.title),z:0}),a.title.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),a.title.setAttribute("material",{shader:"flat",visible:!1}),a.media_text_container.appendChild(a.title),a.total_height=a.media_box_height*a.constants.separations.title;var t=a.media_box_height*(.5-a.constants.separations.title);a.title.addEventListener("textfontset",function(){var e=a.title.components.geometry.data.height;a.total_height+=e+a.total_height*a.constants.separations.body;var i=t-a.total_height*a.constants.separations.body-e;a.body=document.createElement("a-entity"),a.body.setAttribute("text",{value:a.data.text,align:"left",anchor:"left",baseline:"top",width:a.width*(1-a.constants.margin),wrapCount:a.get_count_from_dmms(a.width*(1-2*a.constants.margin),a.data.distance*a.constants.overlap_factor,a.constants.media_text_dmms.body),color:a.data.theme?DATAVERSE.themes[a.data.theme].panel_color:a.data.color,font:a.data.theme?DATAVERSE.themes[a.data.theme].panel_font:a.data.panel_font}),a.body.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),a.body.setAttribute("material",{shader:"flat",visible:!1}),a.body.setAttribute("position",{x:-a.width/2*(1-a.constants.margin),y:i,z:0}),a.media_text_container.appendChild(a.body),a.body.addEventListener("textfontset",function(){var e=a.body.components.geometry.data.height+a.total_height*a.constants.separations.credits;a.total_height+=e+a.total_height*a.constants.separations.credits;var t=i-a.total_height*a.constants.separations.credits-e,n=a.data.media_caption+(a.data.media_credit?"\nCredits: "+a.data.media_credit:"");a.credits=document.createElement("a-entity"),a.credits.setAttribute("text",{value:n,align:"right",anchor:"right",width:a.width*(1-2*a.constants.margin),wrapCount:a.get_count_from_dmms(a.width*(1-2*a.constants.margin),a.data.distance*a.constants.overlap_factor,a.constants.media_text_dmms.credits),color:a.data.theme?DATAVERSE.themes[a.data.theme].panel_aux_color:a.data.aux_color,font:a.data.theme?DATAVERSE.themes[a.data.theme].panel_font:a.data.text_font}),a.credits.setAttribute("position",{x:a.width/2*(1-a.constants.margin),y:t,z:0}),a.credits.setAttribute("geometry",{primitive:"plane",width:"auto",height:"auto"}),a.credits.setAttribute("material",{shader:"flat",visible:!1}),a.media_text_container.appendChild(a.credits),a.credits.addEventListener("textfontset",function(){var e=a.credits.components.geometry.data.height;a.total_height+=e+a.data.close_button_dmms*a.data.distance/1e3/2,a.fix_positions(),a.draw_close(),r&&a.render_if_link()})})})},fix_positions:function(){var e=this;e.old_height=e.media_box_height,e.new_height_margins=e.total_height,e.new_height=e.total_height,e.media_text.setAttribute("height",e.new_height_margins),e.offset_y=(e.new_height-e.old_height)/2,e.media_box_offset+=e.offset_y,e.media_text.setAttribute("position",{x:0,y:-e.media_box_offset,z:-e.data.distance*e.constants.overlap_factor}),e.media_text_container.setAttribute("position",{x:0,y:e.offset_y,z:0}),e.close_button_y=-e.media_box_offset-e.total_height/2,e.link_button_y=-e.media_box_offset-e.total_height/2},render_photo:function(){var t=this,e="panel_"+t.data.id;if(null===document.getElementById(e))(n=document.createElement("img")).setAttribute("id",e),n.setAttribute("src",t.data.media_url),n.setAttribute("crossorigin","anonymous"),t.assets.appendChild(n);else var n=document.getElementById(e);t.panel_image=document.createElement("a-plane"),t.panel_image.setAttribute("src","#"+e),t.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}}),t.panel_image.addEventListener("materialtextureloaded",function(){"material"in this.components.material&&"material"in this.components.material&&this.components.material.material.map&&"image"in this.components.material.material.map&&(t.old_offset=this.components.material.material.map.offset,t.old_repeat=this.components.material.material.map.repeat,t.old_material=this.components.material.material.map,this.components.material.material.map.offset={x:0,y:0},this.components.material.material.map.repeat={x:1,y:1},this.components.material.material.map.needsUpdate=!0)});var i=document.getElementById(e),r=function(){var e=i.naturalWidth/i.naturalHeight;t.media_height=t.width/e,t.panel_image.setAttribute("width",t.width),t.panel_image.setAttribute("height",t.media_height),t.panel_image.setAttribute("position",{x:0,y:0,z:-t.data.distance*t.constants.overlap_factor}),t.panel_image.setAttribute("class","panel_media"),t.el.appendChild(t.panel_image),t.media_control_height=0,t.render_media_texts(!0)};0!==i.naturalWidth?r():i.onload=function(){r()}},render_media_controls:function(){var e=this,t=document.createElement("a-entity"),n="panel_"+e.data.id;e.media_control_height=e.width*e.constants.media_heights.player,t.setAttribute("uipack-mediacontrols",{src:"#"+n,width:e.width,height:e.media_control_height,button_radius:e.data.close_button_dmms*e.data.distance/1e3,theme:e.data.theme}),t.setAttribute("class","panel_media"),t.setAttribute("position",{x:0,y:-e.media_height/2-e.media_control_height/2,z:-e.data.distance*e.constants.overlap_factor}),e.el.appendChild(t)},render_if_link:function(){var e=this;if(e.data.link){var t=!1;-1!==e.data.link_thumbnail.search(/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i)&&(t=!0);var n=document.createElement("a-entity");n.setAttribute("uipack-button",{theme:e.data.theme,icon_name:"arrow-up.png",radius:e.data.close_button_dmms*e.data.distance/1e3}),n.setAttribute("position",{x:0,y:e.link_button_y,z:-e.data.distance*(e.constants.overlap_factor*e.constants.overlap_factor)}),n.addEventListener("clicked",function(){e.el.emit("link",{link:e.data.link},!1)}),e.el.appendChild(n),e.launch_text=document.createElement("a-entity"),e.launch_text.setAttribute("text",{value:"Go to immersive "+(t?" streetview panorama ":e.data.link_type),align:"center",anchor:"center",width:e.width/2,wrapCount:e.get_count_from_dmms(e.width/2,e.data.distance*e.constants.overlap_factor,e.constants.dmm.link),color:e.data.theme?DATAVERSE.themes[e.data.theme].panel_color:e.data.color,font:e.data.theme?DATAVERSE.themes[e.data.theme].panel_title_font:e.data.title_font});var i=e.constants.dmm.link*e.data.distance/1e3*3;e.launch_text.setAttribute("geometry",{primitive:"plane",height:i,width:"auto"}),e.launch_text.setAttribute("material",{color:e.data.theme?DATAVERSE.themes[e.data.theme].panel_background:e.data.background_color,shader:"flat"}),e.launch_text.setAttribute("position",{x:0,y:e.link_button_y-e.data.close_button_dmms*e.data.distance/1e3*2,z:-e.data.distance*e.constants.overlap_factor*e.constants.overlap_factor}),e.el.appendChild(e.launch_text)}},render_link:function(){var i=this,e=/\s*-?\d+(\.\d+)?,\s*-?\d+(\.\d+)?\s*/i;if(!i.media_type)if(i.data.link_thumbnail){var r="panel_"+i.data.id;if(null===document.getElementById(r))if(-1!==i.data.link_thumbnail.search(e)){!0;var t=i.data.link_thumbnail.trim().split(","),n=parseFloat(t[0].trim()),a=parseFloat(t[1].trim()),o=new GSVPANO.PanoLoader;o.setZoom(1),o.onPanoramaLoad=function(){this.canvas.setAttribute("id",r),i.canvas=this.canvas,i.assets.appendChild(this.canvas),i.panel_image=document.createElement("a-plane");var e=i.canvas.getAttribute("height"),t=i.canvas.getAttribute("width");i.panel_image.setAttribute("src","#"+r),i.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}});var n=t/e;i.media_height=i.width/n,i.panel_image.setAttribute("height",i.media_height),i.panel_image.setAttribute("width",i.width),i.panel_image.setAttribute("position",{x:0,y:0,z:-i.data.distance*i.constants.overlap_factor}),i.panel_image.setAttribute("class","panel_media"),i.el.appendChild(i.panel_image),i.media_control_height=0,i.render_media_texts(!0)},o.load(new google.maps.LatLng(n,a))}else{(s=document.createElement("img")).setAttribute("id",r),s.setAttribute("src",i.data.link_thumbnail),s.setAttribute("crossorigin","anonymous"),i.assets.appendChild(s)}else{var s=document.getElementById(r);if(-1!==i.data.link_thumbnail.search(e)){i.canvas=document.getElementById(r),i.panel_image=document.createElement("a-plane");var u=i.canvas.getAttribute("height"),l=i.canvas.getAttribute("width");i.panel_image.setAttribute("src","#"+r),i.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}});var c=l/u;i.media_height=i.width/c,i.panel_image.setAttribute("height",i.media_height),i.panel_image.setAttribute("width",i.width),i.panel_image.setAttribute("position",{x:0,y:0,z:-i.data.distance*i.constants.overlap_factor}),i.panel_image.setAttribute("class","panel_media"),i.el.appendChild(i.panel_image),i.media_control_height=0,i.render_media_texts(!0)}}if(-1==i.data.link_thumbnail.search(e)){i.panel_image=document.createElement("a-plane"),i.panel_image.setAttribute("src","#"+r),i.panel_image.setAttribute("material",{shader:"flat",repeat:{x:1,y:1},offset:{x:0,y:0}}),i.panel_image.addEventListener("materialtextureloaded",function(){"material"in this.components.material&&"material"in this.components.material&&this.components.material.material.map&&"image"in this.components.material.material.map&&(i.old_offset=this.components.material.material.map.offset,i.old_repeat=this.components.material.material.map.repeat,i.old_material=this.components.material.material.map,this.components.material.material.map.offset={x:0,y:0},this.components.material.material.map.repeat={x:1,y:1},this.components.material.material.map.needsUpdate=!0)});var d=document.getElementById(r),h=function(){var e=d.naturalWidth/d.naturalHeight;i.media_height=i.width/e,i.panel_image.setAttribute("height",i.media_height),i.panel_image.setAttribute("width",i.width),i.panel_image.setAttribute("position",{x:0,y:0,z:-i.data.distance*i.constants.overlap_factor}),i.panel_image.setAttribute("class","panel_media"),i.el.appendChild(i.panel_image),i.media_control_height=0,i.render_media_texts(!0)};0!==d.naturalWidth?h():d.onload=function(){h()}}}else i.media_renderers.text.bind(i)()},render_audio:function(){var e=this,t="panel_"+e.data.id;if(null===document.getElementById(t))(n=document.createElement("audio")).setAttribute("id",t),n.setAttribute("src",e.data.media_url),n.setAttribute("crossorigin","anonymous"),e.assets.appendChild(n);else var n=document.getElementById(t);e.panel_audio=document.createElement("a-plane");var i=e.width/e.data.aspect_ratio,r=e.width;if(e.media_height=i,e.panel_audio.setAttribute("width",r),e.panel_audio.setAttribute("height",i),e.panel_audio.setAttribute("shader","flat"),DATAVERSE_VIZ_AUX.global_tracking.last_media=n,e.panel_audio.setAttribute("class","panel_media"),e.el.appendChild(e.panel_audio),DATAVERSE_VIZ_AUX.global_tracking.maps.audio.CONTEXT_MAP.has(n))var a=DATAVERSE_VIZ_AUX.global_tracking.maps.audio.CONTEXT_MAP.get(n);else{a=new(window.AudioContext||window.webkitAudioContext);DATAVERSE_VIZ_AUX.global_tracking.maps.audio.CONTEXT_MAP.set(n,a)}if(DATAVERSE_VIZ_AUX.global_tracking.maps.audio.ANALYSER_MAP.has(n))var o=DATAVERSE_VIZ_AUX.global_tracking.maps.audio.ANALYSER_MAP.get(n);else(o=a.createAnalyser()).smoothingTimeConstant=.3,o.fftSize=512,DATAVERSE_VIZ_AUX.global_tracking.maps.audio.ANALYSER_MAP.set(n,o);if(DATAVERSE_VIZ_AUX.global_tracking.maps.audio.AUDIO_MAP.has(n))var s=DATAVERSE_VIZ_AUX.global_tracking.maps.audio.AUDIO_MAP.get(n);else{s=a.createMediaElementSource(n);DATAVERSE_VIZ_AUX.global_tracking.maps.audio.AUDIO_MAP.set(n,s),s.connect(o),o.connect(a.destination)}e.analyser=o,e.context=a,e.audioBufferLength=o.frequencyBinCount;var u=new Uint8Array(e.audioBufferLength);e.dataArray=u,e.audio_canvas=document.createElement("canvas"),e.audio_canvas.setAttribute("class","panel_media");var l="audio_canvas_"+new Date/1e3;e.audio_canvas.setAttribute("id",l),e.audio_canvas.width=e.constants.audio_analyser.width,e.audio_canvas.height=e.constants.audio_analyser.height,e.audio_canvas.style.display="none",e.audio_context=e.audio_canvas.getContext("2d"),e.panel_audio.setAttribute("src","#"+l),e.panel_audio.setAttribute("position",{x:0,y:0,z:-e.data.distance*e.constants.overlap_factor}),e.el.appendChild(e.audio_canvas),e.render_media_controls(),e.render_media_texts(!0),n.play()},render_video:function(){var n=this,i="panel_"+n.data.id;if(null===document.getElementById(i))(r=document.createElement("video")).setAttribute("crossorigin","anonymous"),r.setAttribute("id",i),r.setAttribute("src",n.data.media_url),r.setAttribute("autoplay","true"),n.assets.appendChild(r);else var r=document.getElementById(i);n.panel_video=document.createElement("a-plane"),n.panel_video.setAttribute("src","#"+i),DATAVERSE_VIZ_AUX.global_tracking.last_media=r;var e=function(){var e=r.videoWidth,t=r.videoHeight/e*n.width;n.media_height=t,n.panel_video.setAttribute("width",n.width),n.panel_video.setAttribute("height",t),n.panel_video.setAttribute("material",{src:"#"+i}),n.panel_video.setAttribute("position",{x:0,y:0,z:-n.data.distance*n.constants.overlap_factor}),n.panel_video.setAttribute("class","panel_media"),n.el.appendChild(n.panel_video),n.render_media_controls(),n.render_media_texts(!0),r.play()};0!==r.videoWidth?e():r.addEventListener("loadeddata",function(){e()})},draw_close:function(){var e=this,t=document.createElement("a-entity");t.setAttribute("uipack-button",{theme:e.data.theme,icon_name:"times-circle.png",radius:e.data.close_button_dmms*e.data.distance/1e3}),t.setAttribute("position",{x:0,y:e.media_height/2,z:-e.data.distance*e.constants.overlap_factor*e.constants.overlap_factor}),t.addEventListener("clicked",function(){e.old_material&&(e.old_material.offset=e.old_offset,e.old_material.repeat=e.old_repeat,e.old_material.needsUpdate=!0),void 0!==DATAVERSE_VIZ_AUX.global_tracking.last_media&&DATAVERSE_VIZ_AUX.global_tracking.last_media.pause(),e.el.sceneEl.restore_clickable&&e.el.sceneEl.restore_clickable.classList.add("clickable");e.el.emit("panel_closed",null,!1),setTimeout(function(){e.el.parentNode.removeChild(e.el)},100)}),e.el.appendChild(t);var n=e.link_button_y+e.el.getAttribute("position").y;if(-1!==e.data.low_height){var i=e.data.low_height-n,r=e.el.getAttribute("position");r.y+=i,e.el.setAttribute("position",r)}},update:function(){var e=this;e.media_type=e.get_media_type(e.data.media_url),e.back_panel=document.createElement("a-plane"),e.width=2*e.data.distance*Math.tan(THREE.Math.degToRad(e.data.coverage/2)),e.height=e.width/e.data.aspect_ratio,e.data.link&&e.media_renderers.link.bind(e)(),e.media_type&&e.media_renderers[e.media_type].bind(e)(),e.media_type||e.data.link||e.media_renderers.text.bind(e)()},remove:function(){this.el=null},tick:function(){void 0!==DATAVERSE_VIZ_AUX.global_tracking.last_media&&"AUDIO"===DATAVERSE_VIZ_AUX.global_tracking.last_media.tagName&&this.render_audio_analyser()}}),AFRAME.registerComponent("uipack-menu",{schema:{icons:{type:"array"},theme:{type:"string",default:"dark"},buttons:{type:"array",default:[]},media_id:{type:"string",default:""},pitch:{type:"number",default:-70},pitch_max:{type:"number",default:-50},pitch_min:{type:"number",default:-80},open:{type:"boolean",default:!1}},init:function(){var t=this;"camera"in t.el.sceneEl?t.camera=t.el.sceneEl.camera:t.el.sceneEl.addEventListener("loaded",function(e){t.camera=t.el.sceneEl.camera}),t.el.classList.add("uipack"),t.el.classList.add("uipack-menu"),t.container=document.createElement("a-entity"),t.el.appendChild(t.container),t.open_icon=document.createElement("a-entity"),t.open_icon.classList.add("non_click_while_loading"),t.open_icon.setAttribute("uipack-button",{icon_name:"bars.png"}),t.container.appendChild(t.open_icon),t.frame_count=0,t.hidden=!0,t.el.setAttribute("visible",!t.hidden),t.open_menu=!1,t.menu_group=document.createElement("a-entity"),t.menu_group.setAttribute("visible",!1),t.container.appendChild(t.menu_group),t.icon_row=[],t.button_row=[];for(var e=0;e<t.data.icons.length;e++){var n=document.createElement("a-entity");n.icon_index=e,n.classList.add("non_click_while_loading"),n.addEventListener("clicked",function(){t.open_menu&&!t.hidden&&t.el.emit("clicked",{type:"icon",index:this.icon_index},!1)}),t.icon_row.push(n),t.menu_group.appendChild(n)}for(t.button_parent=document.createElement("a-entity"),t.menu_group.appendChild(t.button_parent),e=0;e<t.data.buttons.length;e++){var i=document.createElement("a-entity");i.button_index=e,i.addEventListener("clicked",function(){t.open_menu&&!t.hidden&&t.el.emit("clicked",{type:"button",index:this.button_index},!1)}),t.button_row.push(i),t.button_parent.appendChild(i)}""!=t.data.media_id&&(t.media_controls=document.createElement("a-entity"),t.menu_group.appendChild(t.media_controls)),t.open_icon.addEventListener("clicked",function(){t.open_menu?(t.menu_group.setAttribute("visible",!1),t.open_icon.setAttribute("uipack-button","icon_name","bars.png"),t.open_menu=!1):(t.menu_group.setAttribute("visible",!0),t.open_icon.setAttribute("uipack-button","icon_name","close.png"),t.open_menu=!0)})},remove:function(){},update:function(e){for(var t=this,n=((t.icon_row.length-1)*(2*DATAVERSE.UIPACK_CONSTANTS.button_radius)+(t.icon_row.length-1)*DATAVERSE.UIPACK_CONSTANTS.icon_spacing)/2,i=0;i<t.icon_row.length;i++)t.icon_row[i].setAttribute("uipack-button",{icon_name:t.data.icons[i]}),t.icon_row[i].setAttribute("position",i*(2*DATAVERSE.UIPACK_CONSTANTS.button_radius+DATAVERSE.UIPACK_CONSTANTS.icon_spacing)-n+" "+DATAVERSE.UIPACK_CONSTANTS.offset_icons+" 0");var r=((t.button_row.length-1)*DATAVERSE.UIPACK_CONSTANTS.menu_button_width+(t.button_row.length-1)*DATAVERSE.UIPACK_CONSTANTS.button_spacing)/2;for(i=0;i<t.button_row.length;i++)t.button_row[i].setAttribute("uipack-textbutton",{text:t.data.buttons[i],width:DATAVERSE.UIPACK_CONSTANTS.menu_button_width,color:"#FFF",background:"#000"}),t.button_row[i].setAttribute("position",i*(DATAVERSE.UIPACK_CONSTANTS.menu_button_width+DATAVERSE.UIPACK_CONSTANTS.button_spacing)-r+" "+DATAVERSE.UIPACK_CONSTANTS.offset_buttons+" 0");""!=t.data.media_id&&(t.media_controls.setAttribute("uipack-mediacontrols",{src:"#"+t.data.media_id,width:DATAVERSE.UIPACK_CONSTANTS.menu_player_width,height:DATAVERSE.UIPACK_CONSTANTS.menu_player_height,theme:t.data.theme,button_radius:DATAVERSE.UIPACK_CONSTANTS.menu_player_button_radius}),t.media_controls.setAttribute("position","0 "+DATAVERSE.UIPACK_CONSTANTS.offset_player+" 0")),t.data.open&&(t.menu_group.setAttribute("visible",!0),t.open_icon.setAttribute("uipack-button","icon_name","close.png"),t.open_menu=!0,t.hidden=!1)},tick:function(e){var t=this;if(t.frame_count++,t.frame_count%DATAVERSE.UIPACK_CONSTANTS.menu_tick_check==0){var n=this.el.sceneEl.camera.el.getAttribute("rotation"),i=n.y+90,r=n.x;if(r<t.data.pitch_max&&r>t.data.pitch_min?t.hidden=!1:t.open_menu||(t.hidden=!0),t.el.setAttribute("visible",!t.hidden),t.data.open&&(t.y_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.sin(this.data.pitch*Math.PI/180),t.x_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.cos(i*Math.PI/180),t.z_position=-DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.sin(i*Math.PI/180),this.container.setAttribute("position",[t.x_position,t.y_position,t.z_position].join(" ")),t.camera)){var a=t.camera.el.getAttribute("position");t.el.setAttribute("position",{x:a.x,y:a.y,z:a.z}),t.container.setAttribute("rotation",{x:this.data.pitch,y:n.y,z:0}),t.data.open=!1}if(t.open_menu||t.hidden){if(t.open_menu&&!t.hidden&&t.camera){a=t.camera.el.getAttribute("position");t.el.setAttribute("position",{x:a.x,y:a.y,z:a.z})}}else if(t.y_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.sin(this.data.pitch*Math.PI/180),t.x_position=DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.cos(i*Math.PI/180),t.z_position=-DATAVERSE.UIPACK_CONSTANTS.menu_distance*Math.cos(this.data.pitch*Math.PI/180)*Math.sin(i*Math.PI/180),this.container.setAttribute("position",[t.x_position,t.y_position,t.z_position].join(" ")),t.camera){var a=t.camera.el.getAttribute("position");t.el.setAttribute("position",{x:a.x,y:a.y,z:a.z}),t.container.setAttribute("rotation",{x:n.x,y:n.y,z:0})}}}}),AFRAME.registerComponent("uipack-textbutton",{schema:{yaw:{type:"number",default:0},elevation:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_elevation},distance:{type:"number",default:DATAVERSE.UIPACK_CONSTANTS.button_distance},width:{type:"number",default:3},text:{type:"string",default:""},color:{type:"string",default:"#000"},background:{type:"string",default:"#FFF"}},init:function(){var t=this;t.text=document.createElement("a-entity"),this.el.setAttribute("class","uipack uipack-textbutton"),t.text.setAttribute("text",{align:"center",width:t.data.width,value:"\n"+t.data.text+"\n\n"}),t.text.setAttribute("geometry",{primitive:"plane",height:"auto",width:"auto"}),t.text.setAttribute("material",{color:t.data.background}),t.el.appendChild(t.text),t.icon=document.createElement("a-entity"),t.icon.setAttribute("uipack-button",{icon_name:DATAVERSE.UIPACK_CONSTANTS.thumbnail_icon}),t.el.appendChild(t.icon),t.text.addEventListener("textfontset",function(){t.icon.setAttribute("position",{x:0,y:-t.text.getAttribute("geometry").height/2,z:DATAVERSE.UIPACK_CONSTANTS.label_front_gap})}),t.icon.addEventListener("clicked",function(e){t.el.emit("clicked",null,!1)},!1)},update:function(e){var t=this;t.el.parentEl===t.el.sceneEl&&(t.x_position=t.data.distance*Math.cos(this.data.yaw*Math.PI/180),t.y_position=t.data.elevation,t.z_position=-t.data.distance*Math.sin(this.data.yaw*Math.PI/180),this.el.setAttribute("rotation",{x:0,y:this.data.yaw-90,z:0}),this.el.setAttribute("position",[t.x_position,t.y_position,t.z_position].join(" "))),t.text.setAttribute("material",{color:t.data.background},!1),t.text.setAttribute("text",{align:"center",width:t.data.width,color:t.data.color,value:"\n"+t.data.text+"\n\n"})}});